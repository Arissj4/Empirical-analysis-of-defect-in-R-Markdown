repo_owner,repo_name,commit_hash,author,author_email,date,committer_name,committer_email,committer_date,message,filenames,touches_rmd,touches_r,touches_r_or_rmd,is_merge,added,deleted,changed,diff,_touch_r,_touch_rmd,bug_category,category_score
chapter-three,next-drupal,40e9f53d12b7cf943903029fbddc128cfc7fd338,Rainer Friederich,rainer.friederich@ascent.io,2025-11-03T08:10:28Z,GitHub,noreply@github.com,2025-11-03T08:10:28Z,"fix: style(next) - Code standards (#823)

Co-authored-by: Bojan Bogdanovic <info@bojanbogdanovic.nl>",drupal/composer.lock;modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php;modules/next/src/Form/IframeSitePreviewerSwitcherForm.php;modules/next/src/Form/NextEntityTypeConfigForm.php;modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php;modules/next/src/Plugin/Next/Revalidator/CacheTag.php;modules/next/src/Plugin/PreviewUrlGeneratorInterface.php,False,False,False,False,2065,903,2968,"---FILE: modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php---
@@ -132,7 +132,7 @@ public function submitConfigurationForm(array &$form, FormStateInterface $form_s
   /**
    * {@inheritdoc}
    */
-  public function generate(NextSiteInterface $next_site, EntityInterface $entity, string $resource_version = NULL): ?Url {
+  public function generate(NextSiteInterface $next_site, EntityInterface $entity, ?string $resource_version = NULL): ?Url {
     $query = [];
     $query['path'] = $path = $entity->toUrl()->toString();
     $query['uuid'] = $this->user->uuid();

---FILE: modules/next/src/Form/IframeSitePreviewerSwitcherForm.php---
@@ -47,7 +47,7 @@ public function getFormId() {
   /**
    * {@inheritdoc}
    */
-  public function buildForm(array $form, FormStateInterface $form_state, EntityInterface $entity = NULL, array $sites = [], string $site_id = NULL) {
+  public function buildForm(array $form, FormStateInterface $form_state, ?EntityInterface $entity = NULL, array $sites = [], ?string $site_id = NULL) {
     /** @var \Drupal\next\Entity\NextSiteInterface[] $sites */
     $site_options = [];
     foreach ($sites as $site) {

---FILE: modules/next/src/Form/NextEntityTypeConfigForm.php---
@@ -60,7 +60,7 @@ class NextEntityTypeConfigForm extends EntityForm {
    * @param \Drupal\next\Plugin\RevalidatorManagerInterface $revalidator_manager
    *   The revalidator manager.
    */
-  public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $entity_type_bundle_info, SiteResolverManagerInterface $site_resolver_manager, RevalidatorManagerInterface $revalidator_manager = NULL) {
+  public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $entity_type_bundle_info, SiteResolverManagerInterface $site_resolver_manager, ?RevalidatorManagerInterface $revalidator_manager = NULL) {
     if (!$revalidator_manager) {
       @trigger_error('Calling NextEntityTypeConfigForm::__construct() without the $revalidator_manager argument is deprecated in next:1.4.0 and will be required in next:2.0.0. See https://www.drupal.org/node/3325622', E_USER_DEPRECATED);
       // @codingStandardsIgnoreStart

---FILE: modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php---
@@ -124,7 +124,7 @@ public function submitConfigurationForm(array &$form, FormStateInterface $form_s
   /**
    * {@inheritdoc}
    */
-  public function generate(NextSiteInterface $next_site, EntityInterface $entity, string $resource_version = NULL): ?Url {
+  public function generate(NextSiteInterface $next_site, EntityInterface $entity, ?string $resource_version = NULL): ?Url {
     $query = [];
     $query['path'] = $path = $entity->toUrl()->toString();
 

---FILE: modules/next/src/Plugin/Next/Revalidator/CacheTag.php---
@@ -44,6 +44,7 @@ public function submitConfigurationForm(array &$form, FormStateInterface $form_s
 
   /**
    * {@inheritdoc}
+   *
    * @throws \Drupal\Core\Entity\EntityMalformedException
    * @throws \GuzzleHttp\Exception\GuzzleException
    */

---FILE: modules/next/src/Plugin/PreviewUrlGeneratorInterface.php---
@@ -49,7 +49,7 @@ public function getDescription(): string;
    * @return \Drupal\Core\Url|null
    *   The generated preview url.
    */
-  public function generate(NextSiteInterface $next_site, EntityInterface $entity, string $resource_version = NULL): ?Url;
+  public function generate(NextSiteInterface $next_site, EntityInterface $entity, ?string $resource_version = NULL): ?Url;
 
   /**
    * Validates the preview url.",False,False,Implementation / Logic,3
chapter-three,next-drupal,c1a90543f55c04beccedf2b61765b2290d528934,Brian Perry,contact.brianperry@gmail.com,2025-02-11T21:31:28Z,GitHub,noreply@github.com,2025-02-11T21:31:28Z,build: fix bug in starter sync script that was preventing stable release publishing (#839),scripts/sync-repo.sh,False,False,False,False,1,1,2,"---FILE: scripts/sync-repo.sh---
@@ -25,7 +25,7 @@ for folder in $GLOB; do
   CLONE_DIR=""__${NAME}__clone__""
 
   # Note: redirect output to dev/null to avoid any possibility of leaking token
-  git clone --quiet --depth 1 --branch ${BRANCH} ${REPO}${NAME}.git $CLONE_DIR > /dev/null
+  git clone --quiet --branch ${BRANCH} ${REPO}${NAME}.git $CLONE_DIR > /dev/null
   cd $CLONE_DIR
 
   # Delete all files (to handle deletions in monorepo)",False,False,Implementation / Logic,3
chapter-three,next-drupal,71d60c5d99bd472fbff908829b7822f7fabbf977,Brian Perry,contact.brianperry@gmail.com,2025-02-11T19:04:46Z,GitHub,noreply@github.com,2025-02-11T19:04:46Z,fix: update naming convention for pages draft api route (#837),starters/pages-starter/pages/api/draft.ts,False,False,False,False,0,0,0,,False,False,Dependency / Package,1
chapter-three,next-drupal,20a38be1ed4fe62042380e4ec61230bfa834106c,Brian Perry,contact.brianperry@gmail.com,2025-02-10T15:36:12Z,GitHub,noreply@github.com,2025-02-10T15:36:12Z,fix: make authentication optional in basic and pages starters (#833),starters/basic-starter/lib/drupal.ts;starters/pages-starter/lib/drupal.ts,False,False,False,False,12,8,20,"---FILE: starters/basic-starter/lib/drupal.ts---
@@ -5,9 +5,11 @@ const clientId = process.env.DRUPAL_CLIENT_ID as string
 const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
 
 export const drupal = new NextDrupal(baseUrl, {
-  auth: {
-    clientId,
-    clientSecret,
-  },
+  // Enable to use authentication
+  // auth: {
+  //   clientId,
+  //   clientSecret,
+  // },
+  // withAuth: true,
   // debug: true,
 })

---FILE: starters/pages-starter/lib/drupal.ts---
@@ -5,10 +5,12 @@ const clientId = process.env.DRUPAL_CLIENT_ID as string
 const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
 
 export const drupal = new NextDrupalPages(baseUrl, {
-  auth: {
-    clientId,
-    clientSecret,
-  },
+  // Enable to use authentication
+  // auth: {
+  //   clientId,
+  //   clientSecret,
+  // },
+  // withAuth: true,
   useDefaultEndpoints: true,
   // debug: true,
 })",False,False,Rendering / Conversion,0
chapter-three,next-drupal,f09ca8907085b30d3413956a2162ef2d379abe44,Brian Perry,contact.brianperry@gmail.com,2025-02-05T21:26:51Z,GitHub,noreply@github.com,2025-02-05T21:26:51Z,fix: resolve type error in app router slug template (#832),starters/basic-starter/app/[...slug]/page.tsx,False,False,False,False,1,1,2,"---FILE: starters/basic-starter/app/[...slug]/page.tsx---
@@ -59,7 +59,7 @@ type NodePageParams = {
   slug: string[]
 }
 type NodePageProps = {
-  params: NodePageParams
+  params: Promise<NodePageParams>
   searchParams: Promise<{ [key: string]: string | string[] | undefined }>
 }
 ",False,False,Environment / Configuration,3
chapter-three,next-drupal,7c8ce9543da94601e5b55098d728543c94ceab24,Brian Perry,contact.brianperry@gmail.com,2025-01-27T22:40:16Z,GitHub,noreply@github.com,2025-01-27T22:40:16Z,fix: ignore local environment (#831),.gitignore,False,False,False,False,1,0,1,"---FILE: .gitignore---
@@ -42,3 +42,4 @@ yarn-error.log*
 /drupal/web/phpunit.xml
 /drupal/web/sites/default/settings.local.php
 /drupal-*
+/local-next-drupal",False,False,Environment / Configuration,4
chapter-three,next-drupal,d851246be689b389286dfc65546fe5bba3d31739,Brian Perry,contact.brianperry@gmail.com,2024-10-11T14:55:33Z,GitHub,noreply@github.com,2024-10-11T14:55:33Z,fix: resolve docs build failures on app router branch (#803),turbo.json;www/components/video.tsx;www/pages/blog/[...slug].tsx;www/pages/docs/[[...slug]].tsx;www/pages/guides/[...slug].tsx;www/pages/index.tsx;www/pages/learn/[...slug].tsx,False,False,False,False,16,12,28,"---FILE: turbo.json---
@@ -1,6 +1,5 @@
 {
   ""$schema"": ""https://turborepo.org/schema.json"",
-  ""baseBranch"": ""origin/main"",
   ""pipeline"": {
     ""build"": {
       ""dependsOn"": [""^build""],

---FILE: www/components/video.tsx---
@@ -46,8 +46,8 @@ export function Video({
               <Image
                 src={image}
                 layout=""responsive""
-                width=""1600px""
-                height=""900px""
+                width=""1600""
+                height=""900""
                 alt=""Thumbnail""
               />
             </div>

---FILE: www/pages/blog/[...slug].tsx---
@@ -1,5 +1,6 @@
 import { getMdxNode, getMdxPaths } from ""next-mdx/server""
 import { useHydrate } from ""next-mdx/client""
+import { MdxRemote } from ""next-mdx-remote/types""
 
 import { Blog } from ""types""
 import { Layout } from ""components/layout""
@@ -11,7 +12,7 @@ export interface BlogsPageProps {
 
 export default function BlogsPage({ blog }: BlogsPageProps) {
   const content = useHydrate(blog, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
   })
 
   return (
@@ -42,7 +43,7 @@ export async function getStaticPaths() {
 
 export async function getStaticProps(context) {
   const blog = await getMdxNode(""blog"", context, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
     mdxOptions: {
       remarkPlugins: [
         require(""remark-slug""),

---FILE: www/pages/docs/[[...slug]].tsx---
@@ -1,6 +1,7 @@
 import { getMdxNode, getMdxPaths } from ""next-mdx/server""
 import { useHydrate } from ""next-mdx/client""
 import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
+import { MdxRemote } from ""next-mdx-remote/types""
 
 import { Doc } from ""types""
 import { docsConfig } from ""config/docs""
@@ -17,7 +18,7 @@ export interface DocsPageProps {
 
 export default function DocsPage({ doc, toc }: DocsPageProps) {
   const content = useHydrate(doc, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
   })
 
   return (
@@ -65,7 +66,7 @@ export async function getStaticPaths() {
 
 export async function getStaticProps(context) {
   const doc = await getMdxNode(""doc"", context, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
     mdxOptions: {
       remarkPlugins: [
         require(""remark-slug""),

---FILE: www/pages/guides/[...slug].tsx---
@@ -1,6 +1,7 @@
 import { getMdxNode, getMdxPaths } from ""next-mdx/server""
 import { useHydrate } from ""next-mdx/client""
 import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
+import { MdxRemote } from ""next-mdx-remote/types""
 
 import { Guide } from ""types""
 import { guidesConfig } from ""config/guides""
@@ -17,7 +18,7 @@ export interface GuidesPageProps {
 
 export default function GuidesPage({ guide, toc }: GuidesPageProps) {
   const content = useHydrate(guide, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
   })
 
   return (
@@ -68,7 +69,7 @@ export async function getStaticPaths() {
 
 export async function getStaticProps(context) {
   const guide = await getMdxNode(""guide"", context, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
     mdxOptions: {
       remarkPlugins: [
         require(""remark-slug""),

---FILE: www/pages/index.tsx---
@@ -2,6 +2,7 @@ import * as React from ""react""
 import { GetStaticPropsResult } from ""next""
 import { getAllMdxNodes } from ""next-mdx""
 import Link from ""next/link""
+import { MdxRemote } from ""next-mdx-remote/types""
 
 import { site } from ""config/site""
 import { Feature } from ""types""
@@ -16,7 +17,7 @@ interface FeatureCodeProps extends React.HTMLAttributes<HTMLDivElement> {
 
 export function FeatureCode({ feature, ...props }: FeatureCodeProps) {
   const content = useHydrate(feature, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
   })
 
   return <div {...props}>{content}</div>

---FILE: www/pages/learn/[...slug].tsx---
@@ -3,6 +3,7 @@ import { getMdxNode, getMdxPaths, getAllMdxNodes } from ""next-mdx/server""
 import { useHydrate } from ""next-mdx/client""
 import classNames from ""classnames""
 import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
+import { MdxRemote } from ""next-mdx-remote/types""
 
 import { Tutorial } from ""types""
 import { tutorialsConfig } from ""config/tutorials""
@@ -31,7 +32,7 @@ export default function TutorialPage({
   toc,
 }: TutorialPageProps) {
   const content = useHydrate(tutorial, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
   })
 
   const links = group.items.map((tutorial) => ({
@@ -141,7 +142,7 @@ export async function getStaticPaths() {
 
 export async function getStaticProps(context) {
   const tutorial = await getMdxNode(""tutorial"", context, {
-    components: mdxComponents,
+    components: mdxComponents as unknown as MdxRemote.Components,
     mdxOptions: {
       remarkPlugins: [
         require(""remark-slug""),",False,False,Data / Input Handling,3
chapter-three,next-drupal,1cda615cd298f6e22fd9a3de9dee06c97bd32aa9,Brian Perry,contact.brianperry@gmail.com,2024-10-10T21:48:33Z,GitHub,noreply@github.com,2024-10-10T21:48:33Z,fix: remove Drupal 11 deprecations from module tests (#802),modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php;modules/next/tests/src/Kernel/Controller/NextPreviewUrlControllerTest.php;modules/next/tests/src/Kernel/Entity/NextEntityTypeConfigTest.php;modules/next/tests/src/Kernel/Entity/NextSiteTest.php;modules/next/tests/src/Kernel/Event/EntityActionEventTest.php;modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php;modules/next/tests/src/Kernel/NextEntityTypeManagerTest.php;modules/next/tests/src/Kernel/NextSettingsManagerTest.php;modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php;modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php;modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php;modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php,False,False,False,False,0,12,12,"---FILE: modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php---
@@ -45,7 +45,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
     $type = NodeType::create([

---FILE: modules/next/tests/src/Kernel/Controller/NextPreviewUrlControllerTest.php---
@@ -42,7 +42,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
     $this->nextSite = NextSite::create([

---FILE: modules/next/tests/src/Kernel/Entity/NextEntityTypeConfigTest.php---
@@ -41,7 +41,6 @@ protected function setUp(): void {
     $this->installEntitySchema('user');
     $this->installEntitySchema('path_alias');
     $this->installConfig(['filter']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
   }
 

---FILE: modules/next/tests/src/Kernel/Entity/NextSiteTest.php---
@@ -40,7 +40,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
     $this->nextSite = NextSite::create([

---FILE: modules/next/tests/src/Kernel/Event/EntityActionEventTest.php---
@@ -40,7 +40,6 @@ protected function setUp(): void {
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next', 'system', 'user']);
     $this->installSchema('dblog', ['watchdog']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
     $this->installSchema('user', ['users_data']);
 

---FILE: modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php---
@@ -42,7 +42,6 @@ protected function setUp(): void {
     $this->installEntitySchema('next_entity_type_config');
     $this->installConfig(['filter', 'next', 'system', 'user']);
     $this->installSchema('dblog', ['watchdog']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
     $this->installSchema('user', ['users_data']);
 

---FILE: modules/next/tests/src/Kernel/NextEntityTypeManagerTest.php---
@@ -32,7 +32,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
   }
 

---FILE: modules/next/tests/src/Kernel/NextSettingsManagerTest.php---
@@ -36,7 +36,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
     $this->nextSettingsManager = $this->container->get('next.settings.manager');

---FILE: modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php---
@@ -47,7 +47,6 @@ protected function setUp(): void {
     $this->installEntitySchema('user');
     $this->installEntitySchema('path_alias');
     $this->installConfig(['filter']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
   }
 

---FILE: modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php---
@@ -50,7 +50,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
     $this->nextSettingsManager = $this->container->get('next.settings.manager');

---FILE: modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php---
@@ -33,7 +33,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
     // Create page type.

---FILE: modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php---
@@ -35,7 +35,6 @@ protected function setUp(): void {
     $this->installEntitySchema('node');
     $this->installEntitySchema('user');
     $this->installConfig(['filter', 'next', 'system', 'user']);
-    $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
     $this->installSchema('user', ['users_data']);
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,41bdd55cd9a7ec2b59ff95c22df1b524b1487570,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-22T17:58:01Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,"fix(next-drupal): use NextDrupalBase in enableDraftMode()

Fixes #749",packages/next-drupal/src/draft.ts;packages/next-drupal/tests/draft/draft.test.ts,False,False,False,False,4,4,8,"---FILE: packages/next-drupal/src/draft.ts---
@@ -5,11 +5,11 @@ import {
   DRAFT_MODE_COOKIE_NAME,
 } from ""./draft-constants""
 import type { NextRequest } from ""next/server""
-import type { NextDrupal } from ""./next-drupal""
+import type { NextDrupalBase } from ""./next-drupal-base""
 
 export async function enableDraftMode(
   request: NextRequest,
-  drupal: NextDrupal
+  drupal: NextDrupalBase
 ): Promise<Response | never> {
   // Validate the draft request.
   const response = await drupal.validateDraftUrl(request.nextUrl.searchParams)

---FILE: packages/next-drupal/tests/draft/draft.test.ts---
@@ -12,7 +12,7 @@ import { NextRequest } from ""next/server""
 import {
   DRAFT_DATA_COOKIE_NAME,
   DRAFT_MODE_COOKIE_NAME,
-  NextDrupal,
+  NextDrupalBase,
 } from ""../../src""
 import { BASE_URL, spyOnFetch } from ""../utils""
 import {
@@ -50,7 +50,7 @@ describe(""enableDraftMode()"", () => {
   const request = new NextRequest(
     `https://example.com/api/draft?${searchParams}`
   )
-  const drupal = new NextDrupal(BASE_URL)
+  const drupal = new NextDrupalBase(BASE_URL)
   const draftModeCookie: ResponseCookie = {
     name: DRAFT_MODE_COOKIE_NAME,
     value: ""some-secret-key"",",False,False,Rendering / Conversion,0
chapter-three,next-drupal,b5394502f357f8a38632acff15dadd648827d0ac,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-22T05:01:46Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,"feat(basic-starter): upgrade starters to App Router

Fixes #601",starters/basic-starter/README.md;starters/basic-starter/app/[...slug]/page.tsx;starters/basic-starter/app/api/disable-draft/route.ts;starters/basic-starter/app/api/draft/route.ts;starters/basic-starter/app/api/revalidate/route.ts;starters/basic-starter/app/layout.tsx;starters/basic-starter/app/page.tsx;starters/basic-starter/components/Layout.tsx;starters/basic-starter/components/misc/DraftAlert/Client.tsx;starters/basic-starter/components/misc/DraftAlert/index.tsx;starters/basic-starter/lib/drupal.ts;starters/basic-starter/pages/[...slug].tsx;starters/basic-starter/pages/_app.tsx;starters/basic-starter/pages/_document.tsx;starters/basic-starter/pages/api/exit-preview.ts;starters/basic-starter/pages/api/preview.ts;starters/basic-starter/pages/api/revalidate.ts;starters/graphql-starter/app/[...slug]/page.tsx;starters/graphql-starter/app/api/disable-draft/route.ts;starters/graphql-starter/app/api/draft/route.ts;starters/graphql-starter/app/api/revalidate/route.ts;starters/graphql-starter/app/layout.tsx;starters/graphql-starter/app/page.tsx;starters/graphql-starter/components/Layout.tsx;starters/graphql-starter/components/misc/DraftAlert/Client.tsx;starters/graphql-starter/components/misc/DraftAlert/index.tsx;starters/graphql-starter/pages/_app.tsx;starters/graphql-starter/pages/_document.tsx;starters/graphql-starter/pages/api/exit-preview.ts;starters/graphql-starter/pages/api/preview.ts;starters/graphql-starter/pages/api/revalidate.ts,False,False,False,False,447,413,860,"---FILE: starters/basic-starter/README.md---
@@ -1,6 +1,6 @@
 # Basic Starter
 
-A simple starter for building your site with Next.js' Pages Router and Drupal.
+A simple starter for building your site with Next.js and Drupal.
 
 ## How to use
 

---FILE: starters/basic-starter/app/[...slug]/page.tsx---
@@ -0,0 +1,129 @@
+import { draftMode } from ""next/headers""
+import { notFound } from ""next/navigation""
+import { getDraftData } from ""next-drupal/draft""
+import { Article } from ""@/components/drupal/Article""
+import { BasicPage } from ""@/components/drupal/BasicPage""
+import { drupal } from ""@/lib/drupal""
+import type { Metadata, ResolvingMetadata } from ""next""
+import type { DrupalNode, JsonApiParams } from ""next-drupal""
+
+async function getNode(slug: string[]) {
+  const path = `/${slug.join(""/"")}`
+
+  const params: JsonApiParams = {}
+
+  const draftData = getDraftData()
+
+  if (draftData.path === path) {
+    params.resourceVersion = draftData.resourceVersion
+  }
+
+  // Translating the path also allows us to discover the entity type.
+  const translatedPath = await drupal.translatePath(path)
+
+  if (!translatedPath) {
+    throw new Error(""Resource not found"", { cause: ""NotFound"" })
+  }
+
+  const type = translatedPath.jsonapi?.resourceName!
+  const uuid = translatedPath.entity.uuid
+
+  if (type === ""node--article"") {
+    params.include = ""field_image,uid""
+  }
+
+  const resource = await drupal.getResource<DrupalNode>(type, uuid, {
+    params,
+  })
+
+  if (!resource) {
+    throw new Error(
+      `Failed to fetch resource: ${translatedPath?.jsonapi?.individual}`,
+      {
+        cause: ""DrupalError"",
+      }
+    )
+  }
+
+  return resource
+}
+
+type NodePageParams = {
+  slug: string[]
+}
+type NodePageProps = {
+  params: NodePageParams
+  searchParams: { [key: string]: string | string[] | undefined }
+}
+
+export async function generateMetadata(
+  { params: { slug } }: NodePageProps,
+  parent: ResolvingMetadata
+): Promise<Metadata> {
+  let node
+  try {
+    node = await getNode(slug)
+  } catch (e) {
+    // If we fail to fetch the node, don't return any metadata.
+    return {}
+  }
+
+  return {
+    title: node.title,
+  }
+}
+
+const RESOURCE_TYPES = [""node--page"", ""node--article""]
+
+export async function generateStaticParams(): Promise<NodePageParams[]> {
+  const resources = await drupal.getResourceCollectionPathSegments(
+    RESOURCE_TYPES,
+    {
+      // The pathPrefix will be removed from the returned path segments array.
+      // pathPrefix: ""/blog"",
+      // The list of locales to return.
+      // locales: [""en"", ""es""],
+      // The default locale.
+      // defaultLocale: ""en"",
+    }
+  )
+
+  return resources.map((resource) => {
+    // resources is an array containing objects like: {
+    //   path: ""/blog/some-category/a-blog-post"",
+    //   type: ""node--article"",
+    //   locale: ""en"", // or `undefined` if no `locales` requested.
+    //   segments: [""blog"", ""some-category"", ""a-blog-post""],
+    // }
+    return {
+      slug: resource.segments,
+    }
+  })
+}
+
+export default async function NodePage({
+  params: { slug },
+  searchParams,
+}: NodePageProps) {
+  const isDraftMode = draftMode().isEnabled
+
+  let node
+  try {
+    node = await getNode(slug)
+  } catch (error) {
+    // If getNode throws an error, tell Next.js the path is 404.
+    notFound()
+  }
+
+  // If we're not in draft mode and the resource is not published, return a 404.
+  if (!isDraftMode && node?.status === false) {
+    notFound()
+  }
+
+  return (
+    <>
+      {node.type === ""node--page"" && <BasicPage node={node} />}
+      {node.type === ""node--article"" && <Article node={node} />}
+    </>
+  )
+}

---FILE: starters/basic-starter/app/api/disable-draft/route.ts---
@@ -0,0 +1,6 @@
+import { disableDraftMode } from ""next-drupal/draft""
+import type { NextRequest } from ""next/server""
+
+export async function GET(request: NextRequest) {
+  return disableDraftMode()
+}

---FILE: starters/basic-starter/app/api/draft/route.ts---
@@ -0,0 +1,7 @@
+import { drupal } from ""@/lib/drupal""
+import { enableDraftMode } from ""next-drupal/draft""
+import type { NextRequest } from ""next/server""
+
+export async function GET(request: NextRequest): Promise<Response | never> {
+  return enableDraftMode(request, drupal)
+}

---FILE: starters/basic-starter/app/api/revalidate/route.ts---
@@ -0,0 +1,28 @@
+import { revalidatePath } from ""next/cache""
+import type { NextRequest } from ""next/server""
+
+async function handler(request: NextRequest) {
+  const searchParams = request.nextUrl.searchParams
+  const path = searchParams.get(""path"")
+  const secret = searchParams.get(""secret"")
+
+  // Validate secret.
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
+    return new Response(""Invalid secret."", { status: 401 })
+  }
+
+  // Validate path.
+  if (!path) {
+    return new Response(""Invalid path."", { status: 400 })
+  }
+
+  try {
+    revalidatePath(path)
+
+    return new Response(""Revalidated."")
+  } catch (error) {
+    return new Response((error as Error).message, { status: 500 })
+  }
+}
+
+export { handler as GET, handler as POST }

---FILE: starters/basic-starter/app/layout.tsx---
@@ -0,0 +1,37 @@
+import { DraftAlert } from ""@/components/misc/DraftAlert""
+import { HeaderNav } from ""@/components/navigation/HeaderNav""
+import type { Metadata } from ""next""
+import type { ReactNode } from ""react""
+
+import ""@/styles/globals.css""
+
+export const metadata: Metadata = {
+  title: {
+    default: ""Next.js for Drupal"",
+    template: ""%s | Next.js for Drupal"",
+  },
+  description: ""A Next.js site powered by a Drupal backend."",
+  icons: {
+    icon: ""/favicon.ico"",
+  },
+}
+
+export default function RootLayout({
+  // Layouts must accept a children prop.
+  // This will be populated with nested layouts or pages
+  children,
+}: {
+  children: ReactNode
+}) {
+  return (
+    <html lang=""en"">
+      <body>
+        <DraftAlert />
+        <div className=""max-w-screen-md px-6 mx-auto"">
+          <HeaderNav />
+          <main className=""container py-10 mx-auto"">{children}</main>
+        </div>
+      </body>
+    </html>
+  )
+}

---FILE: starters/basic-starter/app/page.tsx---
@@ -1,14 +1,15 @@
-import Head from ""next/head""
 import { ArticleTeaser } from ""@/components/drupal/ArticleTeaser""
-import { Layout } from ""@/components/Layout""
 import { drupal } from ""@/lib/drupal""
-import type { InferGetStaticPropsType, GetStaticProps } from ""next""
+import type { Metadata } from ""next""
 import type { DrupalNode } from ""next-drupal""
 
-export const getStaticProps = (async (context) => {
-  const nodes = await drupal.getResourceCollectionFromContext<DrupalNode[]>(
+export const metadata: Metadata = {
+  description: ""A Next.js site powered by a Drupal backend."",
+}
+
+export default async function Home() {
+  const nodes = await drupal.getResourceCollection<DrupalNode[]>(
     ""node--article"",
-    context,
     {
       params: {
         ""filter[status]"": 1,
@@ -19,28 +20,8 @@ export const getStaticProps = (async (context) => {
     }
   )
 
-  return {
-    props: {
-      nodes,
-    },
-  }
-}) satisfies GetStaticProps<{
-  nodes: DrupalNode[]
-}>
-
-export default function Home({
-  nodes,
-}: InferGetStaticPropsType<typeof getStaticProps>) {
   return (
-    <Layout>
-      <Head>
-        <title>Next.js for Drupal</title>
-        <meta
-          name=""description""
-          content=""A Next.js site powered by a Drupal backend.""
-          key=""description""
-        />
-      </Head>
+    <>
       <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
       {nodes?.length ? (
         nodes.map((node) => (
@@ -52,6 +33,6 @@ export default function Home({
       ) : (
         <p className=""py-4"">No nodes found</p>
       )}
-    </Layout>
+    </>
   )
 }

---FILE: starters/basic-starter/components/Layout.tsx---
@@ -1,15 +0,0 @@
-import { HeaderNav } from ""@/components/navigation/HeaderNav""
-import { PreviewAlert } from ""@/components/misc/PreviewAlert""
-import type { ReactNode } from ""react""
-
-export function Layout({ children }: { children: ReactNode }) {
-  return (
-    <>
-      <PreviewAlert />
-      <div className=""max-w-screen-md px-6 mx-auto"">
-        <HeaderNav />
-        <main className=""container py-10 mx-auto"">{children}</main>
-      </div>
-    </>
-  )
-}

---FILE: starters/basic-starter/components/misc/DraftAlert/Client.tsx---
@@ -1,33 +1,36 @@
+""use client""
+
 import { useEffect, useState } from ""react""
-import { useRouter } from ""next/router""
 
-export function PreviewAlert() {
-  const router = useRouter()
-  const isPreview = router.isPreview
-  const [showPreviewAlert, setShowPreviewAlert] = useState<boolean>(false)
+export function DraftAlertClient({
+  isDraftEnabled,
+}: {
+  isDraftEnabled: boolean
+}) {
+  const [showDraftAlert, setShowDraftAlert] = useState<boolean>(false)
 
   useEffect(() => {
-    setShowPreviewAlert(isPreview && window.top === window.self)
-  }, [isPreview])
+    setShowDraftAlert(isDraftEnabled && window.top === window.self)
+  }, [isDraftEnabled])
 
-  if (!showPreviewAlert) {
+  if (!showDraftAlert) {
     return null
   }
 
   function buttonHandler() {
-    void fetch(""/api/exit-preview"")
-    setShowPreviewAlert(false)
+    void fetch(""/api/disable-draft"")
+    setShowDraftAlert(false)
   }
 
   return (
     <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
       <p className=""mb-0"">
-        This page is a preview.{"" ""}
+        This page is a draft.
         <button
           className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
           onClick={buttonHandler}
         >
-          Exit preview mode
+          Exit draft mode
         </button>
       </p>
     </div>

---FILE: starters/basic-starter/components/misc/DraftAlert/index.tsx---
@@ -0,0 +1,13 @@
+import { Suspense } from ""react""
+import { draftMode } from ""next/headers""
+import { DraftAlertClient } from ""./Client""
+
+export function DraftAlert() {
+  const isDraftEnabled = draftMode().isEnabled
+
+  return (
+    <Suspense fallback={null}>
+      <DraftAlertClient isDraftEnabled={isDraftEnabled} />
+    </Suspense>
+  )
+}

---FILE: starters/basic-starter/lib/drupal.ts---
@@ -1,14 +1,13 @@
-import { NextDrupalPages } from ""next-drupal""
+import { NextDrupal } from ""next-drupal""
 
 const baseUrl = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL as string
 const clientId = process.env.DRUPAL_CLIENT_ID as string
 const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
 
-export const drupal = new NextDrupalPages(baseUrl, {
+export const drupal = new NextDrupal(baseUrl, {
   auth: {
     clientId,
     clientSecret,
   },
-  useDefaultEndpoints: true,
   // debug: true,
 })

---FILE: starters/basic-starter/pages/[...slug].tsx---
@@ -1,92 +0,0 @@
-import Head from ""next/head""
-import { Article } from ""@/components/drupal/Article""
-import { BasicPage } from ""@/components/drupal/BasicPage""
-import { Layout } from ""@/components/Layout""
-import { drupal } from ""@/lib/drupal""
-import type {
-  GetStaticPaths,
-  GetStaticProps,
-  InferGetStaticPropsType,
-} from ""next""
-import type { DrupalNode } from ""next-drupal""
-
-const RESOURCE_TYPES = [""node--page"", ""node--article""]
-
-export const getStaticPaths = (async (context) => {
-  return {
-    paths: await drupal.getStaticPathsFromContext(RESOURCE_TYPES, context),
-    fallback: ""blocking"",
-  }
-}) satisfies GetStaticPaths
-
-export const getStaticProps = (async (context) => {
-  const path = await drupal.translatePathFromContext(context)
-
-  if (!path) {
-    return {
-      notFound: true,
-    }
-  }
-
-  const type = path?.jsonapi?.resourceName
-
-  let params = {}
-  if (type === ""node--article"") {
-    params = {
-      include: ""field_image,uid"",
-    }
-  }
-
-  const resource = await drupal.getResourceFromContext<DrupalNode>(
-    path,
-    context,
-    {
-      params,
-    }
-  )
-
-  // At this point, we know the path exists and it points to a resource.
-  // If we receive an error, it means something went wrong on Drupal.
-  // We throw an error to tell revalidation to skip this for now.
-  // Revalidation can try again on next request.
-  if (!resource) {
-    throw new Error(`Failed to fetch resource: ${path?.jsonapi?.individual}`)
-  }
-
-  // If we're not in preview mode and the resource is not published,
-  // Return page not found.
-  if (!context.preview && resource?.status === false) {
-    return {
-      notFound: true,
-    }
-  }
-
-  return {
-    props: {
-      resource,
-    },
-  }
-}) satisfies GetStaticProps<{
-  resource: DrupalNode
-}>
-
-export default function NodePage({
-  resource,
-}: InferGetStaticPropsType<typeof getStaticProps>) {
-  if (!resource) return null
-
-  return (
-    <Layout>
-      <Head>
-        <title>{resource.title}</title>
-        <meta
-          name=""description""
-          content=""A Next.js site powered by Drupal.""
-          key=""description""
-        />
-      </Head>
-      {resource.type === ""node--page"" && <BasicPage node={resource} />}
-      {resource.type === ""node--article"" && <Article node={resource} />}
-    </Layout>
-  )
-}

---FILE: starters/basic-starter/pages/_app.tsx---
@@ -1,6 +0,0 @@
-import ""@/styles/globals.css""
-import type { AppProps } from ""next/app""
-
-export default function App({ Component, pageProps }: AppProps) {
-  return <Component {...pageProps} />
-}

---FILE: starters/basic-starter/pages/_document.tsx---
@@ -1,13 +0,0 @@
-import { Html, Head, Main, NextScript } from ""next/document""
-
-export default function Document() {
-  return (
-    <Html lang=""en"">
-      <Head />
-      <body>
-        <Main />
-        <NextScript />
-      </body>
-    </Html>
-  )
-}

---FILE: starters/basic-starter/pages/api/exit-preview.ts---
@@ -1,9 +0,0 @@
-import { drupal } from ""@/lib/drupal""
-import type { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function exit(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  await drupal.previewDisable(request, response)
-}

---FILE: starters/basic-starter/pages/api/preview.ts---
@@ -1,10 +0,0 @@
-import { drupal } from ""@/lib/drupal""
-import type { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function draft(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  // Enables Preview mode and Draft mode.
-  await drupal.preview(request, response, { enable: true })
-}

---FILE: starters/basic-starter/pages/api/revalidate.ts---
@@ -1,29 +0,0 @@
-import type { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function handler(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  let path = request.query.path as string
-  const secret = request.query.secret as string
-
-  // Validate secret.
-  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
-    return response.status(401).json({ message: ""Invalid secret."" })
-  }
-
-  // Validate path.
-  if (!path) {
-    return response.status(400).json({ message: ""Invalid path."" })
-  }
-
-  try {
-    await response.revalidate(path)
-
-    return response.json({})
-  } catch (error) {
-    return response.status(404).json({
-      message: (error as Error).message,
-    })
-  }
-}

---FILE: starters/graphql-starter/app/[...slug]/page.tsx---
@@ -1,54 +1,14 @@
-import Head from ""next/head""
+import { draftMode } from ""next/headers""
+import { notFound } from ""next/navigation""
+import { getDraftData } from ""next-drupal/draft""
 import { Article } from ""@/components/drupal/Article""
 import { BasicPage } from ""@/components/drupal/BasicPage""
-import { Layout } from ""@/components/Layout""
 import { drupal } from ""@/lib/drupal""
-import type {
-  GetStaticPaths,
-  GetStaticProps,
-  InferGetStaticPropsType,
-} from ""next""
+import type { Metadata, ResolvingMetadata } from ""next""
 import type { DrupalArticle, DrupalPage, NodesPath } from ""@/types""
 
-export const getStaticPaths = (async (context) => {
-  // Fetch the paths for the first 50 articles and pages.
-  // We'll fall back to on-demand generation for the rest.
-  const data = await drupal.query<{
-    nodeArticles: NodesPath
-    nodePages: NodesPath
-  }>({
-    query: `query {
-      nodeArticles(first: 50) {
-        nodes {
-          path,
-        }
-      }
-      nodePages(first: 50) {
-        nodes {
-          path,
-        }
-      }
-    }`,
-  })
-
-  // Build static paths.
-  const paths = [
-    ...(data?.nodeArticles?.nodes as { path: string }[]),
-    ...(data?.nodePages?.nodes as { path: string }[]),
-  ].map(({ path }) => ({ params: { slug: path.split(""/"").filter(Boolean) } }))
-
-  return {
-    paths,
-    fallback: ""blocking"",
-  }
-}) satisfies GetStaticPaths
-
-export const getStaticProps = (async (context) => {
-  if (!context?.params?.slug) {
-    return {
-      notFound: true,
-    }
-  }
+async function getNode(slug: string[]) {
+  const path = `/${slug.join(""/"")}`
 
   const data = await drupal.query<{
     route: { entity: DrupalArticle | DrupalPage }
@@ -92,46 +52,96 @@ export const getStaticProps = (async (context) => {
       }
     }`,
     variables: {
-      path: `/${(context.params.slug as []).join(""/"")}`,
+      path,
     },
   })
 
   const resource = data?.route?.entity
 
-  // If we're not in preview mode and the resource is not published,
-  // Return page not found.
-  if (!resource || (!context.preview && resource?.status === false)) {
-    return {
-      notFound: true,
-    }
+  if (!resource) {
+    throw new Error(`Failed to fetch resource: ${path}`, {
+      cause: ""DrupalError"",
+    })
+  }
+
+  return resource
+}
+
+type NodePageParams = {
+  slug: string[]
+}
+type NodePageProps = {
+  params: NodePageParams
+  searchParams: { [key: string]: string | string[] | undefined }
+}
+
+export async function generateMetadata(
+  { params: { slug } }: NodePageProps,
+  parent: ResolvingMetadata
+): Promise<Metadata> {
+  let node
+  try {
+    node = await getNode(slug)
+  } catch (e) {
+    // If we fail to fetch the node, don't return any metadata.
+    return {}
   }
 
   return {
-    props: {
-      resource,
-    },
+    title: node.title,
+  }
+}
+
+export async function generateStaticParams(): Promise<NodePageParams[]> {
+  // Fetch the paths for the first 50 articles and pages.
+  // We'll fall back to on-demand generation for the rest.
+  const data = await drupal.query<{
+    nodeArticles: NodesPath
+    nodePages: NodesPath
+  }>({
+    query: `query {
+      nodeArticles(first: 50) {
+        nodes {
+          path,
+        }
+      }
+      nodePages(first: 50) {
+        nodes {
+          path,
+        }
+      }
+    }`,
+  })
+
+  return [
+    ...(data?.nodeArticles?.nodes as { path: string }[]),
+    ...(data?.nodePages?.nodes as { path: string }[]),
+  ].map(({ path }) => ({ slug: path.split(""/"").filter(Boolean) }))
+}
+
+export default async function Page({
+  params: { slug },
+  searchParams,
+}: NodePageProps) {
+  const isDraftMode = draftMode().isEnabled
+
+  let node
+  try {
+    node = await getNode(slug)
+  } catch (error) {
+    // If getNode throws an error, tell Next.js the path is 404.
+    notFound()
   }
-}) satisfies GetStaticProps<{
-  resource: DrupalArticle | DrupalPage
-}>
 
-export default function Page({
-  resource,
-}: InferGetStaticPropsType<typeof getStaticProps>) {
-  if (!resource) return null
+  // If we're not in draft mode and the resource is not published, return a 404.
+  if (!isDraftMode && node?.status === false) {
+    notFound()
+  }
 
   return (
-    <Layout>
-      <Head>
-        <title>{resource.title}</title>
-        <meta
-          name=""description""
-          content=""A Next.js site powered by Drupal.""
-          key=""description""
-        />
-      </Head>
-      {resource.__typename === ""NodePage"" && <BasicPage node={resource} />}
-      {resource.__typename === ""NodeArticle"" && <Article node={resource} />}
-    </Layout>
+    <>
+      {node.__typename === ""NodePage"" && <BasicPage node={node} />}
+      {node.__typename === ""NodeArticle"" && <Article node={node} />}
+    </>
   )
 }

---FILE: starters/graphql-starter/app/api/disable-draft/route.ts---
@@ -0,0 +1,6 @@
+import { disableDraftMode } from ""next-drupal/draft""
+import type { NextRequest } from ""next/server""
+
+export async function GET(request: NextRequest) {
+  return disableDraftMode()
+}

---FILE: starters/graphql-starter/app/api/draft/route.ts---
@@ -0,0 +1,7 @@
+import { drupal } from ""@/lib/drupal""
+import { enableDraftMode } from ""next-drupal/draft""
+import type { NextRequest } from ""next/server""
+
+export async function GET(request: NextRequest): Promise<Response | never> {
+  return enableDraftMode(request, drupal)
+}

---FILE: starters/graphql-starter/app/api/revalidate/route.ts---
@@ -0,0 +1,28 @@
+import { revalidatePath } from ""next/cache""
+import type { NextRequest } from ""next/server""
+
+async function handler(request: NextRequest) {
+  const searchParams = request.nextUrl.searchParams
+  const path = searchParams.get(""path"")
+  const secret = searchParams.get(""secret"")
+
+  // Validate secret.
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
+    return new Response(""Invalid secret."", { status: 401 })
+  }
+
+  // Validate path.
+  if (!path) {
+    return new Response(""Invalid path."", { status: 400 })
+  }
+
+  try {
+    revalidatePath(path)
+
+    return new Response(""Revalidated."")
+  } catch (error) {
+    return new Response((error as Error).message, { status: 500 })
+  }
+}
+
+export { handler as GET, handler as POST }

---FILE: starters/graphql-starter/app/layout.tsx---
@@ -0,0 +1,37 @@
+import { DraftAlert } from ""@/components/misc/DraftAlert""
+import { HeaderNav } from ""@/components/navigation/HeaderNav""
+import type { Metadata } from ""next""
+import type { ReactNode } from ""react""
+
+import ""@/styles/globals.css""
+
+export const metadata: Metadata = {
+  title: {
+    default: ""Next.js for Drupal"",
+    template: ""%s | Next.js for Drupal"",
+  },
+  description: ""A Next.js site powered by a Drupal backend."",
+  icons: {
+    icon: ""/favicon.ico"",
+  },
+}
+
+export default function RootLayout({
+  // Layouts must accept a children prop.
+  // This will be populated with nested layouts or pages
+  children,
+}: {
+  children: ReactNode
+}) {
+  return (
+    <html lang=""en"">
+      <body>
+        <DraftAlert />
+        <div className=""max-w-screen-md px-6 mx-auto"">
+          <HeaderNav />
+          <main className=""container py-10 mx-auto"">{children}</main>
+        </div>
+      </body>
+    </html>
+  )
+}

---FILE: starters/graphql-starter/app/page.tsx---
@@ -1,11 +1,13 @@
-import Head from ""next/head""
 import { ArticleTeaser } from ""@/components/drupal/ArticleTeaser""
-import { Layout } from ""@/components/Layout""
 import { drupal } from ""@/lib/drupal""
-import type { InferGetStaticPropsType, GetStaticProps } from ""next""
+import type { Metadata } from ""next""
 import type { DrupalArticle } from ""@/types""
 
-export const getStaticProps = (async (context) => {
+export const metadata: Metadata = {
+  description: ""A Next.js site powered by a Drupal backend."",
+}
+
+export default async function Home() {
   // Fetch the first 10 articles.
   const data = await drupal.query<{
     nodeArticles: {
@@ -38,29 +40,10 @@ export const getStaticProps = (async (context) => {
       }
     `,
   })
+  const nodes = data?.nodeArticles?.nodes ?? []
 
-  return {
-    props: {
-      nodes: data?.nodeArticles?.nodes ?? [],
-    },
-  }
-}) satisfies GetStaticProps<{
-  nodes: DrupalArticle[]
-}>
-
-export default function Home({
-  nodes,
-}: InferGetStaticPropsType<typeof getStaticProps>) {
   return (
-    <Layout>
-      <Head>
-        <title>Next.js for Drupal</title>
-        <meta
-          name=""description""
-          content=""A Next.js site powered by a Drupal backend.""
-          key=""description""
-        />
-      </Head>
+    <>
       <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
       {nodes?.length ? (
         nodes.map((node) => (
@@ -72,6 +55,6 @@ export default function Home({
       ) : (
         <p className=""py-4"">No nodes found</p>
       )}
-    </Layout>
+    </>
   )
 }

---FILE: starters/graphql-starter/components/Layout.tsx---
@@ -1,15 +0,0 @@
-import { HeaderNav } from ""@/components/navigation/HeaderNav""
-import { PreviewAlert } from ""@/components/misc/PreviewAlert""
-import type { ReactNode } from ""react""
-
-export function Layout({ children }: { children: ReactNode }) {
-  return (
-    <>
-      <PreviewAlert />
-      <div className=""max-w-screen-md px-6 mx-auto"">
-        <HeaderNav />
-        <main className=""container py-10 mx-auto"">{children}</main>
-      </div>
-    </>
-  )
-}

---FILE: starters/graphql-starter/components/misc/DraftAlert/Client.tsx---
@@ -1,33 +1,36 @@
+""use client""
+
 import { useEffect, useState } from ""react""
-import { useRouter } from ""next/router""
 
-export function PreviewAlert() {
-  const router = useRouter()
-  const isPreview = router.isPreview
-  const [showPreviewAlert, setShowPreviewAlert] = useState<boolean>(false)
+export function DraftAlertClient({
+  isDraftEnabled,
+}: {
+  isDraftEnabled: boolean
+}) {
+  const [showDraftAlert, setShowDraftAlert] = useState<boolean>(false)
 
   useEffect(() => {
-    setShowPreviewAlert(isPreview && window.top === window.self)
-  }, [isPreview])
+    setShowDraftAlert(isDraftEnabled && window.top === window.self)
+  }, [isDraftEnabled])
 
-  if (!showPreviewAlert) {
+  if (!showDraftAlert) {
     return null
   }
 
   function buttonHandler() {
-    void fetch(""/api/exit-preview"")
-    setShowPreviewAlert(false)
+    void fetch(""/api/disable-draft"")
+    setShowDraftAlert(false)
   }
 
   return (
     <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
       <p className=""mb-0"">
-        This page is a preview.{"" ""}
+        This page is a draft.
         <button
           className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
           onClick={buttonHandler}
         >
-          Exit preview mode
+          Exit draft mode
         </button>
       </p>
     </div>

---FILE: starters/graphql-starter/components/misc/DraftAlert/index.tsx---
@@ -0,0 +1,13 @@
+import { Suspense } from ""react""
+import { draftMode } from ""next/headers""
+import { DraftAlertClient } from ""./Client""
+
+export function DraftAlert() {
+  const isDraftEnabled = draftMode().isEnabled
+
+  return (
+    <Suspense fallback={null}>
+      <DraftAlertClient isDraftEnabled={isDraftEnabled} />
+    </Suspense>
+  )
+}

---FILE: starters/graphql-starter/pages/_app.tsx---
@@ -1,6 +0,0 @@
-import ""@/styles/globals.css""
-import type { AppProps } from ""next/app""
-
-export default function App({ Component, pageProps }: AppProps) {
-  return <Component {...pageProps} />
-}

---FILE: starters/graphql-starter/pages/_document.tsx---
@@ -1,13 +0,0 @@
-import { Html, Head, Main, NextScript } from ""next/document""
-
-export default function Document() {
-  return (
-    <Html lang=""en"">
-      <Head />
-      <body>
-        <Main />
-        <NextScript />
-      </body>
-    </Html>
-  )
-}

---FILE: starters/graphql-starter/pages/api/exit-preview.ts---
@@ -1,9 +0,0 @@
-import { drupal } from ""@/lib/drupal""
-import type { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function exit(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  await drupal.previewDisable(request, response)
-}

---FILE: starters/graphql-starter/pages/api/preview.ts---
@@ -1,10 +0,0 @@
-import { drupal } from ""@/lib/drupal""
-import type { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function draft(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  // Enables Preview mode and Draft mode.
-  await drupal.preview(request, response, { enable: true })
-}

---FILE: starters/graphql-starter/pages/api/revalidate.ts---
@@ -1,29 +0,0 @@
-import type { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function handler(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  let path = request.query.path as string
-  const secret = request.query.secret as string
-
-  // Validate secret.
-  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
-    return response.status(401).json({ message: ""Invalid secret."" })
-  }
-
-  // Validate path.
-  if (!path) {
-    return response.status(400).json({ message: ""Invalid path."" })
-  }
-
-  try {
-    await response.revalidate(path)
-
-    return response.json({})
-  } catch (error) {
-    return response.status(404).json({
-      message: (error as Error).message,
-    })
-  }
-}",False,False,Documentation / Formatting,6
chapter-three,next-drupal,7efff75a5a09f786e29ba75e11978e1936cd8298,JohnAlbin,virtually.johnalbin@gmail.com,2024-03-11T15:59:49Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,"feat(pages-starter): add Pages Router-based starter

Issue #601",.github/ISSUE_TEMPLATE/bug_report.yml;.github/ISSUE_TEMPLATE/feature_request.yml;.github/ISSUE_TEMPLATE/question.yml;.github/pull_request_template.md;MAINTAINING.md;starters/pages-starter/.env.example;starters/pages-starter/.eslintrc.json;starters/pages-starter/.gitignore;starters/pages-starter/.nvmrc;starters/pages-starter/.prettierignore;starters/pages-starter/.prettierrc.json;starters/pages-starter/CHANGELOG.md;starters/pages-starter/README.md;starters/pages-starter/components/Layout.tsx;starters/pages-starter/components/drupal/Article.tsx;starters/pages-starter/components/drupal/ArticleTeaser.tsx;starters/pages-starter/components/drupal/BasicPage.tsx;starters/pages-starter/components/misc/PreviewAlert.tsx;starters/pages-starter/components/navigation/HeaderNav.tsx;starters/pages-starter/components/navigation/Link.tsx;starters/pages-starter/lib/drupal.ts;starters/pages-starter/lib/utils.ts;starters/pages-starter/next.config.js;starters/pages-starter/package.json;starters/pages-starter/pages/[...slug].tsx;starters/pages-starter/pages/_app.tsx;starters/pages-starter/pages/_document.tsx;starters/pages-starter/pages/api/exit-preview.ts;starters/pages-starter/pages/api/preview.ts;starters/pages-starter/pages/api/revalidate.ts;starters/pages-starter/pages/index.tsx;starters/pages-starter/postcss.config.js;starters/pages-starter/public/favicon.ico;starters/pages-starter/public/robots.txt;starters/pages-starter/styles/globals.css;starters/pages-starter/tailwind.config.ts;starters/pages-starter/tsconfig.json,False,False,False,False,1072,0,1072,"---FILE: .github/ISSUE_TEMPLATE/bug_report.yml---
@@ -19,6 +19,7 @@ body:
         - next-drupal (NPM package)
         - basic-starter
         - graphql-starter
+        - pages-starter
         - example-auth
         - example-blog
         - example-client

---FILE: .github/ISSUE_TEMPLATE/feature_request.yml---
@@ -14,6 +14,7 @@ body:
         - next-drupal (NPM package)
         - basic-starter
         - graphql-starter
+        - pages-starter
         - example-auth
         - example-blog
         - example-client

---FILE: .github/ISSUE_TEMPLATE/question.yml---
@@ -14,6 +14,7 @@ body:
         - next-drupal (NPM package)
         - basic-starter
         - graphql-starter
+        - pages-starter
         - example-auth
         - example-blog
         - example-client

---FILE: .github/pull_request_template.md---
@@ -5,6 +5,7 @@ This pull request is for: (mark with an ""x"")
 - [ ] `packages/next-drupal`
 - [ ] `starters/basic-starter`
 - [ ] `starters/graphql-starter`
+- [ ] `starters/pages-starter`
 - [ ] Other
 
 GitHub Issue: #

---FILE: MAINTAINING.md---
@@ -168,6 +168,7 @@ The code in the examples repos do not strictly require a versioned release since
 
    - [basic-starter](https://github.com/chapter-three/next-drupal-basic-starter/releases)
    - [graphql-starter](https://github.com/chapter-three/next-drupal-graphql-starter/releases)
+   - [pages-starter](https://github.com/chapter-three/next-drupal-pages-starter/releases)
 
    And then:
 

---FILE: starters/pages-starter/.env.example---
@@ -0,0 +1,12 @@
+# See https://next-drupal.org/docs/environment-variables
+
+# Required
+NEXT_PUBLIC_DRUPAL_BASE_URL=https://site.example.com
+NEXT_IMAGE_DOMAIN=site.example.com
+
+# Authentication
+DRUPAL_CLIENT_ID=Retrieve this from /admin/config/services/consumer
+DRUPAL_CLIENT_SECRET=Retrieve this from /admin/config/services/consumer
+
+# Required for On-demand Revalidation
+DRUPAL_REVALIDATE_SECRET=Retrieve this from /admin/config/services/next

---FILE: starters/pages-starter/.eslintrc.json---
@@ -0,0 +1,4 @@
+{
+  ""extends"": ""next/core-web-vitals"",
+  ""root"": true
+}

---FILE: starters/pages-starter/.gitignore---
@@ -0,0 +1,40 @@
+# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
+
+# dependencies
+/node_modules
+/.pnp
+.pnp.js
+.yarn/install-state.gz
+
+# testing
+/coverage
+
+# next.js
+/.next/
+/out/
+
+# production
+/build
+
+# misc
+.DS_Store
+*.pem
+
+# IDE files
+/.idea
+/.vscode
+
+# debug
+npm-debug.log*
+yarn-debug.log*
+yarn-error.log*
+
+# local env files
+.env*.local
+
+# vercel
+.vercel
+
+# typescript
+*.tsbuildinfo
+next-env.d.ts

---FILE: starters/pages-starter/.nvmrc---
@@ -0,0 +1 @@
+v20

---FILE: starters/pages-starter/.prettierignore---
@@ -0,0 +1,18 @@
+# Ignore everything.
+/*
+
+# Format most files in the root directory.
+!/*.js
+!/*.ts
+!/*.md
+!/*.json
+# But ignore some.
+/package.json
+/package-lock.json
+/CHANGELOG.md
+
+# Don't ignore these nested directories.
+!/app
+!/components
+!/lib
+!/pages

---FILE: starters/pages-starter/.prettierrc.json---
@@ -0,0 +1,4 @@
+{
+  ""semi"": false,
+  ""trailingComma"": ""es5""
+}

---FILE: starters/pages-starter/CHANGELOG.md---
@@ -0,0 +1,409 @@
+# Change Log
+
+All notable changes to this project will be documented in this file.
+See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.
+
+# [1.8.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.7.2...basic-starter@1.8.0) (2022-12-06)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [1.7.2](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.7.1...basic-starter@1.7.2) (2022-12-06)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [1.7.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.7.0...basic-starter@1.7.1) (2022-09-07)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [1.7.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.6.0...basic-starter@1.7.0) (2022-07-29)
+
+
+### Features
+
+* **basic-starter:** add type to next.config.js ([c1db60d](https://github.com/chapter-three/next-drupal/commit/c1db60d460ec2c0b2f3149d455e8c1b4bcc4a080))
+* **basic-starter:** fix jsonapi params to work with vanilla drupal ([258019f](https://github.com/chapter-three/next-drupal/commit/258019f5bc0fa34e3ce3a824f99b28ea60b5ad30))
+* **basic-starter:** update the example env variables ([1ed83da](https://github.com/chapter-three/next-drupal/commit/1ed83da4c0ec6ef3f0487f43faf1d8a4fdb29858))
+
+
+
+
+
+# [1.6.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.6.0-rc.0...basic-starter@1.6.0) (2022-06-14)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [1.6.0-rc.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.5.3-rc.1...basic-starter@1.6.0-rc.0) (2022-06-14)
+
+
+### Features
+
+* **basic-starter:** update to DrupalClient ([e2dc220](https://github.com/chapter-three/next-drupal/commit/e2dc2202d01a09aba5695ffbbe35d990981d3301))
+
+
+
+
+
+## [1.5.3-rc.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.5.3-rc.0...basic-starter@1.5.3-rc.1) (2022-06-10)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [1.5.3-rc.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.5.3-alpha.0...basic-starter@1.5.3-rc.0) (2022-06-06)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [1.5.3-alpha.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.5.2...basic-starter@1.5.3-alpha.0) (2022-06-02)
+
+
+### Bug Fixes
+
+* **basic-starter:** rename api pages to .ts ([40456b0](https://github.com/chapter-three/next-drupal/commit/40456b08ae288c441195fe38b8d5008736bfce05))
+
+
+
+
+
+## [1.5.2](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.5.1...basic-starter@1.5.2) (2022-05-02)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [1.5.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.5.0...basic-starter@1.5.1) (2022-04-25)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [1.5.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.4.1-rc.0...basic-starter@1.5.0) (2022-04-19)
+
+
+### Bug Fixes
+
+* **basic-starter:** rename eslint.json ([844bd93](https://github.com/chapter-three/next-drupal/commit/844bd93b0d4e6a3d24e6e76622067f344e440def))
+
+
+
+
+
+## [1.4.1-rc.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.4.1-alpha.0...basic-starter@1.4.1-rc.0) (2022-04-19)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [1.4.1-alpha.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.4.0...basic-starter@1.4.1-alpha.0) (2022-04-18)
+
+
+### Bug Fixes
+
+* update tests ([0f4d49e](https://github.com/chapter-three/next-drupal/commit/0f4d49e9bb3b8767577bdba4ef52d7e58ad6bf91))
+
+
+
+
+
+# [1.4.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.3.1...basic-starter@1.4.0) (2022-04-11)
+
+
+### Bug Fixes
+
+* **basic-starter:** use a tag for exit preview ([8f68023](https://github.com/chapter-three/next-drupal/commit/8f680232a53740f083fd7c208b54f4293ad0f58a))
+
+
+### Features
+
+* **basic-starter:** show only published articles on index ([d209af9](https://github.com/chapter-three/next-drupal/commit/d209af9c08b4db12f8c2f7adfb7adfc3840a8f02))
+* **basic-starter:** update starter ([ad6afa9](https://github.com/chapter-three/next-drupal/commit/ad6afa999b59f49d5f6b199aaa4b3e3c1683c352))
+
+
+
+
+
+## [1.3.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.3.0...basic-starter@1.3.1) (2022-03-28)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [1.3.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.2.0...basic-starter@1.3.0) (2022-02-24)
+
+
+### Bug Fixes
+
+* **basic-starter:** fix type for private in package.json ([b1a6e90](https://github.com/chapter-three/next-drupal/commit/b1a6e907e22de61354b42b0126e5a084bd90f57b))
+* **basic-starter:** update @tailwindcss/typography ([aa70f4e](https://github.com/chapter-three/next-drupal/commit/aa70f4ee6287e7fcc6ce1352114a4ef24474e404))
+* **basic-starter:** update typescript ([3eda875](https://github.com/chapter-three/next-drupal/commit/3eda8755dbf2c904e9253bff7df67a9992bbdc12))
+
+
+### Features
+
+* bump all examples to next 12.1.0 ([00b15f2](https://github.com/chapter-three/next-drupal/commit/00b15f2b308a0a9fcb298789a9ca712f4efa7eff))
+* **basic-starter:** simplify starter by removing menus ([7ce44ac](https://github.com/chapter-three/next-drupal/commit/7ce44ac11b628f06849b09a1831069df5da2a926))
+* **basic-starter:** use server-side menus ([58f1150](https://github.com/chapter-three/next-drupal/commit/58f1150e750d860cb62b60f28edca3673dbb3c68))
+
+
+
+
+
+# [1.2.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.1.1...basic-starter@1.2.0) (2022-01-17)
+
+
+### Features
+
+* **basic-starter:** update tailwind and dependencies ([5de7337](https://github.com/chapter-three/next-drupal/commit/5de7337c7372afe44692b3ba49bcf10afdf9cfd6))
+
+
+
+
+
+## [1.1.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.1.0...basic-starter@1.1.1) (2022-01-12)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [1.1.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@1.0.0...basic-starter@1.1.0) (2021-12-21)
+
+
+### Features
+
+* **basic-starter:** bump next to 12 ([3185cd4](https://github.com/chapter-three/next-drupal/commit/3185cd4f720e87e91d2a03e335729a6ae8df4e78))
+
+
+
+
+
+# [1.0.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.7.0...basic-starter@1.0.0) (2021-12-03)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [0.7.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.6.0...basic-starter@0.7.0) (2021-11-24)
+
+
+### Features
+
+* **basic-starter:** update dependencies and components ([233549b](https://github.com/chapter-three/next-drupal/commit/233549b1c2c3f401fac9b4290dcbe53682670d2f))
+
+
+
+
+
+# [0.6.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.6.0-alpha.0...basic-starter@0.6.0) (2021-11-01)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [0.6.0-alpha.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.5.2...basic-starter@0.6.0-alpha.0) (2021-11-01)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.5.2](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.5.1...basic-starter@0.5.2) (2021-10-14)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.5.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.5.0...basic-starter@0.5.1) (2021-10-14)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [0.5.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.4.2...basic-starter@0.5.0) (2021-10-13)
+
+
+### Bug Fixes
+
+* rename repo links ([48d52dd](https://github.com/chapter-three/next-drupal/commit/48d52dde79f69396ef706d152c03670117b6a480))
+* **basic-starter:** update next ([ea46504](https://github.com/chapter-three/next-drupal/commit/ea465044bec1865bab850f588e856be2fcaaf34c))
+
+
+### Features
+
+* **basic-starter:** update the basic starter ([a7efdcd](https://github.com/chapter-three/next-drupal/commit/a7efdcdf2fb38057027aad12e11e63ba21318b32))
+
+
+
+
+
+## [0.4.2](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.4.1...basic-starter@0.4.2) (2021-08-11)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.4.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.4.0...basic-starter@0.4.1) (2021-08-07)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [0.4.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.9...basic-starter@0.4.0) (2021-06-22)
+
+
+### Bug Fixes
+
+* **basic-starter:** add props to NodeMeta ([613a2e1](https://github.com/chapter-three/next-drupal/commit/613a2e1c732b2fe94538ffdd66e42d3af60d0088))
+
+
+### Features
+
+* **basic-starter:** update the basic starter ([db2f99c](https://github.com/chapter-three/next-drupal/commit/db2f99c3872a7e46cedcad66650b6f03fd645dbb))
+
+
+
+
+
+## [0.3.9](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.8...basic-starter@0.3.9) (2021-06-16)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.8](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.7...basic-starter@0.3.8) (2021-06-16)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.7](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.6...basic-starter@0.3.7) (2021-06-15)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.6](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.5...basic-starter@0.3.6) (2021-06-14)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.5](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.4...basic-starter@0.3.5) (2021-06-13)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.4](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.3...basic-starter@0.3.4) (2021-06-13)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.3](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.2...basic-starter@0.3.3) (2021-06-13)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.2](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.1...basic-starter@0.3.2) (2021-06-11)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+## [0.3.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.0...basic-starter@0.3.1) (2021-06-10)
+
+**Note:** Version bump only for package basic-starter
+
+
+
+
+
+# [0.3.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.2.0...basic-starter@0.3.0) (2021-05-17)
+
+
+### Features
+
+* add getEntityByPath ([072ead7](https://github.com/chapter-three/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
+
+
+
+
+
+# [0.2.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.1.0...basic-starter@0.2.0) (2021-05-17)
+
+
+### Features
+
+* deserialize entities by default ([8b53ae2](https://github.com/chapter-three/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
+
+
+
+
+
+# 0.1.0 (2021-05-07)
+
+
+### Features
+
+* add basic-starter ([92b746a](https://github.com/chapter-three/next-drupal/commit/92b746aef6b59d893cb3c2f49d35d7dcc733c7c8))

---FILE: starters/pages-starter/README.md---
@@ -0,0 +1,15 @@
+# Pages Starter
+
+A simple starter for building your site with Next.js' Pages Router and Drupal.
+
+## How to use
+
+`npx create-next-app -e https://github.com/chapter-three/next-drupal-pages-starter`
+
+## Deploy to Vercel
+
+[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fchapter-three%2Fnext-drupal-pages-starter&env=NEXT_PUBLIC_DRUPAL_BASE_URL,NEXT_IMAGE_DOMAIN,DRUPAL_CLIENT_ID,DRUPAL_CLIENT_SECRET&envDescription=Learn%20more%20about%20environment%20variables&envLink=https%3A%2F%2Fnext-drupal.org%2Fdocs%2Fenvironment-variables&project-name=next-drupal&demo-title=Next.js%20for%20Drupal&demo-description=A%20next-generation%20front-end%20for%20your%20Drupal%20site.&demo-url=https%3A%2F%2Fdemo.next-drupal.org&demo-image=https%3A%2F%2Fnext-drupal.org%2Fimages%2Fdemo-screenshot.jpg)
+
+## Documentation
+
+See https://next-drupal.org

---FILE: starters/pages-starter/components/Layout.tsx---
@@ -0,0 +1,15 @@
+import { HeaderNav } from ""@/components/navigation/HeaderNav""
+import { PreviewAlert } from ""@/components/misc/PreviewAlert""
+import type { ReactNode } from ""react""
+
+export function Layout({ children }: { children: ReactNode }) {
+  return (
+    <>
+      <PreviewAlert />
+      <div className=""max-w-screen-md px-6 mx-auto"">
+        <HeaderNav />
+        <main className=""container py-10 mx-auto"">{children}</main>
+      </div>
+    </>
+  )
+}

---FILE: starters/pages-starter/components/drupal/Article.tsx---
@@ -0,0 +1,46 @@
+import Image from ""next/image""
+import { absoluteUrl, formatDate } from ""@/lib/utils""
+import type { DrupalNode } from ""next-drupal""
+
+interface ArticleProps {
+  node: DrupalNode
+}
+
+export function Article({ node, ...props }: ArticleProps) {
+  return (
+    <article {...props}>
+      <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>
+      <div className=""mb-4 text-gray-600"">
+        {node.uid?.display_name ? (
+          <span>
+            Posted by{"" ""}
+            <span className=""font-semibold"">{node.uid?.display_name}</span>
+          </span>
+        ) : null}
+        <span> - {formatDate(node.created)}</span>
+      </div>
+      {node.field_image && (
+        <figure>
+          <Image
+            src={absoluteUrl(node.field_image.uri.url)}
+            width={768}
+            height={400}
+            alt={node.field_image.resourceIdObjMeta.alt || """"}
+            priority
+          />
+          {node.field_image.resourceIdObjMeta.title && (
+            <figcaption className=""py-2 text-sm text-center text-gray-600"">
+              {node.field_image.resourceIdObjMeta.title}
+            </figcaption>
+          )}
+        </figure>
+      )}
+      {node.body?.processed && (
+        <div
+          dangerouslySetInnerHTML={{ __html: node.body?.processed }}
+          className=""mt-6 font-serif text-xl leading-loose prose""
+        />
+      )}
+    </article>
+  )
+}

---FILE: starters/pages-starter/components/drupal/ArticleTeaser.tsx---
@@ -0,0 +1,54 @@
+import Image from ""next/image""
+import { Link } from ""@/components/navigation/Link""
+import { absoluteUrl, formatDate } from ""@/lib/utils""
+import type { DrupalNode } from ""next-drupal""
+
+interface ArticleTeaserProps {
+  node: DrupalNode
+}
+
+export function ArticleTeaser({ node, ...props }: ArticleTeaserProps) {
+  return (
+    <article {...props}>
+      <Link href={node.path.alias} className=""no-underline hover:text-blue-600"">
+        <h2 className=""mb-4 text-4xl font-bold"">{node.title}</h2>
+      </Link>
+      <div className=""mb-4 text-gray-600"">
+        {node.uid?.display_name ? (
+          <span>
+            Posted by{"" ""}
+            <span className=""font-semibold"">{node.uid?.display_name}</span>
+          </span>
+        ) : null}
+        <span> - {formatDate(node.created)}</span>
+      </div>
+      {node.field_image && (
+        <figure className=""my-4"">
+          <Image
+            src={absoluteUrl(node.field_image.uri.url)}
+            width={768}
+            height={480}
+            alt={node.field_image.resourceIdObjMeta.alt}
+          />
+        </figure>
+      )}
+      <Link
+        href={node.path.alias}
+        className=""inline-flex items-center px-6 py-2 border border-gray-600 rounded-full hover:bg-gray-100""
+      >
+        Read article
+        <svg
+          viewBox=""0 0 24 24""
+          fill=""none""
+          stroke=""currentColor""
+          strokeWidth=""2""
+          strokeLinecap=""round""
+          strokeLinejoin=""round""
+          className=""w-4 h-4 ml-2""
+        >
+          <path d=""M5 12h14M12 5l7 7-7 7"" />
+        </svg>
+      </Link>
+    </article>
+  )
+}

---FILE: starters/pages-starter/components/drupal/BasicPage.tsx---
@@ -0,0 +1,19 @@
+import type { DrupalNode } from ""next-drupal""
+
+interface BasicPageProps {
+  node: DrupalNode
+}
+
+export function BasicPage({ node, ...props }: BasicPageProps) {
+  return (
+    <article {...props}>
+      <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>
+      {node.body?.processed && (
+        <div
+          dangerouslySetInnerHTML={{ __html: node.body?.processed }}
+          className=""mt-6 font-serif text-xl leading-loose prose""
+        />
+      )}
+    </article>
+  )
+}

---FILE: starters/pages-starter/components/misc/PreviewAlert.tsx---
@@ -0,0 +1,35 @@
+import { useEffect, useState } from ""react""
+import { useRouter } from ""next/router""
+
+export function PreviewAlert() {
+  const router = useRouter()
+  const isPreview = router.isPreview
+  const [showPreviewAlert, setShowPreviewAlert] = useState<boolean>(false)
+
+  useEffect(() => {
+    setShowPreviewAlert(isPreview && window.top === window.self)
+  }, [isPreview])
+
+  if (!showPreviewAlert) {
+    return null
+  }
+
+  function buttonHandler() {
+    void fetch(""/api/exit-preview"")
+    setShowPreviewAlert(false)
+  }
+
+  return (
+    <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
+      <p className=""mb-0"">
+        This page is a preview.{"" ""}
+        <button
+          className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
+          onClick={buttonHandler}
+        >
+          Exit preview mode
+        </button>
+      </p>
+    </div>
+  )
+}

---FILE: starters/pages-starter/components/navigation/HeaderNav.tsx---
@@ -0,0 +1,21 @@
+import { Link } from ""@/components/navigation/Link""
+
+export function HeaderNav() {
+  return (
+    <header>
+      <div className=""container flex items-center justify-between py-6 mx-auto"">
+        <Link href=""/"" className=""text-2xl font-semibold no-underline"">
+          Next.js for Drupal
+        </Link>
+        <Link
+          href=""https://next-drupal.org/docs""
+          target=""_blank""
+          rel=""external""
+          className=""hover:text-blue-600""
+        >
+          Read the docs
+        </Link>
+      </div>
+    </header>
+  )
+}

---FILE: starters/pages-starter/components/navigation/Link.tsx---
@@ -0,0 +1,23 @@
+import { forwardRef } from ""react""
+import NextLink from ""next/link""
+import type { AnchorHTMLAttributes, ReactNode } from ""react""
+import type { LinkProps as NextLinkProps } from ""next/link""
+
+type LinkProps = NextLinkProps &
+  Omit<AnchorHTMLAttributes<HTMLAnchorElement>, keyof NextLinkProps> & {
+    children?: ReactNode
+  }
+
+export const Link = forwardRef<HTMLAnchorElement, LinkProps>(
+  function LinkWithRef(
+    {
+      // Turn next/link prefetching off by default.
+      // @see https://github.com/vercel/next.js/discussions/24009
+      prefetch = false,
+      ...rest
+    },
+    ref
+  ) {
+    return <NextLink prefetch={prefetch} {...rest} ref={ref} />
+  }
+)

---FILE: starters/pages-starter/lib/drupal.ts---
@@ -0,0 +1,14 @@
+import { NextDrupalPages } from ""next-drupal""
+
+const baseUrl = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL as string
+const clientId = process.env.DRUPAL_CLIENT_ID as string
+const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
+
+export const drupal = new NextDrupalPages(baseUrl, {
+  auth: {
+    clientId,
+    clientSecret,
+  },
+  useDefaultEndpoints: true,
+  // debug: true,
+})

---FILE: starters/pages-starter/lib/utils.ts---
@@ -0,0 +1,12 @@
+export function formatDate(input: string): string {
+  const date = new Date(input)
+  return date.toLocaleDateString(""en-US"", {
+    month: ""long"",
+    day: ""numeric"",
+    year: ""numeric"",
+  })
+}
+
+export function absoluteUrl(input: string) {
+  return `${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}${input}`
+}

---FILE: starters/pages-starter/next.config.js---
@@ -0,0 +1,16 @@
+/** @type {import('next').NextConfig} */
+const nextConfig = {
+  reactStrictMode: true,
+  images: {
+    remotePatterns: [
+      {
+        // protocol: 'https',
+        hostname: process.env.NEXT_IMAGE_DOMAIN,
+        // port: '',
+        // pathname: '/sites/default/files/**',
+      },
+    ],
+  },
+}
+
+module.exports = nextConfig

---FILE: starters/pages-starter/package.json---
@@ -0,0 +1,34 @@
+{
+  ""name"": ""pages-starter"",
+  ""version"": ""2.0.0-alpha.0"",
+  ""private"": true,
+  ""license"": ""MIT"",
+  ""scripts"": {
+    ""dev"": ""next dev"",
+    ""build"": ""next build"",
+    ""start"": ""next start"",
+    ""preview"": ""next build && next start"",
+    ""lint"": ""next lint"",
+    ""format"": ""prettier --write ."",
+    ""format:check"": ""prettier --check .""
+  },
+  ""dependencies"": {
+    ""next"": ""^14.2.2"",
+    ""next-drupal"": ""^2.0.0-alpha.1"",
+    ""react"": ""^18.2.0"",
+    ""react-dom"": ""^18.2.0""
+  },
+  ""devDependencies"": {
+    ""@tailwindcss/typography"": ""^0.5.12"",
+    ""@types/node"": ""^20.12.7"",
+    ""@types/react"": ""^18.2.79"",
+    ""@types/react-dom"": ""^18.2.25"",
+    ""autoprefixer"": ""^10.4.19"",
+    ""eslint"": ""^8.57.0"",
+    ""eslint-config-next"": ""^14.2.2"",
+    ""postcss"": ""^8.4.38"",
+    ""prettier"": ""^3.2.5"",
+    ""tailwindcss"": ""^3.4.3"",
+    ""typescript"": ""^5.4.5""
+  }
+}

---FILE: starters/pages-starter/pages/[...slug].tsx---
@@ -0,0 +1,92 @@
+import Head from ""next/head""
+import { Article } from ""@/components/drupal/Article""
+import { BasicPage } from ""@/components/drupal/BasicPage""
+import { Layout } from ""@/components/Layout""
+import { drupal } from ""@/lib/drupal""
+import type {
+  GetStaticPaths,
+  GetStaticProps,
+  InferGetStaticPropsType,
+} from ""next""
+import type { DrupalNode } from ""next-drupal""
+
+const RESOURCE_TYPES = [""node--page"", ""node--article""]
+
+export const getStaticPaths = (async (context) => {
+  return {
+    paths: await drupal.getStaticPathsFromContext(RESOURCE_TYPES, context),
+    fallback: ""blocking"",
+  }
+}) satisfies GetStaticPaths
+
+export const getStaticProps = (async (context) => {
+  const path = await drupal.translatePathFromContext(context)
+
+  if (!path) {
+    return {
+      notFound: true,
+    }
+  }
+
+  const type = path?.jsonapi?.resourceName
+
+  let params = {}
+  if (type === ""node--article"") {
+    params = {
+      include: ""field_image,uid"",
+    }
+  }
+
+  const resource = await drupal.getResourceFromContext<DrupalNode>(
+    path,
+    context,
+    {
+      params,
+    }
+  )
+
+  // At this point, we know the path exists and it points to a resource.
+  // If we receive an error, it means something went wrong on Drupal.
+  // We throw an error to tell revalidation to skip this for now.
+  // Revalidation can try again on next request.
+  if (!resource) {
+    throw new Error(`Failed to fetch resource: ${path?.jsonapi?.individual}`)
+  }
+
+  // If we're not in preview mode and the resource is not published,
+  // Return page not found.
+  if (!context.preview && resource?.status === false) {
+    return {
+      notFound: true,
+    }
+  }
+
+  return {
+    props: {
+      resource,
+    },
+  }
+}) satisfies GetStaticProps<{
+  resource: DrupalNode
+}>
+
+export default function NodePage({
+  resource,
+}: InferGetStaticPropsType<typeof getStaticProps>) {
+  if (!resource) return null
+
+  return (
+    <Layout>
+      <Head>
+        <title>{resource.title}</title>
+        <meta
+          name=""description""
+          content=""A Next.js site powered by Drupal.""
+          key=""description""
+        />
+      </Head>
+      {resource.type === ""node--page"" && <BasicPage node={resource} />}
+      {resource.type === ""node--article"" && <Article node={resource} />}
+    </Layout>
+  )
+}

---FILE: starters/pages-starter/pages/_app.tsx---
@@ -0,0 +1,6 @@
+import ""@/styles/globals.css""
+import type { AppProps } from ""next/app""
+
+export default function App({ Component, pageProps }: AppProps) {
+  return <Component {...pageProps} />
+}

---FILE: starters/pages-starter/pages/_document.tsx---
@@ -0,0 +1,13 @@
+import { Html, Head, Main, NextScript } from ""next/document""
+
+export default function Document() {
+  return (
+    <Html lang=""en"">
+      <Head />
+      <body>
+        <Main />
+        <NextScript />
+      </body>
+    </Html>
+  )
+}

---FILE: starters/pages-starter/pages/api/exit-preview.ts---
@@ -0,0 +1,9 @@
+import { drupal } from ""@/lib/drupal""
+import type { NextApiRequest, NextApiResponse } from ""next""
+
+export default async function exit(
+  request: NextApiRequest,
+  response: NextApiResponse
+) {
+  await drupal.previewDisable(request, response)
+}

---FILE: starters/pages-starter/pages/api/preview.ts---
@@ -0,0 +1,10 @@
+import { drupal } from ""@/lib/drupal""
+import type { NextApiRequest, NextApiResponse } from ""next""
+
+export default async function draft(
+  request: NextApiRequest,
+  response: NextApiResponse
+) {
+  // Enables Preview mode and Draft mode.
+  await drupal.preview(request, response, { enable: true })
+}

---FILE: starters/pages-starter/pages/api/revalidate.ts---
@@ -0,0 +1,29 @@
+import type { NextApiRequest, NextApiResponse } from ""next""
+
+export default async function handler(
+  request: NextApiRequest,
+  response: NextApiResponse
+) {
+  let path = request.query.path as string
+  const secret = request.query.secret as string
+
+  // Validate secret.
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
+    return response.status(401).json({ message: ""Invalid secret."" })
+  }
+
+  // Validate path.
+  if (!path) {
+    return response.status(400).json({ message: ""Invalid path."" })
+  }
+
+  try {
+    await response.revalidate(path)
+
+    return response.json({})
+  } catch (error) {
+    return response.status(404).json({
+      message: (error as Error).message,
+    })
+  }
+}

---FILE: starters/pages-starter/pages/index.tsx---
@@ -0,0 +1,57 @@
+import Head from ""next/head""
+import { ArticleTeaser } from ""@/components/drupal/ArticleTeaser""
+import { Layout } from ""@/components/Layout""
+import { drupal } from ""@/lib/drupal""
+import type { InferGetStaticPropsType, GetStaticProps } from ""next""
+import type { DrupalNode } from ""next-drupal""
+
+export const getStaticProps = (async (context) => {
+  const nodes = await drupal.getResourceCollectionFromContext<DrupalNode[]>(
+    ""node--article"",
+    context,
+    {
+      params: {
+        ""filter[status]"": 1,
+        ""fields[node--article]"": ""title,path,field_image,uid,created"",
+        include: ""field_image,uid"",
+        sort: ""-created"",
+      },
+    }
+  )
+
+  return {
+    props: {
+      nodes,
+    },
+  }
+}) satisfies GetStaticProps<{
+  nodes: DrupalNode[]
+}>
+
+export default function Home({
+  nodes,
+}: InferGetStaticPropsType<typeof getStaticProps>) {
+  return (
+    <Layout>
+      <Head>
+        <title>Next.js for Drupal</title>
+        <meta
+          name=""description""
+          content=""A Next.js site powered by a Drupal backend.""
+          key=""description""
+        />
+      </Head>
+      <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
+      {nodes?.length ? (
+        nodes.map((node) => (
+          <div key={node.id}>
+            <ArticleTeaser node={node} />
+            <hr className=""my-20"" />
+          </div>
+        ))
+      ) : (
+        <p className=""py-4"">No nodes found</p>
+      )}
+    </Layout>
+  )
+}

---FILE: starters/pages-starter/postcss.config.js---
@@ -0,0 +1,8 @@
+// If you want to use other PostCSS plugins, see the following:
+// https://tailwindcss.com/docs/using-with-preprocessors
+module.exports = {
+  plugins: {
+    tailwindcss: {},
+    autoprefixer: {},
+  },
+}

---FILE: starters/pages-starter/public/robots.txt---
@@ -0,0 +1,2 @@
+User-agent: *
+Allow: /
\ No newline at end of file

---FILE: starters/pages-starter/styles/globals.css---
@@ -0,0 +1,3 @@
+@tailwind base;
+@tailwind components;
+@tailwind utilities;

---FILE: starters/pages-starter/tailwind.config.ts---
@@ -0,0 +1,18 @@
+import type { Config } from ""tailwindcss""
+
+const config: Config = {
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx,mdx}"",
+    ""./components/**/*.{js,ts,jsx,tsx,mdx}"",
+    ""./app/**/*.{js,ts,jsx,tsx,mdx}"",
+  ],
+  theme: {
+    extend: {},
+  },
+  variants: {
+    extend: {},
+  },
+  plugins: [require(""@tailwindcss/typography"")],
+}
+
+export default config

---FILE: starters/pages-starter/tsconfig.json---
@@ -0,0 +1,28 @@
+{
+  ""compilerOptions"": {
+    ""target"": ""es5"",
+    ""lib"": [""dom"", ""dom.iterable"", ""esnext""],
+    ""allowJs"": true,
+    ""skipLibCheck"": true,
+    ""strict"": true,
+    ""forceConsistentCasingInFileNames"": true,
+    ""noEmit"": true,
+    ""esModuleInterop"": true,
+    ""module"": ""esnext"",
+    ""moduleResolution"": ""bundler"",
+    ""resolveJsonModule"": true,
+    ""isolatedModules"": true,
+    ""jsx"": ""preserve"",
+    ""incremental"": true,
+    ""plugins"": [
+      {
+        ""name"": ""next""
+      }
+    ],
+    ""paths"": {
+      ""@/*"": [""./*""]
+    }
+  },
+  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx"", "".next/types/**/*.ts""],
+  ""exclude"": [""node_modules""]
+}",False,False,Documentation / Formatting,6
chapter-three,next-drupal,dd03912fabe8714132e4e3974b7e22f781070cee,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-22T14:53:07Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,"feat(basic-starter): add Draft Mode to basic-starter and graphql-starter

Issue #601",starters/basic-starter/pages/api/exit-preview.ts;starters/basic-starter/pages/api/preview.ts;starters/graphql-starter/pages/api/exit-preview.ts;starters/graphql-starter/pages/api/preview.ts,False,False,False,False,12,12,24,"---FILE: starters/basic-starter/pages/api/exit-preview.ts---
@@ -1,10 +1,9 @@
+import { drupal } from ""@/lib/drupal""
 import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function exit(
-  _: NextApiRequest,
+  request: NextApiRequest,
   response: NextApiResponse
 ) {
-  response.clearPreviewData()
-  response.writeHead(307, { Location: ""/"" })
-  response.end()
+  await drupal.previewDisable(request, response)
 }

---FILE: starters/basic-starter/pages/api/preview.ts---
@@ -1,9 +1,10 @@
 import { drupal } from ""@/lib/drupal""
 import type { NextApiRequest, NextApiResponse } from ""next""
 
-export default async function handler(
+export default async function draft(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  await drupal.preview(request, response)
+  // Enables Preview mode and Draft mode.
+  await drupal.preview(request, response, { enable: true })
 }

---FILE: starters/graphql-starter/pages/api/exit-preview.ts---
@@ -1,10 +1,9 @@
+import { drupal } from ""@/lib/drupal""
 import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function exit(
-  _: NextApiRequest,
+  request: NextApiRequest,
   response: NextApiResponse
 ) {
-  response.clearPreviewData()
-  response.writeHead(307, { Location: ""/"" })
-  response.end()
+  await drupal.previewDisable(request, response)
 }

---FILE: starters/graphql-starter/pages/api/preview.ts---
@@ -1,9 +1,10 @@
 import { drupal } from ""@/lib/drupal""
 import type { NextApiRequest, NextApiResponse } from ""next""
 
-export default async function handler(
+export default async function draft(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  await drupal.preview(request, response)
+  // Enables Preview mode and Draft mode.
+  await drupal.preview(request, response, { enable: true })
 }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,6d2e58e24bf778224c1136645c8e996ad07699b5,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-22T14:52:38Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,"feat(basic-starter): upgrade starters to NextDrupal classes

Issue #601",examples/example-router-migration/lib/drupal.ts;starters/basic-starter/.gitignore;starters/basic-starter/README.md;starters/basic-starter/components/Layout.tsx;starters/basic-starter/components/drupal/ArticleTeaser.tsx;starters/basic-starter/components/misc/PreviewAlert.tsx;starters/basic-starter/components/navigation/HeaderNav.tsx;starters/basic-starter/components/navigation/Link.tsx;starters/basic-starter/lib/drupal.ts;starters/basic-starter/tsconfig.json;starters/graphql-starter/.gitignore;starters/graphql-starter/README.md;starters/graphql-starter/components/Layout.tsx;starters/graphql-starter/components/drupal/Article.tsx;starters/graphql-starter/components/drupal/ArticleTeaser.tsx;starters/graphql-starter/components/drupal/BasicPage.tsx;starters/graphql-starter/components/misc/PreviewAlert.tsx;starters/graphql-starter/components/navigation/HeaderNav.tsx;starters/graphql-starter/components/navigation/Link.tsx;starters/graphql-starter/lib/drupal.ts;starters/graphql-starter/lib/next-drupal-graphql.ts;starters/graphql-starter/pages/[...slug].tsx;starters/graphql-starter/pages/index.tsx;starters/graphql-starter/tsconfig.json;starters/graphql-starter/types/index.d.ts,False,False,False,False,281,163,444,"---FILE: examples/example-router-migration/lib/drupal.ts---
@@ -3,9 +3,9 @@ import {
   // NextDrupal
 } from ""next-drupal""
 
-const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
-const clientId = process.env.DRUPAL_CLIENT_ID || """"
-const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
+const baseUrl = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL as string
+const clientId = process.env.DRUPAL_CLIENT_ID as string
+const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
 
 export const drupal = new DrupalClient(baseUrl, {
   auth: {

---FILE: starters/basic-starter/.gitignore---
@@ -6,8 +6,7 @@
 .pnp.js
 .yarn/install-state.gz
 
-# build/test artifacts
-/.turbo
+# testing
 /coverage
 
 # next.js

---FILE: starters/basic-starter/README.md---
@@ -1,6 +1,6 @@
 # Basic Starter
 
-A simple starter for building your site with Next.js and Drupal.
+A simple starter for building your site with Next.js' Pages Router and Drupal.
 
 ## How to use
 

---FILE: starters/basic-starter/components/Layout.tsx---
@@ -1,27 +1,13 @@
-import Link from ""next/link""
-import { PreviewAlert } from ""@/components/PreviewAlert""
+import { HeaderNav } from ""@/components/navigation/HeaderNav""
+import { PreviewAlert } from ""@/components/misc/PreviewAlert""
 import type { ReactNode } from ""react""
 
 export function Layout({ children }: { children: ReactNode }) {
   return (
     <>
       <PreviewAlert />
       <div className=""max-w-screen-md px-6 mx-auto"">
-        <header>
-          <div className=""container flex items-center justify-between py-6 mx-auto"">
-            <Link href=""/"" className=""text-2xl font-semibold no-underline"">
-              Next.js for Drupal
-            </Link>
-            <Link
-              href=""https://next-drupal.org/docs""
-              target=""_blank""
-              rel=""external""
-              className=""hover:text-blue-600""
-            >
-              Read the docs
-            </Link>
-          </div>
-        </header>
+        <HeaderNav />
         <main className=""container py-10 mx-auto"">{children}</main>
       </div>
     </>

---FILE: starters/basic-starter/components/drupal/ArticleTeaser.tsx---
@@ -1,5 +1,5 @@
 import Image from ""next/image""
-import Link from ""next/link""
+import { Link } from ""@/components/navigation/Link""
 import { absoluteUrl, formatDate } from ""@/lib/utils""
 import type { DrupalNode } from ""next-drupal""
 

---FILE: starters/basic-starter/components/misc/PreviewAlert.tsx---
@@ -14,13 +14,18 @@ export function PreviewAlert() {
     return null
   }
 
+  function buttonHandler() {
+    void fetch(""/api/exit-preview"")
+    setShowPreviewAlert(false)
+  }
+
   return (
     <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
       <p className=""mb-0"">
         This page is a preview.{"" ""}
         <button
           className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
-          onClick={() => router.push(""/api/exit-preview"")}
+          onClick={buttonHandler}
         >
           Exit preview mode
         </button>

---FILE: starters/basic-starter/components/navigation/HeaderNav.tsx---
@@ -0,0 +1,21 @@
+import { Link } from ""@/components/navigation/Link""
+
+export function HeaderNav() {
+  return (
+    <header>
+      <div className=""container flex items-center justify-between py-6 mx-auto"">
+        <Link href=""/"" className=""text-2xl font-semibold no-underline"">
+          Next.js for Drupal
+        </Link>
+        <Link
+          href=""https://next-drupal.org/docs""
+          target=""_blank""
+          rel=""external""
+          className=""hover:text-blue-600""
+        >
+          Read the docs
+        </Link>
+      </div>
+    </header>
+  )
+}

---FILE: starters/basic-starter/components/navigation/Link.tsx---
@@ -0,0 +1,23 @@
+import { forwardRef } from ""react""
+import NextLink from ""next/link""
+import type { AnchorHTMLAttributes, ReactNode } from ""react""
+import type { LinkProps as NextLinkProps } from ""next/link""
+
+type LinkProps = NextLinkProps &
+  Omit<AnchorHTMLAttributes<HTMLAnchorElement>, keyof NextLinkProps> & {
+    children?: ReactNode
+  }
+
+export const Link = forwardRef<HTMLAnchorElement, LinkProps>(
+  function LinkWithRef(
+    {
+      // Turn next/link prefetching off by default.
+      // @see https://github.com/vercel/next.js/discussions/24009
+      prefetch = false,
+      ...rest
+    },
+    ref
+  ) {
+    return <NextLink prefetch={prefetch} {...rest} ref={ref} />
+  }
+)

---FILE: starters/basic-starter/lib/drupal.ts---
@@ -1,12 +1,14 @@
-import { DrupalClient } from ""next-drupal""
+import { NextDrupalPages } from ""next-drupal""
 
-const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
-const clientId = process.env.DRUPAL_CLIENT_ID || """"
-const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
+const baseUrl = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL as string
+const clientId = process.env.DRUPAL_CLIENT_ID as string
+const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
 
-export const drupal = new DrupalClient(baseUrl, {
+export const drupal = new NextDrupalPages(baseUrl, {
   auth: {
     clientId,
     clientSecret,
   },
+  useDefaultEndpoints: true,
+  // debug: true,
 })

---FILE: starters/basic-starter/tsconfig.json---
@@ -14,10 +14,15 @@
     ""isolatedModules"": true,
     ""jsx"": ""preserve"",
     ""incremental"": true,
+    ""plugins"": [
+      {
+        ""name"": ""next""
+      }
+    ],
     ""paths"": {
       ""@/*"": [""./*""]
     }
   },
-  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
+  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx"", "".next/types/**/*.ts""],
   ""exclude"": [""node_modules""]
 }

---FILE: starters/graphql-starter/.gitignore---
@@ -6,8 +6,7 @@
 .pnp.js
 .yarn/install-state.gz
 
-# build/test artifacts
-/.turbo
+# testing
 /coverage
 
 # next.js

---FILE: starters/graphql-starter/README.md---
@@ -6,6 +6,10 @@ A next-drupal starter for building your site with Next.js and GraphQL.
 
 `npx create-next-app -e https://github.com/chapter-three/next-drupal-graphql-starter`
 
+## Deploy to Vercel
+
+[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fchapter-three%2Fnext-drupal-graphql-starter&env=NEXT_PUBLIC_DRUPAL_BASE_URL,NEXT_IMAGE_DOMAIN,DRUPAL_CLIENT_ID,DRUPAL_CLIENT_SECRET&envDescription=Learn%20more%20about%20environment%20variables&envLink=https%3A%2F%2Fnext-drupal.org%2Fdocs%2Fenvironment-variables&project-name=next-drupal&demo-title=Next.js%20for%20Drupal&demo-description=A%20next-generation%20front-end%20for%20your%20Drupal%20site.&demo-url=https%3A%2F%2Fdemo.next-drupal.org&demo-image=https%3A%2F%2Fnext-drupal.org%2Fimages%2Fdemo-screenshot.jpg)
+
 ## Documentation
 
 See https://next-drupal.org

---FILE: starters/graphql-starter/components/Layout.tsx---
@@ -1,27 +1,13 @@
-import Link from ""next/link""
-import { PreviewAlert } from ""@/components/PreviewAlert""
+import { HeaderNav } from ""@/components/navigation/HeaderNav""
+import { PreviewAlert } from ""@/components/misc/PreviewAlert""
 import type { ReactNode } from ""react""
 
 export function Layout({ children }: { children: ReactNode }) {
   return (
     <>
       <PreviewAlert />
       <div className=""max-w-screen-md px-6 mx-auto"">
-        <header>
-          <div className=""container flex items-center justify-between py-6 mx-auto"">
-            <Link href=""/"" className=""text-2xl font-semibold no-underline"">
-              Next.js for Drupal
-            </Link>
-            <Link
-              href=""https://next-drupal.org/docs""
-              target=""_blank""
-              rel=""external""
-              className=""hover:text-blue-600""
-            >
-              Read the docs
-            </Link>
-          </div>
-        </header>
+        <HeaderNav />
         <main className=""container py-10 mx-auto"">{children}</main>
       </div>
     </>

---FILE: starters/graphql-starter/components/drupal/Article.tsx---
@@ -1,23 +1,22 @@
 import Image from ""next/image""
 import { formatDate } from ""@/lib/utils""
-import type { NodeArticle } from ""@/types""
+import type { DrupalArticle } from ""@/types""
 
 interface ArticleProps {
-  node: NodeArticle
+  node: DrupalArticle
 }
 
 export function Article({ node, ...props }: ArticleProps) {
   return (
     <article {...props}>
       <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>
       <div className=""mb-4 text-gray-600"">
-        {node.author?.displayName ? (
+        {node.author?.name ? (
           <span>
-            Posted by{"" ""}
-            <span className=""font-semibold"">{node.author.displayName}</span>
+            Posted by <span className=""font-semibold"">{node.author.name}</span>
           </span>
         ) : null}
-        <span> - {formatDate(node.created)}</span>
+        <span> - {formatDate(node.created.time)}</span>
       </div>
       {node.image && (
         <figure>

---FILE: starters/graphql-starter/components/drupal/ArticleTeaser.tsx---
@@ -1,10 +1,10 @@
 import Image from ""next/image""
-import Link from ""next/link""
+import { Link } from ""@/components/navigation/Link""
 import { formatDate } from ""@/lib/utils""
-import type { NodeArticle } from ""@/types""
+import type { DrupalArticle } from ""@/types""
 
 interface ArticleTeaserProps {
-  node: Partial<NodeArticle>
+  node: Partial<DrupalArticle>
 }
 
 export function ArticleTeaser({ node, ...props }: ArticleTeaserProps) {
@@ -14,13 +14,12 @@ export function ArticleTeaser({ node, ...props }: ArticleTeaserProps) {
         <h2 className=""mb-4 text-4xl font-bold"">{node.title}</h2>
       </Link>
       <div className=""mb-4 text-gray-600"">
-        {node.author?.displayName ? (
+        {node.author?.name ? (
           <span>
-            Posted by{"" ""}
-            <span className=""font-semibold"">{node.author.displayName}</span>
+            Posted by <span className=""font-semibold"">{node.author.name}</span>
           </span>
         ) : null}
-        {node.created && <span> - {formatDate(node.created)}</span>}
+        {node.created && <span> - {formatDate(node.created.time)}</span>}
       </div>
       {node.image && (
         <figure className=""my-4"">

---FILE: starters/graphql-starter/components/drupal/BasicPage.tsx---
@@ -1,7 +1,7 @@
-import type { NodePage } from ""@/types""
+import type { DrupalPage } from ""@/types""
 
 interface BasicPageProps {
-  node: NodePage
+  node: DrupalPage
 }
 
 export function BasicPage({ node, ...props }: BasicPageProps) {

---FILE: starters/graphql-starter/components/misc/PreviewAlert.tsx---
@@ -14,13 +14,18 @@ export function PreviewAlert() {
     return null
   }
 
+  function buttonHandler() {
+    void fetch(""/api/exit-preview"")
+    setShowPreviewAlert(false)
+  }
+
   return (
     <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
       <p className=""mb-0"">
         This page is a preview.{"" ""}
         <button
           className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
-          onClick={() => router.push(""/api/exit-preview"")}
+          onClick={buttonHandler}
         >
           Exit preview mode
         </button>

---FILE: starters/graphql-starter/components/navigation/HeaderNav.tsx---
@@ -0,0 +1,21 @@
+import { Link } from ""@/components/navigation/Link""
+
+export function HeaderNav() {
+  return (
+    <header>
+      <div className=""container flex items-center justify-between py-6 mx-auto"">
+        <Link href=""/"" className=""text-2xl font-semibold no-underline"">
+          Next.js for Drupal
+        </Link>
+        <Link
+          href=""https://next-drupal.org/docs""
+          target=""_blank""
+          rel=""external""
+          className=""hover:text-blue-600""
+        >
+          Read the docs
+        </Link>
+      </div>
+    </header>
+  )
+}

---FILE: starters/graphql-starter/components/navigation/Link.tsx---
@@ -0,0 +1,23 @@
+import { forwardRef } from ""react""
+import NextLink from ""next/link""
+import type { AnchorHTMLAttributes, ReactNode } from ""react""
+import type { LinkProps as NextLinkProps } from ""next/link""
+
+type LinkProps = NextLinkProps &
+  Omit<AnchorHTMLAttributes<HTMLAnchorElement>, keyof NextLinkProps> & {
+    children?: ReactNode
+  }
+
+export const Link = forwardRef<HTMLAnchorElement, LinkProps>(
+  function LinkWithRef(
+    {
+      // Turn next/link prefetching off by default.
+      // @see https://github.com/vercel/next.js/discussions/24009
+      prefetch = false,
+      ...rest
+    },
+    ref
+  ) {
+    return <NextLink prefetch={prefetch} {...rest} ref={ref} />
+  }
+)

---FILE: starters/graphql-starter/lib/drupal.ts---
@@ -1,51 +1,13 @@
-import { DrupalClient } from ""next-drupal""
+import { NextDrupalGraphQL } from ""./next-drupal-graphql""
 
-const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
-const clientId = process.env.DRUPAL_CLIENT_ID || """"
-const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
+const baseUrl = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL as string
+const clientId = process.env.DRUPAL_CLIENT_ID as string
+const clientSecret = process.env.DRUPAL_CLIENT_SECRET as string
 
-export const drupal = new DrupalClient(baseUrl, {
+export const drupal = new NextDrupalGraphQL(baseUrl, {
   auth: {
     clientId,
     clientSecret,
   },
+  // debug: true,
 })
-
-export const graphqlEndpoint = drupal.buildUrl(""/graphql"")
-
-type QueryPayload = {
-  query: string
-  variables?: Record<string, string>
-}
-
-type QueryJsonResponse<DataType> = {
-  data?: DataType
-  errors?: { message: string }[]
-}
-
-// This is a wrapper around drupal.fetch.
-// Acts as a query helper.
-export async function query<DataType>(payload: QueryPayload) {
-  const response = await drupal.fetch(graphqlEndpoint.toString(), {
-    method: ""POST"",
-    body: JSON.stringify(payload),
-    withAuth: true, // Make authenticated requests using OAuth.
-    headers: {
-      ""Content-Type"": ""application/json"",
-      Accept: ""application/json"",
-    },
-  })
-
-  if (!response?.ok) {
-    throw new Error(response.statusText)
-  }
-
-  const { data, errors }: QueryJsonResponse<DataType> = await response.json()
-
-  if (errors) {
-    console.log(errors)
-    throw new Error(errors?.map((e) => e.message).join(""\n"") ?? ""unknown"")
-  }
-
-  return data
-}

---FILE: starters/graphql-starter/lib/next-drupal-graphql.ts---
@@ -0,0 +1,66 @@
+// This is an example GraphQL implementation using NextDrupalBase, a lower-level
+// class that contains helper methods and no JSON:API methods.
+
+import { NextDrupalBase } from ""next-drupal""
+import type {
+  BaseUrl,
+  EndpointSearchParams,
+  NextDrupalBaseOptions,
+} from ""next-drupal""
+
+const DEFAULT_API_PREFIX = ""/graphql""
+
+export class NextDrupalGraphQL extends NextDrupalBase {
+  endpoint: string
+
+  constructor(baseUrl: BaseUrl, options: NextDrupalBaseOptions = {}) {
+    super(baseUrl, options)
+
+    const { apiPrefix = DEFAULT_API_PREFIX } = options
+
+    this.apiPrefix = apiPrefix
+
+    this.endpoint = this.buildUrl(this.apiPrefix).toString()
+  }
+
+  async query<DataType>(payload: QueryPayload) {
+    const response = await this.fetch(this.endpoint, {
+      method: ""POST"",
+      body: JSON.stringify(payload),
+      withAuth: true, // Make authenticated requests using OAuth.
+    })
+
+    if (!response?.ok) {
+      throw new Error(response.statusText)
+    }
+
+    const { data, errors }: QueryJsonResponse<DataType> = await response.json()
+
+    if (errors) {
+      this.logger.log(errors)
+      throw new Error(errors?.map((e) => e.message).join(""\n"") ?? ""unknown"")
+    }
+
+    return data
+  }
+
+  // Since the endpoint doesn't change (even with different locales), there's
+  // no need to use this method; use NextDrupalGraphQL.query() directly.
+  async buildEndpoint({
+    searchParams,
+  }: {
+    searchParams?: EndpointSearchParams
+  } = {}): Promise<string> {
+    return this.buildUrl(this.apiPrefix, searchParams).toString()
+  }
+}
+
+type QueryPayload = {
+  query: string
+  variables?: Record<string, string>
+}
+
+type QueryJsonResponse<DataType> = {
+  data?: DataType
+  errors?: { message: string }[]
+}

---FILE: starters/graphql-starter/pages/[...slug].tsx---
@@ -2,18 +2,18 @@ import Head from ""next/head""
 import { Article } from ""@/components/drupal/Article""
 import { BasicPage } from ""@/components/drupal/BasicPage""
 import { Layout } from ""@/components/Layout""
-import { drupal, query } from ""@/lib/drupal""
+import { drupal } from ""@/lib/drupal""
 import type {
   GetStaticPaths,
   GetStaticProps,
   InferGetStaticPropsType,
 } from ""next""
-import type { NodeArticle, NodePage, NodesPath } from ""@/types""
+import type { DrupalArticle, DrupalPage, NodesPath } from ""@/types""
 
 export const getStaticPaths = (async (context) => {
   // Fetch the paths for the first 50 articles and pages.
   // We'll fall back to on-demand generation for the rest.
-  const data = await query<{
+  const data = await drupal.query<{
     nodeArticles: NodesPath
     nodePages: NodesPath
   }>({
@@ -32,12 +32,10 @@ export const getStaticPaths = (async (context) => {
   })
 
   // Build static paths.
-  const paths = drupal.buildStaticPathsParamsFromPaths(
-    [
-      ...(data?.nodeArticles?.nodes as []),
-      ...(data?.nodePages?.nodes as []),
-    ].map(({ path }) => path)
-  )
+  const paths = [
+    ...(data?.nodeArticles?.nodes as { path: string }[]),
+    ...(data?.nodePages?.nodes as { path: string }[]),
+  ].map(({ path }) => ({ params: { slug: path.split(""/"").filter(Boolean) } }))
 
   return {
     paths,
@@ -52,47 +50,53 @@ export const getStaticProps = (async (context) => {
     }
   }
 
-  const data = await query<{
-    nodeByPath: NodeArticle | NodePage
+  const data = await drupal.query<{
+    route: { entity: DrupalArticle | DrupalPage }
   }>({
     query: `query ($path: String!){
-      nodeByPath(path: $path) {
-        ... on NodeArticle {
-          __typename
-          id
-          title
-          path
-          author {
-            displayName
-          }
-          body {
-            processed
-          }
-          status
-          created
-          image {
-            width
-            url
-            height
-          }
-        }
-        ... on NodePage {
-          __typename
-          id
-          title
-          path
-          body {
-            processed
+      route(path: $path) {
+        ... on RouteInternal {
+          entity {
+            ... on NodeArticle {
+              __typename
+              id
+              title
+              path
+              author {
+                name
+              }
+              body {
+                processed
+              }
+              status
+              created {
+                time
+              }
+              image {
+                width
+                url
+                height
+              }
+            }
+            ... on NodePage {
+              __typename
+              id
+              title
+              path
+              body {
+                processed
+              }
+            }
           }
         }
       }
     }`,
     variables: {
-      path: `/${context.params.slug.join(""/"")}`,
+      path: `/${(context.params.slug as []).join(""/"")}`,
     },
   })
 
-  const resource = data?.nodeByPath
+  const resource = data?.route?.entity
 
   // If we're not in preview mode and the resource is not published,
   // Return page not found.
@@ -108,7 +112,7 @@ export const getStaticProps = (async (context) => {
     },
   }
 }) satisfies GetStaticProps<{
-  resource: NodeArticle | NodePage
+  resource: DrupalArticle | DrupalPage
 }>
 
 export default function Page({

---FILE: starters/graphql-starter/pages/index.tsx---
@@ -1,15 +1,15 @@
 import Head from ""next/head""
 import { ArticleTeaser } from ""@/components/drupal/ArticleTeaser""
 import { Layout } from ""@/components/Layout""
-import { query } from ""@/lib/drupal""
+import { drupal } from ""@/lib/drupal""
 import type { InferGetStaticPropsType, GetStaticProps } from ""next""
-import type { NodeArticle } from ""@/types""
+import type { DrupalArticle } from ""@/types""
 
 export const getStaticProps = (async (context) => {
   // Fetch the first 10 articles.
-  const data = await query<{
+  const data = await drupal.query<{
     nodeArticles: {
-      nodes: NodeArticle[]
+      nodes: DrupalArticle[]
     }
   }>({
     query: `
@@ -20,12 +20,14 @@ export const getStaticProps = (async (context) => {
             title
             path
             author {
-              displayName
+              name
             }
             body {
               processed
             }
-            created
+            created {
+              time
+            }
             image {
               width
               url
@@ -43,7 +45,7 @@ export const getStaticProps = (async (context) => {
     },
   }
 }) satisfies GetStaticProps<{
-  nodes: NodeArticle[]
+  nodes: DrupalArticle[]
 }>
 
 export default function Home({

---FILE: starters/graphql-starter/tsconfig.json---
@@ -14,10 +14,15 @@
     ""isolatedModules"": true,
     ""jsx"": ""preserve"",
     ""incremental"": true,
+    ""plugins"": [
+      {
+        ""name"": ""next""
+      }
+    ],
     ""paths"": {
       ""@/*"": [""./*""]
     }
   },
-  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
+  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx"", "".next/types/**/*.ts""],
   ""exclude"": [""node_modules""]
 }

---FILE: starters/graphql-starter/types/index.d.ts---
@@ -15,10 +15,10 @@ export type Image = {
 }
 
 export type Author = {
-  displayName: string
+  name: string
 }
 
-export type NodePage = {
+export type DrupalPage = {
   __typename: ""NodePage""
   id: string
   status: boolean
@@ -29,7 +29,7 @@ export type NodePage = {
   }
 }
 
-export type NodeArticle = {
+export type DrupalArticle = {
   __typename: ""NodeArticle""
   id: string
   status: boolean
@@ -39,6 +39,8 @@ export type NodeArticle = {
   body: {
     processed: string
   }
-  created: string
+  created: {
+    time: string
+  }
   image: Image
 }",False,False,Documentation / Formatting,6
chapter-three,next-drupal,1c3b13fac567f3b76a2d6ce551b4693e130ca709,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-22T16:27:04Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,style(next): fix PHP code style in EntityActionEventDispatcher,modules/next/src/EventSubscriber/EntityActionEventDispatcher.php,False,False,False,False,3,3,6,"---FILE: modules/next/src/EventSubscriber/EntityActionEventDispatcher.php---
@@ -13,7 +13,7 @@
 final class EntityActionEventDispatcher implements DestructableInterface {
 
   /**
-   * The events to dispach.
+   * The events to dispatch.
    *
    * @var \Drupal\next\Event\EntityActionEvent[]
    */
@@ -23,8 +23,8 @@ final class EntityActionEventDispatcher implements DestructableInterface {
    * EntityActionEventDispatcher constructor.
    */
   public function __construct(
-    private EventDispatcherInterface $eventDispatcher
-    ) {
+    private EventDispatcherInterface $eventDispatcher,
+  ) {
   }
 
   /**",False,False,Rendering / Conversion,0
chapter-three,next-drupal,6c985136f51870bf45842aceac7794e98c7ae0be,JohnAlbin,virtually.johnalbin@gmail.com,2024-02-26T16:31:50Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-24T02:10:19Z,test(next-drupal): fix bug in jsonRpc test util and rename utils files,packages/next-drupal/tests/utils/mocks/index.ts;packages/next-drupal/tests/utils/mocks/mockLogger.ts;packages/next-drupal/tests/utils/mocks/spyOnFetch.ts;packages/next-drupal/tests/utils/rpc.ts,False,False,False,False,5,5,10,"---FILE: packages/next-drupal/tests/utils/mocks/index.ts---
@@ -1,3 +1,3 @@
 export * from ""./data""
-export * from ""./fetch""
-export * from ""./logger""
+export * from ""./spyOnFetch""
+export * from ""./mockLogger""

---FILE: packages/next-drupal/tests/utils/rpc.ts---
@@ -8,10 +8,10 @@ class JsonRpc extends NextDrupalBase {
     this.apiPrefix = ""/jsonrpc""
   }
 
-  async execute(body) {
-    const endpoint = await jsonRpc.buildEndpoint()
+  async execute(body: object) {
+    const endpoint = await this.buildEndpoint()
 
-    const response = await jsonRpc.fetch(endpoint, {
+    const response = await this.fetch(endpoint, {
       method: ""POST"",
       body: JSON.stringify(body),
       withAuth: true,",False,False,Implementation / Logic,3
chapter-three,next-drupal,5ed427e72110d95248790fde03bbcbb54e6f5d98,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-20T02:07:09Z,GitHub,noreply@github.com,2024-04-20T02:07:09Z,"fix(next-drupal): throw non-404 errors from /router/translate-path responses

Co-authored-by: Marc Orcau <marc.orcau@digitalist.com>

Fixes #687",packages/next-drupal/src/next-drupal.ts;packages/next-drupal/tests/NextDrupal/resource-methods.test.ts;packages/next-drupal/tests/NextDrupalBase/basic-methods.test.ts;packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts;packages/next-drupal/tests/utils/mocks/data.ts;packages/next-drupal/tests/utils/mocks/fetch.ts,False,False,False,False,208,50,258,"---FILE: packages/next-drupal/src/next-drupal.ts---
@@ -372,23 +372,33 @@ export class NextDrupal extends NextDrupalBase {
       withAuth: options.withAuth,
     })
 
+    const errorMessagePrefix = ""Error while fetching resource by path:""
+
+    if (response.status !== 207) {
+      const errors = await this.getErrorsFromResponse(response)
+      throw new JsonApiErrors(errors, response.status, errorMessagePrefix)
+    }
+
     const json = await response.json()
 
     if (!json?.[""resolvedResource#uri{0}""]?.body) {
-      if (json?.router?.body) {
-        const error = JSON.parse(json.router.body)
-        if (error?.message) {
-          this.logOrThrowError(new Error(error.message))
-        }
+      const status = json?.router?.headers?.status?.[0]
+      if (status === 404) {
+        return null
       }
-
-      return null
+      const message =
+        (json?.router?.body && JSON.parse(json.router.body)?.message) ||
+        ""Unknown error""
+      throw new JsonApiErrors(message, status, errorMessagePrefix)
     }
 
     const data = JSON.parse(json[""resolvedResource#uri{0}""]?.body)
 
     if (data.errors) {
-      this.logOrThrowError(new Error(JsonApiErrors.formatMessage(data.errors)))
+      const status = json?.[""resolvedResource#uri{0}""]?.headers?.status?.[0]
+      this.logOrThrowError(
+        new JsonApiErrors(data.errors, status, errorMessagePrefix)
+      )
     }
 
     return options.deserialize ? this.deserialize(data) : data
@@ -554,12 +564,14 @@ export class NextDrupal extends NextDrupalBase {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
+    if (response.status === 404) {
       // Do not throw errors here, otherwise Next.js will catch the error and
       // throw a 500. We want a 404.
       return null
     }
 
+    await this.throwIfJsonErrors(response)
+
     return await response.json()
   }
 

---FILE: packages/next-drupal/tests/NextDrupal/resource-methods.test.ts---
@@ -496,15 +496,16 @@ describe(""getResourceByPath()"", () => {
         }
       )
     ).rejects.toThrow(
-      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
+      ""Error while fetching resource by path: 404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
     )
   })
 
   test(""throws an error if revision access is forbidden"", async () => {
     const drupal = new NextDrupal(BASE_URL)
     spyOnFetch({
-      responseBody: mocks.resources.subRequests.forbidden,
       status: 207,
+      statusText: ""Multi-Status"",
+      responseBody: mocks.resources.subRequests.forbidden,
     })
 
     await expect(
@@ -518,19 +519,87 @@ describe(""getResourceByPath()"", () => {
         }
       )
     ).rejects.toThrow(
-      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+      ""Error while fetching resource by path: 403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
     )
   })
 
   test(""returns null for path not found"", async () => {
     const drupal = new NextDrupal(BASE_URL)
 
+    spyOnFetch({
+      status: 207,
+      statusText: ""Multi-Status"",
+      responseBody: mocks.resources.subRequests.pathNotFound,
+    })
+
+    const path = await drupal.getResourceByPath<DrupalNode>(
+      ""/path-does-not-exist""
+    )
+
+    expect(path).toBeNull()
+  })
+
+  test(""throws an error on server error"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    spyOnFetch({
+      status: 500,
+      statusText: ""Internal server error"",
+      responseBody: ""500 Internal server error"",
+    })
+
     await expect(
-      drupal.getResourceByPath<DrupalNode>(""/path-do-not-exist"")
-    ).rejects.toThrow(""Unable to resolve path /path-do-not-exist."")
+      drupal.getResourceByPath<DrupalNode>(""/server-error"")
+    ).rejects.toThrow(
+      ""Error while fetching resource by path: Internal server error""
+    )
   })
 
-  test(""throws an error for invalid params"", async () => {
+  test(""throws an error on router error"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    spyOnFetch({
+      status: 207,
+      statusText: ""Multi-Status"",
+      responseBody: {
+        router: {
+          body: JSON.stringify({ message: ""Forbidden"" }),
+          headers: {
+            ...mocks.resources.subRequests.pathNotFound.router.headers,
+            status: [403],
+          },
+        },
+      },
+    })
+
+    await expect(
+      drupal.getResourceByPath<DrupalNode>(""/router-error"")
+    ).rejects.toThrow(""Error while fetching resource by path: Forbidden"")
+  })
+
+  test(""throws an error on unknown router error"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    spyOnFetch({
+      status: 207,
+      statusText: ""Multi-Status"",
+      responseBody: {
+        router: {
+          body: JSON.stringify({}),
+          headers: {
+            ...mocks.resources.subRequests.pathNotFound.router.headers,
+            status: [403],
+          },
+        },
+      },
+    })
+
+    await expect(
+      drupal.getResourceByPath<DrupalNode>(""/router-error"")
+    ).rejects.toThrow(""Error while fetching resource by path: Unknown error"")
+  })
+
+  test(""throws an error on resource error"", async () => {
     const drupal = new NextDrupal(BASE_URL)
 
     await expect(
@@ -543,18 +612,23 @@ describe(""getResourceByPath()"", () => {
         }
       )
     ).rejects.toThrow(
-      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
+      ""Error while fetching resource by path: 400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
     )
   })
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = spyOnDrupalFetch(drupal)
+    const drupalFetchSpy = spyOnDrupalFetch(drupal, {
+      status: 207,
+      statusText: ""Multi-Status"",
+      responseBody: mocks.resources.subRequests.ok,
+    })
     const getAccessTokenSpy = jest.spyOn(drupal, ""getAccessToken"")
 
     await drupal.getResourceByPath<DrupalNode>(
       ""/recipes/deep-mediterranean-quiche""
     )
+
     expect(drupalFetchSpy).toHaveBeenCalledWith(
       expect.anything(),
       expect.not.objectContaining({
@@ -573,8 +647,9 @@ describe(""getResourceByPath()"", () => {
       logger: mockLogger(),
     })
     const fetchSpy = spyOnFetch({
-      responseBody: { ""resolvedResource#uri{0}"": { body: ""{}"" } },
       status: 207,
+      statusText: ""Multi-Status"",
+      responseBody: { ""resolvedResource#uri{0}"": { body: ""{}"" } },
     })
     const getAccessTokenSpy = jest
       .spyOn(drupal, ""getAccessToken"")
@@ -1012,11 +1087,31 @@ describe(""translatePath()"", () => {
   test(""returns null for path not found"", async () => {
     const drupal = new NextDrupal(BASE_URL)
 
-    const path = await drupal.translatePath(""/path-not-found"")
+    spyOnFetch({
+      status: 404,
+      statusText: ""Not found"",
+      responseBody: mocks.resources.translatePath.notFound,
+    })
+
+    const path = await drupal.translatePath(""/path-does-not-exist"")
 
     expect(path).toBeNull()
   })
 
+  test(""throws an error on server error"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    spyOnFetch({
+      status: 500,
+      statusText: ""Internal server error"",
+      responseBody: ""500 Internal server error"",
+    })
+
+    await expect(drupal.translatePath(""/server-error"")).rejects.toThrowError(
+      ""Internal server error""
+    )
+  })
+
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
     const drupalFetchSpy = spyOnDrupalFetch(drupal)

---FILE: packages/next-drupal/tests/NextDrupalBase/basic-methods.test.ts---
@@ -274,6 +274,18 @@ describe(""getErrorsFromResponse()"", () => {
     expect(await drupal.getErrorsFromResponse(response)).toBe(message)
   })
 
+  test(""returns the response status text if the application/json errors cannot be found"", async () => {
+    const response = new Response(JSON.stringify({}), {
+      status: 403,
+      statusText: ""Forbidden"",
+      headers: {
+        ""content-type"": ""application/json"",
+      },
+    })
+
+    expect(await drupal.getErrorsFromResponse(response)).toBe(""Forbidden"")
+  })
+
   test(""returns application/vnd.api+json errors"", async () => {
     const payload = {
       errors: [
@@ -317,7 +329,7 @@ describe(""getErrorsFromResponse()"", () => {
   })
 
   test(""returns the response status text if no errors can be found"", async () => {
-    const response = new Response(JSON.stringify({}), {
+    const response = new Response(""403 Forbidden"", {
       status: 403,
       statusText: ""Forbidden"",
     })

---FILE: packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts---
@@ -891,7 +891,10 @@ describe(""getResourceFromContext()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupalPages(BASE_URL)
-    const drupalFetchSpy = spyOnDrupalFetch(drupal)
+    const drupalFetchSpy = spyOnDrupalFetch(drupal, {
+      responseBody: mocks.resources.subRequests.ok,
+      status: 207,
+    })
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],

---FILE: packages/next-drupal/tests/utils/mocks/data.ts---
@@ -461,25 +461,32 @@ const resources = {
     },
   },
   translatePath: {
-    jsonapi: {
-      basePath: ""/en/jsonapi"",
-      entryPoint: ""https://example.com/en/jsonapi"",
-      individual:
-        ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-      resourceName: ""node--recipe"",
+    ok: {
+      jsonapi: {
+        basePath: ""/en/jsonapi"",
+        entryPoint: ""https://example.com/en/jsonapi"",
+        individual:
+          ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        resourceName: ""node--recipe"",
+      },
+      entity: {
+        bundle: ""recipe"",
+        canonical: ""https://example.com/en/recipes/deep-mediterranean-quiche"",
+        id: ""1"",
+        langcode: ""en"",
+        path: ""/en/recipes/deep-mediterranean-quiche"",
+        type: ""node"",
+        uuid: ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      },
+      isHomePath: false,
+      label: ""Deep mediterranean quiche - edited"",
+      resolved: ""https://example.com/en/recipes/deep-mediterranean-quiche"",
     },
-    entity: {
-      bundle: ""recipe"",
-      canonical: ""https://example.com/en/recipes/deep-mediterranean-quiche"",
-      id: ""1"",
-      langcode: ""en"",
-      path: ""/en/recipes/deep-mediterranean-quiche"",
-      type: ""node"",
-      uuid: ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    notFound: {
+      message: ""Unable to resolve path /path-does-not-exist."",
+      details:
+        ""None of the available methods were able to find a match for this path."",
     },
-    isHomePath: false,
-    label: ""Deep mediterranean quiche - edited"",
-    resolved: ""https://example.com/en/recipes/deep-mediterranean-quiche"",
   },
   subRequests: {
     ok: {
@@ -532,11 +539,7 @@ const resources = {
     },
     pathNotFound: {
       router: {
-        body: JSON.stringify({
-          message: ""Unable to resolve path /path-does-not-exist."",
-          details:
-            ""None of the available methods were able to find a match for this path."",
-        }),
+        body: ""SEE REPLACEMENT BELOW"",
         headers: {
           ""cache-control"": [""no-cache, private""],
           ""content-id"": [""<router>""],
@@ -550,15 +553,20 @@ const resources = {
   },
 }
 // JSON-encode the subrequest body fields.
-resources.subRequests.ok.router.body = JSON.stringify(resources.translatePath)
+resources.subRequests.ok.router.body = JSON.stringify(
+  resources.translatePath.ok
+)
 resources.subRequests.ok[""resolvedResource#uri{0}""].body = JSON.stringify(
   resources.node.ok
 )
 resources.subRequests.forbidden.router.body = JSON.stringify(
-  resources.translatePath
+  resources.translatePath.ok
 )
 resources.subRequests.forbidden[""resolvedResource#uri{0}""].body =
   JSON.stringify(resources.node.forbidden)
+resources.subRequests.pathNotFound.router.body = JSON.stringify(
+  resources.translatePath.notFound
+)
 
 const menus = {
   menuItems: {

---FILE: packages/next-drupal/tests/utils/mocks/fetch.ts---
@@ -6,20 +6,23 @@ interface SpyOnFetchParams {
   responseBody?: any
   throwErrorMessage?: string
   status?: number
+  statusText?: string
   headers?: Record<string, string>
 }
 
 export function spyOnFetch({
   responseBody = null,
   throwErrorMessage = null,
   status = 200,
+  statusText = """",
   headers = {},
 }: SpyOnFetchParams = {}) {
   return jest.spyOn(global, ""fetch"").mockImplementation(
     fetchMockImplementation({
       responseBody,
       throwErrorMessage,
       status,
+      statusText,
       headers,
     })
   )
@@ -29,13 +32,15 @@ export function spyOnFetchOnce({
   responseBody = null,
   throwErrorMessage = null,
   status = 200,
+  statusText = """",
   headers = {},
 }: SpyOnFetchParams) {
   return jest.spyOn(global, ""fetch"").mockImplementationOnce(
     fetchMockImplementation({
       responseBody,
       throwErrorMessage,
       status,
+      statusText,
       headers,
     })
   )
@@ -47,6 +52,7 @@ export function spyOnDrupalFetch(
     responseBody = null,
     throwErrorMessage = null,
     status = 200,
+    statusText = """",
     headers = {},
   }: SpyOnFetchParams = {}
 ) {
@@ -55,6 +61,7 @@ export function spyOnDrupalFetch(
       responseBody,
       throwErrorMessage,
       status,
+      statusText,
       headers,
     })
   )
@@ -64,6 +71,7 @@ function fetchMockImplementation({
   responseBody = null,
   throwErrorMessage = null,
   status = 200,
+  statusText = """",
   headers = {},
 }: SpyOnFetchParams) {
   if (throwErrorMessage) {
@@ -72,14 +80,34 @@ function fetchMockImplementation({
     }
   }
 
+  const hasTextResponse = typeof responseBody === ""string""
+
   const mockedHeaders = new Headers(headers)
   if (!mockedHeaders.has(""content-type"")) {
-    mockedHeaders.set(""content-type"", ""application/vnd.api+json"")
+    let contentType: string
+    if (hasTextResponse) {
+      contentType = ""text/plain""
+    } else if (
+      responseBody?.data ||
+      responseBody?.errors ||
+      responseBody?.meta ||
+      responseBody?.jsonapi
+    ) {
+      contentType = ""application/vnd.api+json""
+    } else {
+      contentType = ""application/json""
+    }
+
+    mockedHeaders.set(""Content-type"", contentType)
   }
 
   return async () =>
-    new Response(JSON.stringify(responseBody || {}), {
-      status,
-      headers: mockedHeaders,
-    })
+    new Response(
+      hasTextResponse ? responseBody : JSON.stringify(responseBody || {}),
+      {
+        status,
+        statusText,
+        headers: mockedHeaders,
+      }
+    )
 }",False,False,Environment / Configuration,4
chapter-three,next-drupal,784206b99952e99ad92829b2d90e883f81034fda,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-14T10:26:56Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-18T17:37:30Z,"test(next-drupal): fix ""403 forbidden"" jest failures

Fixes #603",packages/next-drupal/tests/NextDrupal/resource-methods.test.ts;packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts;packages/next-drupal/tests/utils/mocks/data.ts,False,False,False,False,430,25,455,"---FILE: packages/next-drupal/tests/NextDrupal/resource-methods.test.ts---
@@ -330,6 +330,7 @@ describe(""getResource()"", () => {
 
   test(""throws an error if revision access is forbidden"", async () => {
     const drupal = new NextDrupal(BASE_URL)
+    spyOnFetch({ responseBody: mocks.resources.node.forbidden, status: 403 })
 
     await expect(
       drupal.getResource<DrupalNode>(
@@ -501,6 +502,10 @@ describe(""getResourceByPath()"", () => {
 
   test(""throws an error if revision access is forbidden"", async () => {
     const drupal = new NextDrupal(BASE_URL)
+    spyOnFetch({
+      responseBody: mocks.resources.subRequests.forbidden,
+      status: 207,
+    })
 
     await expect(
       drupal.getResourceByPath<DrupalNode>(

---FILE: packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts---
@@ -889,29 +889,6 @@ describe(""getResourceFromContext()"", () => {
     )
   })
 
-  test(""throws an error if revision access is forbidden"", async () => {
-    const drupal = new NextDrupalPages(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      previewData: {
-        resourceVersion: ""id:1"",
-      },
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    await expect(
-      drupal.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
-        params: {
-          ""fields[node--recipe]"": ""title"",
-        },
-      })
-    ).rejects.toThrow(
-      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
-    )
-  })
-
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupalPages(BASE_URL)
     const drupalFetchSpy = spyOnDrupalFetch(drupal)

---FILE: packages/next-drupal/tests/utils/mocks/data.ts---
@@ -235,7 +235,330 @@ const resources = {
       },
     },
   },
+  node: {
+    ok: {
+      jsonapi: {
+        meta: {
+          links: {
+            self: {
+              href: ""http://jsonapi.org/format/1.0/"",
+            },
+          },
+        },
+        version: ""1.0"",
+      },
+      data: {
+        type: ""node--recipe"",
+        id: ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        attributes: {
+          changed: ""2022-03-25T08:02:17+00:00"",
+          content_translation_outdated: false,
+          content_translation_source: ""und"",
+          created: ""2022-03-21T10:52:42+00:00"",
+          default_langcode: true,
+          drupal_internal__nid: 1,
+          drupal_internal__vid: 37,
+          field_cooking_time: 30,
+          field_difficulty: ""medium"",
+          field_ingredients: [
+            ""For the pastry:"",
+            ""280g plain flour"",
+            ""140g butter"",
+            ""Cold water"",
+            ""For the filling:"",
+            ""1 onion"",
+            ""2 garlic cloves"",
+            ""Half a courgette"",
+            ""450ml soya milk"",
+            ""500g grated parmesan"",
+            ""2 eggs"",
+            ""200g sun dried tomatoes"",
+            ""100g feta"",
+          ],
+          field_number_of_servings: 8,
+          field_preparation_time: 40,
+          field_recipe_instruction: {
+            format: ""basic_html"",
+            processed:
+              ""<ol><li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>\n"" +
+              ""<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>\n"" +
+              ""<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>\n"" +
+              ""<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>\n"" +
+              ""<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>\n"" +
+              ""</ol>"",
+            value:
+              ""<ol>\n"" +
+              ""\t<li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>\n"" +
+              ""\t<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>\n"" +
+              ""\t<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>\n"" +
+              ""\t<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>\n"" +
+              ""\t<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>\n"" +
+              ""</ol>"",
+          },
+          field_summary: {
+            format: ""basic_html"",
+            processed:
+              ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>"",
+            value:
+              ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>"",
+          },
+          langcode: ""en"",
+          moderation_state: ""published"",
+          path: {
+            alias: ""/recipes/deep-mediterranean-quiche"",
+            langcode: ""en"",
+            pid: 67,
+          },
+          promote: true,
+          revision_log: null,
+          revision_timestamp: ""2022-03-25T08:02:17+00:00"",
+          revision_translation_affected: true,
+          status: true,
+          sticky: false,
+          title: ""Deep mediterranean quiche - edited"",
+        },
+        relationships: {
+          field_media_image: {
+            data: {
+              id: ""bbfe9d97-2da2-432b-a22c-0396c08e06ca"",
+              meta: {
+                drupal_internal__target_id: 1,
+              },
+              type: ""media--image"",
+            },
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/field_media_image?resourceVersion=id%3A37"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/relationships/field_media_image?resourceVersion=id%3A37"",
+              },
+            },
+          },
+          field_recipe_category: {
+            data: [
+              {
+                id: ""a6c02fe4-67bf-462c-90cb-32281a07efe4"",
+                meta: {
+                  drupal_internal__target_id: 31,
+                },
+                type: ""taxonomy_term--recipe_category"",
+              },
+            ],
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/field_recipe_category?resourceVersion=id%3A37"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/relationships/field_recipe_category?resourceVersion=id%3A37"",
+              },
+            },
+          },
+          field_tags: {
+            data: [
+              {
+                id: ""46258827-cfad-4813-99dc-287c4cb41117"",
+                meta: {
+                  drupal_internal__target_id: 22,
+                },
+                type: ""taxonomy_term--tags"",
+              },
+              {
+                id: ""f32a4d84-0568-4bfd-8be3-8217d36efb6d"",
+                meta: {
+                  drupal_internal__target_id: 13,
+                },
+                type: ""taxonomy_term--tags"",
+              },
+            ],
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/field_tags?resourceVersion=id%3A37"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/relationships/field_tags?resourceVersion=id%3A37"",
+              },
+            },
+          },
+          node_type: {
+            data: {
+              id: ""9b70a287-cade-454f-be8b-dea7b9a37c7a"",
+              meta: {
+                drupal_internal__target_id: ""recipe"",
+              },
+              type: ""node_type--node_type"",
+            },
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/node_type?resourceVersion=id%3A37"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/relationships/node_type?resourceVersion=id%3A37"",
+              },
+            },
+          },
+          revision_uid: {
+            data: {
+              id: ""365cc7b5-ddc4-4b3b-939e-1494400aab4a"",
+              meta: {
+                drupal_internal__target_id: 1,
+              },
+              type: ""user--user"",
+            },
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/revision_uid?resourceVersion=id%3A37"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/relationships/revision_uid?resourceVersion=id%3A37"",
+              },
+            },
+          },
+          uid: {
+            data: {
+              id: ""9e4944e8-dd77-407a-8610-83e823b48b56"",
+              meta: {
+                drupal_internal__target_id: 4,
+              },
+              type: ""user--user"",
+            },
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/uid?resourceVersion=id%3A37"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f/relationships/uid?resourceVersion=id%3A37"",
+              },
+            },
+          },
+        },
+        links: {
+          self: {
+            href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+          },
+        },
+      },
+      links: {
+        self: {
+          href: ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        },
+      },
+    },
+    forbidden: {
+      jsonapi: {
+        version: ""1.0"",
+        meta: { links: { self: { href: ""http://jsonapi.org/format/1.0/"" } } },
+      },
+      errors: [
+        {
+          title: ""Forbidden"",
+          status: ""403"",
+          detail:
+            ""The current user is not allowed to GET the selected resource. The user does not have access to the requested version."",
+          source: { pointer: ""/data"" },
+        },
+      ],
+    },
+  },
+  translatePath: {
+    jsonapi: {
+      basePath: ""/en/jsonapi"",
+      entryPoint: ""https://example.com/en/jsonapi"",
+      individual:
+        ""https://example.com/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      resourceName: ""node--recipe"",
+    },
+    entity: {
+      bundle: ""recipe"",
+      canonical: ""https://example.com/en/recipes/deep-mediterranean-quiche"",
+      id: ""1"",
+      langcode: ""en"",
+      path: ""/en/recipes/deep-mediterranean-quiche"",
+      type: ""node"",
+      uuid: ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    },
+    isHomePath: false,
+    label: ""Deep mediterranean quiche - edited"",
+    resolved: ""https://example.com/en/recipes/deep-mediterranean-quiche"",
+  },
+  subRequests: {
+    ok: {
+      router: {
+        body: ""SEE REPLACEMENT BELOW"",
+        headers: {
+          ""cache-control"": [""no-cache, private""],
+          ""content-id"": [""<router>""],
+          ""content-type"": [""application/json""],
+          date: [""Fri, 12 Apr 2024 16:44:53 GMT""],
+          status: [200],
+          ""x-drupal-dynamic-cache"": [""HIT""],
+        },
+      },
+      ""resolvedResource#uri{0}"": {
+        body: ""SEE REPLACEMENT BELOW"",
+        headers: {
+          ""cache-control"": [""no-cache, private""],
+          ""content-id"": [""<resolvedResource#uri{0}>""],
+          ""content-type"": [""application/vnd.api+json""],
+          date: [""Fri, 12 Apr 2024 16:44:54 GMT""],
+          status: [200],
+          ""x-drupal-dynamic-cache"": [""HIT""],
+        },
+      },
+    },
+    forbidden: {
+      router: {
+        body: ""SEE REPLACEMENT BELOW"",
+        headers: {
+          ""cache-control"": [""no-cache, private""],
+          ""content-id"": [""<router>""],
+          ""content-type"": [""application/json""],
+          date: [""Fri, 12 Apr 2024 16:44:53 GMT""],
+          status: [200],
+          ""x-drupal-dynamic-cache"": [""HIT""],
+        },
+      },
+      ""resolvedResource#uri{0}"": {
+        body: ""SEE REPLACEMENT BELOW"",
+        headers: {
+          ""cache-control"": [""no-cache, private""],
+          ""content-id"": [""<resolvedResource#uri{0}>""],
+          ""content-type"": [""application/vnd.api+json""],
+          date: [""Fri, 12 Apr 2024 16:44:54 GMT""],
+          status: [403],
+          ""x-drupal-dynamic-cache"": [""MISS""],
+        },
+      },
+    },
+    pathNotFound: {
+      router: {
+        body: JSON.stringify({
+          message: ""Unable to resolve path /path-does-not-exist."",
+          details:
+            ""None of the available methods were able to find a match for this path."",
+        }),
+        headers: {
+          ""cache-control"": [""no-cache, private""],
+          ""content-id"": [""<router>""],
+          ""content-type"": [""application/json""],
+          date: [""Fri, 12 Apr 2024 16:44:54 GMT""],
+          status: [404],
+          ""x-drupal-dynamic-cache"": [""MISS""],
+        },
+      },
+    },
+  },
 }
+// JSON-encode the subrequest body fields.
+resources.subRequests.ok.router.body = JSON.stringify(resources.translatePath)
+resources.subRequests.ok[""resolvedResource#uri{0}""].body = JSON.stringify(
+  resources.node.ok
+)
+resources.subRequests.forbidden.router.body = JSON.stringify(
+  resources.translatePath
+)
+resources.subRequests.forbidden[""resolvedResource#uri{0}""].body =
+  JSON.stringify(resources.node.forbidden)
 
 const menus = {
   menuItems: {
@@ -319,10 +642,110 @@ const menus = {
           weight: ""30"",
         },
       },
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""menu_link_content:c116329b-dd21-445d-ab44-9f89f940339c"",
+        attributes: {
+          description: null,
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: {
+            entity_id: ""1"",
+          },
+          options: [],
+          parent: """",
+          provider: ""menu_link_content"",
+          route: {
+            name: ""entity.node.canonical"",
+            parameters: {
+              node: ""1"",
+            },
+          },
+          title: ""About"",
+          url: ""/en/about"",
+          weight: 40,
+        },
+      },
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""menu_link_content:87d2132d-a55c-4743-aebc-87c050c58ba3"",
+        attributes: {
+          description: null,
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: {
+            entity_id: ""3"",
+          },
+          options: [],
+          parent: ""menu_link_content:c116329b-dd21-445d-ab44-9f89f940339c"",
+          provider: ""menu_link_content"",
+          route: {
+            name: ""entity.node.canonical"",
+            parameters: {
+              node: ""2"",
+            },
+          },
+          title: ""Locations"",
+          url: ""/en/about/locations"",
+          weight: -10,
+        },
+      },
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""menu_link_content:7b1de73b-2497-4634-854c-6ef6142b790b"",
+        attributes: {
+          description: null,
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: {
+            entity_id: ""2"",
+          },
+          options: [],
+          parent: ""menu_link_content:c116329b-dd21-445d-ab44-9f89f940339c"",
+          provider: ""menu_link_content"",
+          route: {
+            name: ""entity.node.canonical"",
+            parameters: {
+              node: ""3"",
+            },
+          },
+          title: ""Team"",
+          url: ""/en/about/team"",
+          weight: 0,
+        },
+      },
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""menu_link_content:80b574f3-5271-4769-93c5-8ae406864b0c"",
+        attributes: {
+          description: null,
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: {
+            entity_id: ""4"",
+          },
+          options: [],
+          parent: ""menu_link_content:7b1de73b-2497-4634-854c-6ef6142b790b"",
+          provider: ""menu_link_content"",
+          route: {
+            name: ""entity.node.canonical"",
+            parameters: {
+              node: ""4"",
+            },
+          },
+          title: ""Management"",
+          url: ""/en/about/team/management"",
+          weight: 0,
+        },
+      },
     ],
     links: {
       self: {
-        href: ""https://next-drupal-test.ddev.site/jsonapi/menu_items/main"",
+        href: ""https://example.com/jsonapi/menu_items/main"",
       },
     },
   },
@@ -345,7 +768,7 @@ const menus = {
           'The ""menu"" parameter was not converted for the path ""/jsonapi/menu_items/{menu}"" (route name: ""jsonapi_menu_items.menu"")',
         links: {
           via: {
-            href: ""https://next-drupal-test.ddev.site/jsonapi/menu_items/INVALID"",
+            href: ""https://example.com/jsonapi/menu_items/INVALID"",
           },
           info: {
             href: ""http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5"",",False,False,Documentation / Formatting,3
chapter-three,next-drupal,52a3c73d210b7aebaf501437305d9dabafade90d,JohnAlbin,virtually.johnalbin@gmail.com,2024-03-08T09:58:16Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-18T17:37:30Z,"feat(examples): update example-router-migration with getResourceCollectionPathSegments()

Issue #665",examples/example-router-migration/README.md;examples/example-router-migration/app/[...slug]/page.tsx;examples/example-router-migration/lib/drupal.ts,False,False,False,False,37,9,46,"---FILE: examples/example-router-migration/README.md---
@@ -37,6 +37,7 @@ Over time, you will be moving all the files from `/pages` to `/app`. However, th
 2. Delete the last files in your `/pages` directory:
    - `/pages/api/exit-preview.ts`
    - `/pages/api/preview.ts`
+3. Update your `lib/drupal.ts` file and switch from the `DrupalClient` class (with dual Pages/App Router support) to the new, leaner `NextDrupal` class (with only App Router support).
 
 ## License
 

---FILE: examples/example-router-migration/app/[...slug]/page.tsx---
@@ -76,15 +76,29 @@ export async function generateMetadata(
 const RESOURCE_TYPES = [""node--page"", ""node--article""]
 
 export async function generateStaticParams(): Promise<NodePageParams[]> {
-  // TODO: Replace getStaticPathsFromContext() usage since there is no context.
-  const paths = await drupal.getStaticPathsFromContext(RESOURCE_TYPES, {})
-  // console.log(
-  //   ""generateStaticParams"",
-  //   paths.map(({ params }) => params)
-  // )
-  return paths.map((path: string | { params: NodePageParams }) =>
-    typeof path === ""string"" ? { slug: [] } : path?.params
+  const resources = await drupal.getResourceCollectionPathSegments(
+    RESOURCE_TYPES,
+    {
+      // The pathPrefix will be removed from the returned path segments array.
+      // pathPrefix: ""/blog"",
+      // The list of locales to return.
+      // locales: [""en"", ""es""],
+      // The default locale.
+      // defaultLocale: ""en"",
+    }
   )
+
+  return resources.map((resource) => {
+    // resources is an array containing objects like: {
+    //   path: ""/blog/some-category/a-blog-post"",
+    //   type: ""node--article"",
+    //   locale: ""en"", // or `undefined` if no `locales` requested.
+    //   segments: [""blog"", ""some-category"", ""a-blog-post""],
+    // }
+    return {
+      slug: resource.segments,
+    }
+  })
 }
 
 export default async function NodePage({

---FILE: examples/example-router-migration/lib/drupal.ts---
@@ -1,4 +1,7 @@
-import { DrupalClient } from ""next-drupal""
+import {
+  DrupalClient,
+  // NextDrupal
+} from ""next-drupal""
 
 const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
 const clientId = process.env.DRUPAL_CLIENT_ID || """"
@@ -11,3 +14,13 @@ export const drupal = new DrupalClient(baseUrl, {
   },
   debug: true,
 })
+
+// TODO: Once you have migrated fully to App Router, switch to the leaner
+//  NextDrupal class (which contains none of the Pages Router-specific methods.)
+// export const drupal = new NextDrupal(baseUrl, {
+//   auth: {
+//     clientId,
+//     clientSecret,
+//   },
+//   debug: true,
+// })",False,False,Documentation / Formatting,6
chapter-three,next-drupal,d097337f111937016956a93ccf1f9f29823a0933,JohnAlbin,virtually.johnalbin@gmail.com,2024-03-08T07:44:19Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-18T17:37:30Z,"feat(next-drupal): add new method to support App Router's generateStaticParams()

The App Router's new generateStaticParams() replaces Pages Router's
getStaticProps(). The new getResourceCollectionPathSegments() method supports
generateStaticParams() by returning a list of path segments. This new method
replaces the old getStaticPathsFromContext() method.

Fixes #665",packages/next-drupal/src/next-drupal.ts;packages/next-drupal/tests/NextDrupal/__snapshots__/resource-methods.test.ts.snap;packages/next-drupal/tests/NextDrupal/resource-methods.test.ts;packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts;packages/next-drupal/tests/utils/mocks/fetch.ts,False,False,False,False,828,15,843,"---FILE: packages/next-drupal/src/next-drupal.ts---
@@ -12,14 +12,17 @@ import type {
   JsonApiCreateFileResourceBody,
   JsonApiCreateResourceBody,
   JsonApiOptions,
+  JsonApiParams,
   JsonApiResource,
+  JsonApiResourceWithPath,
   JsonApiResponse,
   JsonApiUpdateResourceBody,
   JsonApiWithAuthOption,
   JsonApiWithCacheOptions,
   JsonDeserializer,
   Locale,
   NextDrupalOptions,
+  PathPrefix,
 } from ""./types""
 
 const DEFAULT_API_PREFIX = ""/jsonapi""
@@ -426,6 +429,112 @@ export class NextDrupal extends NextDrupalBase {
     return options.deserialize ? this.deserialize(json) : json
   }
 
+  async getResourceCollectionPathSegments(
+    types: string | string[],
+    options?: {
+      pathPrefix?: PathPrefix
+      params?: JsonApiParams
+    } & JsonApiWithAuthOption &
+      (
+        | {
+            locales: Locale[]
+            defaultLocale: Locale
+          }
+        | {
+            locales?: undefined
+            defaultLocale?: never
+          }
+      )
+  ): Promise<
+    {
+      path: string
+      type: string
+      locale: Locale
+      segments: string[]
+    }[]
+  > {
+    options = {
+      withAuth: this.withAuth,
+      pathPrefix: """",
+      params: {},
+      ...options,
+    }
+
+    if (typeof types === ""string"") {
+      types = [types]
+    }
+
+    const paths = await Promise.all(
+      types.map(async (type) => {
+        // Use sparse fieldset to expand max size.
+        // Note we don't need status filter here since this runs non-authenticated (by default).
+        const params = {
+          [`fields[${type}]`]: ""path"",
+          ...options?.params,
+        }
+
+        const locales = options?.locales?.length ? options.locales : [undefined]
+
+        return Promise.all(
+          locales.map(async (locale) => {
+            let opts: Parameters<NextDrupal[""getResourceCollection""]>[1] = {
+              params,
+              withAuth: options.withAuth,
+            }
+            if (locale) {
+              opts = {
+                ...opts,
+                deserialize: true,
+                locale,
+                defaultLocale: options.defaultLocale,
+              }
+            }
+            const resources = await this.getResourceCollection<
+              JsonApiResourceWithPath[]
+            >(type, opts)
+
+            return (
+              resources
+                .map((resource) => {
+                  return resource?.path?.alias === this.frontPage
+                    ? /* c8 ignore next */ ""/""
+                    : resource?.path?.alias
+                })
+                // Remove results with no path aliases.
+                .filter(Boolean)
+                .map((path) => {
+                  let segmentPath = path
+
+                  // Trim the pathPrefix off the front of the path.
+                  if (
+                    options.pathPrefix &&
+                    (segmentPath.startsWith(
+                      `${options.pathPrefix}/`
+                    ) /* c8 ignore next */ ||
+                      segmentPath === options.pathPrefix)
+                  ) {
+                    segmentPath = segmentPath.slice(options.pathPrefix.length)
+                  }
+
+                  // Convert the trimmed path into an array of path segments.
+                  const segments = segmentPath.split(""/"").filter(Boolean)
+
+                  return {
+                    path,
+                    type,
+                    locale,
+                    segments,
+                  }
+                })
+            )
+          })
+        )
+      })
+    )
+
+    return paths.flat(2)
+  }
+
   async translatePath(
     path: string,
     options?: JsonApiWithAuthOption

---FILE: packages/next-drupal/tests/NextDrupal/__snapshots__/resource-methods.test.ts.snap---
@@ -1696,6 +1696,559 @@ exports[`getResourceCollection() fetches raw data 1`] = `
 }
 `;
 
+exports[`getResourceCollectionPathSegments() returns path segments 1`] = `
+[
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
+    ""segments"": [
+      ""articles"",
+      ""give-it-a-go-and-grow-your-own-herbs"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/dairy-free-and-delicious-milk-chocolate"",
+    ""segments"": [
+      ""articles"",
+      ""dairy-free-and-delicious-milk-chocolate"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/the-real-deal-for-supermarket-savvy-shopping"",
+    ""segments"": [
+      ""articles"",
+      ""the-real-deal-for-supermarket-savvy-shopping"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/the-umami-guide-to-our-favourite-mushrooms"",
+    ""segments"": [
+      ""articles"",
+      ""the-umami-guide-to-our-favourite-mushrooms"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/lets-hear-it-for-carrots"",
+    ""segments"": [
+      ""articles"",
+      ""lets-hear-it-for-carrots"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/baking-mishaps-our-troubleshooting-tips"",
+    ""segments"": [
+      ""articles"",
+      ""baking-mishaps-our-troubleshooting-tips"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/skip-the-spirits-with-delicious-mocktails"",
+    ""segments"": [
+      ""articles"",
+      ""skip-the-spirits-with-delicious-mocktails"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/give-your-oatmeal-the-ultimate-makeover"",
+    ""segments"": [
+      ""articles"",
+      ""give-your-oatmeal-the-ultimate-makeover"",
+    ],
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionPathSegments() returns path segments for multiple resource types 1`] = `
+[
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
+    ""segments"": [
+      ""articles"",
+      ""give-it-a-go-and-grow-your-own-herbs"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/dairy-free-and-delicious-milk-chocolate"",
+    ""segments"": [
+      ""articles"",
+      ""dairy-free-and-delicious-milk-chocolate"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/the-real-deal-for-supermarket-savvy-shopping"",
+    ""segments"": [
+      ""articles"",
+      ""the-real-deal-for-supermarket-savvy-shopping"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/the-umami-guide-to-our-favourite-mushrooms"",
+    ""segments"": [
+      ""articles"",
+      ""the-umami-guide-to-our-favourite-mushrooms"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/lets-hear-it-for-carrots"",
+    ""segments"": [
+      ""articles"",
+      ""lets-hear-it-for-carrots"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/baking-mishaps-our-troubleshooting-tips"",
+    ""segments"": [
+      ""articles"",
+      ""baking-mishaps-our-troubleshooting-tips"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/skip-the-spirits-with-delicious-mocktails"",
+    ""segments"": [
+      ""articles"",
+      ""skip-the-spirits-with-delicious-mocktails"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/give-your-oatmeal-the-ultimate-makeover"",
+    ""segments"": [
+      ""articles"",
+      ""give-your-oatmeal-the-ultimate-makeover"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/prueba-y-cultiva-tus-propias-hierbas"",
+    ""segments"": [
+      ""articles"",
+      ""prueba-y-cultiva-tus-propias-hierbas"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/delicioso-chocolate-sin-lactosa"",
+    ""segments"": [
+      ""articles"",
+      ""delicioso-chocolate-sin-lactosa"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+    ""segments"": [
+      ""articles"",
+      ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/guia-umami-de-nuestras-setas-preferidas"",
+    ""segments"": [
+      ""articles"",
+      ""guia-umami-de-nuestras-setas-preferidas"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/un-aplauso-para-las-zanahorias"",
+    ""segments"": [
+      ""articles"",
+      ""un-aplauso-para-las-zanahorias"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+    ""segments"": [
+      ""articles"",
+      ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+    ""segments"": [
+      ""articles"",
+      ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+    ""segments"": [
+      ""articles"",
+      ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/about-umami"",
+    ""segments"": [
+      ""about-umami"",
+    ],
+    ""type"": ""node--page"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/path&with^punc&in$path"",
+    ""segments"": [
+      ""path&with^punc&in$path"",
+    ],
+    ""type"": ""node--page"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/acerca-de-umami"",
+    ""segments"": [
+      ""acerca-de-umami"",
+    ],
+    ""type"": ""node--page"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/path&with^punc&in$path"",
+    ""segments"": [
+      ""path&with^punc&in$path"",
+    ],
+    ""type"": ""node--page"",
+  },
+]
+`;
+
+exports[`getResourceCollectionPathSegments() returns path segments with locales 1`] = `
+[
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
+    ""segments"": [
+      ""articles"",
+      ""give-it-a-go-and-grow-your-own-herbs"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/dairy-free-and-delicious-milk-chocolate"",
+    ""segments"": [
+      ""articles"",
+      ""dairy-free-and-delicious-milk-chocolate"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/the-real-deal-for-supermarket-savvy-shopping"",
+    ""segments"": [
+      ""articles"",
+      ""the-real-deal-for-supermarket-savvy-shopping"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/the-umami-guide-to-our-favourite-mushrooms"",
+    ""segments"": [
+      ""articles"",
+      ""the-umami-guide-to-our-favourite-mushrooms"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/lets-hear-it-for-carrots"",
+    ""segments"": [
+      ""articles"",
+      ""lets-hear-it-for-carrots"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/baking-mishaps-our-troubleshooting-tips"",
+    ""segments"": [
+      ""articles"",
+      ""baking-mishaps-our-troubleshooting-tips"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/skip-the-spirits-with-delicious-mocktails"",
+    ""segments"": [
+      ""articles"",
+      ""skip-the-spirits-with-delicious-mocktails"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""en"",
+    ""path"": ""/articles/give-your-oatmeal-the-ultimate-makeover"",
+    ""segments"": [
+      ""articles"",
+      ""give-your-oatmeal-the-ultimate-makeover"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/prueba-y-cultiva-tus-propias-hierbas"",
+    ""segments"": [
+      ""articles"",
+      ""prueba-y-cultiva-tus-propias-hierbas"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/delicioso-chocolate-sin-lactosa"",
+    ""segments"": [
+      ""articles"",
+      ""delicioso-chocolate-sin-lactosa"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+    ""segments"": [
+      ""articles"",
+      ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/guia-umami-de-nuestras-setas-preferidas"",
+    ""segments"": [
+      ""articles"",
+      ""guia-umami-de-nuestras-setas-preferidas"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/un-aplauso-para-las-zanahorias"",
+    ""segments"": [
+      ""articles"",
+      ""un-aplauso-para-las-zanahorias"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+    ""segments"": [
+      ""articles"",
+      ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+    ""segments"": [
+      ""articles"",
+      ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": ""es"",
+    ""path"": ""/articles/dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+    ""segments"": [
+      ""articles"",
+      ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+    ],
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionPathSegments() returns path segments with params 1`] = `
+[
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
+    ""segments"": [
+      ""articles"",
+      ""give-it-a-go-and-grow-your-own-herbs"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/dairy-free-and-delicious-milk-chocolate"",
+    ""segments"": [
+      ""articles"",
+      ""dairy-free-and-delicious-milk-chocolate"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/the-real-deal-for-supermarket-savvy-shopping"",
+    ""segments"": [
+      ""articles"",
+      ""the-real-deal-for-supermarket-savvy-shopping"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/the-umami-guide-to-our-favourite-mushrooms"",
+    ""segments"": [
+      ""articles"",
+      ""the-umami-guide-to-our-favourite-mushrooms"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/lets-hear-it-for-carrots"",
+    ""segments"": [
+      ""articles"",
+      ""lets-hear-it-for-carrots"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/baking-mishaps-our-troubleshooting-tips"",
+    ""segments"": [
+      ""articles"",
+      ""baking-mishaps-our-troubleshooting-tips"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/skip-the-spirits-with-delicious-mocktails"",
+    ""segments"": [
+      ""articles"",
+      ""skip-the-spirits-with-delicious-mocktails"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/give-your-oatmeal-the-ultimate-makeover"",
+    ""segments"": [
+      ""articles"",
+      ""give-your-oatmeal-the-ultimate-makeover"",
+    ],
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionPathSegments() returns path segments with pathPrefix removed 1`] = `
+[
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
+    ""segments"": [
+      ""give-it-a-go-and-grow-your-own-herbs"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/dairy-free-and-delicious-milk-chocolate"",
+    ""segments"": [
+      ""dairy-free-and-delicious-milk-chocolate"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/the-real-deal-for-supermarket-savvy-shopping"",
+    ""segments"": [
+      ""the-real-deal-for-supermarket-savvy-shopping"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/the-umami-guide-to-our-favourite-mushrooms"",
+    ""segments"": [
+      ""the-umami-guide-to-our-favourite-mushrooms"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/lets-hear-it-for-carrots"",
+    ""segments"": [
+      ""lets-hear-it-for-carrots"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/baking-mishaps-our-troubleshooting-tips"",
+    ""segments"": [
+      ""baking-mishaps-our-troubleshooting-tips"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/skip-the-spirits-with-delicious-mocktails"",
+    ""segments"": [
+      ""skip-the-spirits-with-delicious-mocktails"",
+    ],
+    ""type"": ""node--article"",
+  },
+  {
+    ""locale"": undefined,
+    ""path"": ""/articles/give-your-oatmeal-the-ultimate-makeover"",
+    ""segments"": [
+      ""give-your-oatmeal-the-ultimate-makeover"",
+    ],
+    ""type"": ""node--article"",
+  },
+]
+`;
+
 exports[`getSearchIndex() fetches a search index 1`] = `
 [
   {

---FILE: packages/next-drupal/tests/NextDrupal/resource-methods.test.ts---
@@ -1,6 +1,12 @@
 import { afterEach, describe, expect, jest, test } from ""@jest/globals""
 import { NextDrupal } from ""../../src""
-import { BASE_URL, mockLogger, mocks, spyOnFetch } from ""../utils""
+import {
+  BASE_URL,
+  mockLogger,
+  mocks,
+  spyOnDrupalFetch,
+  spyOnFetch,
+} from ""../utils""
 import type { DrupalNode, DrupalSearchApiJsonApiResponse } from ""../../src""
 
 jest.setTimeout(10000)
@@ -196,7 +202,7 @@ describe(""getMenu()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.getMenu(""main"")
 
@@ -372,7 +378,7 @@ describe(""getResource()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.getResource(
       ""node--recipe"",
@@ -538,7 +544,7 @@ describe(""getResourceByPath()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
     const getAccessTokenSpy = jest.spyOn(drupal, ""getAccessToken"")
 
     await drupal.getResourceByPath<DrupalNode>(
@@ -659,7 +665,7 @@ describe(""getResourceCollection()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.getResourceCollection(""node--recipe"")
     expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
@@ -683,6 +689,125 @@ describe(""getResourceCollection()"", () => {
   })
 })
 
+describe(""getResourceCollectionPathSegments()"", () => {
+  test(""returns path segments"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    const paths =
+      await drupal.getResourceCollectionPathSegments(""node--article"")
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns path segments with locales"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    const paths = await drupal.getResourceCollectionPathSegments(
+      ""node--article"",
+      {
+        locales: [""en"", ""es""],
+        defaultLocale: ""en"",
+      }
+    )
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns path segments for multiple resource types"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    const paths = await drupal.getResourceCollectionPathSegments(
+      [""node--article"", ""node--page""],
+      {
+        locales: [""en"", ""es""],
+        defaultLocale: ""en"",
+      }
+    )
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns path segments with params"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    const paths = await drupal.getResourceCollectionPathSegments(
+      [""node--article"", ""node--page""],
+      {
+        params: {
+          ""filter[promote]"": 1,
+        },
+      }
+    )
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns path segments with pathPrefix removed"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+
+    const paths = await drupal.getResourceCollectionPathSegments(
+      ""node--article"",
+      {
+        pathPrefix: ""/articles"",
+      }
+    )
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""uses constructor-provided withAuth by default"", async () => {
+    let drupal = new NextDrupal(BASE_URL)
+    let drupalFetchSpy = spyOnDrupalFetch(drupal, {
+      responseBody: { data: [] },
+    })
+
+    await drupal.getResourceCollectionPathSegments(""node--article"", {
+      locales: [""en"", ""es""],
+      defaultLocale: ""en"",
+    })
+
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+
+    drupal = new NextDrupal(BASE_URL, {
+      withAuth: true,
+    })
+    drupalFetchSpy = spyOnDrupalFetch(drupal, {
+      responseBody: { data: [] },
+    })
+
+    await drupal.getResourceCollectionPathSegments(""node--article"", {
+      locales: [""en"", ""es""],
+      defaultLocale: ""en"",
+    })
+
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: true,
+    })
+  })
+
+  test(""makes authenticated requests using withAuth option"", async () => {
+    const mockAuth = ""Bearer sample-token""
+    const drupal = new NextDrupal(BASE_URL, {
+      auth: mockAuth,
+    })
+    const fetchSpy = spyOnFetch({
+      responseBody: { data: [] },
+    })
+
+    await drupal.getResourceCollectionPathSegments(""node--article"", {
+      locales: [""en"", ""es""],
+      defaultLocale: ""en"",
+      withAuth: true,
+    })
+
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(mockAuth)
+  })
+})
+
 describe(""getSearchIndex()"", () => {
   test(""fetches a search index"", async () => {
     const drupal = new NextDrupal(BASE_URL)
@@ -744,7 +869,7 @@ describe(""getSearchIndex()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.getSearchIndex(""recipes"")
 
@@ -835,7 +960,7 @@ describe(""getView()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.getView(""featured_articles--page_1"")
     expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
@@ -889,7 +1014,7 @@ describe(""translatePath()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupal(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.translatePath(""recipes/deep-mediterranean-quiche"")
 

---FILE: packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts---
@@ -1,7 +1,13 @@
 import { afterEach, describe, expect, jest, test } from ""@jest/globals""
 import { GetStaticPropsContext, NextApiRequest, NextApiResponse } from ""next""
 import { DRAFT_DATA_COOKIE_NAME, NextDrupalPages } from ""../../src""
-import { BASE_URL, mockLogger, mocks, spyOnFetch } from ""../utils""
+import {
+  BASE_URL,
+  mockLogger,
+  mocks,
+  spyOnDrupalFetch,
+  spyOnFetch,
+} from ""../utils""
 import type {
   DrupalNode,
   JsonApiResourceWithPath,
@@ -710,8 +716,8 @@ describe(""getResourceCollectionFromContext()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const drupal = new NextDrupalPages(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupal = new NextDrupalPages(BASE_URL, { useDefaultEndpoints: true })
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
@@ -908,7 +914,7 @@ describe(""getResourceFromContext()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupalPages(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
@@ -1080,8 +1086,8 @@ describe(""getStaticPathsFromContext()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const drupal = new NextDrupalPages(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupal = new NextDrupalPages(BASE_URL, { useDefaultEndpoints: true })
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     await drupal.getStaticPathsFromContext(""node--article"", {
       locales: [""en"", ""es""],
@@ -1385,7 +1391,7 @@ describe(""translatePathFromContext()"", () => {
 
   test(""makes un-authenticated requests by default"", async () => {
     const drupal = new NextDrupalPages(BASE_URL)
-    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const drupalFetchSpy = spyOnDrupalFetch(drupal)
 
     const context: GetStaticPropsContext = {
       params: {

---FILE: packages/next-drupal/tests/utils/mocks/fetch.ts---
@@ -1,4 +1,5 @@
 import { jest } from ""@jest/globals""
+import type { NextDrupalBase } from ""../../../src""
 
 interface SpyOnFetchParams {
   // eslint-disable-next-line @typescript-eslint/no-explicit-any
@@ -40,6 +41,25 @@ export function spyOnFetchOnce({
   )
 }
 
+export function spyOnDrupalFetch(
+  drupal: NextDrupalBase,
+  {
+    responseBody = null,
+    throwErrorMessage = null,
+    status = 200,
+    headers = {},
+  }: SpyOnFetchParams = {}
+) {
+  return jest.spyOn(drupal, ""fetch"").mockImplementation(
+    fetchMockImplementation({
+      responseBody,
+      throwErrorMessage,
+      status,
+      headers,
+    })
+  )
+}
+
 function fetchMockImplementation({
   responseBody = null,
   throwErrorMessage = null,",False,False,Environment / Configuration,4
chapter-three,next-drupal,95567048486cef0b6a2229b808b789e28449eafa,JohnAlbin,virtually.johnalbin@gmail.com,2024-03-26T02:52:03Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-18T17:37:30Z,test(next-drupal): replace @ts-ignore with @ts-expect-error,packages/next-drupal/tests/.eslintrc.json;packages/next-drupal/tests/NextDrupal/basic-methods.test.ts;packages/next-drupal/tests/NextDrupal/constructor.test.ts;packages/next-drupal/tests/NextDrupalBase/constructor.test.ts;packages/next-drupal/tests/NextDrupalBase/fetch-methods.test.ts;packages/next-drupal/tests/NextDrupalBase/getters-setters.test.ts;packages/next-drupal/tests/NextDrupalPages/constructor.test.ts;packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts,False,False,False,False,74,25,99,"---FILE: packages/next-drupal/tests/.eslintrc.json---
@@ -4,7 +4,15 @@
     {
       ""files"": [""*.test.ts""],
       ""rules"": {
-        ""@typescript-eslint/ban-ts-comment"": ""off""
+        ""@typescript-eslint/ban-ts-comment"": [
+          ""error"",
+          {
+            ""ts-expect-error"": false,
+            ""ts-ignore"": true,
+            ""ts-nocheck"": true,
+            ""ts-check"": false
+          }
+        ]
       }
     }
   ]

---FILE: packages/next-drupal/tests/NextDrupal/basic-methods.test.ts---
@@ -52,11 +52,13 @@ describe(""deserialize()"", () => {
   test(""allows for custom data serializer"", async () => {
     const deserializer: JsonDeserializer = (
       body: { data: { id: string; attributes: { title: string } } },
-      options: { pathPrefix: string }
+      options: { titlePrefix: string }
     ) => {
       return {
         id: body.data.id,
-        title: `${options.pathPrefix}: ${body.data.attributes.title}`,
+        title:
+          (options.titlePrefix ? `${options.titlePrefix}: ` : """") +
+          body.data.attributes.title,
       }
     }
     const drupal = new NextDrupal(BASE_URL, {
@@ -71,7 +73,7 @@ describe(""deserialize()"", () => {
     expect(response.status).toBe(200)
     const json = await response.json()
     const article = drupal.deserialize(json, {
-      pathPrefix: ""TITLE"",
+      titlePrefix: ""TITLE"",
     }) as DrupalNode
 
     expect(article).toMatchSnapshot()

---FILE: packages/next-drupal/tests/NextDrupal/constructor.test.ts---
@@ -27,6 +27,7 @@ jest.mock(""jsona"", () => {
 })
 
 beforeEach(() => {
+  // @ts-expect-error
   Jsona.mockClear()
 })
 
@@ -108,6 +109,7 @@ describe(""options parameter"", () => {
       expect(Jsona).toBeCalledTimes(1)
 
       const deserializeMock = new Jsona().deserialize
+      // @ts-expect-error
       deserializeMock.mockClear()
       const args: Parameters<JsonDeserializer> = [{}, { options: true }]
       drupal.deserialize(...args)

---FILE: packages/next-drupal/tests/NextDrupalBase/constructor.test.ts---
@@ -21,15 +21,17 @@ describe(""baseUrl parameter"", () => {
   })
 
   test(""throws error given an invalid baseUrl"", () => {
-    // @ts-ignore
-    expect(() => new NextDrupalBase()).toThrow(
-      ""The 'baseUrl' param is required.""
-    )
-
-    // @ts-ignore
-    expect(() => new NextDrupalBase({})).toThrow(
-      ""The 'baseUrl' param is required.""
-    )
+    expect(
+      () =>
+        // @ts-expect-error
+        new NextDrupalBase()
+    ).toThrow(""The 'baseUrl' param is required."")
+
+    expect(
+      () =>
+        // @ts-expect-error
+        new NextDrupalBase({})
+    ).toThrow(""The 'baseUrl' param is required."")
   })
 
   test(""announces debug mode when turned on"", () => {

---FILE: packages/next-drupal/tests/NextDrupalBase/fetch-methods.test.ts---
@@ -233,7 +233,7 @@ describe(""getAccessToken()"", () => {
 
     await expect(
       drupal.getAccessToken(
-        // @ts-ignore
+        // @ts-expect-error
         { clientId: clientIdSecret.clientId }
       )
     ).rejects.toThrow(errorMessage)
@@ -563,7 +563,7 @@ describe(""getAuthorizationHeader()"", () => {
 
     await expect(
       drupal.getAuthorizationHeader(
-        // @ts-ignore
+        // @ts-expect-error
         auth
       )
     ).rejects.toThrow(

---FILE: packages/next-drupal/tests/NextDrupalBase/getters-setters.test.ts---
@@ -34,7 +34,7 @@ describe(""auth"", () => {
     test(""missing username"", () => {
       expect(() => {
         const drupal = new NextDrupalBase(BASE_URL)
-        // @ts-ignore
+        // @ts-expect-error
         drupal.auth = {
           password: ""password"",
         }
@@ -46,7 +46,7 @@ describe(""auth"", () => {
     test(""missing password"", () => {
       expect(() => {
         const drupal = new NextDrupalBase(BASE_URL)
-        // @ts-ignore
+        // @ts-expect-error
         drupal.auth = {
           username: ""admin"",
         }
@@ -60,7 +60,7 @@ describe(""auth"", () => {
     test(""missing access_token"", () => {
       expect(() => {
         const drupal = new NextDrupalBase(BASE_URL)
-        // @ts-ignore
+        // @ts-expect-error
         drupal.auth = {
           token_type: mocks.auth.accessToken.token_type,
         }
@@ -72,7 +72,7 @@ describe(""auth"", () => {
     test(""missing token_type"", () => {
       expect(() => {
         const drupal = new NextDrupalBase(BASE_URL)
-        // @ts-ignore
+        // @ts-expect-error
         drupal.auth = {
           access_token: mocks.auth.accessToken.access_token,
         }
@@ -86,7 +86,7 @@ describe(""auth"", () => {
     test(""missing clientId"", () => {
       expect(() => {
         const drupal = new NextDrupalBase(BASE_URL)
-        // @ts-ignore
+        // @ts-expect-error
         drupal.auth = {
           clientSecret: mocks.auth.clientIdSecret.clientSecret,
         }
@@ -98,7 +98,7 @@ describe(""auth"", () => {
     test(""missing clientSecret"", () => {
       expect(() => {
         const drupal = new NextDrupalBase(BASE_URL)
-        // @ts-ignore
+        // @ts-expect-error
         drupal.auth = {
           clientId: mocks.auth.clientIdSecret.clientId,
         }
@@ -258,7 +258,13 @@ describe(""token"", () => {
     const after = getExpiresOn(accessToken)
 
     expect(drupal.token).toBe(accessToken)
-    expect(drupal._tokenExpiresOn).toBeGreaterThanOrEqual(before)
-    expect(drupal._tokenExpiresOn).toBeLessThanOrEqual(after)
+    expect(
+      // @ts-expect-error
+      drupal._tokenExpiresOn
+    ).toBeGreaterThanOrEqual(before)
+    expect(
+      // @ts-expect-error
+      drupal._tokenExpiresOn
+    ).toBeLessThanOrEqual(after)
   })
 })

---FILE: packages/next-drupal/tests/NextDrupalPages/constructor.test.ts---
@@ -19,7 +19,10 @@ describe(""options parameter"", () => {
   describe(""serializer"", () => {
     test(""defaults to `new Jsona()`"", () => {
       const drupal = new NextDrupalPages(BASE_URL)
-      expect(drupal.serializer).toBeInstanceOf(Jsona)
+      expect(
+        // @ts-expect-error
+        drupal.serializer
+      ).toBeInstanceOf(Jsona)
     })
 
     test(""sets up a custom serializer"", () => {
@@ -37,7 +40,10 @@ describe(""options parameter"", () => {
       const drupal = new NextDrupalPages(BASE_URL, {
         serializer: customSerializer,
       })
-      expect(drupal.serializer).toBe(customSerializer)
+      expect(
+        // @ts-expect-error
+        drupal.serializer
+      ).toBe(customSerializer)
     })
   })
 })

---FILE: packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts---
@@ -1120,6 +1120,7 @@ describe(""preview()"", () => {
   // Get values from our mocked request.
   // eslint-disable-next-line @typescript-eslint/no-unused-vars
   const { path, resourceVersion, plugin, secret, ...draftData } =
+    // @ts-expect-error
     new NextApiRequest().query
   const dataCookie = `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
     JSON.stringify({ path, resourceVersion, ...draftData })
@@ -1130,7 +1131,9 @@ describe(""preview()"", () => {
   }
 
   test(""turns on preview mode and clears preview data"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
     spyOnFetch({ responseBody: validationPayload })
@@ -1147,7 +1150,9 @@ describe(""preview()"", () => {
 
   test(""does not enable preview mode if validation fails"", async () => {
     const logger = mockLogger()
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL, { debug: true, logger })
     const status = 403
@@ -1171,7 +1176,9 @@ describe(""preview()"", () => {
   })
 
   test(""does not turn on draft mode by default"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
     spyOnFetch({ responseBody: validationPayload })
@@ -1186,7 +1193,9 @@ describe(""preview()"", () => {
   })
 
   test(""optionally turns on draft mode"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const logger = mockLogger()
     const drupal = new NextDrupalPages(BASE_URL, {
@@ -1208,7 +1217,9 @@ describe(""preview()"", () => {
   })
 
   test(""updates preview mode cookies sameSite flag"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
     spyOnFetch({ responseBody: validationPayload })
@@ -1232,7 +1243,9 @@ describe(""preview()"", () => {
   })
 
   test(""redirects to the given path"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const logger = mockLogger()
     const drupal = new NextDrupalPages(BASE_URL, { debug: true, logger })
@@ -1250,7 +1263,9 @@ describe(""preview()"", () => {
   })
 
   test(""returns a 422 response on error"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const logger = mockLogger()
     const drupal = new NextDrupalPages(BASE_URL, { debug: true, logger })
@@ -1269,7 +1284,9 @@ describe(""preview()"", () => {
 
 describe(""previewDisable()"", () => {
   test(""clears preview data"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
 
@@ -1278,7 +1295,9 @@ describe(""previewDisable()"", () => {
   })
 
   test(""disables draft mode"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
 
@@ -1287,7 +1306,9 @@ describe(""previewDisable()"", () => {
   })
 
   test(""deletes the draft cookie"", async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
 
@@ -1299,7 +1320,9 @@ describe(""previewDisable()"", () => {
   })
 
   test('redirects to ""/""', async () => {
+    // @ts-expect-error
     const request = new NextApiRequest()
+    // @ts-expect-error
     const response = new NextApiResponse()
     const drupal = new NextDrupalPages(BASE_URL)
 ",False,False,Documentation / Formatting,3
chapter-three,next-drupal,c9ae778b02939b16a51db3d6de4691396e2ca592,JohnAlbin,virtually.johnalbin@gmail.com,2024-03-07T15:08:21Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-18T17:37:30Z,"feat(next-drupal): add NextDrupal and NextDrupalBase class definitions

The DrupalClient class has been renamed to NextDrupalPages and has been
refactored to inherit from the NextDrupalBase (base class) and NextDrupal
(JsonAPI/App Router class). NextDrupalPages class contains the methods that are
only needed to support Next.js' Pages Router. NextDrupalPages is also available
as ""DrupalClient"" for backwards-compatibility.

The getPathFromContext() method has been replaced with the
constructPathFromSegment() method for App Router usages.

Issue #665",packages/next-drupal/jest.config.cjs;packages/next-drupal/src/client.ts;packages/next-drupal/src/deprecated.ts;packages/next-drupal/src/deprecated/get-menu.ts;packages/next-drupal/src/deprecated/use-menu.ts;packages/next-drupal/src/draft-constants.ts;packages/next-drupal/src/draft.ts;packages/next-drupal/src/index.ts;packages/next-drupal/src/jsonapi-errors.ts;packages/next-drupal/src/menu-tree.ts;packages/next-drupal/src/next-drupal-base.ts;packages/next-drupal/src/next-drupal-pages.ts;packages/next-drupal/src/next-drupal.ts;packages/next-drupal/src/types/deprecated.ts;packages/next-drupal/src/types/drupal.ts;packages/next-drupal/src/types/index.ts;packages/next-drupal/src/types/next-drupal-base.ts;packages/next-drupal/src/types/next-drupal-pages.ts;packages/next-drupal/src/types/next-drupal.ts;packages/next-drupal/src/types/options.ts;packages/next-drupal/src/types/resource.ts;packages/next-drupal/tests/DrupalClient/basic-methods.test.ts;packages/next-drupal/tests/DrupalClient/constructor.test.ts;packages/next-drupal/tests/DrupalClient/fetch-methods.test.ts;packages/next-drupal/tests/DrupalClient/getters-setters.test.ts;packages/next-drupal/tests/DrupalMenuTree/drupal-menu-tree.test.ts;packages/next-drupal/tests/NextDrupal/__snapshots__/basic-methods.test.ts.snap;packages/next-drupal/tests/NextDrupal/__snapshots__/resource-methods.test.ts.snap;packages/next-drupal/tests/NextDrupal/basic-methods.test.ts;packages/next-drupal/tests/NextDrupal/constructor.test.ts;packages/next-drupal/tests/NextDrupal/crud-methods.test.ts;packages/next-drupal/tests/NextDrupal/resource-methods.test.ts;packages/next-drupal/tests/NextDrupalBase/auth-functions.test.ts;packages/next-drupal/tests/NextDrupalBase/basic-methods.test.ts;packages/next-drupal/tests/NextDrupalBase/constructor.test.ts;packages/next-drupal/tests/NextDrupalBase/fetch-methods.test.ts;packages/next-drupal/tests/NextDrupalBase/getters-setters.test.ts;packages/next-drupal/tests/NextDrupalPages/__snapshots__/pages-router-methods.test.ts.snap;packages/next-drupal/tests/NextDrupalPages/constructor.test.ts;packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts;packages/next-drupal/tests/NextDrupalPages/resource-methods.test.ts;packages/next-drupal/tests/draft/draft.test.ts;packages/next-drupal/tests/utils/mocks/fetch.ts;packages/next-drupal/tests/utils/rpc.ts,False,False,False,False,4714,3647,8361,"---FILE: packages/next-drupal/jest.config.cjs---
@@ -14,6 +14,8 @@ module.exports = {
     ],
   },
   testLocationInResults: true,
+  // TODO: Remove prettierPath after Jest v30 release. See https://github.com/jestjs/jest/issues/14305
+  prettierPath: null,
   coverageProvider: ""v8"",
   collectCoverage: true,
   collectCoverageFrom: [""./src/**""],

---FILE: packages/next-drupal/src/client.ts---
@@ -1,1514 +0,0 @@
-import { Jsona } from ""jsona""
-import { stringify } from ""qs""
-import { JsonApiErrors } from ""./jsonapi-errors""
-import { logger as defaultLogger } from ""./logger""
-import type {
-  GetStaticPathsContext,
-  GetStaticPathsResult,
-  GetStaticPropsContext,
-  NextApiRequest,
-  NextApiResponse,
-} from ""next""
-import type {
-  AccessToken,
-  BaseUrl,
-  DrupalClientAuth,
-  DrupalClientAuthAccessToken,
-  DrupalClientAuthClientIdSecret,
-  DrupalClientAuthUsernamePassword,
-  DrupalClientOptions,
-  DrupalFile,
-  DrupalMenuLinkContent,
-  DrupalTranslatedPath,
-  DrupalView,
-  FetchOptions,
-  JsonApiCreateFileResourceBody,
-  JsonApiCreateResourceBody,
-  JsonApiOptions,
-  JsonApiParams,
-  JsonApiResource,
-  JsonApiResourceWithPath,
-  JsonApiResponse,
-  JsonApiUpdateResourceBody,
-  JsonApiWithAuthOption,
-  JsonApiWithCacheOptions,
-  Locale,
-  PathAlias,
-  PathPrefix,
-} from ""./types""
-
-const DEFAULT_API_PREFIX = ""/jsonapi""
-const DEFAULT_FRONT_PAGE = ""/home""
-const DEFAULT_WITH_AUTH = false
-export const DRAFT_DATA_COOKIE_NAME = ""draftData""
-// See https://vercel.com/docs/workflow-collaboration/draft-mode
-export const DRAFT_MODE_COOKIE_NAME = ""__prerender_bypass""
-
-// From simple_oauth.
-const DEFAULT_AUTH_URL = ""/oauth/token""
-
-// See https://jsonapi.org/format/#content-negotiation.
-const DEFAULT_HEADERS = {
-  ""Content-Type"": ""application/vnd.api+json"",
-  Accept: ""application/vnd.api+json"",
-}
-
-function isBasicAuth(
-  auth: DrupalClientAuth
-): auth is DrupalClientAuthUsernamePassword {
-  return (
-    (auth as DrupalClientAuthUsernamePassword)?.username !== undefined &&
-    (auth as DrupalClientAuthUsernamePassword)?.password !== undefined
-  )
-}
-
-function isAccessTokenAuth(
-  auth: DrupalClientAuth
-): auth is DrupalClientAuthAccessToken {
-  return (
-    (auth as DrupalClientAuthAccessToken)?.access_token !== undefined &&
-    (auth as DrupalClientAuthAccessToken)?.token_type !== undefined
-  )
-}
-
-function isClientIdSecretAuth(
-  auth: DrupalClientAuth
-): auth is DrupalClientAuthClientIdSecret {
-  return (
-    (auth as DrupalClientAuthClientIdSecret)?.clientId !== undefined &&
-    (auth as DrupalClientAuthClientIdSecret)?.clientSecret !== undefined
-  )
-}
-
-export class DrupalClient {
-  baseUrl: BaseUrl
-
-  frontPage: DrupalClientOptions[""frontPage""]
-
-  private isDebugEnabled: DrupalClientOptions[""debug""]
-
-  private serializer: DrupalClientOptions[""serializer""]
-
-  private cache: DrupalClientOptions[""cache""]
-
-  private throwJsonApiErrors?: DrupalClientOptions[""throwJsonApiErrors""]
-
-  private logger: DrupalClientOptions[""logger""]
-
-  private fetcher?: DrupalClientOptions[""fetcher""]
-
-  private _headers?: DrupalClientOptions[""headers""]
-
-  private _auth?: DrupalClientOptions[""auth""]
-
-  private _apiPrefix: DrupalClientOptions[""apiPrefix""]
-
-  private useDefaultResourceTypeEntry?: DrupalClientOptions[""useDefaultResourceTypeEntry""]
-
-  private _token?: AccessToken
-
-  private accessToken?: DrupalClientOptions[""accessToken""]
-
-  private accessTokenScope?: DrupalClientOptions[""accessTokenScope""]
-
-  private tokenExpiresOn?: number
-
-  private withAuth?: DrupalClientOptions[""withAuth""]
-
-  /**
-   * Instantiates a new DrupalClient.
-   *
-   * const client = new DrupalClient(baseUrl)
-   *
-   * @param {baseUrl} baseUrl The baseUrl of your Drupal site. Do not add the /jsonapi suffix.
-   * @param {options} options Options for the client. See Experiment_DrupalClientOptions.
-   */
-  constructor(baseUrl: BaseUrl, options: DrupalClientOptions = {}) {
-    if (!baseUrl || typeof baseUrl !== ""string"") {
-      throw new Error(""The 'baseUrl' param is required."")
-    }
-
-    const {
-      apiPrefix = DEFAULT_API_PREFIX,
-      serializer = new Jsona(),
-      cache = null,
-      debug = false,
-      frontPage = DEFAULT_FRONT_PAGE,
-      useDefaultResourceTypeEntry = false,
-      headers = DEFAULT_HEADERS,
-      logger = defaultLogger,
-      withAuth = DEFAULT_WITH_AUTH,
-      fetcher,
-      auth,
-      accessToken,
-      throwJsonApiErrors = true,
-    } = options
-
-    this.baseUrl = baseUrl
-    this.apiPrefix = apiPrefix
-    this.serializer = serializer
-    this.frontPage = frontPage
-    this.isDebugEnabled = !!debug
-    this.useDefaultResourceTypeEntry = useDefaultResourceTypeEntry
-    this.fetcher = fetcher
-    this.auth = auth
-    this.headers = headers
-    this.logger = logger
-    this.withAuth = withAuth
-    this.cache = cache
-    this.accessToken = accessToken
-    this.throwJsonApiErrors = throwJsonApiErrors
-
-    // Do not throw errors in production.
-    if (process.env.NODE_ENV === ""production"") {
-      this.throwJsonApiErrors = false
-    }
-
-    this.debug(""Debug mode is on."")
-  }
-
-  set apiPrefix(apiPrefix: DrupalClientOptions[""apiPrefix""]) {
-    this._apiPrefix = apiPrefix.charAt(0) === ""/"" ? apiPrefix : `/${apiPrefix}`
-  }
-
-  get apiPrefix() {
-    return this._apiPrefix
-  }
-
-  set auth(auth: DrupalClientOptions[""auth""]) {
-    if (typeof auth === ""object"") {
-      const checkUsernamePassword = auth as DrupalClientAuthUsernamePassword
-      const checkAccessToken = auth as DrupalClientAuthAccessToken
-      const checkClientIdSecret = auth as DrupalClientAuthClientIdSecret
-
-      if (
-        checkUsernamePassword.username !== undefined ||
-        checkUsernamePassword.password !== undefined
-      ) {
-        if (
-          !checkUsernamePassword.username ||
-          !checkUsernamePassword.password
-        ) {
-          throw new Error(
-            `'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth`
-          )
-        }
-      } else if (
-        checkAccessToken.access_token !== undefined ||
-        checkAccessToken.token_type !== undefined
-      ) {
-        if (!checkAccessToken.access_token || !checkAccessToken.token_type) {
-          throw new Error(
-            `'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth`
-          )
-        }
-      } else if (
-        !checkClientIdSecret.clientId ||
-        !checkClientIdSecret.clientSecret
-      ) {
-        throw new Error(
-          `'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth`
-        )
-      }
-
-      this._auth = {
-        ...(isClientIdSecretAuth(auth) ? { url: DEFAULT_AUTH_URL } : {}),
-        ...auth,
-      }
-    } else {
-      this._auth = auth
-    }
-  }
-
-  set headers(value: DrupalClientOptions[""headers""]) {
-    this._headers = value
-  }
-
-  private set token(token: AccessToken) {
-    this._token = token
-    this.tokenExpiresOn = Date.now() + token.expires_in * 1000
-  }
-
-  async fetch(
-    input: RequestInfo,
-    { withAuth, ...init }: FetchOptions = {}
-  ): Promise<Response> {
-    init = {
-      ...init,
-      credentials: ""include"",
-      headers: {
-        ...this._headers,
-        ...init?.headers,
-      },
-    }
-
-    if (withAuth) {
-      init.headers[""Authorization""] = await this.getAuthorizationHeader(
-        withAuth === true ? this._auth : withAuth
-      )
-    }
-
-    if (this.fetcher) {
-      this.debug(`Using custom fetcher, fetching: ${input}`)
-
-      return await this.fetcher(input, init)
-    }
-
-    this.debug(`Using default fetch, fetching: ${input}`)
-
-    return await fetch(input, init)
-  }
-
-  async getAuthorizationHeader(auth: DrupalClientAuth) {
-    let header: string
-
-    if (isBasicAuth(auth)) {
-      const basic = Buffer.from(`${auth.username}:${auth.password}`).toString(
-        ""base64""
-      )
-      header = `Basic ${basic}`
-      this.debug(""Using basic authorization header."")
-    } else if (isClientIdSecretAuth(auth)) {
-      // Fetch an access token and add it to the request. getAccessToken()
-      // throws an error if it fails to get an access token.
-      const token = await this.getAccessToken(auth)
-      header = `Bearer ${token.access_token}`
-      this.debug(
-        ""Using access token authorization header retrieved from Client Id/Secret.""
-      )
-    } else if (isAccessTokenAuth(auth)) {
-      header = `${auth.token_type} ${auth.access_token}`
-      this.debug(""Using access token authorization header."")
-    } else if (typeof auth === ""string"") {
-      header = auth
-      this.debug(""Using custom authorization header."")
-    } else if (typeof auth === ""function"") {
-      header = auth()
-      this.debug(""Using custom authorization callback."")
-    } else {
-      throw new Error(
-        ""auth is not configured. See https://next-drupal.org/docs/client/auth""
-      )
-    }
-
-    return header
-  }
-
-  async createResource<T extends JsonApiResource>(
-    type: string,
-    body: JsonApiCreateResourceBody,
-    options?: JsonApiOptions
-  ): Promise<T> {
-    options = {
-      deserialize: true,
-      withAuth: true,
-      ...options,
-    }
-
-    const apiPath = await this.getEntryForResourceType(
-      type,
-      options?.locale !== options?.defaultLocale
-        ? /* c8 ignore next */ options.locale
-        : undefined
-    )
-
-    const url = this.buildUrl(apiPath, options?.params)
-
-    this.debug(`Creating resource of type ${type}.`)
-
-    // Add type to body.
-    body.data.type = type
-
-    const response = await this.fetch(url.toString(), {
-      method: ""POST"",
-      body: JSON.stringify(body),
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const json = await response.json()
-
-    return options.deserialize
-      ? this.deserialize(json)
-      : /* c8 ignore next */ json
-  }
-
-  async createFileResource<T = DrupalFile>(
-    type: string,
-    body: JsonApiCreateFileResourceBody,
-    options?: JsonApiOptions
-  ): Promise<T> {
-    options = {
-      deserialize: true,
-      withAuth: true,
-      ...options,
-    }
-
-    const hostType = body?.data?.attributes?.type
-
-    const apiPath = await this.getEntryForResourceType(
-      hostType,
-      options?.locale !== options?.defaultLocale ? options.locale : undefined
-    )
-
-    const url = this.buildUrl(
-      `${apiPath}/${body.data.attributes.field}`,
-      options?.params
-    )
-
-    this.debug(`Creating file resource for media of type ${type}.`)
-
-    const response = await this.fetch(url.toString(), {
-      method: ""POST"",
-      headers: {
-        ""Content-Type"": ""application/octet-stream"",
-        Accept: ""application/vnd.api+json"",
-        ""Content-Disposition"": `file; filename=""${body.data.attributes.filename}""`,
-      },
-      body: body.data.attributes.file,
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const json = await response.json()
-
-    return options.deserialize ? this.deserialize(json) : json
-  }
-
-  async updateResource<T extends JsonApiResource>(
-    type: string,
-    uuid: string,
-    body: JsonApiUpdateResourceBody,
-    options?: JsonApiOptions
-  ): Promise<T> {
-    options = {
-      deserialize: true,
-      withAuth: true,
-      ...options,
-    }
-
-    const apiPath = await this.getEntryForResourceType(
-      type,
-      options?.locale !== options?.defaultLocale
-        ? /* c8 ignore next */ options.locale
-        : undefined
-    )
-
-    const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
-
-    this.debug(`Updating resource of type ${type} with id ${uuid}.`)
-
-    // Update body.
-    body.data.type = type
-    body.data.id = uuid
-
-    const response = await this.fetch(url.toString(), {
-      method: ""PATCH"",
-      body: JSON.stringify(body),
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const json = await response.json()
-
-    return options.deserialize
-      ? this.deserialize(json)
-      : /* c8 ignore next */ json
-  }
-
-  async deleteResource(
-    type: string,
-    uuid: string,
-    options?: JsonApiOptions
-  ): Promise<boolean> {
-    options = {
-      withAuth: true,
-      params: {},
-      ...options,
-    }
-
-    const apiPath = await this.getEntryForResourceType(
-      type,
-      options?.locale !== options?.defaultLocale
-        ? /* c8 ignore next */ options.locale
-        : undefined
-    )
-
-    const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
-
-    this.debug(`Deleting resource of type ${type} with id ${uuid}.`)
-
-    const response = await this.fetch(url.toString(), {
-      method: ""DELETE"",
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    return response.status === 204
-  }
-
-  async getResource<T extends JsonApiResource>(
-    type: string,
-    uuid: string,
-    options?: JsonApiOptions & JsonApiWithCacheOptions
-  ): Promise<T> {
-    options = {
-      deserialize: true,
-      withAuth: this.withAuth,
-      withCache: false,
-      params: {},
-      ...options,
-    }
-
-    /* c8 ignore next 11 */
-    if (options.withCache) {
-      const cached = (await this.cache.get(options.cacheKey)) as string
-
-      if (cached) {
-        this.debug(`Returning cached resource ${type} with id ${uuid}.`)
-
-        const json = JSON.parse(cached)
-
-        return options.deserialize ? this.deserialize(json) : json
-      }
-    }
-
-    const apiPath = await this.getEntryForResourceType(
-      type,
-      options?.locale !== options?.defaultLocale ? options.locale : undefined
-    )
-
-    const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
-
-    this.debug(`Fetching resource ${type} with id ${uuid}.`)
-
-    const response = await this.fetch(url.toString(), {
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const json = await response.json()
-
-    /* c8 ignore next 3 */
-    if (options.withCache) {
-      await this.cache.set(options.cacheKey, JSON.stringify(json))
-    }
-
-    return options.deserialize ? this.deserialize(json) : json
-  }
-
-  async getResourceFromContext<T extends JsonApiResource>(
-    input: string | DrupalTranslatedPath,
-    context: GetStaticPropsContext,
-    options?: {
-      pathPrefix?: PathPrefix
-      isVersionable?: boolean
-    } & JsonApiOptions
-  ): Promise<T> {
-    const type = typeof input === ""string"" ? input : input.jsonapi.resourceName
-
-    const previewData = context.previewData as {
-      resourceVersion?: string
-    }
-
-    options = {
-      deserialize: true,
-      pathPrefix: ""/"",
-      withAuth: this.getAuthFromContextAndOptions(context, options),
-      params: {},
-      ...options,
-    }
-
-    const _options = {
-      deserialize: options.deserialize,
-      isVersionable: options.isVersionable,
-      locale: context.locale,
-      defaultLocale: context.defaultLocale,
-      withAuth: options?.withAuth,
-      params: options?.params,
-    }
-
-    // Check if resource is versionable.
-    // Add support for revisions for node by default.
-    const isVersionable = options.isVersionable || /^node--/.test(type)
-
-    // If the resource is versionable and no resourceVersion is supplied via params.
-    // Use the resourceVersion from previewData or fallback to the latest version.
-    if (
-      isVersionable &&
-      typeof options.params.resourceVersion === ""undefined""
-    ) {
-      options.params.resourceVersion =
-        previewData?.resourceVersion || ""rel:latest-version""
-    }
-
-    if (typeof input !== ""string"") {
-      // Fix for subrequests and translation.
-      // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
-      // Given an entity at /example with no translation.
-      // When we try to translate /es/example, decoupled router will properly
-      // translate to the untranslated version and set the locale to es.
-      // However a subrequests to /es/subrequests for decoupled router will fail.
-      /* c8 ignore next 3 */
-      if (context.locale && input.entity.langcode !== context.locale) {
-        context.locale = input.entity.langcode
-      }
-
-      // Given we already have the path info, we can skip subrequests and just make a simple
-      // request to the Drupal site to get the entity.
-      if (input.entity?.uuid) {
-        return await this.getResource<T>(type, input.entity.uuid, _options)
-      }
-    }
-
-    const path = this.getPathFromContext(context, {
-      pathPrefix: options?.pathPrefix,
-    })
-
-    const resource = await this.getResourceByPath<T>(path, _options)
-
-    // If no locale is passed, skip entity if not default_langcode.
-    // This happens because decoupled_router will still translate the path
-    // to a resource.
-    // TODO: Figure out if we want this behavior.
-    // For now this causes a bug where a non-i18n sites builds (ISR) pages for
-    // localized pages.
-    // if (!context.locale && !resource?.default_langcode) {
-    //   return null
-    // }
-
-    return resource
-  }
-
-  async getResourceByPath<T extends JsonApiResource>(
-    path: string,
-    options?: {
-      isVersionable?: boolean
-    } & JsonApiOptions
-  ): Promise<T> {
-    options = {
-      deserialize: true,
-      isVersionable: false,
-      withAuth: this.withAuth,
-      params: {},
-      ...options,
-    }
-
-    if (!path) {
-      return null
-    }
-
-    if (
-      options.locale &&
-      options.defaultLocale &&
-      path.indexOf(options.locale) !== 1
-    ) {
-      path = path === ""/"" ? /* c8 ignore next */ path : path.replace(/^\/+/, """")
-      path = this.getPathFromContext({
-        params: { slug: [path] },
-        locale: options.locale,
-        defaultLocale: options.defaultLocale,
-      })
-    }
-
-    // If a resourceVersion is provided, assume entity type is versionable.
-    if (options.params.resourceVersion) {
-      options.isVersionable = true
-    }
-
-    const { resourceVersion = ""rel:latest-version"", ...params } = options.params
-
-    if (options.isVersionable) {
-      params.resourceVersion = resourceVersion
-    }
-
-    const resourceParams = stringify(params)
-
-    // We are intentionally not using translatePath here.
-    // We want a single request using subrequests.
-    const payload = [
-      {
-        requestId: ""router"",
-        action: ""view"",
-        uri: `/router/translate-path?path=${path}&_format=json`,
-        headers: { Accept: ""application/vnd.api+json"" },
-      },
-      {
-        requestId: ""resolvedResource"",
-        action: ""view"",
-        uri: `{{router.body@$.jsonapi.individual}}?${resourceParams.toString()}`,
-        waitFor: [""router""],
-      },
-    ]
-
-    // Localized subrequests.
-    // I was hoping we would not need this but it seems like subrequests is not properly
-    // setting the jsonapi locale from a translated path.
-    // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
-    let subrequestsPath = ""/subrequests""
-    if (
-      options.locale &&
-      options.defaultLocale &&
-      options.locale !== options.defaultLocale
-    ) {
-      subrequestsPath = `/${options.locale}/subrequests`
-    }
-
-    const url = this.buildUrl(subrequestsPath, {
-      _format: ""json"",
-    })
-
-    this.debug(`Fetching resource by path, ${path}.`)
-
-    const response = await this.fetch(url.toString(), {
-      method: ""POST"",
-      credentials: ""include"",
-      redirect: ""follow"",
-      body: JSON.stringify(payload),
-      withAuth: options.withAuth,
-    })
-
-    const json = await response.json()
-
-    if (!json?.[""resolvedResource#uri{0}""]?.body) {
-      if (json?.router?.body) {
-        const error = JSON.parse(json.router.body)
-        if (error?.message) {
-          this.throwError(new Error(error.message))
-        }
-      }
-
-      return null
-    }
-
-    const data = JSON.parse(json[""resolvedResource#uri{0}""]?.body)
-
-    if (data.errors) {
-      this.throwError(new Error(this.formatJsonApiErrors(data.errors)))
-    }
-
-    return options.deserialize ? this.deserialize(data) : data
-  }
-
-  async getResourceCollection<T = JsonApiResource[]>(
-    type: string,
-    options?: {
-      deserialize?: boolean
-    } & JsonApiOptions
-  ): Promise<T> {
-    options = {
-      withAuth: this.withAuth,
-      deserialize: true,
-      ...options,
-    }
-
-    const apiPath = await this.getEntryForResourceType(
-      type,
-      options?.locale !== options?.defaultLocale ? options.locale : undefined
-    )
-
-    const url = this.buildUrl(apiPath, {
-      ...options?.params,
-    })
-
-    this.debug(`Fetching resource collection of type ${type}.`)
-
-    const response = await this.fetch(url.toString(), {
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const json = await response.json()
-
-    return options.deserialize ? this.deserialize(json) : json
-  }
-
-  async getResourceCollectionFromContext<T = JsonApiResource[]>(
-    type: string,
-    context: GetStaticPropsContext,
-    options?: {
-      deserialize?: boolean
-    } & JsonApiOptions
-  ): Promise<T> {
-    options = {
-      deserialize: true,
-      ...options,
-    }
-
-    return await this.getResourceCollection<T>(type, {
-      ...options,
-      locale: context.locale,
-      defaultLocale: context.defaultLocale,
-      withAuth: this.getAuthFromContextAndOptions(context, options),
-    })
-  }
-
-  getPathsFromContext = this.getStaticPathsFromContext
-
-  async getStaticPathsFromContext(
-    types: string | string[],
-    context: GetStaticPathsContext,
-    options?: {
-      params?: JsonApiParams
-      pathPrefix?: PathPrefix
-    } & JsonApiWithAuthOption
-  ): Promise<GetStaticPathsResult<{ slug: string[] }>[""paths""]> {
-    options = {
-      withAuth: this.withAuth,
-      pathPrefix: ""/"",
-      params: {},
-      ...options,
-    }
-
-    if (typeof types === ""string"") {
-      types = [types]
-    }
-
-    const paths = await Promise.all(
-      types.map(async (type) => {
-        // Use sparse fieldset to expand max size.
-        // Note we don't need status filter here since this runs non-authenticated (by default).
-        const params = {
-          [`fields[${type}]`]: ""path"",
-          ...options?.params,
-        }
-
-        // Handle localized path aliases
-        if (!context.locales?.length) {
-          const resources = await this.getResourceCollection<
-            JsonApiResourceWithPath[]
-          >(type, {
-            params,
-            withAuth: options.withAuth,
-          })
-
-          return this.buildStaticPathsFromResources(resources, {
-            pathPrefix: options.pathPrefix,
-          })
-        }
-
-        const paths = await Promise.all(
-          context.locales.map(async (locale) => {
-            const resources = await this.getResourceCollection<
-              JsonApiResourceWithPath[]
-            >(type, {
-              deserialize: true,
-              locale,
-              defaultLocale: context.defaultLocale,
-              params,
-              withAuth: options.withAuth,
-            })
-
-            return this.buildStaticPathsFromResources(resources, {
-              locale,
-              pathPrefix: options.pathPrefix,
-            })
-          })
-        )
-
-        return paths.flat()
-      })
-    )
-
-    return paths.flat()
-  }
-
-  buildStaticPathsFromResources(
-    resources: {
-      path: PathAlias
-    }[],
-    options?: {
-      pathPrefix?: PathPrefix
-      locale?: Locale
-    }
-  ) {
-    const paths = resources
-      ?.flatMap((resource) => {
-        return resource?.path?.alias === this.frontPage
-          ? ""/""
-          : resource?.path?.alias
-      })
-      .filter(Boolean)
-
-    return paths?.length
-      ? this.buildStaticPathsParamsFromPaths(paths, options)
-      : []
-  }
-
-  buildStaticPathsParamsFromPaths(
-    paths: string[],
-    options?: { pathPrefix?: PathPrefix; locale?: Locale }
-  ) {
-    return paths.flatMap((_path) => {
-      _path = _path.replace(/^\/|\/$/g, """")
-
-      // Remove pathPrefix.
-      if (options?.pathPrefix && options.pathPrefix !== ""/"") {
-        // Remove leading slash from pathPrefix.
-        const pathPrefix = options.pathPrefix.replace(/^\//, """")
-
-        _path = _path.replace(`${pathPrefix}/`, """")
-      }
-
-      const path = {
-        params: {
-          slug: _path.split(""/""),
-        },
-      }
-
-      if (options?.locale) {
-        path[""locale""] = options.locale
-      }
-
-      return path
-    })
-  }
-
-  async translatePath(
-    path: string,
-    options?: JsonApiWithAuthOption
-  ): Promise<DrupalTranslatedPath | null> {
-    options = {
-      withAuth: this.withAuth,
-      ...options,
-    }
-
-    const url = this.buildUrl(""/router/translate-path"", {
-      path,
-    })
-
-    this.debug(`Fetching translated path, ${path}.`)
-
-    const response = await this.fetch(url.toString(), {
-      withAuth: options.withAuth,
-    })
-
-    if (!response?.ok) {
-      // Do not throw errors here.
-      // Otherwise next.js will catch error and throw a 500.
-      // We want a 404.
-      return null
-    }
-
-    const json = await response.json()
-
-    return json
-  }
-
-  async translatePathFromContext(
-    context: GetStaticPropsContext,
-    options?: {
-      pathPrefix?: PathPrefix
-    } & JsonApiWithAuthOption
-  ): Promise<DrupalTranslatedPath | null> {
-    options = {
-      pathPrefix: ""/"",
-      ...options,
-    }
-    const path = this.getPathFromContext(context, {
-      pathPrefix: options.pathPrefix,
-    })
-
-    return await this.translatePath(path, {
-      withAuth: this.getAuthFromContextAndOptions(context, options),
-    })
-  }
-
-  getPathFromContext(
-    context: GetStaticPropsContext,
-    options?: {
-      pathPrefix?: PathPrefix
-    }
-  ) {
-    options = {
-      pathPrefix: ""/"",
-      ...options,
-    }
-
-    let slug = context.params?.slug
-
-    let pathPrefix =
-      options.pathPrefix?.charAt(0) === ""/""
-        ? options.pathPrefix
-        : `/${options.pathPrefix}`
-
-    // Handle locale.
-    if (context.locale && context.locale !== context.defaultLocale) {
-      pathPrefix = `/${context.locale}${pathPrefix}`
-    }
-
-    slug = Array.isArray(slug)
-      ? slug.map((s) => encodeURIComponent(s)).join(""/"")
-      : slug
-
-    // Handle front page.
-    if (!slug) {
-      slug = this.frontPage
-      pathPrefix = pathPrefix.replace(/\/$/, """")
-    }
-
-    slug =
-      pathPrefix.slice(-1) !== ""/"" && slug.charAt(0) !== ""/"" ? `/${slug}` : slug
-
-    return `${pathPrefix}${slug}`
-  }
-
-  async getIndex(locale?: Locale): Promise<JsonApiResponse> {
-    const url = this.buildUrl(
-      locale ? `/${locale}${this.apiPrefix}` : this.apiPrefix
-    )
-
-    try {
-      this.debug(`Fetching JSON:API index.`)
-
-      const response = await this.fetch(url.toString(), {
-        // As per https://www.drupal.org/node/2984034 /jsonapi is public.
-        withAuth: false,
-      })
-
-      return await response.json()
-    } catch (error) {
-      this.throwError(
-        new Error(
-          `Failed to fetch JSON:API index at ${url.toString()} - ${
-            error.message
-          }`
-        )
-      )
-    }
-  }
-
-  async getEntryForResourceType(
-    type: string,
-    locale?: Locale
-  ): Promise<string> {
-    if (this.useDefaultResourceTypeEntry) {
-      const [id, bundle] = type.split(""--"")
-      return (
-        `${this.baseUrl}` +
-        (locale ? `/${locale}${this.apiPrefix}/` : `${this.apiPrefix}/`) +
-        `${id}/${bundle}`
-      )
-    }
-
-    const index = await this.getIndex(locale)
-
-    const link = index.links?.[type] as { href: string }
-
-    if (!link) {
-      throw new Error(`Resource of type '${type}' not found.`)
-    }
-
-    const { href } = link
-
-    // Fix for missing locale in JSON:API index.
-    // This fix ensures the locale is included in the resouce link.
-    if (locale) {
-      const pattern = `^\\/${locale}\\/`
-      const path = href.replace(this.baseUrl, """")
-
-      /* c8 ignore next 3 */
-      if (!new RegExp(pattern, ""i"").test(path)) {
-        return `${this.baseUrl}/${locale}${path}`
-      }
-    }
-
-    return href
-  }
-
-  async validateDraftUrl(searchParams: URLSearchParams): Promise<Response> {
-    const path = searchParams.get(""path"")
-
-    this.debug(`Fetching draft url validation for ${path}.`)
-
-    // Fetch the headless CMS to check if the provided `path` exists
-    let response: Response
-    try {
-      // Validate the draft url.
-      const validateUrl = this.buildUrl(""/next/draft-url"").toString()
-      response = await this.fetch(validateUrl, {
-        method: ""POST"",
-        headers: {
-          ""Content-Type"": ""application/json"",
-        },
-        body: JSON.stringify(Object.fromEntries(searchParams.entries())),
-      })
-    } catch (error) {
-      response = new Response(JSON.stringify({ message: error.message }), {
-        status: 401,
-      })
-    }
-
-    this.debug(
-      response.status !== 200
-        ? `Could not validate path, ${path}`
-        : `Validated path, ${path}`
-    )
-
-    return response
-  }
-
-  async preview(
-    request: NextApiRequest,
-    response: NextApiResponse,
-    options?: Parameters<NextApiResponse[""setDraftMode""]>[0]
-  ) {
-    // eslint-disable-next-line @typescript-eslint/no-unused-vars
-    const { path, resourceVersion, plugin, secret, scope, ...draftData } =
-      request.query
-    const useDraftMode = options?.enable
-
-    try {
-      // Always clear preview data to handle different scopes.
-      response.clearPreviewData()
-
-      // Validate the preview url.
-      const result = await this.validateDraftUrl(
-        new URL(request.url, `http://${request.headers.host}`).searchParams
-      )
-
-      const validationPayload = await result.json()
-      const previewData = {
-        resourceVersion,
-        plugin,
-        ...validationPayload,
-      }
-
-      if (!result.ok) {
-        this.debug(`Draft url validation error: ${validationPayload.message}`)
-        response.statusCode = result.status
-        return response.json(validationPayload)
-      }
-
-      // Optionally turn on draft mode.
-      if (useDraftMode) {
-        response.setDraftMode(options)
-      }
-
-      // Turns on preview mode and adds preview data to Next.js' static context.
-      response.setPreviewData(previewData)
-
-      // Fix issue with cookie.
-      // See https://github.com/vercel/next.js/discussions/32238.
-      // See https://github.com/vercel/next.js/blob/d895a50abbc8f91726daa2d7ebc22c58f58aabbb/packages/next/server/api-utils/node.ts#L504.
-      const cookies = (response.getHeader(""Set-Cookie"") as string[]).map(
-        (cookie) => cookie.replace(""SameSite=Lax"", ""SameSite=None; Secure"")
-      )
-      if (useDraftMode) {
-        // Adds preview data for use in app router pages.
-        cookies.push(
-          `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
-            JSON.stringify({ path, resourceVersion, ...draftData })
-          )}; Path=/; HttpOnly; SameSite=None; Secure`
-        )
-      }
-      response.setHeader(""Set-Cookie"", cookies)
-
-      // We can safely redirect to the path since this has been validated on the
-      // server.
-      response.writeHead(307, { Location: path })
-
-      this.debug(`${useDraftMode ? ""Draft"" : ""Preview""} mode enabled.`)
-
-      return response.end()
-    } catch (error) {
-      this.debug(`Preview failed: ${error.message}`)
-      return response.status(422).end()
-    }
-  }
-
-  async previewDisable(request: NextApiRequest, response: NextApiResponse) {
-    // Disable both preview and draft modes.
-    response.clearPreviewData()
-    response.setDraftMode({ enable: false })
-
-    // Delete the draft data cookie.
-    const cookies = response.getHeader(""Set-Cookie"") as string[]
-    cookies.push(
-      `${DRAFT_DATA_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=None; Secure`
-    )
-    response.setHeader(""Set-Cookie"", cookies)
-
-    response.writeHead(307, { Location: ""/"" })
-    response.end()
-  }
-
-  async getMenu<T = DrupalMenuLinkContent>(
-    name: string,
-    options?: JsonApiOptions & JsonApiWithCacheOptions
-  ): Promise<{
-    items: T[]
-    tree: T[]
-  }> {
-    options = {
-      withAuth: this.withAuth,
-      deserialize: true,
-      params: {},
-      withCache: false,
-      ...options,
-    }
-
-    /* c8 ignore next 9 */
-    if (options.withCache) {
-      const cached = (await this.cache.get(options.cacheKey)) as string
-
-      if (cached) {
-        this.debug(`Returning cached menu items for ${name}.`)
-        return JSON.parse(cached)
-      }
-    }
-
-    const localePrefix =
-      options?.locale && options.locale !== options.defaultLocale
-        ? `/${options.locale}`
-        : """"
-
-    const url = this.buildUrl(
-      `${localePrefix}${this.apiPrefix}/menu_items/${name}`,
-      options.params
-    )
-
-    this.debug(`Fetching menu items for ${name}.`)
-
-    const response = await this.fetch(url.toString(), {
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const data = await response.json()
-
-    const items = options.deserialize
-      ? this.deserialize(data)
-      : /* c8 ignore next */ data
-
-    const { items: tree } = this.buildMenuTree(items)
-
-    const menu = {
-      items,
-      tree,
-    }
-
-    /* c8 ignore next 3 */
-    if (options.withCache) {
-      await this.cache.set(options.cacheKey, JSON.stringify(menu))
-    }
-
-    return menu
-  }
-
-  buildMenuTree(
-    links: DrupalMenuLinkContent[],
-    parent: DrupalMenuLinkContent[""id""] = """"
-  ) {
-    if (!links?.length) {
-      return {
-        items: [],
-      }
-    }
-
-    const children = links.filter((link) => link?.parent === parent)
-
-    return children.length
-      ? {
-          items: children.map((link) => ({
-            ...link,
-            ...this.buildMenuTree(links, link.id),
-          })),
-        }
-      : {}
-  }
-
-  async getView<T = JsonApiResource>(
-    name: string,
-    options?: JsonApiOptions
-  ): Promise<DrupalView<T>> {
-    options = {
-      withAuth: this.withAuth,
-      deserialize: true,
-      params: {},
-      ...options,
-    }
-
-    const localePrefix =
-      options?.locale && options.locale !== options.defaultLocale
-        ? `/${options.locale}`
-        : """"
-
-    const [viewId, displayId] = name.split(""--"")
-
-    const url = this.buildUrl(
-      `${localePrefix}${this.apiPrefix}/views/${viewId}/${displayId}`,
-      options.params
-    )
-
-    this.debug(`Fetching view, ${viewId}.${displayId}.`)
-
-    const response = await this.fetch(url.toString(), {
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const data = await response.json()
-
-    const results = options.deserialize ? this.deserialize(data) : data
-
-    return {
-      id: name,
-      results,
-      meta: data.meta,
-      links: data.links,
-    }
-  }
-
-  async getSearchIndex<T = JsonApiResource[]>(
-    name: string,
-    options?: JsonApiOptions
-  ): Promise<T> {
-    options = {
-      withAuth: this.withAuth,
-      deserialize: true,
-      ...options,
-    }
-
-    const localePrefix =
-      options?.locale && options.locale !== options.defaultLocale
-        ? `/${options.locale}`
-        : """"
-
-    const url = this.buildUrl(
-      `${localePrefix}${this.apiPrefix}/index/${name}`,
-      options.params
-    )
-
-    this.debug(`Fetching search index, ${name}.`)
-
-    const response = await this.fetch(url.toString(), {
-      withAuth: options.withAuth,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const json = await response.json()
-
-    return options.deserialize ? this.deserialize(json) : json
-  }
-
-  async getSearchIndexFromContext<T = JsonApiResource[]>(
-    name: string,
-    context: GetStaticPropsContext,
-    options?: JsonApiOptions
-  ): Promise<T> {
-    return await this.getSearchIndex<T>(name, {
-      ...options,
-      locale: context.locale,
-      defaultLocale: context.defaultLocale,
-    })
-  }
-
-  buildUrl(
-    path: string,
-    params?: string | Record<string, string> | URLSearchParams | JsonApiParams
-  ): URL {
-    const url = new URL(
-      path.charAt(0) === ""/"" ? `${this.baseUrl}${path}` : path
-    )
-
-    if (typeof params === ""object"" && ""getQueryObject"" in params) {
-      params = params.getQueryObject()
-    }
-
-    if (params) {
-      // Used instead URLSearchParams for nested params.
-      url.search = stringify(params)
-    }
-
-    return url
-  }
-
-  async getAccessToken(
-    opts?: DrupalClientAuthClientIdSecret
-  ): Promise<AccessToken> {
-    if (this.accessToken && this.accessTokenScope === opts?.scope) {
-      return this.accessToken
-    }
-
-    let auth: DrupalClientAuthClientIdSecret
-    if (isClientIdSecretAuth(opts)) {
-      auth = {
-        url: DEFAULT_AUTH_URL,
-        ...opts,
-      }
-    } else if (isClientIdSecretAuth(this._auth)) {
-      auth = this._auth
-    } else if (typeof this._auth === ""undefined"") {
-      throw new Error(
-        ""auth is not configured. See https://next-drupal.org/docs/client/auth""
-      )
-    } else {
-      throw new Error(
-        `'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth`
-      )
-    }
-
-    const url = this.buildUrl(auth.url)
-
-    if (
-      this.accessTokenScope === opts?.scope &&
-      this._token &&
-      Date.now() < this.tokenExpiresOn
-    ) {
-      this.debug(`Using existing access token.`)
-      return this._token
-    }
-
-    this.debug(`Fetching new access token.`)
-
-    // Use BasicAuth to retrieve the access token.
-    const credentials: DrupalClientAuthUsernamePassword = {
-      username: auth.clientId,
-      password: auth.clientSecret,
-    }
-    let body = `grant_type=client_credentials`
-
-    if (opts?.scope) {
-      body = `${body}&scope=${opts.scope}`
-
-      this.debug(`Using scope: ${opts.scope}`)
-    }
-
-    const response = await this.fetch(url.toString(), {
-      method: ""POST"",
-      headers: {
-        Authorization: await this.getAuthorizationHeader(credentials),
-        Accept: ""application/json"",
-        ""Content-Type"": ""application/x-www-form-urlencoded"",
-      },
-      body,
-    })
-
-    await this.throwIfJsonApiErrors(response)
-
-    const result: AccessToken = await response.json()
-
-    this.token = result
-
-    this.accessTokenScope = opts?.scope
-
-    return result
-  }
-
-  deserialize(body, options?) {
-    if (!body) return null
-
-    return this.serializer.deserialize(body, options)
-  }
-
-  private async getErrorsFromResponse(response: Response) {
-    const type = response.headers.get(""content-type"")
-
-    if (type === ""application/json"") {
-      const error = await response.json()
-      return error.message
-    }
-
-    // Construct error from response.
-    // Check for type to ensure this is a JSON:API formatted error.
-    // See https://jsonapi.org/format/#errors.
-    if (type === ""application/vnd.api+json"") {
-      const _error: JsonApiResponse = await response.json()
-
-      if (_error?.errors?.length) {
-        return _error.errors
-      }
-    }
-
-    return response.statusText
-  }
-
-  private formatJsonApiErrors(errors) {
-    const [error] = errors
-
-    let message = `${error.status} ${error.title}`
-
-    if (error.detail) {
-      message += `\n${error.detail}`
-    }
-
-    return message
-  }
-
-  debug(message) {
-    this.isDebugEnabled && this.logger.debug(message)
-  }
-
-  // Error handling.
-  // If throwErrors is enabled, we show errors in the Next.js overlay.
-  // Otherwise, we log the errors even if debugging is turned off.
-  // In production, errors are always logged never thrown.
-  private throwError(error: Error) {
-    if (!this.throwJsonApiErrors) {
-      return this.logger.error(error)
-    }
-
-    throw error
-  }
-
-  private async throwIfJsonApiErrors(response: Response) {
-    if (!response?.ok) {
-      const errors = await this.getErrorsFromResponse(response)
-      throw new JsonApiErrors(errors, response.status)
-    }
-  }
-
-  private getAuthFromContextAndOptions(
-    context: GetStaticPropsContext,
-    options: JsonApiWithAuthOption
-  ) {
-    // If not in preview or withAuth is provided, use that.
-    if (!context.preview) {
-      // If we have provided an auth, use that.
-      if (typeof options?.withAuth !== ""undefined"") {
-        return options.withAuth
-      }
-
-      // Otherwise we fallback to the global auth.
-      return this.withAuth
-    }
-
-    // If no plugin is provided, return.
-    const plugin = context.previewData?.[""plugin""]
-    if (!plugin) {
-      return null
-    }
-
-    let withAuth = this._auth
-
-    if (plugin === ""simple_oauth"") {
-      // If we are using a client id and secret auth, pass the scope.
-      if (isClientIdSecretAuth(withAuth) && context.previewData?.[""scope""]) {
-        withAuth = {
-          ...withAuth,
-          scope: context.previewData?.[""scope""],
-        }
-      }
-    }
-
-    if (plugin === ""jwt"") {
-      const accessToken = context.previewData?.[""access_token""]
-
-      if (accessToken) {
-        return `Bearer ${accessToken}`
-      }
-    }
-
-    return withAuth
-  }
-}

---FILE: packages/next-drupal/src/deprecated.ts---
@@ -1,3 +1,6 @@
+import { NextDrupalPages } from ""./next-drupal-pages""
+export const DrupalClient = NextDrupalPages
+
 export * from ""./deprecated/get-access-token""
 export * from ""./deprecated/get-menu""
 export * from ""./deprecated/get-paths""

---FILE: packages/next-drupal/src/deprecated/get-menu.ts---
@@ -1,8 +1,8 @@
 import { buildHeaders, buildUrl, deserialize } from ""./utils""
-import type { AccessToken, DrupalMenuLinkContent } from ""../types""
+import type { AccessToken, DrupalMenuItem } from ""../types""
 import type { JsonApiWithLocaleOptions } from ""../types/deprecated""
 
-export async function getMenu<T extends DrupalMenuLinkContent>(
+export async function getMenu<T extends DrupalMenuItem>(
   name: string,
   options?: {
     deserialize?: boolean
@@ -45,8 +45,8 @@ export async function getMenu<T extends DrupalMenuLinkContent>(
 }
 
 function buildMenuTree(
-  links: DrupalMenuLinkContent[],
-  parent: DrupalMenuLinkContent[""id""] = """"
+  links: DrupalMenuItem[],
+  parent: DrupalMenuItem[""id""] = """"
 ) {
   if (!links?.length) {
     return {

---FILE: packages/next-drupal/src/deprecated/use-menu.ts---
@@ -1,9 +1,9 @@
 import { useRouter } from ""next/router""
 import { useEffect, useState } from ""react""
 import { getMenu } from ""./get-menu""
-import type { DrupalMenuLinkContent } from ""../types""
+import type { DrupalMenuItem } from ""../types""
 
-export function useMenu<T extends DrupalMenuLinkContent>(
+export function useMenu<T extends DrupalMenuItem>(
   name: string
 ): {
   items: T[]

---FILE: packages/next-drupal/src/draft-constants.ts---
@@ -0,0 +1,4 @@
+export const DRAFT_DATA_COOKIE_NAME = ""next_drupal_draft_data""
+
+// See https://vercel.com/docs/workflow-collaboration/draft-mode
+export const DRAFT_MODE_COOKIE_NAME = ""__prerender_bypass""

---FILE: packages/next-drupal/src/draft.ts---
@@ -1,12 +1,15 @@
 import { cookies, draftMode } from ""next/headers""
 import { redirect } from ""next/navigation""
-import { DRAFT_DATA_COOKIE_NAME, DRAFT_MODE_COOKIE_NAME } from ""./client""
+import {
+  DRAFT_DATA_COOKIE_NAME,
+  DRAFT_MODE_COOKIE_NAME,
+} from ""./draft-constants""
 import type { NextRequest } from ""next/server""
-import type { DrupalClient } from ""./client""
+import type { NextDrupal } from ""./next-drupal""
 
 export async function enableDraftMode(
   request: NextRequest,
-  drupal: DrupalClient
+  drupal: NextDrupal
 ): Promise<Response | never> {
   // Validate the draft request.
   const response = await drupal.validateDraftUrl(request.nextUrl.searchParams)

---FILE: packages/next-drupal/src/index.ts---
@@ -1,5 +1,8 @@
-export * from ""./client""
+export * from ""./draft-constants""
 export * from ""./jsonapi-errors""
+export * from ""./next-drupal-base""
+export * from ""./next-drupal""
+export * from ""./next-drupal-pages""
 
 export type * from ""./types""
 

---FILE: packages/next-drupal/src/jsonapi-errors.ts---
@@ -17,15 +17,21 @@ export class JsonApiErrors extends Error {
   errors: JsonApiError[] | string
   statusCode: number
 
-  constructor(errors: JsonApiError[], statusCode: number) {
+  constructor(
+    errors: JsonApiError[] | string,
+    statusCode: number,
+    messagePrefix: string = """"
+  ) {
     super()
 
     this.errors = errors
     this.statusCode = statusCode
-    this.message = JsonApiErrors.formatMessage(errors)
+    this.message =
+      (messagePrefix ? `${messagePrefix} ` : """") +
+      JsonApiErrors.formatMessage(errors)
   }
 
-  private static formatMessage(errors) {
+  static formatMessage(errors: JsonApiError[] | string) {
     if (typeof errors === ""string"") {
       return errors
     }

---FILE: packages/next-drupal/src/menu-tree.ts---
@@ -0,0 +1,48 @@
+import type { DrupalMenuItem, DrupalMenuItemId } from ""./types""
+
+export class DrupalMenuTree<
+  T extends {
+    id: DrupalMenuItemId
+    parent: DrupalMenuItemId
+    items?: T[]
+  } = DrupalMenuItem,
+> extends Array {
+  parentId: DrupalMenuItemId
+  depth: number
+
+  constructor(
+    menuItems: T[],
+    parentId: DrupalMenuItemId = """",
+    depth: number = 1
+  ) {
+    super()
+
+    this.parentId = parentId
+    this.depth = depth
+
+    if (menuItems?.length) {
+      this.build(menuItems, parentId)
+    }
+  }
+
+  build(menuItems: T[], parentId: DrupalMenuItemId) {
+    // Find the children of the specified parent.
+    const children = menuItems.filter(
+      (menuItem) => menuItem?.parent === parentId
+    )
+
+    // Add each child to this Array.
+    for (const menuItem of children) {
+      const subtree = new DrupalMenuTree<T>(
+        menuItems,
+        menuItem.id,
+        this.depth + 1
+      )
+
+      this.push({
+        ...menuItem,
+        items: subtree.length ? subtree : undefined,
+      })
+    }
+  }
+}

---FILE: packages/next-drupal/src/next-drupal-base.ts---
@@ -0,0 +1,534 @@
+import { stringify } from ""qs""
+import { JsonApiErrors } from ""./jsonapi-errors""
+import { logger as defaultLogger } from ""./logger""
+import type {
+  AccessToken,
+  BaseUrl,
+  EndpointSearchParams,
+  FetchOptions,
+  JsonApiResponse,
+  Locale,
+  Logger,
+  NextDrupalAuth,
+  NextDrupalAuthAccessToken,
+  NextDrupalAuthClientIdSecret,
+  NextDrupalAuthUsernamePassword,
+  NextDrupalBaseOptions,
+  PathPrefix,
+} from ""./types""
+
+const DEFAULT_API_PREFIX = """"
+const DEFAULT_FRONT_PAGE = ""/home""
+const DEFAULT_WITH_AUTH = false
+
+// From simple_oauth.
+const DEFAULT_AUTH_URL = ""/oauth/token""
+
+// See https://jsonapi.org/format/#content-negotiation.
+const DEFAULT_HEADERS = {
+  ""Content-Type"": ""application/json"",
+  Accept: ""application/json"",
+}
+
+export class NextDrupalBase {
+  accessToken?: NextDrupalBaseOptions[""accessToken""]
+
+  baseUrl: BaseUrl
+
+  fetcher?: NextDrupalBaseOptions[""fetcher""]
+
+  frontPage: string
+
+  isDebugEnabled: boolean
+
+  logger: Logger
+
+  withAuth: boolean
+
+  private _apiPrefix: string
+
+  private _auth?: NextDrupalAuth
+
+  private _headers: Headers
+
+  private _token?: AccessToken
+
+  private _tokenExpiresOn?: number
+
+  private _tokenRequestDetails?: NextDrupalAuthClientIdSecret
+
+  /**
+   * Instantiates a new NextDrupalBase.
+   *
+   * const client = new NextDrupalBase(baseUrl)
+   *
+   * @param {baseUrl} baseUrl The baseUrl of your Drupal site. Do not add the /jsonapi suffix.
+   * @param {options} options Options for NextDrupalBase.
+   */
+  constructor(baseUrl: BaseUrl, options: NextDrupalBaseOptions = {}) {
+    if (!baseUrl || typeof baseUrl !== ""string"") {
+      throw new Error(""The 'baseUrl' param is required."")
+    }
+
+    const {
+      accessToken,
+      apiPrefix = DEFAULT_API_PREFIX,
+      auth,
+      debug = false,
+      fetcher,
+      frontPage = DEFAULT_FRONT_PAGE,
+      headers = DEFAULT_HEADERS,
+      logger = defaultLogger,
+      withAuth = DEFAULT_WITH_AUTH,
+    } = options
+
+    this.accessToken = accessToken
+    this.apiPrefix = apiPrefix
+    this.auth = auth
+    this.baseUrl = baseUrl
+    this.fetcher = fetcher
+    this.frontPage = frontPage
+    this.isDebugEnabled = !!debug
+    this.headers = headers
+    this.logger = logger
+    this.withAuth = withAuth
+
+    this.debug(""Debug mode is on."")
+  }
+
+  set apiPrefix(apiPrefix: string) {
+    this._apiPrefix =
+      apiPrefix === """" || apiPrefix.startsWith(""/"")
+        ? apiPrefix
+        : `/${apiPrefix}`
+  }
+
+  get apiPrefix() {
+    return this._apiPrefix
+  }
+
+  set auth(auth: NextDrupalAuth) {
+    if (typeof auth === ""object"") {
+      const checkUsernamePassword = auth as NextDrupalAuthUsernamePassword
+      const checkAccessToken = auth as NextDrupalAuthAccessToken
+      const checkClientIdSecret = auth as NextDrupalAuthClientIdSecret
+
+      if (
+        checkUsernamePassword.username !== undefined ||
+        checkUsernamePassword.password !== undefined
+      ) {
+        if (
+          !checkUsernamePassword.username ||
+          !checkUsernamePassword.password
+        ) {
+          throw new Error(
+            ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
+          )
+        }
+      } else if (
+        checkAccessToken.access_token !== undefined ||
+        checkAccessToken.token_type !== undefined
+      ) {
+        if (!checkAccessToken.access_token || !checkAccessToken.token_type) {
+          throw new Error(
+            ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
+          )
+        }
+      } else if (
+        !checkClientIdSecret.clientId ||
+        !checkClientIdSecret.clientSecret
+      ) {
+        throw new Error(
+          ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
+        )
+      }
+
+      this._auth = {
+        ...(isClientIdSecretAuth(auth) ? { url: DEFAULT_AUTH_URL } : {}),
+        ...auth,
+      }
+    } else {
+      this._auth = auth
+    }
+  }
+
+  get auth() {
+    return this._auth
+  }
+
+  set headers(headers: HeadersInit) {
+    this._headers = new Headers(headers)
+  }
+
+  get headers() {
+    return this._headers
+  }
+
+  set token(token: AccessToken) {
+    this._token = token
+    this._tokenExpiresOn = Date.now() + token.expires_in * 1000
+  }
+
+  get token() {
+    return this._token
+  }
+
+  async fetch(
+    input: RequestInfo,
+    { withAuth, ...init }: FetchOptions = {}
+  ): Promise<Response> {
+    init.credentials = ""include""
+
+    // Merge the init.headers with this.headers
+    const headers = new Headers(this.headers)
+    if (init?.headers) {
+      const initHeaders = new Headers(init?.headers)
+      for (const key of initHeaders.keys()) {
+        headers.set(key, initHeaders.get(key))
+      }
+    }
+
+    // Set Authorization header.
+    if (withAuth) {
+      headers.set(
+        ""Authorization"",
+        await this.getAuthorizationHeader(
+          withAuth === true ? this.auth : withAuth
+        )
+      )
+    }
+
+    init.headers = headers
+
+    if (typeof input === ""string"" && input.startsWith(""/"")) {
+      input = `${this.baseUrl}${input}`
+    }
+
+    if (this.fetcher) {
+      this.debug(`Using custom fetcher, fetching: ${input}`)
+
+      return await this.fetcher(input, init)
+    }
+
+    this.debug(`Using default fetch, fetching: ${input}`)
+
+    return await fetch(input, init)
+  }
+
+  async getAuthorizationHeader(auth: NextDrupalAuth) {
+    let header: string
+
+    if (isBasicAuth(auth)) {
+      const basic = Buffer.from(`${auth.username}:${auth.password}`).toString(
+        ""base64""
+      )
+      header = `Basic ${basic}`
+      this.debug(""Using basic authorization header."")
+    } else if (isClientIdSecretAuth(auth)) {
+      // Fetch an access token and add it to the request. getAccessToken()
+      // throws an error if it fails to get an access token.
+      const token = await this.getAccessToken(auth)
+      header = `Bearer ${token.access_token}`
+      this.debug(
+        ""Using access token authorization header retrieved from Client Id/Secret.""
+      )
+    } else if (isAccessTokenAuth(auth)) {
+      header = `${auth.token_type} ${auth.access_token}`
+      this.debug(""Using access token authorization header."")
+    } else if (typeof auth === ""string"") {
+      header = auth
+      this.debug(""Using custom authorization header."")
+    } else if (typeof auth === ""function"") {
+      header = auth()
+      this.debug(""Using custom authorization callback."")
+    } else {
+      throw new Error(
+        ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+      )
+    }
+
+    return header
+  }
+
+  buildUrl(path: string, searchParams?: EndpointSearchParams): URL {
+    const url = new URL(path, this.baseUrl)
+
+    const search =
+      // Handle DrupalJsonApiParams objects.
+      searchParams &&
+      typeof searchParams === ""object"" &&
+      ""getQueryObject"" in searchParams
+        ? searchParams.getQueryObject()
+        : searchParams
+
+    if (search) {
+      // Use stringify instead of URLSearchParams for nested params.
+      url.search = stringify(search)
+    }
+
+    return url
+  }
+
+  // async so subclasses can query for endpoint discovery.
+  async buildEndpoint({
+    locale = """",
+    path = """",
+    searchParams,
+  }: {
+    locale?: string
+    path?: string
+    searchParams?: EndpointSearchParams
+  } = {}): Promise<string> {
+    const localeSegment = locale ? `/${locale}` : """"
+
+    if (path && !path.startsWith(""/"")) {
+      path = `/${path}`
+    }
+
+    return this.buildUrl(
+      `${localeSegment}${this.apiPrefix}${path}`,
+      searchParams
+    ).toString()
+  }
+
+  constructPathFromSegment(
+    segment: string | string[],
+    options: {
+      locale?: Locale
+      defaultLocale?: Locale
+      pathPrefix?: PathPrefix
+    } = {}
+  ) {
+    let { pathPrefix = """" } = options
+    const { locale, defaultLocale } = options
+
+    // Ensure pathPrefix starts with a ""/"" and does not end with a ""/"".
+    if (pathPrefix) {
+      if (!pathPrefix?.startsWith(""/"")) {
+        pathPrefix = `/${options.pathPrefix}`
+      }
+      if (pathPrefix.endsWith(""/"")) {
+        pathPrefix = pathPrefix.slice(0, -1)
+      }
+    }
+
+    // If the segment is given as an array of segments, join the parts.
+    if (!Array.isArray(segment)) {
+      segment = segment ? [segment] : []
+    }
+    segment = segment.map((part) => encodeURIComponent(part)).join(""/"")
+
+    if (!segment && !pathPrefix) {
+      // If no pathPrefix is given and the segment is empty, then the path
+      // should be the homepage.
+      segment = this.frontPage
+    }
+
+    // Ensure the segment starts with a ""/"" and does not end with a ""/"".
+    if (segment && !segment.startsWith(""/"")) {
+      segment = `/${segment}`
+    }
+    if (segment.endsWith(""/"")) {
+      segment = segment.slice(0, -1)
+    }
+
+    return this.addLocalePrefix(`${pathPrefix}${segment}`, {
+      locale,
+      defaultLocale,
+    })
+  }
+
+  addLocalePrefix(
+    path: string,
+    options: { locale?: Locale; defaultLocale?: Locale } = {}
+  ) {
+    const { locale, defaultLocale } = options
+
+    if (!path.startsWith(""/"")) {
+      path = `/${path}`
+    }
+
+    let localePrefix = """"
+    if (locale && !path.startsWith(`/${locale}`) && locale !== defaultLocale) {
+      localePrefix = `/${locale}`
+    }
+
+    return `${localePrefix}${path}`
+  }
+
+  async getAccessToken(
+    clientIdSecret?: NextDrupalAuthClientIdSecret
+  ): Promise<AccessToken> {
+    if (this.accessToken) {
+      return this.accessToken
+    }
+
+    let auth: NextDrupalAuthClientIdSecret
+    if (isClientIdSecretAuth(clientIdSecret)) {
+      auth = {
+        url: DEFAULT_AUTH_URL,
+        ...clientIdSecret,
+      }
+    } else if (isClientIdSecretAuth(this.auth)) {
+      auth = { ...this.auth }
+    } else if (typeof this.auth === ""undefined"") {
+      throw new Error(
+        ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+      )
+    } else {
+      throw new Error(
+        `'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth`
+      )
+    }
+
+    const url = this.buildUrl(auth.url)
+
+    // Ensure that the unexpired token was using the same scope and client
+    // credentials as the current request before re-using it.
+    if (
+      this.token &&
+      Date.now() < this._tokenExpiresOn &&
+      this._tokenRequestDetails?.clientId === auth?.clientId &&
+      this._tokenRequestDetails?.clientSecret === auth?.clientSecret &&
+      this._tokenRequestDetails?.scope === auth?.scope
+    ) {
+      this.debug(`Using existing access token.`)
+      return this.token
+    }
+
+    this.debug(`Fetching new access token.`)
+
+    // Use BasicAuth to retrieve the access token.
+    const clientCredentials: NextDrupalAuthUsernamePassword = {
+      username: auth.clientId,
+      password: auth.clientSecret,
+    }
+    const body = new URLSearchParams({ grant_type: ""client_credentials"" })
+
+    if (auth?.scope) {
+      body.set(""scope"", auth.scope)
+
+      this.debug(`Using scope: ${auth.scope}`)
+    }
+
+    const response = await this.fetch(url.toString(), {
+      method: ""POST"",
+      headers: {
+        Authorization: await this.getAuthorizationHeader(clientCredentials),
+        Accept: ""application/json"",
+        ""Content-Type"": ""application/x-www-form-urlencoded"",
+      },
+      body,
+    })
+
+    await this.throwIfJsonErrors(
+      response,
+      ""Error while fetching new access token: ""
+    )
+
+    const result: AccessToken = await response.json()
+
+    this.token = result
+
+    this._tokenRequestDetails = auth
+
+    return result
+  }
+
+  async validateDraftUrl(searchParams: URLSearchParams): Promise<Response> {
+    const path = searchParams.get(""path"")
+
+    this.debug(`Fetching draft url validation for ${path}.`)
+
+    // Fetch the headless CMS to check if the provided `path` exists
+    let response: Response
+    try {
+      // Validate the draft url.
+      const validateUrl = this.buildUrl(""/next/draft-url"").toString()
+      response = await this.fetch(validateUrl, {
+        method: ""POST"",
+        headers: {
+          Accept: ""application/vnd.api+json"",
+          ""Content-Type"": ""application/json"",
+        },
+        body: JSON.stringify(Object.fromEntries(searchParams.entries())),
+      })
+    } catch (error) {
+      response = new Response(JSON.stringify({ message: error.message }), {
+        status: 401,
+      })
+    }
+
+    this.debug(
+      response.status !== 200
+        ? `Could not validate path, ${path}`
+        : `Validated path, ${path}`
+    )
+
+    return response
+  }
+
+  debug(message) {
+    this.isDebugEnabled && this.logger.debug(message)
+  }
+
+  async throwIfJsonErrors(response: Response, messagePrefix = """") {
+    if (!response?.ok) {
+      const errors = await this.getErrorsFromResponse(response)
+      throw new JsonApiErrors(errors, response.status, messagePrefix)
+    }
+  }
+
+  async getErrorsFromResponse(response: Response) {
+    const type = response.headers.get(""content-type"")
+    let error: JsonApiResponse | { message: string }
+
+    if (type === ""application/json"") {
+      error = await response.json()
+
+      if (error?.message) {
+        return error.message as string
+      }
+    }
+
+    // Construct error from response.
+    // Check for type to ensure this is a JSON:API formatted error.
+    // See https://jsonapi.org/format/#errors.
+    else if (type === ""application/vnd.api+json"") {
+      error = (await response.json()) as JsonApiResponse
+
+      if (error?.errors?.length) {
+        return error.errors
+      }
+    }
+
+    return response.statusText
+  }
+}
+
+export function isBasicAuth(
+  auth: NextDrupalAuth
+): auth is NextDrupalAuthUsernamePassword {
+  return (
+    (auth as NextDrupalAuthUsernamePassword)?.username !== undefined &&
+    (auth as NextDrupalAuthUsernamePassword)?.password !== undefined
+  )
+}
+
+export function isAccessTokenAuth(
+  auth: NextDrupalAuth
+): auth is NextDrupalAuthAccessToken {
+  return (
+    (auth as NextDrupalAuthAccessToken)?.access_token !== undefined &&
+    (auth as NextDrupalAuthAccessToken)?.token_type !== undefined
+  )
+}
+
+export function isClientIdSecretAuth(
+  auth: NextDrupalAuth
+): auth is NextDrupalAuthClientIdSecret {
+  return (
+    (auth as NextDrupalAuthClientIdSecret)?.clientId !== undefined &&
+    (auth as NextDrupalAuthClientIdSecret)?.clientSecret !== undefined
+  )
+}

---FILE: packages/next-drupal/src/next-drupal-pages.ts---
@@ -0,0 +1,473 @@
+import { Jsona } from ""jsona""
+import { DRAFT_DATA_COOKIE_NAME } from ""./draft-constants""
+import { DrupalMenuTree } from ""./menu-tree""
+import { NextDrupal } from ""./next-drupal""
+import { isClientIdSecretAuth } from ""./next-drupal-base""
+import type {
+  BaseUrl,
+  DrupalClientOptions,
+  DrupalMenuItem,
+  DrupalMenuItemId,
+  DrupalPathAlias,
+  DrupalTranslatedPath,
+  JsonApiOptions,
+  JsonApiParams,
+  JsonApiResource,
+  JsonApiResourceWithPath,
+  JsonApiWithAuthOption,
+  JsonDeserializer,
+  Locale,
+  PathPrefix,
+} from ""./types""
+import type {
+  GetStaticPathsContext,
+  GetStaticPathsResult,
+  GetStaticPropsContext,
+  NextApiRequest,
+  NextApiResponse,
+} from ""next""
+
+export class NextDrupalPages extends NextDrupal {
+  private serializer: DrupalClientOptions[""serializer""]
+
+  /**
+   * Instantiates a new NextDrupalPages.
+   *
+   * const client = new NextDrupalPages(baseUrl)
+   *
+   * @param {baseUrl} baseUrl The baseUrl of your Drupal site. Do not add the /jsonapi suffix.
+   * @param {options} options Options for the client. See Experiment_DrupalClientOptions.
+   */
+  constructor(baseUrl: BaseUrl, options: DrupalClientOptions = {}) {
+    super(baseUrl, options)
+
+    const {
+      serializer = new Jsona(),
+      useDefaultResourceTypeEntry = false,
+      useDefaultEndpoints = null,
+    } = options
+
+    if (useDefaultEndpoints === null) {
+      this.useDefaultEndpoints = !!useDefaultResourceTypeEntry
+    }
+
+    this.serializer = serializer
+
+    this.deserializer = (
+      body: Parameters<JsonDeserializer>[0],
+      options: Parameters<JsonDeserializer>[1]
+    ) => this.serializer.deserialize(body, options)
+  }
+
+  async getEntryForResourceType(
+    resourceType: string,
+    locale?: Locale
+  ): Promise<string> {
+    return this.buildEndpoint({
+      locale,
+      resourceType,
+    })
+  }
+
+  /* c8 ignore next 3 */
+  buildMenuTree(links: DrupalMenuItem[], parent: DrupalMenuItemId = """") {
+    return new DrupalMenuTree<DrupalMenuItem>(links, parent)
+  }
+
+  async getResourceFromContext<T extends JsonApiResource>(
+    input: string | DrupalTranslatedPath,
+    context: GetStaticPropsContext,
+    options?: {
+      pathPrefix?: PathPrefix
+      isVersionable?: boolean
+    } & JsonApiOptions
+  ): Promise<T> {
+    const type = typeof input === ""string"" ? input : input.jsonapi.resourceName
+
+    const previewData = context.previewData as {
+      resourceVersion?: string
+    }
+
+    options = {
+      deserialize: true,
+      pathPrefix: ""/"",
+      withAuth: this.getAuthFromContextAndOptions(context, options),
+      params: {},
+      ...options,
+    }
+
+    const _options = {
+      deserialize: options.deserialize,
+      isVersionable: options.isVersionable,
+      locale: context.locale,
+      defaultLocale: context.defaultLocale,
+      withAuth: options?.withAuth,
+      params: options?.params,
+    }
+
+    // Check if resource is versionable.
+    // Add support for revisions for node by default.
+    const isVersionable = options.isVersionable || /^node--/.test(type)
+
+    // If the resource is versionable and no resourceVersion is supplied via params.
+    // Use the resourceVersion from previewData or fallback to the latest version.
+    if (
+      isVersionable &&
+      typeof options.params.resourceVersion === ""undefined""
+    ) {
+      options.params.resourceVersion =
+        previewData?.resourceVersion || ""rel:latest-version""
+    }
+
+    if (typeof input !== ""string"") {
+      // Fix for subrequests and translation.
+      // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
+      // Given an entity at /example with no translation.
+      // When we try to translate /es/example, decoupled router will properly
+      // translate to the untranslated version and set the locale to es.
+      // However a subrequests to /es/subrequests for decoupled router will fail.
+      /* c8 ignore next 3 */
+      if (context.locale && input.entity.langcode !== context.locale) {
+        context.locale = input.entity.langcode
+      }
+
+      // Given we already have the path info, we can skip subrequests and just make a simple
+      // request to the Drupal site to get the entity.
+      if (input.entity?.uuid) {
+        return await this.getResource<T>(type, input.entity.uuid, _options)
+      }
+    }
+
+    const path = this.getPathFromContext(context, {
+      pathPrefix: options?.pathPrefix,
+    })
+
+    const resource = await this.getResourceByPath<T>(path, _options)
+
+    // If no locale is passed, skip entity if not default_langcode.
+    // This happens because decoupled_router will still translate the path
+    // to a resource.
+    // TODO: Figure out if we want this behavior.
+    // For now this causes a bug where a non-i18n sites builds (ISR) pages for
+    // localized pages.
+    // if (!context.locale && !resource?.default_langcode) {
+    //   return null
+    // }
+
+    return resource
+  }
+
+  async getResourceCollectionFromContext<T = JsonApiResource[]>(
+    type: string,
+    context: GetStaticPropsContext,
+    options?: {
+      deserialize?: boolean
+    } & JsonApiOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      ...options,
+    }
+
+    return await this.getResourceCollection<T>(type, {
+      ...options,
+      locale: context.locale,
+      defaultLocale: context.defaultLocale,
+      withAuth: this.getAuthFromContextAndOptions(context, options),
+    })
+  }
+
+  async getSearchIndexFromContext<T = JsonApiResource[]>(
+    name: string,
+    context: GetStaticPropsContext,
+    options?: JsonApiOptions
+  ): Promise<T> {
+    return await this.getSearchIndex<T>(name, {
+      ...options,
+      locale: context.locale,
+      defaultLocale: context.defaultLocale,
+    })
+  }
+
+  async translatePathFromContext(
+    context: GetStaticPropsContext,
+    options?: {
+      pathPrefix?: PathPrefix
+    } & JsonApiWithAuthOption
+  ): Promise<DrupalTranslatedPath | null> {
+    options = {
+      pathPrefix: ""/"",
+      ...options,
+    }
+    const path = this.getPathFromContext(context, {
+      pathPrefix: options.pathPrefix,
+    })
+
+    return await this.translatePath(path, {
+      withAuth: this.getAuthFromContextAndOptions(context, options),
+    })
+  }
+
+  getPathFromContext(
+    context: GetStaticPropsContext,
+    options?: {
+      pathPrefix?: PathPrefix
+    }
+  ) {
+    return this.constructPathFromSegment(context.params?.slug, {
+      locale: context.locale,
+      defaultLocale: context.defaultLocale,
+      pathPrefix: options?.pathPrefix,
+    })
+  }
+
+  getPathsFromContext = this.getStaticPathsFromContext
+
+  async getStaticPathsFromContext(
+    types: string | string[],
+    context: GetStaticPathsContext,
+    options?: {
+      params?: JsonApiParams
+      pathPrefix?: PathPrefix
+    } & JsonApiWithAuthOption
+  ): Promise<GetStaticPathsResult<{ slug: string[] }>[""paths""]> {
+    options = {
+      withAuth: this.withAuth,
+      pathPrefix: ""/"",
+      params: {},
+      ...options,
+    }
+
+    if (typeof types === ""string"") {
+      types = [types]
+    }
+
+    const paths = await Promise.all(
+      types.map(async (type) => {
+        // Use sparse fieldset to expand max size.
+        // Note we don't need status filter here since this runs non-authenticated (by default).
+        const params = {
+          [`fields[${type}]`]: ""path"",
+          ...options?.params,
+        }
+
+        // Handle localized path aliases
+        if (!context.locales?.length) {
+          const resources = await this.getResourceCollection<
+            JsonApiResourceWithPath[]
+          >(type, {
+            params,
+            withAuth: options.withAuth,
+          })
+
+          return this.buildStaticPathsFromResources(resources, {
+            pathPrefix: options.pathPrefix,
+          })
+        }
+
+        const paths = await Promise.all(
+          context.locales.map(async (locale) => {
+            const resources = await this.getResourceCollection<
+              JsonApiResourceWithPath[]
+            >(type, {
+              deserialize: true,
+              locale,
+              defaultLocale: context.defaultLocale,
+              params,
+              withAuth: options.withAuth,
+            })
+
+            return this.buildStaticPathsFromResources(resources, {
+              locale,
+              pathPrefix: options.pathPrefix,
+            })
+          })
+        )
+
+        return paths.flat()
+      })
+    )
+
+    return paths.flat()
+  }
+
+  buildStaticPathsFromResources(
+    resources: {
+      path: DrupalPathAlias
+    }[],
+    options?: {
+      pathPrefix?: PathPrefix
+      locale?: Locale
+    }
+  ) {
+    const paths = resources
+      ?.flatMap((resource) => {
+        return resource?.path?.alias === this.frontPage
+          ? ""/""
+          : resource?.path?.alias
+      })
+      .filter(Boolean)
+
+    return paths?.length
+      ? this.buildStaticPathsParamsFromPaths(paths, options)
+      : []
+  }
+
+  buildStaticPathsParamsFromPaths(
+    paths: string[],
+    options?: { pathPrefix?: PathPrefix; locale?: Locale }
+  ) {
+    return paths.flatMap((_path) => {
+      _path = _path.replace(/^\/|\/$/g, """")
+
+      // Remove pathPrefix.
+      if (options?.pathPrefix && options.pathPrefix !== ""/"") {
+        // Remove leading slash from pathPrefix.
+        const pathPrefix = options.pathPrefix.replace(/^\//, """")
+
+        _path = _path.replace(`${pathPrefix}/`, """")
+      }
+
+      const path = {
+        params: {
+          slug: _path.split(""/""),
+        },
+      }
+
+      if (options?.locale) {
+        path[""locale""] = options.locale
+      }
+
+      return path
+    })
+  }
+
+  async preview(
+    request: NextApiRequest,
+    response: NextApiResponse,
+    options?: Parameters<NextApiResponse[""setDraftMode""]>[0]
+  ) {
+    // eslint-disable-next-line @typescript-eslint/no-unused-vars
+    const { path, resourceVersion, plugin, secret, scope, ...draftData } =
+      request.query
+    const useDraftMode = options?.enable
+
+    try {
+      // Always clear preview data to handle different scopes.
+      response.clearPreviewData()
+
+      // Validate the preview url.
+      const result = await this.validateDraftUrl(
+        new URL(request.url, `http://${request.headers.host}`).searchParams
+      )
+
+      const validationPayload = await result.json()
+      const previewData = {
+        resourceVersion,
+        plugin,
+        ...validationPayload,
+      }
+
+      if (!result.ok) {
+        this.debug(`Draft url validation error: ${validationPayload.message}`)
+        response.statusCode = result.status
+        return response.json(validationPayload)
+      }
+
+      // Optionally turn on draft mode.
+      if (useDraftMode) {
+        response.setDraftMode(options)
+      }
+
+      // Turns on preview mode and adds preview data to Next.js' static context.
+      response.setPreviewData(previewData)
+
+      // Fix issue with cookie.
+      // See https://github.com/vercel/next.js/discussions/32238.
+      // See https://github.com/vercel/next.js/blob/d895a50abbc8f91726daa2d7ebc22c58f58aabbb/packages/next/server/api-utils/node.ts#L504.
+      const cookies = (response.getHeader(""Set-Cookie"") as string[]).map(
+        (cookie) => cookie.replace(""SameSite=Lax"", ""SameSite=None; Secure"")
+      )
+      if (useDraftMode) {
+        // Adds preview data for use in app router pages.
+        cookies.push(
+          `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
+            JSON.stringify({ path, resourceVersion, ...draftData })
+          )}; Path=/; HttpOnly; SameSite=None; Secure`
+        )
+      }
+      response.setHeader(""Set-Cookie"", cookies)
+
+      // We can safely redirect to the path since this has been validated on the
+      // server.
+      response.writeHead(307, { Location: path })
+
+      this.debug(`${useDraftMode ? ""Draft"" : ""Preview""} mode enabled.`)
+
+      return response.end()
+    } catch (error) {
+      this.debug(`Preview failed: ${error.message}`)
+      return response.status(422).end()
+    }
+  }
+
+  async previewDisable(request: NextApiRequest, response: NextApiResponse) {
+    // Disable both preview and draft modes.
+    response.clearPreviewData()
+    response.setDraftMode({ enable: false })
+
+    // Delete the draft data cookie.
+    const cookies = response.getHeader(""Set-Cookie"") as string[]
+    cookies.push(
+      `${DRAFT_DATA_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=None; Secure`
+    )
+    response.setHeader(""Set-Cookie"", cookies)
+
+    response.writeHead(307, { Location: ""/"" })
+    response.end()
+  }
+
+  getAuthFromContextAndOptions(
+    context: GetStaticPropsContext,
+    options: JsonApiWithAuthOption
+  ) {
+    // If not in preview or withAuth is provided, use that.
+    if (!context.preview) {
+      // If we have provided an auth, use that.
+      if (typeof options?.withAuth !== ""undefined"") {
+        return options.withAuth
+      }
+
+      // Otherwise we fall back to the global auth.
+      return this.withAuth
+    }
+
+    // If no plugin is provided, return.
+    const plugin = context.previewData?.[""plugin""]
+    if (!plugin) {
+      return null
+    }
+
+    let withAuth = this.auth
+
+    if (plugin === ""simple_oauth"") {
+      // If we are using a client id and secret auth, pass the scope.
+      if (isClientIdSecretAuth(withAuth) && context.previewData?.[""scope""]) {
+        withAuth = {
+          ...withAuth,
+          scope: context.previewData?.[""scope""],
+        }
+      }
+    }
+
+    if (plugin === ""jwt"") {
+      const accessToken = context.previewData?.[""access_token""]
+
+      if (accessToken) {
+        return `Bearer ${accessToken}`
+      }
+    }
+
+    return withAuth
+  }
+}

---FILE: packages/next-drupal/src/next-drupal.ts---
@@ -0,0 +1,690 @@
+import { Jsona } from ""jsona""
+import { stringify } from ""qs""
+import { JsonApiErrors } from ""./jsonapi-errors""
+import { DrupalMenuTree } from ""./menu-tree""
+import { NextDrupalBase } from ""./next-drupal-base""
+import type {
+  BaseUrl,
+  DrupalFile,
+  DrupalMenuItem,
+  DrupalTranslatedPath,
+  DrupalView,
+  JsonApiCreateFileResourceBody,
+  JsonApiCreateResourceBody,
+  JsonApiOptions,
+  JsonApiResource,
+  JsonApiResponse,
+  JsonApiUpdateResourceBody,
+  JsonApiWithAuthOption,
+  JsonApiWithCacheOptions,
+  JsonDeserializer,
+  Locale,
+  NextDrupalOptions,
+} from ""./types""
+
+const DEFAULT_API_PREFIX = ""/jsonapi""
+
+// See https://jsonapi.org/format/#content-negotiation.
+const DEFAULT_HEADERS = {
+  ""Content-Type"": ""application/vnd.api+json"",
+  Accept: ""application/vnd.api+json"",
+}
+
+export function useJsonaDeserialize() {
+  const jsonFormatter = new Jsona()
+  return function jsonaDeserialize(
+    body: Parameters<JsonDeserializer>[0],
+    options: Parameters<JsonDeserializer>[1]
+  ) {
+    return jsonFormatter.deserialize(body, options)
+  }
+}
+
+export class NextDrupal extends NextDrupalBase {
+  cache?: NextDrupalOptions[""cache""]
+
+  deserializer: JsonDeserializer
+
+  throwJsonApiErrors: boolean
+
+  useDefaultEndpoints: boolean
+
+  /**
+   * Instantiates a new NextDrupal.
+   *
+   * const client = new NextDrupal(baseUrl)
+   *
+   * @param {baseUrl} baseUrl The baseUrl of your Drupal site. Do not add the /jsonapi suffix.
+   * @param {options} options Options for NextDrupal.
+   */
+  constructor(baseUrl: BaseUrl, options: NextDrupalOptions = {}) {
+    super(baseUrl, options)
+
+    const {
+      apiPrefix = DEFAULT_API_PREFIX,
+      cache = null,
+      deserializer,
+      headers = DEFAULT_HEADERS,
+      throwJsonApiErrors = true,
+      useDefaultEndpoints = true,
+    } = options
+
+    this.apiPrefix = apiPrefix
+    this.cache = cache
+    this.deserializer = deserializer ?? useJsonaDeserialize()
+    this.headers = headers
+    this.throwJsonApiErrors = !!throwJsonApiErrors
+    this.useDefaultEndpoints = !!useDefaultEndpoints
+
+    // Do not throw errors in production.
+    if (process.env.NODE_ENV === ""production"") {
+      this.throwJsonApiErrors = false
+    }
+  }
+
+  async createResource<T extends JsonApiResource>(
+    type: string,
+    body: JsonApiCreateResourceBody,
+    options?: JsonApiOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      withAuth: true,
+      ...options,
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale
+          ? /* c8 ignore next */ options.locale
+          : undefined,
+      resourceType: type,
+      searchParams: options?.params,
+    })
+
+    this.debug(`Creating resource of type ${type}.`)
+
+    // Add type to body.
+    body.data.type = type
+
+    const response = await this.fetch(endpoint, {
+      method: ""POST"",
+      body: JSON.stringify(body),
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(response, ""Error while creating resource: "")
+
+    const json = await response.json()
+
+    return options.deserialize
+      ? this.deserialize(json)
+      : /* c8 ignore next */ json
+  }
+
+  async createFileResource<T = DrupalFile>(
+    type: string,
+    body: JsonApiCreateFileResourceBody,
+    options?: JsonApiOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      withAuth: true,
+      ...options,
+    }
+
+    const resourceType = body?.data?.attributes?.type
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale ? options.locale : undefined,
+      resourceType,
+      path: `/${body.data.attributes.field}`,
+      searchParams: options?.params,
+    })
+
+    this.debug(`Creating file resource for media of type ${type}.`)
+
+    const response = await this.fetch(endpoint, {
+      method: ""POST"",
+      headers: {
+        ""Content-Type"": ""application/octet-stream"",
+        Accept: ""application/vnd.api+json"",
+        ""Content-Disposition"": `file; filename=""${body.data.attributes.filename}""`,
+      },
+      body: body.data.attributes.file,
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(
+      response,
+      ""Error while creating file resource: ""
+    )
+
+    const json = await response.json()
+
+    return options.deserialize ? this.deserialize(json) : json
+  }
+
+  async updateResource<T extends JsonApiResource>(
+    type: string,
+    uuid: string,
+    body: JsonApiUpdateResourceBody,
+    options?: JsonApiOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      withAuth: true,
+      ...options,
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale
+          ? /* c8 ignore next */ options.locale
+          : undefined,
+      resourceType: type,
+      path: `/${uuid}`,
+      searchParams: options?.params,
+    })
+
+    this.debug(`Updating resource of type ${type} with id ${uuid}.`)
+
+    // Update body.
+    body.data.type = type
+    body.data.id = uuid
+
+    const response = await this.fetch(endpoint, {
+      method: ""PATCH"",
+      body: JSON.stringify(body),
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(response, ""Error while updating resource: "")
+
+    const json = await response.json()
+
+    return options.deserialize
+      ? this.deserialize(json)
+      : /* c8 ignore next */ json
+  }
+
+  async deleteResource(
+    type: string,
+    uuid: string,
+    options?: JsonApiOptions
+  ): Promise<boolean> {
+    options = {
+      withAuth: true,
+      params: {},
+      ...options,
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale
+          ? /* c8 ignore next */ options.locale
+          : undefined,
+      resourceType: type,
+      path: `/${uuid}`,
+      searchParams: options?.params,
+    })
+
+    this.debug(`Deleting resource of type ${type} with id ${uuid}.`)
+
+    const response = await this.fetch(endpoint, {
+      method: ""DELETE"",
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(response, ""Error while deleting resource: "")
+
+    return response.status === 204
+  }
+
+  async getResource<T extends JsonApiResource>(
+    type: string,
+    uuid: string,
+    options?: JsonApiOptions & JsonApiWithCacheOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      withAuth: this.withAuth,
+      withCache: false,
+      params: {},
+      ...options,
+    }
+
+    /* c8 ignore next 11 */
+    if (options.withCache) {
+      const cached = (await this.cache.get(options.cacheKey)) as string
+
+      if (cached) {
+        this.debug(`Returning cached resource ${type} with id ${uuid}.`)
+
+        const json = JSON.parse(cached)
+
+        return options.deserialize ? this.deserialize(json) : json
+      }
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale ? options.locale : undefined,
+      resourceType: type,
+      path: `/${uuid}`,
+      searchParams: options?.params,
+    })
+
+    this.debug(`Fetching resource ${type} with id ${uuid}.`)
+
+    const response = await this.fetch(endpoint, {
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(response, ""Error while fetching resource: "")
+
+    const json = await response.json()
+
+    /* c8 ignore next 3 */
+    if (options.withCache) {
+      await this.cache.set(options.cacheKey, JSON.stringify(json))
+    }
+
+    return options.deserialize ? this.deserialize(json) : json
+  }
+
+  async getResourceByPath<T extends JsonApiResource>(
+    path: string,
+    options?: {
+      isVersionable?: boolean
+    } & JsonApiOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      isVersionable: false,
+      withAuth: this.withAuth,
+      params: {},
+      ...options,
+    }
+
+    if (!path) {
+      return null
+    }
+
+    path = this.addLocalePrefix(path, {
+      locale: options.locale,
+      defaultLocale: options.defaultLocale,
+    })
+
+    // If a resourceVersion is provided, assume entity type is versionable.
+    if (options.params.resourceVersion) {
+      options.isVersionable = true
+    }
+
+    const { resourceVersion = ""rel:latest-version"", ...params } = options.params
+
+    if (options.isVersionable) {
+      params.resourceVersion = resourceVersion
+    }
+
+    const resourceParams = stringify(params)
+
+    // We are intentionally not using translatePath here.
+    // We want a single request using subrequests.
+    const payload = [
+      {
+        requestId: ""router"",
+        action: ""view"",
+        uri: `/router/translate-path?path=${path}&_format=json`,
+        headers: { Accept: ""application/vnd.api+json"" },
+      },
+      {
+        requestId: ""resolvedResource"",
+        action: ""view"",
+        uri: `{{router.body@$.jsonapi.individual}}?${resourceParams.toString()}`,
+        waitFor: [""router""],
+      },
+    ]
+
+    // Handle localized subrequests. It seems like subrequests is not properly
+    // setting the jsonapi locale from a translated path.
+    // TODO: Confirm we still need this after https://www.drupal.org/i/3111456
+    const subrequestsEndpoint = this.addLocalePrefix(""/subrequests"", {
+      locale: options.locale,
+      defaultLocale: options.defaultLocale,
+    })
+
+    const endpoint = this.buildUrl(subrequestsEndpoint, {
+      _format: ""json"",
+    }).toString()
+
+    this.debug(`Fetching resource by path, ${path}.`)
+
+    const response = await this.fetch(endpoint, {
+      method: ""POST"",
+      credentials: ""include"",
+      redirect: ""follow"",
+      body: JSON.stringify(payload),
+      withAuth: options.withAuth,
+    })
+
+    const json = await response.json()
+
+    if (!json?.[""resolvedResource#uri{0}""]?.body) {
+      if (json?.router?.body) {
+        const error = JSON.parse(json.router.body)
+        if (error?.message) {
+          this.logOrThrowError(new Error(error.message))
+        }
+      }
+
+      return null
+    }
+
+    const data = JSON.parse(json[""resolvedResource#uri{0}""]?.body)
+
+    if (data.errors) {
+      this.logOrThrowError(new Error(JsonApiErrors.formatMessage(data.errors)))
+    }
+
+    return options.deserialize ? this.deserialize(data) : data
+  }
+
+  async getResourceCollection<T = JsonApiResource[]>(
+    type: string,
+    options?: {
+      deserialize?: boolean
+    } & JsonApiOptions
+  ): Promise<T> {
+    options = {
+      withAuth: this.withAuth,
+      deserialize: true,
+      ...options,
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale ? options.locale : undefined,
+      resourceType: type,
+      searchParams: options?.params,
+    })
+
+    this.debug(`Fetching resource collection of type ${type}.`)
+
+    const response = await this.fetch(endpoint, {
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(
+      response,
+      ""Error while fetching resource collection: ""
+    )
+
+    const json = await response.json()
+
+    return options.deserialize ? this.deserialize(json) : json
+  }
+
+  async translatePath(
+    path: string,
+    options?: JsonApiWithAuthOption
+  ): Promise<DrupalTranslatedPath | null> {
+    options = {
+      withAuth: this.withAuth,
+      ...options,
+    }
+
+    const endpoint = this.buildUrl(""/router/translate-path"", {
+      path,
+    }).toString()
+
+    this.debug(`Fetching translated path, ${path}.`)
+
+    const response = await this.fetch(endpoint, {
+      withAuth: options.withAuth,
+    })
+
+    if (!response?.ok) {
+      // Do not throw errors here, otherwise Next.js will catch the error and
+      // throw a 500. We want a 404.
+      return null
+    }
+
+    return await response.json()
+  }
+
+  async getIndex(locale?: Locale): Promise<JsonApiResponse> {
+    const endpoint = await this.buildEndpoint({
+      locale,
+    })
+
+    this.debug(`Fetching JSON:API index.`)
+
+    const response = await this.fetch(endpoint, {
+      // As per https://www.drupal.org/node/2984034 /jsonapi is public.
+      withAuth: false,
+    })
+
+    await this.throwIfJsonErrors(
+      response,
+      `Failed to fetch JSON:API index at ${endpoint}: `
+    )
+
+    return await response.json()
+  }
+
+  async buildEndpoint({
+    locale = """",
+    resourceType = """",
+    path = """",
+    searchParams,
+  }: Parameters<NextDrupalBase[""buildEndpoint""]>[0] & {
+    resourceType?: string
+  } = {}): Promise<string> {
+    let localeSegment = locale ? `/${locale}` : """"
+    let apiSegment = this.apiPrefix
+
+    // Determine the optional resource part of the endpoint URL.
+    let resourceSegment = """"
+    if (resourceType) {
+      if (this.useDefaultEndpoints) {
+        const [id, bundle] = resourceType.split(""--"")
+        resourceSegment = `/${id}` + (bundle ? `/${bundle}` : """")
+      } else {
+        resourceSegment = (
+          await this.fetchResourceEndpoint(resourceType, locale)
+        ).pathname
+        // Fetched endpoint URLs already include the apiPrefix and the locale.
+        localeSegment = """"
+        apiSegment = """"
+      }
+    }
+
+    if (path && !path.startsWith(""/"")) {
+      path = `/${path}`
+    }
+
+    return this.buildUrl(
+      `${localeSegment}${apiSegment}${resourceSegment}${path}`,
+      searchParams
+    ).toString()
+  }
+
+  async fetchResourceEndpoint(type: string, locale?: Locale): Promise<URL> {
+    const index = await this.getIndex(locale)
+
+    const link = index.links?.[type] as { href: string }
+
+    if (!link) {
+      throw new Error(`Resource of type '${type}' not found.`)
+    }
+
+    const url = new URL(link.href)
+
+    // TODO: Is this ""fix"" needed any more? Drupal 9.4 and later don't exhibit
+    //  this behavior.
+    // Fix for missing locale in JSON:API index.
+    // This fix ensures the locale is included in the resource link.
+    /* c8 ignore next 3 */
+    if (locale && !url.pathname.startsWith(`/${locale}`)) {
+      url.pathname = `/${locale}${url.pathname}`
+    }
+
+    return url
+  }
+
+  async getMenu<T = DrupalMenuItem>(
+    menuName: string,
+    options?: JsonApiOptions & JsonApiWithCacheOptions
+  ): Promise<{
+    items: T[]
+    tree: T[]
+  }> {
+    options = {
+      withAuth: this.withAuth,
+      deserialize: true,
+      params: {},
+      withCache: false,
+      ...options,
+    }
+
+    /* c8 ignore next 9 */
+    if (options.withCache) {
+      const cached = (await this.cache.get(options.cacheKey)) as string
+
+      if (cached) {
+        this.debug(`Returning cached menu items for ${menuName}.`)
+        return JSON.parse(cached)
+      }
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale ? options.locale : undefined,
+      resourceType: ""menu_items"",
+      path: menuName,
+      searchParams: options.params,
+    })
+
+    this.debug(`Fetching menu items for ${menuName}.`)
+
+    const response = await this.fetch(endpoint, {
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(response, ""Error while fetching menu items: "")
+
+    const data = await response.json()
+
+    const items = options.deserialize
+      ? this.deserialize(data)
+      : /* c8 ignore next */ data
+
+    const tree = new DrupalMenuTree(items)
+
+    const menu = {
+      items,
+      tree: tree.length ? tree : undefined,
+    }
+
+    /* c8 ignore next 3 */
+    if (options.withCache) {
+      await this.cache.set(options.cacheKey, JSON.stringify(menu))
+    }
+
+    return menu
+  }
+
+  async getView<T = JsonApiResource>(
+    name: string,
+    options?: JsonApiOptions
+  ): Promise<DrupalView<T>> {
+    options = {
+      withAuth: this.withAuth,
+      deserialize: true,
+      params: {},
+      ...options,
+    }
+
+    const [viewId, displayId] = name.split(""--"")
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale ? options.locale : undefined,
+      path: `/views/${viewId}/${displayId}`,
+      searchParams: options.params,
+    })
+
+    this.debug(`Fetching view, ${viewId}.${displayId}.`)
+
+    const response = await this.fetch(endpoint, {
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(response, ""Error while fetching view: "")
+
+    const data = await response.json()
+
+    const results = options.deserialize ? this.deserialize(data) : data
+
+    return {
+      id: name,
+      results,
+      meta: data.meta,
+      links: data.links,
+    }
+  }
+
+  async getSearchIndex<T = JsonApiResource[]>(
+    name: string,
+    options?: JsonApiOptions
+  ): Promise<T> {
+    options = {
+      withAuth: this.withAuth,
+      deserialize: true,
+      ...options,
+    }
+
+    const endpoint = await this.buildEndpoint({
+      locale:
+        options?.locale !== options?.defaultLocale ? options.locale : undefined,
+      path: `/index/${name}`,
+      searchParams: options.params,
+    })
+
+    this.debug(`Fetching search index, ${name}.`)
+
+    const response = await this.fetch(endpoint, {
+      withAuth: options.withAuth,
+    })
+
+    await this.throwIfJsonErrors(
+      response,
+      ""Error while fetching search index: ""
+    )
+
+    const json = await response.json()
+
+    return options.deserialize ? this.deserialize(json) : json
+  }
+
+  deserialize(body, options?) {
+    if (!body) return null
+
+    return this.deserializer(body, options)
+  }
+
+  // Error handling.
+  // If throwJsonApiErrors is enabled, we show errors in the Next.js overlay.
+  // Otherwise, we log the errors even if debugging is turned off.
+  // In production, errors are always logged never thrown.
+  logOrThrowError(error: Error) {
+    if (!this.throwJsonApiErrors) {
+      this.logger.error(error)
+      return
+    }
+
+    throw error
+  }
+}

---FILE: packages/next-drupal/src/types/deprecated.ts---
@@ -1,3 +1,6 @@
-import type { JsonApiOptions } from ""./index""
+import type { JsonApiOptions } from ""./options""
+import { DrupalMenuItem } from ""./drupal""
 
 export type JsonApiWithLocaleOptions = Omit<JsonApiOptions, ""withAuth"">
+
+export type DrupalMenuLinkContent = DrupalMenuItem

---FILE: packages/next-drupal/src/types/drupal.ts---
@@ -37,15 +37,15 @@ export interface DrupalMedia extends JsonApiResource {
   name: string
 }
 
-export interface DrupalMenuLinkContent {
+export interface DrupalMenuItem {
   description: string
   enabled: boolean
   expanded: boolean
-  id: string
+  id: DrupalMenuItemId
   menu_name: string
   meta: Record<string, unknown>
   options: Record<string, unknown>
-  parent: string
+  parent: DrupalMenuItemId
   provider: string
   route: {
     name: string
@@ -55,9 +55,11 @@ export interface DrupalMenuLinkContent {
   type: string
   url: string
   weight: string
-  items?: DrupalMenuLinkContent[]
+  items?: DrupalMenuItem[]
 }
 
+export type DrupalMenuItemId = string
+
 export interface DrupalNode extends JsonApiResourceWithPath {
   drupal_internal__nid: number
   drupal_internal__vid: number
@@ -73,6 +75,12 @@ export interface DrupalParagraph extends JsonApiResource {
   drupal_internal__revision_id: number
 }
 
+export type DrupalPathAlias = {
+  alias: string
+  pid: number
+  langcode: string
+}
+
 export interface DrupalSearchApiJsonApiResponse extends JsonApiResponse {
   meta: JsonApiResponse[""meta""] & {
     facets?: DrupalSearchApiFacet[]
@@ -146,9 +154,3 @@ export interface DrupalView<T = Record<string, any>[]> {
   meta: JsonApiResponse[""meta""]
   links: JsonApiResponse[""links""]
 }
-
-export type PathAlias = {
-  alias: string
-  pid: number
-  langcode: string
-}

---FILE: packages/next-drupal/src/types/index.ts---
@@ -1,4 +1,6 @@
-export type * from ""./client""
 export type * from ""./drupal""
+export type * from ""./next-drupal-base""
+export type * from ""./next-drupal""
+export type * from ""./next-drupal-pages""
 export type * from ""./options""
 export type * from ""./resource""

---FILE: packages/next-drupal/src/types/next-drupal-base.ts---
@@ -1,53 +1,43 @@
-export type DrupalClientOptions = {
-  /**
-   * Set the JSON:API prefix.
-   *
-   * * **Default value**: `/jsonapi`
-   * * **Required**: *No*
-   *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#apiprefix)
-   */
-  apiPrefix?: string
+import type { JsonApiParams } from ""./options""
 
+export type NextDrupalBaseOptions = {
   /**
-   * Set debug to true to enable debug messages.
+   * A long-lived access token you can set for the client.
    *
-   * * **Default value**: `false`
+   * * **Default value**: `null`
    * * **Required**: *No*
    *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#debug)
+   * [Documentation](https://next-drupal.org/docs/client/configuration#accesstoken)
    */
-  debug?: boolean
+  accessToken?: AccessToken
 
   /**
-   * Set the default frontPage.
+   * Set the JSON:API prefix.
    *
-   * * **Default value**: `/home`
+   * * **Default value**: `/jsonapi`
    * * **Required**: *No*
    *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#frontpage)
+   * [Documentation](https://next-drupal.org/docs/client/configuration#apiprefix)
    */
-  frontPage?: string
+  apiPrefix?: string
 
   /**
-   * Set custom headers for the fetcher.
-   *
-   * * **Default value**: { ""Content-Type"": ""application/vnd.api+json"", Accept: ""application/vnd.api+json"" }
-   * * **Required**: *No*
+   * Override the default auth. You can use this to implement your own authentication mechanism.
    *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#headers)
+   * [Documentation](https://next-drupal.org/docs/client/configuration#auth)
    */
-  headers?: HeadersInit
+  auth?: NextDrupalAuth
 
   /**
-   * Override the default data serializer. You can use this to add your own JSON:API data deserializer.
+   * Set debug to true to enable debug messages.
    *
-   * * **Default value**: `jsona`
+   * * **Default value**: `false`
    * * **Required**: *No*
    *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#serializer)
+   * [Documentation](https://next-drupal.org/docs/client/configuration#debug)
    */
-  serializer?: Serializer
+  debug?: boolean
+
   /**
    * Override the default fetcher. Use this to add your own fetcher ex. axios.
    *
@@ -59,24 +49,24 @@ export type DrupalClientOptions = {
   fetcher?: Fetcher
 
   /**
-   * Override the default cache.
+   * Set the default frontPage.
    *
-   * * **Default value**: `node-cache`
+   * * **Default value**: `/home`
    * * **Required**: *No*
    *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#cache)
+   * [Documentation](https://next-drupal.org/docs/client/configuration#frontpage)
    */
-  cache?: DataCache
+  frontPage?: string
 
   /**
-   * If set to true, JSON:API errors are thrown in non-production environments. The errors are shown in the Next.js overlay.
+   * Set custom headers for the fetcher.
    *
-   * **Default value**: `true`
-   * **Required**: *No*
+   * * **Default value**: { ""Content-Type"": ""application/vnd.api+json"", Accept: ""application/vnd.api+json"" }
+   * * **Required**: *No*
    *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#throwjsonapierrors)
+   * [Documentation](https://next-drupal.org/docs/client/configuration#headers)
    */
-  throwJsonApiErrors?: boolean
+  headers?: HeadersInit
 
   /**
    * Override the default logger. You can use this to send logs to a third-party service.
@@ -88,13 +78,6 @@ export type DrupalClientOptions = {
    */
   logger?: Logger
 
-  /**
-   * Override the default auth. You can use this to implement your own authentication mechanism.
-   *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#auth)
-   */
-  auth?: DrupalClientAuth
-
   /**
    * Set whether the client should use authenticated requests by default.
    *
@@ -104,68 +87,37 @@ export type DrupalClientOptions = {
    * [Documentation](https://next-drupal.org/docs/client/configuration#withauth)
    */
   withAuth?: boolean
-
-  /**
-   * By default, the client will make a request to JSON:API to retrieve the index. You can turn this off and use the default entry point from the resource name.
-   *
-   * * **Default value**: `false`
-   * * **Required**: *No*
-   *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#auth)
-   */
-  useDefaultResourceTypeEntry?: boolean
-
-  /**
-   * A long-lived access token you can set for the client.
-   *
-   * * **Default value**: `null`
-   * * **Required**: *No*
-   *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#accesstoken)
-   */
-  accessToken?: AccessToken
-
-  /**
-   * The scope used for the current access token.
-   */
-  accessTokenScope?: string
 }
 
-export type DrupalClientAuth =
-  | DrupalClientAuthClientIdSecret
-  | DrupalClientAuthUsernamePassword
-  | DrupalClientAuthAccessToken
+export type NextDrupalAuth =
+  | NextDrupalAuthAccessToken
+  | NextDrupalAuthClientIdSecret
+  | NextDrupalAuthUsernamePassword
   | (() => string)
   | string
 
-export interface DrupalClientAuthUsernamePassword {
-  username: string
-  password: string
-}
+export type NextDrupalAuthAccessToken = AccessToken
 
-export interface DrupalClientAuthClientIdSecret {
+export interface NextDrupalAuthClientIdSecret {
   clientId: string
   clientSecret: string
   url?: string
   scope?: string
 }
 
-export type DrupalClientAuthAccessToken = AccessToken
+export interface NextDrupalAuthUsernamePassword {
+  username: string
+  password: string
+}
 
-export type AccessToken = {
+export interface AccessToken {
   token_type: string
-  expires_in: number
   access_token: string
+  expires_in: number
   refresh_token?: string
 }
 
-export interface DataCache {
-  get(key): Promise<unknown>
-
-  set(key, value, ttl?: number): Promise<unknown>
-
-  del?(keys): Promise<unknown>
-}
+export type AccessTokenScope = string
 
 export type Fetcher = WindowOrWorkerGlobalScope[""fetch""]
 
@@ -179,9 +131,8 @@ export interface Logger {
   error(message): void
 }
 
-export interface Serializer {
-  deserialize(
-    body: Record<string, unknown>,
-    options?: Record<string, unknown>
-  ): unknown
-}
+export type EndpointSearchParams =
+  | string
+  | Record<string, string>
+  | URLSearchParams
+  | JsonApiParams

---FILE: packages/next-drupal/src/types/next-drupal-pages.ts---
@@ -0,0 +1,41 @@
+import type {
+  NextDrupalAuth,
+  NextDrupalAuthClientIdSecret,
+  NextDrupalAuthUsernamePassword,
+  NextDrupalAuthAccessToken,
+} from ""./next-drupal-base""
+import type { JsonDeserializer, NextDrupalOptions } from ""./next-drupal""
+
+export type DrupalClientOptions = NextDrupalOptions & {
+  /**
+   * Override the default data serializer. You can use this to add your own JSON:API data deserializer.
+   *
+   * * **Default value**: `jsona`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client/configuration#serializer)
+   */
+  serializer?: Serializer
+
+  /**
+   * By default, the client will make a request to JSON:API to retrieve the endpoint url. You can turn this off and use the default endpoint based on the resource name.
+   *
+   * * **Default value**: `false`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/configuration#usedefaultresourcetypeentry)
+   */
+  useDefaultResourceTypeEntry?: boolean
+}
+
+export type DrupalClientAuth = NextDrupalAuth
+
+export type DrupalClientAuthUsernamePassword = NextDrupalAuthUsernamePassword
+
+export type DrupalClientAuthClientIdSecret = NextDrupalAuthClientIdSecret
+
+export type DrupalClientAuthAccessToken = NextDrupalAuthAccessToken
+
+export interface Serializer {
+  deserialize: JsonDeserializer
+}

---FILE: packages/next-drupal/src/types/next-drupal.ts---
@@ -0,0 +1,57 @@
+import type { TJsonaModel } from ""jsona/lib/JsonaTypes""
+import type { NextDrupalBaseOptions } from ""./next-drupal-base""
+
+export type NextDrupalOptions = NextDrupalBaseOptions & {
+  /**
+   * Override the default cache.
+   *
+   * * **Default value**: `node-cache`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client/configuration#cache)
+   */
+  cache?: DataCache
+
+  /**
+   * Override the default data deserializer. You can use this to add your own JSON:API data deserializer.
+   *
+   * * **Default value**: `(new jsona()).deserialize`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client/configuration#deserializer)
+   */
+  deserializer?: JsonDeserializer
+
+  /**
+   * If set to true, JSON:API errors are thrown in non-production environments. The errors are shown in the Next.js overlay.
+   *
+   * **Default value**: `true`
+   * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client/configuration#throwjsonapierrors)
+   */
+  throwJsonApiErrors?: boolean
+
+  /**
+   * By default, the resource endpoint will be based on the resource name. If you turn this off, a JSON:API request will retrieve the resource's endpoint url.
+   *
+   * * **Default value**: `true`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client/configuration#usedefaultendpoints)
+   */
+  useDefaultEndpoints?: boolean
+}
+
+export type JsonDeserializer = (
+  body: Record<string, unknown>,
+  options?: Record<string, unknown>
+) => TJsonaModel | TJsonaModel[]
+
+export interface DataCache {
+  get(key): Promise<unknown>
+
+  set(key, value, ttl?: number): Promise<unknown>
+
+  del?(keys): Promise<unknown>
+}

---FILE: packages/next-drupal/src/types/options.ts---
@@ -1,4 +1,4 @@
-import type { DrupalClientAuth } from ""./client""
+import type { NextDrupalAuth } from ""./next-drupal-base""
 
 export type BaseUrl = string
 
@@ -7,7 +7,7 @@ export type Locale = string
 export type PathPrefix = string
 
 export interface FetchOptions extends RequestInit {
-  withAuth?: boolean | DrupalClientAuth
+  withAuth?: boolean | NextDrupalAuth
 }
 
 export type JsonApiOptions = {
@@ -26,7 +26,7 @@ export type JsonApiOptions = {
   )
 
 export type JsonApiWithAuthOption = {
-  withAuth?: boolean | DrupalClientAuth
+  withAuth?: boolean | NextDrupalAuth
 }
 
 export type JsonApiWithCacheOptions = {

---FILE: packages/next-drupal/src/types/resource.ts---
@@ -1,7 +1,7 @@
 /* eslint-disable @typescript-eslint/no-explicit-any */
 
 import type { JsonApiError, JsonApiLinks } from ""../jsonapi-errors""
-import type { PathAlias } from ""./drupal""
+import type { DrupalPathAlias } from ""./drupal""
 
 // TODO: any...ugh.
 export interface JsonApiResponse extends Record<string, any> {
@@ -63,5 +63,5 @@ export interface JsonApiResource extends Record<string, any> {
 }
 
 export interface JsonApiResourceWithPath extends JsonApiResource {
-  path: PathAlias
+  path: DrupalPathAlias
 }

---FILE: packages/next-drupal/tests/DrupalClient/basic-methods.test.ts---
@@ -1,401 +0,0 @@
-import { afterEach, describe, expect, jest, test } from ""@jest/globals""
-import { DrupalClient, JsonApiErrors } from ""../../src""
-import { BASE_URL, mockLogger, spyOnFetch, spyOnFetchOnce } from ""../utils""
-import type { DrupalNode, JsonApiError, Serializer } from ""../../src""
-
-jest.setTimeout(10000)
-
-afterEach(() => {
-  jest.restoreAllMocks()
-})
-
-describe(""buildUrl()"", () => {
-  const client = new DrupalClient(BASE_URL)
-
-  test(""builds a url"", () => {
-    expect(client.buildUrl(""http://example.com"").toString()).toEqual(
-      ""http://example.com/""
-    )
-  })
-
-  test(""builds a relative url"", () => {
-    expect(client.buildUrl(""/foo"").toString()).toEqual(`${BASE_URL}/foo`)
-  })
-
-  test(""builds a url with params"", () => {
-    expect(client.buildUrl(""/foo"", { bar: ""baz"" }).toString()).toEqual(
-      `${BASE_URL}/foo?bar=baz`
-    )
-
-    expect(
-      client
-        .buildUrl(""/jsonapi/node/article"", {
-          sort: ""-created"",
-          ""fields[node--article]"": ""title,path"",
-        })
-        .toString()
-    ).toEqual(
-      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
-    )
-  })
-
-  test(""builds a url from object (DrupalJsonApiParams)"", () => {
-    const params = {
-      getQueryObject: () => ({
-        sort: ""-created"",
-        ""fields[node--article]"": ""title,path"",
-      }),
-    }
-
-    expect(client.buildUrl(""/jsonapi/node/article"", params).toString()).toEqual(
-      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
-    )
-  })
-})
-
-describe(""debug()"", () => {
-  test(""does not print messages by default"", () => {
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, { logger })
-    const message = ""Example message""
-    client.debug(message)
-    expect(logger.debug).not.toHaveBeenCalled()
-  })
-
-  test(""prints messages when debugging on"", () => {
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, { logger, debug: true })
-    const message = ""Example message""
-    client.debug(message)
-    expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
-    expect(logger.debug).toHaveBeenCalledWith(message)
-  })
-})
-
-describe(""deserialize()"", () => {
-  test(""deserializes JSON:API resource"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const url = client.buildUrl(
-      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053"",
-      {
-        include: ""field_tags"",
-      }
-    )
-
-    const response = await client.fetch(url.toString())
-    const json = await response.json()
-    const article = client.deserialize(json) as DrupalNode
-
-    expect(article).toMatchSnapshot()
-    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
-    expect(article.field_tags).toHaveLength(3)
-  })
-
-  test(""deserializes JSON:API collection"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const url = client.buildUrl(""/jsonapi/node/article"", {
-      getQueryObject: () => ({
-        ""fields[node--article]"": ""title"",
-      }),
-    })
-
-    const response = await client.fetch(url.toString())
-    const json = await response.json()
-    const articles = client.deserialize(json) as DrupalNode[]
-
-    expect(articles).toMatchSnapshot()
-  })
-
-  test(""allows for custom data serializer"", async () => {
-    const serializer: Serializer = {
-      deserialize: (
-        body: { data: { id: string; attributes: { title: string } } },
-        options: { pathPrefix: string }
-      ) => {
-        return {
-          id: body.data.id,
-          title: `${options.pathPrefix}: ${body.data.attributes.title}`,
-        }
-      },
-    }
-    const client = new DrupalClient(BASE_URL, {
-      serializer,
-    })
-    const url = client.buildUrl(
-      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
-    )
-
-    const response = await client.fetch(url.toString())
-    const json = await response.json()
-    const article = client.deserialize(json, {
-      pathPrefix: ""TITLE"",
-    }) as DrupalNode
-
-    expect(article).toMatchSnapshot()
-    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
-    expect(article.title).toEqual(`TITLE: ${json.data.attributes.title}`)
-  })
-
-  test(""returns null if no body"", () => {
-    const client = new DrupalClient(BASE_URL)
-    expect(client.deserialize("""")).toBe(null)
-  })
-})
-
-describe(""formatJsonApiErrors()"", () => {
-  const errors: JsonApiError[] = [
-    {
-      status: ""404"",
-      title: ""First error"",
-    },
-    {
-      status: ""500"",
-      title: ""Second error"",
-      detail: ""is ignored"",
-    },
-  ]
-  const client = new DrupalClient(BASE_URL)
-
-  test(""formats the first error in the array"", () => {
-    expect(client.formatJsonApiErrors(errors)).toBe(""404 First error"")
-  })
-
-  test(""includes the optional error detail"", () => {
-    expect(
-      client.formatJsonApiErrors([
-        {
-          ...errors[0],
-          detail: ""Detail is included."",
-        },
-        errors[1],
-      ])
-    ).toBe(""404 First error\nDetail is included."")
-  })
-})
-
-describe(""getErrorsFromResponse()"", () => {
-  const client = new DrupalClient(BASE_URL)
-
-  test(""returns application/json error message"", async () => {
-    const message = ""An error occurred.""
-    const response = new Response(JSON.stringify({ message }), {
-      status: 403,
-      headers: {
-        ""content-type"": ""application/json"",
-      },
-    })
-
-    expect(await client.getErrorsFromResponse(response)).toBe(message)
-  })
-
-  test(""returns application/vnd.api+json errors"", async () => {
-    const payload = {
-      errors: [
-        {
-          status: ""404"",
-          title: ""Not found"",
-          detail: ""Oops."",
-        },
-        {
-          status: ""418"",
-          title: ""I am a teapot"",
-          detail: ""Even RFCs have easter eggs."",
-        },
-      ] as JsonApiError[],
-    }
-    const response = new Response(JSON.stringify(payload), {
-      status: 403,
-      headers: {
-        ""content-type"": ""application/vnd.api+json"",
-      },
-    })
-
-    expect(await client.getErrorsFromResponse(response)).toMatchObject(
-      payload.errors
-    )
-  })
-
-  test(""returns the response status text if the application/vnd.api+json errors cannot be found"", async () => {
-    const payload = {
-      contains: 'no ""errors"" entry',
-    }
-    const response = new Response(JSON.stringify(payload), {
-      status: 418,
-      statusText: ""I'm a Teapot"",
-      headers: {
-        ""content-type"": ""application/vnd.api+json"",
-      },
-    })
-
-    expect(await client.getErrorsFromResponse(response)).toBe(""I'm a Teapot"")
-  })
-
-  test(""returns the response status text if no errors can be found"", async () => {
-    const response = new Response(JSON.stringify({}), {
-      status: 403,
-      statusText: ""Forbidden"",
-    })
-
-    expect(await client.getErrorsFromResponse(response)).toBe(""Forbidden"")
-  })
-})
-
-describe(""throwError()"", () => {
-  test(""throws the error"", () => {
-    const client = new DrupalClient(BASE_URL)
-    expect(() => {
-      client.throwError(new Error(""Example error""))
-    }).toThrow(""Example error"")
-  })
-
-  test(""logs the error when throwJsonApiErrors is false"", () => {
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      throwJsonApiErrors: false,
-      logger,
-    })
-    expect(() => {
-      client.throwError(new Error(""Example error""))
-    }).not.toThrow()
-    expect(logger.error).toHaveBeenCalledWith(new Error(""Example error""))
-  })
-})
-
-describe(""throwIfJsonApiErrors()"", () => {
-  const client = new DrupalClient(BASE_URL)
-
-  test(""does not throw if response is ok"", async () => {
-    expect.assertions(1)
-
-    const response = new Response(JSON.stringify({}))
-
-    await expect(client.throwIfJsonApiErrors(response)).resolves.toBe(undefined)
-  })
-
-  test(""throws a JsonApiErrors object"", async () => {
-    expect.assertions(1)
-
-    const payload = {
-      errors: [
-        {
-          status: ""404"",
-          title: ""Not found"",
-          detail: ""Oops."",
-        },
-        {
-          status: ""418"",
-          title: ""I am a teapot"",
-          detail: ""Even RFCs have easter eggs."",
-        },
-      ] as JsonApiError[],
-    }
-    const status = 403
-    const response = new Response(JSON.stringify(payload), {
-      status,
-      headers: {
-        ""content-type"": ""application/vnd.api+json"",
-      },
-    })
-
-    const expectedError = new JsonApiErrors(payload.errors, status)
-    await expect(client.throwIfJsonApiErrors(response)).rejects.toEqual(
-      expectedError
-    )
-  })
-})
-
-describe(""validateDraftUrl()"", () => {
-  test(""outputs debug messages"", async () => {
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      debug: true,
-      logger,
-    })
-    const path = ""/example""
-    const searchParams = new URLSearchParams({
-      path,
-    })
-
-    const testPayload = { test: ""resolved"" }
-    spyOnFetchOnce({
-      responseBody: testPayload,
-    })
-    spyOnFetchOnce({
-      responseBody: {
-        message: ""fail"",
-      },
-      status: 404,
-    })
-
-    let response = await client.validateDraftUrl(searchParams)
-    expect(response.status).toBe(200)
-    expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
-    expect(logger.debug).toHaveBeenCalledWith(
-      `Fetching draft url validation for ${path}.`
-    )
-    expect(logger.debug).toHaveBeenCalledWith(`Validated path, ${path}`)
-
-    response = await client.validateDraftUrl(searchParams)
-    expect(response.status).toBe(404)
-    expect(logger.debug).toHaveBeenCalledWith(
-      `Could not validate path, ${path}`
-    )
-  })
-
-  test(""calls draft-url endpoint"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const searchParams = new URLSearchParams({
-      path: ""/example"",
-    })
-
-    const testPayload = { test: ""resolved"" }
-    const fetchSpy = spyOnFetch({ responseBody: testPayload })
-
-    await client.validateDraftUrl(searchParams)
-
-    expect(fetchSpy).toHaveBeenNthCalledWith(
-      1,
-      `${BASE_URL}/next/draft-url`,
-      expect.objectContaining({
-        method: ""POST"",
-        headers: {
-          Accept: ""application/vnd.api+json"",
-          ""Content-Type"": ""application/json"",
-        },
-        body: JSON.stringify(Object.fromEntries(searchParams.entries())),
-      })
-    )
-  })
-
-  test(""returns a response object on success"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const searchParams = new URLSearchParams({
-      path: ""/example"",
-    })
-
-    const testPayload = { test: ""resolved"" }
-    spyOnFetch({ responseBody: testPayload })
-
-    const response = await client.validateDraftUrl(searchParams)
-
-    expect(response.ok).toBe(true)
-    expect(response.status).toBe(200)
-    expect(await response.json()).toMatchObject(testPayload)
-  })
-
-  test(""returns a response if fetch throws"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const searchParams = new URLSearchParams({
-      path: ""/example"",
-    })
-
-    const message = ""random fetch error""
-    spyOnFetch({ throwErrorMessage: message })
-
-    const response = await client.validateDraftUrl(searchParams)
-
-    expect(response.ok).toBe(false)
-    expect(response.status).toBe(401)
-    expect(await response.json()).toMatchObject({ message })
-  })
-})

---FILE: packages/next-drupal/tests/DrupalClient/constructor.test.ts---
@@ -1,316 +0,0 @@
-import { afterEach, describe, expect, jest, test } from ""@jest/globals""
-import { Jsona } from ""jsona""
-import { DrupalClient } from ""../../src""
-import { DEBUG_MESSAGE_PREFIX, logger as defaultLogger } from ""../../src/logger""
-import { BASE_URL } from ""../utils""
-import type { DrupalClientAuth, Logger } from ""../../src""
-
-afterEach(() => {
-  jest.restoreAllMocks()
-})
-
-describe(""baseUrl parameter"", () => {
-  const env = process.env
-
-  beforeEach(() => {
-    jest.resetModules()
-    process.env = { ...env }
-  })
-
-  afterEach(() => {
-    process.env = env
-  })
-
-  test(""throws error given an invalid baseUrl"", () => {
-    // @ts-ignore
-    expect(() => new DrupalClient()).toThrow(""The 'baseUrl' param is required."")
-
-    // @ts-ignore
-    expect(() => new DrupalClient({})).toThrow(
-      ""The 'baseUrl' param is required.""
-    )
-  })
-
-  test(""turns throwJsonApiErrors off in production"", () => {
-    process.env = {
-      ...process.env,
-      NODE_ENV: ""production"",
-    }
-
-    const client = new DrupalClient(BASE_URL)
-    expect(client.throwJsonApiErrors).toBe(false)
-  })
-
-  test(""announces debug mode when turned on"", () => {
-    const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
-      //
-    })
-
-    new DrupalClient(BASE_URL, {
-      debug: true,
-    })
-
-    expect(consoleSpy).toHaveBeenCalledWith(
-      DEBUG_MESSAGE_PREFIX,
-      ""Debug mode is on.""
-    )
-  })
-
-  test(""returns a DrupalClient"", () => {
-    expect(new DrupalClient(BASE_URL)).toBeInstanceOf(DrupalClient)
-  })
-})
-
-describe(""options parameter"", () => {
-  describe(""accessToken"", () => {
-    test(""defaults to `undefined`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.accessToken).toBe(undefined)
-    })
-
-    test(""sets the accessToken"", async () => {
-      const accessToken = {
-        token_type: ""Bearer"",
-        expires_in: 300,
-        access_token:
-          ""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImVlNDkyOTI4ZTZjNj"",
-      }
-
-      const client = new DrupalClient(BASE_URL, {
-        accessToken,
-      })
-
-      expect(client.accessToken).toEqual(accessToken)
-    })
-  })
-
-  describe(""apiPrefix"", () => {
-    test('defaults to ""/jsonapi""', () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.apiPrefix).toBe(""/jsonapi"")
-    })
-
-    test(""sets the apiPrefix"", () => {
-      const customEndPoint = ""/customapi""
-      const client = new DrupalClient(BASE_URL, {
-        apiPrefix: customEndPoint,
-      })
-      expect(client.apiPrefix).toBe(customEndPoint)
-    })
-  })
-
-  describe(""auth"", () => {
-    test(""defaults to `undefined`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.auth).toBe(undefined)
-    })
-
-    test(""sets the auth credentials"", () => {
-      const auth: DrupalClientAuth = {
-        username: ""example"",
-        password: ""pw"",
-      }
-      const client = new DrupalClient(BASE_URL, {
-        auth,
-      })
-      expect(client._auth).toMatchObject({
-        ...auth,
-      })
-    })
-  })
-
-  describe(""cache"", () => {
-    test(""defaults to `null`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.cache).toBe(null)
-    })
-
-    test(""sets the cache storage"", () => {
-      const customCache: DrupalClient[""cache""] = {
-        async get(key) {
-          //
-        },
-        async set(key, value, ttl?: number) {
-          //
-        },
-      }
-      const client = new DrupalClient(BASE_URL, {
-        cache: customCache,
-      })
-      expect(client.cache).toBe(customCache)
-    })
-  })
-
-  describe(""debug"", () => {
-    test(""defaults to `false`"", () => {
-      const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
-        //
-      })
-
-      new DrupalClient(BASE_URL)
-
-      expect(consoleSpy).toBeCalledTimes(0)
-    })
-
-    test(""turns on debug mode"", () => {
-      const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
-        //
-      })
-
-      new DrupalClient(BASE_URL, { debug: true })
-
-      expect(consoleSpy).toBeCalledTimes(1)
-    })
-  })
-
-  describe(""fetcher"", () => {
-    test(""defaults to `undefined`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.fetcher).toBe(undefined)
-    })
-
-    test(""sets up a custom fetcher"", () => {
-      const customFetcher: DrupalClient[""fetcher""] = async () => {
-        //
-      }
-      const client = new DrupalClient(BASE_URL, {
-        fetcher: customFetcher,
-      })
-      expect(client.fetcher).toBe(customFetcher)
-    })
-  })
-
-  describe(""frontPage"", () => {
-    test('defaults to ""/home""', () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.frontPage).toBe(""/home"")
-    })
-
-    test(""sets up a custom frontPage"", () => {
-      const customFrontPage = ""/front""
-
-      const client = new DrupalClient(BASE_URL, {
-        frontPage: customFrontPage,
-      })
-      expect(client.frontPage).toBe(customFrontPage)
-    })
-  })
-
-  describe(""headers"", () => {
-    test(""defaults to `Content-Type`/`Accept`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client._headers).toMatchObject({
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
-      })
-    })
-
-    test(""sets custom headers"", () => {
-      const customHeaders = {
-        CustomContentType: ""application/json"",
-        CustomAccept: ""application/json"",
-      }
-
-      const client = new DrupalClient(BASE_URL, {
-        headers: customHeaders,
-      })
-      expect(client._headers).toMatchObject(customHeaders)
-    })
-  })
-
-  describe(""logger"", () => {
-    test(""defaults to `console`-based `Logger`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.logger).toBe(defaultLogger)
-    })
-
-    test(""sets up a custom logger"", () => {
-      const customLogger: Logger = {
-        log: () => {
-          //
-        },
-        debug: () => {
-          //
-        },
-        warn: () => {
-          //
-        },
-        error: () => {
-          //
-        },
-      }
-
-      const client = new DrupalClient(BASE_URL, {
-        logger: customLogger,
-      })
-      expect(client.logger).toBe(customLogger)
-    })
-  })
-
-  describe(""serializer"", () => {
-    test(""defaults to `new Jsona()`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.serializer).toBeInstanceOf(Jsona)
-    })
-
-    test(""sets up a custom serializer"", () => {
-      const customSerializer: DrupalClient[""serializer""] = {
-        deserialize(
-          body: Record<string, unknown>,
-          options?: Record<string, unknown>
-        ): unknown {
-          return {
-            deserialized: true,
-          }
-        },
-      }
-
-      const client = new DrupalClient(BASE_URL, {
-        serializer: customSerializer,
-      })
-      expect(client.serializer).toBe(customSerializer)
-    })
-  })
-
-  describe(""throwJsonApiErrors"", () => {
-    test(""defaults to `true`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.throwJsonApiErrors).toBe(true)
-    })
-
-    test(""can be set to `false`"", () => {
-      const client = new DrupalClient(BASE_URL, {
-        throwJsonApiErrors: false,
-      })
-      expect(client.throwJsonApiErrors).toBe(false)
-    })
-  })
-
-  describe(""useDefaultResourceTypeEntry"", () => {
-    test(""defaults to `false`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.useDefaultResourceTypeEntry).toBe(false)
-    })
-
-    test(""can be set to `true`"", () => {
-      const client = new DrupalClient(BASE_URL, {
-        useDefaultResourceTypeEntry: true,
-      })
-      expect(client.useDefaultResourceTypeEntry).toBe(true)
-    })
-  })
-
-  describe(""withAuth"", () => {
-    test(""defaults to `false`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.withAuth).toBe(false)
-    })
-
-    test(""can be set to `true`"", () => {
-      const client = new DrupalClient(BASE_URL, {
-        withAuth: true,
-      })
-      expect(client.withAuth).toBe(true)
-    })
-  })
-})

---FILE: packages/next-drupal/tests/DrupalClient/fetch-methods.test.ts---
@@ -1,411 +0,0 @@
-import { afterEach, describe, expect, jest, test } from ""@jest/globals""
-import { DrupalClient } from ""../../src""
-import {
-  BASE_URL,
-  mockLogger,
-  mocks,
-  spyOnFetch,
-  spyOnFetchOnce,
-} from ""../utils""
-import type { AccessToken, DrupalClientAuth } from ""../../src""
-
-afterEach(() => {
-  jest.restoreAllMocks()
-})
-
-describe(""fetch()"", () => {
-  const defaultInit = {
-    credentials: ""include"",
-    headers: {
-      ""Content-Type"": ""application/vnd.api+json"",
-      Accept: ""application/vnd.api+json"",
-    },
-  }
-  const mockUrl = ""https://example.com/mock-url""
-  const authHeader = mocks.auth.customAuthenticationHeader
-
-  test(""uses global fetch by default"", async () => {
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      debug: true,
-      logger,
-    })
-    const mockResponseBody = { success: true }
-    const mockUrl = ""https://example.com/mock-url""
-    const mockInit = {
-      priority: ""high"",
-    }
-    const fetchSpy = spyOnFetch({ responseBody: mockResponseBody })
-
-    const response = await client.fetch(mockUrl, mockInit)
-
-    expect(fetchSpy).toBeCalledTimes(1)
-    expect(fetchSpy).toBeCalledWith(
-      mockUrl,
-      expect.objectContaining({
-        ...defaultInit,
-        ...mockInit,
-      })
-    )
-    expect(response.headers.get(""content-type"")).toEqual(
-      ""application/vnd.api+json""
-    )
-    expect(await response.json()).toMatchObject(mockResponseBody)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      `Using default fetch, fetching: ${mockUrl}`
-    )
-  })
-
-  test(""allows for custom fetcher"", async () => {
-    const logger = mockLogger()
-    const customFetch = jest.fn()
-
-    const client = new DrupalClient(BASE_URL, {
-      fetcher: customFetch,
-      debug: true,
-      logger,
-    })
-    const mockUrl = ""https://example.com/mock-url""
-    const mockInit = {
-      priority: ""high"",
-    }
-
-    await client.fetch(mockUrl, mockInit)
-
-    expect(customFetch).toBeCalledTimes(1)
-    expect(customFetch).toHaveBeenCalledWith(
-      mockUrl,
-      expect.objectContaining({
-        ...mockInit,
-        ...defaultInit,
-      })
-    )
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      `Using custom fetcher, fetching: ${mockUrl}`
-    )
-  })
-
-  test(""allows setting custom headers"", async () => {
-    const customFetch = jest.fn()
-    const constructorHeaders = {
-      constructor: ""header"",
-      Accept: ""application/set-from-constructor"",
-    }
-    const paramHeaders = {
-      params: ""header"",
-      Accept: ""application/set-from-params"",
-    }
-    const client = new DrupalClient(BASE_URL, {
-      fetcher: customFetch,
-      headers: constructorHeaders,
-    })
-
-    const url = ""http://example.com""
-
-    await client.fetch(url, {
-      headers: paramHeaders,
-    })
-
-    expect(customFetch).toHaveBeenLastCalledWith(
-      url,
-      expect.objectContaining({
-        ...defaultInit,
-        headers: {
-          ...constructorHeaders,
-          ...paramHeaders,
-        },
-      })
-    )
-  })
-
-  test(""does not add Authorization header by default"", async () => {
-    const fetcher = jest.fn()
-    const client = new DrupalClient(BASE_URL, {
-      auth: authHeader,
-      fetcher,
-    })
-
-    await client.fetch(mockUrl)
-
-    expect(fetcher).toHaveBeenLastCalledWith(
-      mockUrl,
-      expect.objectContaining({
-        headers: expect.not.objectContaining({
-          Authorization: expect.anything(),
-        }),
-      })
-    )
-  })
-
-  test(""optionally adds Authorization header from constructor"", async () => {
-    const fetcher = jest.fn()
-    const client = new DrupalClient(BASE_URL, {
-      auth: authHeader,
-      fetcher,
-    })
-
-    await client.fetch(mockUrl, { withAuth: true })
-
-    expect(fetcher).toHaveBeenLastCalledWith(
-      mockUrl,
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: authHeader,
-        }),
-      })
-    )
-  })
-
-  test(""optionally adds Authorization header from init"", async () => {
-    const fetcher = jest.fn()
-    const client = new DrupalClient(BASE_URL, {
-      fetcher,
-    })
-
-    await client.fetch(mockUrl, { withAuth: authHeader })
-
-    expect(fetcher).toHaveBeenLastCalledWith(
-      mockUrl,
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: authHeader,
-        }),
-      })
-    )
-  })
-})
-
-describe(""getAccessToken()"", () => {
-  const accessToken = mocks.auth.accessToken
-  const clientIdSecret = mocks.auth.clientIdSecret
-
-  test(""uses the long-lived access token from constructor"", async () => {
-    const longLivedAccessToken: AccessToken = {
-      ...accessToken,
-      expires_in: 360000,
-    }
-    const client = new DrupalClient(BASE_URL, {
-      accessToken: longLivedAccessToken,
-    })
-    const fetchSpy = spyOnFetch({
-      responseBody: {
-        ...accessToken,
-        access_token: ""not-used"",
-      },
-    })
-
-    const token = await client.getAccessToken({
-      clientId: """",
-      clientSecret: """",
-      scope: undefined,
-    })
-    expect(fetchSpy).toHaveBeenCalledTimes(0)
-    expect(token).toBe(longLivedAccessToken)
-  })
-
-  test(""throws if auth is not configured"", async () => {
-    const fetchSpy = spyOnFetch({
-      responseBody: accessToken,
-    })
-
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      // @ts-ignore
-      client.getAccessToken({ clientId: clientIdSecret.clientId })
-    ).rejects.toThrow(
-      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
-    )
-    expect(fetchSpy).toHaveBeenCalledTimes(0)
-  })
-
-  test(""throws if auth is not ClientIdSecret"", async () => {
-    const fetchSpy = spyOnFetch({
-      responseBody: accessToken,
-    })
-
-    const client = new DrupalClient(BASE_URL, {
-      auth: mocks.auth.basicAuth,
-      withAuth: true,
-    })
-
-    await expect(
-      // @ts-ignore
-      client.getAccessToken()
-    ).rejects.toThrow(
-      ""'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth""
-    )
-    expect(fetchSpy).toHaveBeenCalledTimes(0)
-  })
-
-  test(""fetches an access token"", async () => {
-    spyOnFetch({
-      responseBody: accessToken,
-    })
-
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: clientIdSecret,
-      debug: true,
-      logger,
-    })
-
-    const token = await client.getAccessToken()
-    expect(token).toEqual(accessToken)
-    expect(logger.debug).toHaveBeenCalledWith(""Fetching new access token."")
-  })
-
-  test(""re-uses access token"", async () => {
-    spyOnFetchOnce({
-      responseBody: accessToken,
-    })
-    const fetchSpy = spyOnFetchOnce({
-      responseBody: {
-        ...accessToken,
-        access_token: ""differentAccessToken"",
-        expires_in: 1800,
-      },
-    })
-
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: clientIdSecret,
-      debug: true,
-      logger,
-    })
-
-    const token1 = await client.getAccessToken()
-    const token2 = await client.getAccessToken()
-    expect(token1).toEqual(accessToken)
-    expect(token1).toEqual(token2)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      ""Using existing access token.""
-    )
-    expect(fetchSpy).toHaveBeenCalledTimes(1)
-  })
-})
-
-describe(""getAuthorizationHeader()"", () => {
-  const accessToken = mocks.auth.accessToken
-  const basicAuth = mocks.auth.basicAuth
-  const basicAuthHeader = `Basic ${Buffer.from(
-    `${basicAuth.username}:${basicAuth.password}`
-  ).toString(""base64"")}`
-  const clientIdSecret = mocks.auth.clientIdSecret
-  const authCallback = mocks.auth.callback
-  const authHeader = mocks.auth.customAuthenticationHeader
-
-  test(""returns Basic Auth"", async () => {
-    const auth: DrupalClientAuth = basicAuth
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-      debug: true,
-      logger,
-    })
-
-    const header = await client.getAuthorizationHeader(auth)
-
-    expect(header).toBe(basicAuthHeader)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      ""Using basic authorization header.""
-    )
-  })
-
-  test(""returns Client Id/Secret"", async () => {
-    const auth: DrupalClientAuth = clientIdSecret
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-      debug: true,
-      logger,
-    })
-    jest
-      .spyOn(client, ""getAccessToken"")
-      .mockImplementation(async () => accessToken)
-
-    const header = await client.getAuthorizationHeader(auth)
-
-    expect(header).toBe(`Bearer ${accessToken.access_token}`)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      ""Using access token authorization header retrieved from Client Id/Secret.""
-    )
-  })
-
-  test(""returns Access Token"", async () => {
-    const auth: DrupalClientAuth = accessToken
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-      debug: true,
-      logger,
-    })
-
-    const header = await client.getAuthorizationHeader(auth)
-
-    expect(header).toBe(`${auth.token_type} ${auth.access_token}`)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      ""Using access token authorization header.""
-    )
-  })
-
-  test(""returns auth header"", async () => {
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-      debug: true,
-      logger,
-    })
-
-    const header = await client.getAuthorizationHeader(authHeader)
-
-    expect(header).toBe(authHeader)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      ""Using custom authorization header.""
-    )
-  })
-
-  test(""returns result of auth callback"", async () => {
-    const auth: DrupalClientAuth = jest.fn(authCallback)
-    const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-      debug: true,
-      logger,
-    })
-
-    const header = await client.getAuthorizationHeader(auth)
-
-    expect(header).toBe(authCallback())
-    expect(auth).toBeCalledTimes(1)
-    expect(logger.debug).toHaveBeenLastCalledWith(
-      ""Using custom authorization callback.""
-    )
-  })
-
-  test(""throws an error if auth is undefined"", async () => {
-    const auth = undefined
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-    })
-
-    await expect(client.getAuthorizationHeader(auth)).rejects.toThrow(
-      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
-    )
-  })
-
-  test(""throws an error if auth is unrecognized"", async () => {
-    const auth = {
-      username: ""admin"",
-      token_type: ""Bearer"",
-    }
-    const client = new DrupalClient(BASE_URL, {
-      auth: ""is not used"",
-    })
-
-    // @ts-ignore
-    await expect(client.getAuthorizationHeader(auth)).rejects.toThrow(
-      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
-    )
-  })
-})

---FILE: packages/next-drupal/tests/DrupalClient/getters-setters.test.ts---
@@ -1,223 +0,0 @@
-import { afterEach, describe, expect, jest, test } from ""@jest/globals""
-import {
-  AccessToken,
-  DrupalClient,
-  DrupalClientAuthAccessToken,
-  DrupalClientAuthUsernamePassword,
-  DrupalClientOptions,
-} from ""../../src""
-import { BASE_URL, mocks } from ""../utils""
-
-afterEach(() => {
-  jest.restoreAllMocks()
-})
-
-describe(""apiPrefix"", () => {
-  test(""get apiPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
-    expect(client.apiPrefix).toBe(""/jsonapi"")
-  })
-  test(""set apiPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
-    client.apiPrefix = ""/api""
-    expect(client.apiPrefix).toBe(""/api"")
-  })
-  test('set apiPrefix and prefixes with ""/""', () => {
-    const client = new DrupalClient(BASE_URL)
-    client.apiPrefix = ""api""
-    expect(client.apiPrefix).toBe(""/api"")
-  })
-})
-
-describe(""auth"", () => {
-  describe(""throws an error if invalid Basic Auth"", () => {
-    test(""missing username"", () => {
-      expect(() => {
-        const client = new DrupalClient(BASE_URL)
-        // @ts-ignore
-        client.auth = {
-          password: ""password"",
-        }
-      }).toThrow(
-        ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
-      )
-    })
-
-    test(""missing password"", () => {
-      expect(() => {
-        const client = new DrupalClient(BASE_URL)
-        // @ts-ignore
-        client.auth = {
-          username: ""admin"",
-        }
-      }).toThrow(
-        ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
-      )
-    })
-  })
-
-  describe(""throws an error if invalid Access Token"", () => {
-    test(""missing access_token"", () => {
-      expect(() => {
-        const client = new DrupalClient(BASE_URL)
-        // @ts-ignore
-        client.auth = {
-          token_type: mocks.auth.accessToken.token_type,
-        }
-      }).toThrow(
-        ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
-      )
-    })
-
-    test(""missing token_type"", () => {
-      expect(() => {
-        const client = new DrupalClient(BASE_URL)
-        // @ts-ignore
-        client.auth = {
-          access_token: mocks.auth.accessToken.access_token,
-        }
-      }).toThrow(
-        ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
-      )
-    })
-  })
-
-  describe(""throws an error if invalid Client ID/Secret"", () => {
-    test(""missing clientId"", () => {
-      expect(() => {
-        const client = new DrupalClient(BASE_URL)
-        // @ts-ignore
-        client.auth = {
-          clientSecret: mocks.auth.clientIdSecret.clientSecret,
-        }
-      }).toThrow(
-        ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
-      )
-    })
-
-    test(""missing clientSecret"", () => {
-      expect(() => {
-        const client = new DrupalClient(BASE_URL)
-        // @ts-ignore
-        client.auth = {
-          clientId: mocks.auth.clientIdSecret.clientId,
-        }
-      }).toThrow(
-        ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
-      )
-    })
-  })
-
-  test(""sets Basic Auth"", () => {
-    const basicAuth: DrupalClientAuthUsernamePassword = {
-      ...mocks.auth.basicAuth,
-    }
-    const client = new DrupalClient(BASE_URL)
-    client.auth = basicAuth
-    expect(client._auth).toMatchObject({ ...basicAuth })
-  })
-
-  test(""sets Access Token"", () => {
-    const accessToken = {
-      ...mocks.auth.accessToken,
-    }
-    const client = new DrupalClient(BASE_URL)
-    client.auth = accessToken
-    expect(client._auth).toMatchObject({ ...accessToken })
-  })
-
-  test(""sets Client ID/Secret"", () => {
-    const clientIdSecret = {
-      ...mocks.auth.clientIdSecret,
-    }
-    const client = new DrupalClient(BASE_URL)
-    client.auth = clientIdSecret
-    expect(client._auth).toMatchObject({ ...clientIdSecret })
-  })
-
-  test(""sets auth function"", () => {
-    const authFunction = mocks.auth.function
-    const client = new DrupalClient(BASE_URL)
-    client.auth = authFunction
-    expect(client._auth).toBe(authFunction)
-  })
-
-  test(""sets custom Authorization string"", () => {
-    const authString = `${mocks.auth.customAuthenticationHeader}`
-    const client = new DrupalClient(BASE_URL)
-    client.auth = authString
-    expect(client._auth).toBe(authString)
-  })
-
-  test(""sets a default access token url"", () => {
-    const clientIdSecret = {
-      ...mocks.auth.clientIdSecret,
-    }
-    const client = new DrupalClient(BASE_URL)
-    client.auth = clientIdSecret
-    expect(client._auth.url).toBe(""/oauth/token"")
-  })
-
-  test(""can override the default access token url"", () => {
-    const clientIdSecret = {
-      ...mocks.auth.clientIdSecret,
-      url: ""/custom/oauth/token"",
-    }
-    const client = new DrupalClient(BASE_URL)
-    client.auth = clientIdSecret
-    expect(client._auth.url).toBe(""/custom/oauth/token"")
-  })
-})
-
-describe(""headers"", () => {
-  describe(""set headers"", () => {
-    test(""using key-value pairs"", () => {
-      const headers = [
-        [""Content-Type"", ""application/x-www-form-urlencoded""],
-        [""Accept"", ""application/json""],
-      ] as DrupalClientOptions[""headers""]
-      const client = new DrupalClient(BASE_URL)
-      client.headers = headers
-      expect(client._headers).toBe(headers)
-    })
-
-    test(""using object literal"", () => {
-      const headers = {
-        ""Content-Type"": ""application/x-www-form-urlencoded"",
-        Accept: ""application/json"",
-      } as DrupalClientOptions[""headers""]
-      const client = new DrupalClient(BASE_URL)
-      client.headers = headers
-      expect(client._headers).toBe(headers)
-    })
-
-    test(""using Headers object"", () => {
-      const headers = new Headers()
-      headers.append(""Content-Type"", ""application/x-www-form-urlencoded"")
-      headers.append(""Accept"", ""application/json"")
-
-      const client = new DrupalClient(BASE_URL)
-      client.headers = headers
-      expect(client._headers).toBe(headers)
-    })
-  })
-})
-
-describe(""token"", () => {
-  test(""set token"", () => {
-    function getExpiresOn(token: AccessToken): number {
-      return Date.now() + token.expires_in * 1000
-    }
-
-    const accessToken = {
-      ...mocks.auth.accessToken,
-    } as DrupalClientAuthAccessToken
-    const before = getExpiresOn(accessToken)
-
-    const client = new DrupalClient(BASE_URL)
-    client.token = accessToken
-    expect(client._token).toBe(accessToken)
-    expect(client.tokenExpiresOn).toBeGreaterThanOrEqual(before)
-    expect(client.tokenExpiresOn).toBeLessThanOrEqual(getExpiresOn(accessToken))
-  })
-})

---FILE: packages/next-drupal/tests/DrupalMenuTree/drupal-menu-tree.test.ts---
@@ -0,0 +1,101 @@
+import { describe, expect, test } from ""@jest/globals""
+import { DrupalMenuTree } from ""../../src/menu-tree""
+import type { DrupalMenuItem } from ""../../src""
+
+const menuItems = [
+  { id: ""1"", parent: """" },
+  { id: ""2"", parent: """" },
+  { id: ""3"", parent: """" },
+  { id: ""4"", parent: ""1"" },
+  { id: ""5"", parent: ""1"" },
+  { id: ""6"", parent: ""1"" },
+  { id: ""7"", parent: ""4"" },
+]
+
+test(""extends Array"", () => {
+  const tree = new DrupalMenuTree<DrupalMenuItem>([])
+
+  expect(Array.isArray(tree)).toBe(true)
+})
+
+describe(""parentId parameter"", () => {
+  test(""has no parent ID by default"", () => {
+    const tree = new DrupalMenuTree<DrupalMenuItem>([])
+
+    expect(tree.parentId).toBe("""")
+  })
+
+  test(""has the given parent ID"", () => {
+    const tree = new DrupalMenuTree<DrupalMenuItem>([], ""42"")
+
+    expect(tree.parentId).toBe(""42"")
+  })
+
+  test(""child trees have the correct parentId"", () => {
+    const tree = new DrupalMenuTree(menuItems)
+
+    expect(tree[0]?.items?.parentId).toBe(""1"")
+    expect(tree[0]?.items?.[0]?.items?.parentId).toBe(""4"")
+  })
+})
+
+describe(""depth parameter"", () => {
+  test(""has a depth of 1 by default"", () => {
+    const tree = new DrupalMenuTree<DrupalMenuItem>([])
+
+    expect(tree.depth).toBe(1)
+  })
+
+  test(""child trees have the correct depth"", () => {
+    const tree = new DrupalMenuTree(menuItems)
+
+    expect(tree[0]?.items?.depth).toBe(2)
+    expect(tree[0]?.items?.[0]?.items?.depth).toBe(3)
+  })
+})
+
+test(""assembles a tree"", async () => {
+  const tree = new DrupalMenuTree(menuItems)
+
+  expect(tree).toMatchInlineSnapshot(`
+DrupalMenuTree [
+  {
+    ""id"": ""1"",
+    ""items"": DrupalMenuTree [
+      {
+        ""id"": ""4"",
+        ""items"": DrupalMenuTree [
+          {
+            ""id"": ""7"",
+            ""items"": undefined,
+            ""parent"": ""4"",
+          },
+        ],
+        ""parent"": ""1"",
+      },
+      {
+        ""id"": ""5"",
+        ""items"": undefined,
+        ""parent"": ""1"",
+      },
+      {
+        ""id"": ""6"",
+        ""items"": undefined,
+        ""parent"": ""1"",
+      },
+    ],
+    ""parent"": """",
+  },
+  {
+    ""id"": ""2"",
+    ""items"": undefined,
+    ""parent"": """",
+  },
+  {
+    ""id"": ""3"",
+    ""items"": undefined,
+    ""parent"": """",
+  },
+]
+`)
+})

---FILE: packages/next-drupal/tests/NextDrupal/__snapshots__/resource-methods.test.ts.snap---
@@ -487,12 +487,13 @@ exports[`getMenu() fetches menu items for a menu 1`] = `
       ""weight"": ""30"",
     },
   ],
-  ""tree"": [
+  ""tree"": DrupalMenuTree [
     {
       ""description"": """",
       ""enabled"": true,
       ""expanded"": false,
       ""id"": ""standard.front_page"",
+      ""items"": undefined,
       ""menu_name"": ""main"",
       ""meta"": [],
       ""options"": [],
@@ -512,6 +513,7 @@ exports[`getMenu() fetches menu items for a menu 1`] = `
       ""enabled"": true,
       ""expanded"": false,
       ""id"": ""views_view:views.featured_articles.page_1"",
+      ""items"": undefined,
       ""menu_name"": ""main"",
       ""meta"": {
         ""display_id"": ""page_1"",
@@ -534,6 +536,7 @@ exports[`getMenu() fetches menu items for a menu 1`] = `
       ""enabled"": true,
       ""expanded"": false,
       ""id"": ""views_view:views.recipes.page_1"",
+      ""items"": undefined,
       ""menu_name"": ""main"",
       ""meta"": {
         ""display_id"": ""page_1"",
@@ -622,12 +625,13 @@ exports[`getMenu() fetches menu items for a menu with locale 1`] = `
       ""weight"": ""30"",
     },
   ],
-  ""tree"": [
+  ""tree"": DrupalMenuTree [
     {
       ""description"": """",
       ""enabled"": true,
       ""expanded"": false,
       ""id"": ""standard.front_page"",
+      ""items"": undefined,
       ""menu_name"": ""main"",
       ""meta"": [],
       ""options"": [],
@@ -647,6 +651,7 @@ exports[`getMenu() fetches menu items for a menu with locale 1`] = `
       ""enabled"": true,
       ""expanded"": false,
       ""id"": ""views_view:views.featured_articles.page_1"",
+      ""items"": undefined,
       ""menu_name"": ""main"",
       ""meta"": {
         ""display_id"": ""page_1"",
@@ -669,6 +674,7 @@ exports[`getMenu() fetches menu items for a menu with locale 1`] = `
       ""enabled"": true,
       ""expanded"": false,
       ""id"": ""views_view:views.recipes.page_1"",
+      ""items"": undefined,
       ""menu_name"": ""main"",
       ""meta"": {
         ""display_id"": ""page_1"",
@@ -1082,7 +1088,7 @@ exports[`getResource() fetches raw data 1`] = `
   },
   ""links"": {
     ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      ""href"": ""https://tests.next-drupal.org/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
     },
   },
 }
@@ -1457,7 +1463,7 @@ exports[`getResourceByPath() fetches raw data 1`] = `
   },
   ""links"": {
     ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      ""href"": ""https://tests.next-drupal.org/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
     },
   },
 }

---FILE: packages/next-drupal/tests/NextDrupal/basic-methods.test.ts---
@@ -0,0 +1,107 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { NextDrupal } from ""../../src""
+import { BASE_URL, mockLogger } from ""../utils""
+import type { DrupalNode, JsonDeserializer } from ""../../src""
+
+jest.setTimeout(10000)
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""deserialize()"", () => {
+  test(""deserializes JSON:API resource"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+    const url = await drupal.buildEndpoint({
+      resourceType: ""node--article"",
+      path: ""/52837ad0-f218-46bd-a106-5710336b7053"",
+      searchParams: {
+        include: ""field_tags"",
+      },
+    })
+
+    const response = await drupal.fetch(url)
+    expect(response.status).toBe(200)
+    const json = await response.json()
+    const article = drupal.deserialize(json) as DrupalNode
+
+    expect(article).toMatchSnapshot()
+    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
+    expect(article.field_tags).toHaveLength(3)
+  })
+
+  test(""deserializes JSON:API collection"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+    const url = await drupal.buildEndpoint({
+      resourceType: ""node--article"",
+      searchParams: {
+        getQueryObject: () => ({
+          ""fields[node--article]"": ""title"",
+        }),
+      },
+    })
+
+    const response = await drupal.fetch(url)
+    expect(response.status).toBe(200)
+    const json = await response.json()
+    const articles = drupal.deserialize(json) as DrupalNode[]
+
+    expect(articles).toMatchSnapshot()
+  })
+
+  test(""allows for custom data serializer"", async () => {
+    const deserializer: JsonDeserializer = (
+      body: { data: { id: string; attributes: { title: string } } },
+      options: { pathPrefix: string }
+    ) => {
+      return {
+        id: body.data.id,
+        title: `${options.pathPrefix}: ${body.data.attributes.title}`,
+      }
+    }
+    const drupal = new NextDrupal(BASE_URL, {
+      deserializer,
+    })
+    const url = await drupal.buildEndpoint({
+      resourceType: ""node--article"",
+      path: ""/52837ad0-f218-46bd-a106-5710336b7053"",
+    })
+
+    const response = await drupal.fetch(url)
+    expect(response.status).toBe(200)
+    const json = await response.json()
+    const article = drupal.deserialize(json, {
+      pathPrefix: ""TITLE"",
+    }) as DrupalNode
+
+    expect(article).toMatchSnapshot()
+    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
+    expect(article.title).toEqual(`TITLE: ${json.data.attributes.title}`)
+  })
+
+  test(""returns null if no body"", () => {
+    const drupal = new NextDrupal(BASE_URL)
+    expect(drupal.deserialize("""")).toBe(null)
+  })
+})
+
+describe(""logOrThrowError()"", () => {
+  test(""throws the error"", () => {
+    const drupal = new NextDrupal(BASE_URL)
+    expect(() => {
+      drupal.logOrThrowError(new Error(""Example error""))
+    }).toThrow(""Example error"")
+  })
+
+  test(""logs the error when throwJsonApiErrors is false"", () => {
+    const logger = mockLogger()
+    const drupal = new NextDrupal(BASE_URL, {
+      throwJsonApiErrors: false,
+      logger,
+    })
+    expect(() => {
+      drupal.logOrThrowError(new Error(""Example error""))
+    }).not.toThrow()
+    expect(logger.error).toHaveBeenCalledWith(new Error(""Example error""))
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupal/constructor.test.ts---
@@ -0,0 +1,208 @@
+import { Jsona } from ""jsona""
+import {
+  afterEach,
+  beforeEach,
+  describe,
+  expect,
+  jest,
+  test,
+} from ""@jest/globals""
+import { NextDrupal, NextDrupalBase } from ""../../src""
+import { BASE_URL } from ""../utils""
+import type { JsonDeserializer, NextDrupalOptions } from ""../../src""
+
+jest.mock(""jsona"", () => {
+  // Re-use the same method mock for each Jsona mock object.
+  const deserialize = jest.fn()
+  function JsonaMock() {
+    return {
+      deserialize,
+    }
+  }
+
+  return {
+    __esModule: true,
+    Jsona: jest.fn(JsonaMock),
+  }
+})
+
+beforeEach(() => {
+  Jsona.mockClear()
+})
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""baseUrl parameter"", () => {
+  const env = process.env
+
+  beforeEach(() => {
+    jest.resetModules()
+    process.env = { ...env }
+  })
+
+  afterEach(() => {
+    process.env = env
+  })
+
+  test(""turns throwJsonApiErrors off in production"", () => {
+    process.env = {
+      ...process.env,
+      NODE_ENV: ""production"",
+    }
+
+    const drupal = new NextDrupal(BASE_URL)
+    expect(drupal.throwJsonApiErrors).toBe(false)
+  })
+
+  test(""returns a NextDrupal"", () => {
+    expect(new NextDrupal(BASE_URL)).toBeInstanceOf(NextDrupal)
+    expect(new NextDrupal(BASE_URL)).toBeInstanceOf(NextDrupalBase)
+  })
+})
+
+describe(""options parameter"", () => {
+  describe(""apiPrefix"", () => {
+    test('defaults to ""/jsonapi""', () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(drupal.apiPrefix).toBe(""/jsonapi"")
+    })
+
+    test(""sets the apiPrefix"", () => {
+      const customEndPoint = ""/customapi""
+      const drupal = new NextDrupal(BASE_URL, {
+        apiPrefix: customEndPoint,
+      })
+      expect(drupal.apiPrefix).toBe(customEndPoint)
+    })
+  })
+
+  describe(""cache"", () => {
+    test(""defaults to `null`"", () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(drupal.cache).toBe(null)
+    })
+
+    test(""sets the cache storage"", () => {
+      const customCache: NextDrupal[""cache""] = {
+        async get(key) {
+          //
+        },
+        async set(key, value, ttl?: number) {
+          //
+        },
+      }
+      const drupal = new NextDrupal(BASE_URL, {
+        cache: customCache,
+      })
+      expect(drupal.cache).toBe(customCache)
+    })
+  })
+
+  describe(""deserializer"", () => {
+    test(""defaults to `Jsona.deserialize`"", () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(drupal.deserializer.name).toBe(""jsonaDeserialize"")
+      expect(drupal.deserializer.length).toBe(2)
+      expect(Jsona).toBeCalledTimes(1)
+
+      const deserializeMock = new Jsona().deserialize
+      deserializeMock.mockClear()
+      const args: Parameters<JsonDeserializer> = [{}, { options: true }]
+      drupal.deserialize(...args)
+      expect(deserializeMock).toBeCalledTimes(1)
+      expect(deserializeMock).toHaveBeenLastCalledWith(...args)
+    })
+
+    test(""sets up a custom deserializer"", () => {
+      const customDeserializer: NextDrupalOptions[""deserializer""] =
+        function deserialize(
+          body: Record<string, unknown>,
+          options?: Record<string, unknown>
+        ): unknown {
+          return {
+            deserialized: true,
+          }
+        }
+
+      const drupal = new NextDrupal(BASE_URL, {
+        deserializer: customDeserializer,
+      })
+      expect(drupal.deserializer).toBe(customDeserializer)
+    })
+  })
+
+  describe(""frontPage"", () => {
+    test('defaults to ""/home""', () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(drupal.frontPage).toBe(""/home"")
+    })
+
+    test(""sets up a custom frontPage"", () => {
+      const customFrontPage = ""/front""
+
+      const drupal = new NextDrupal(BASE_URL, {
+        frontPage: customFrontPage,
+      })
+      expect(drupal.frontPage).toBe(customFrontPage)
+    })
+  })
+
+  describe(""headers"", () => {
+    test(""defaults to `Content-Type`/`Accept`"", () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(Object.fromEntries(drupal.headers.entries())).toMatchObject({
+        ""content-type"": ""application/vnd.api+json"",
+        accept: ""application/vnd.api+json"",
+      })
+    })
+
+    test(""sets custom headers"", () => {
+      const customHeaders = {
+        CustomContentType: ""application/json"",
+        CustomAccept: ""application/json"",
+      }
+      const expectedHeaders = {}
+      Object.keys(customHeaders).forEach((header) => {
+        expectedHeaders[header.toLowerCase()] = customHeaders[header]
+      })
+
+      const drupal = new NextDrupal(BASE_URL, {
+        headers: customHeaders,
+      })
+
+      expect(Object.fromEntries(drupal.headers.entries())).toMatchObject(
+        expectedHeaders
+      )
+    })
+  })
+
+  describe(""throwJsonApiErrors"", () => {
+    test(""defaults to `true`"", () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(drupal.throwJsonApiErrors).toBe(true)
+    })
+
+    test(""can be set to `false`"", () => {
+      const drupal = new NextDrupal(BASE_URL, {
+        throwJsonApiErrors: false,
+      })
+      expect(drupal.throwJsonApiErrors).toBe(false)
+    })
+  })
+
+  describe(""useDefaultEndpoints"", () => {
+    test(""defaults to `true`"", () => {
+      const drupal = new NextDrupal(BASE_URL)
+      expect(drupal.useDefaultEndpoints).toBe(true)
+    })
+
+    test(""can be set to `false`"", () => {
+      const drupal = new NextDrupal(BASE_URL, {
+        useDefaultEndpoints: false,
+      })
+      expect(drupal.useDefaultEndpoints).toBe(false)
+    })
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupal/crud-methods.test.ts---
@@ -7,7 +7,7 @@ import {
   jest,
   test,
 } from ""@jest/globals""
-import { DrupalClient } from ""../../src""
+import { NextDrupal } from ""../../src""
 import {
   BASE_URL,
   deleteTestNodes,
@@ -38,9 +38,9 @@ afterAll(async () => {
 
 describe(""createResource()"", () => {
   test(""creates a resource"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const article = await client.createResource<DrupalNode>(
+    const article = await drupal.createResource<DrupalNode>(
       ""node--article"",
       {
         data: {
@@ -62,23 +62,23 @@ describe(""createResource()"", () => {
   })
 
   test(""creates a resource with a relationship"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
     // Find an image media.
-    const [mediaImage] = await client.getResourceCollection(""media--image"", {
+    const [mediaImage] = await drupal.getResourceCollection(""media--image"", {
       params: {
         ""page[limit]"": 1,
         ""filter[status]"": 1,
         ""fields[media--image]"": ""name"",
       },
     })
 
-    const article = await client.createResource(
+    const article = await drupal.createResource(
       ""node--article"",
       {
         data: {
@@ -108,14 +108,14 @@ describe(""createResource()"", () => {
   })
 
   test(""creates a localized resource"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
-    const article = await client.createResource(""node--article"", {
+    const article = await drupal.createResource(""node--article"", {
       data: {
         attributes: {
           title: ""TEST Article in spanish"",
@@ -128,15 +128,15 @@ describe(""createResource()"", () => {
   })
 
   test(""throws an error for missing required attributes"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
     await expect(
-      client.createResource(""node--article"", {
+      drupal.createResource(""node--article"", {
         data: {
           attributes: {},
         },
@@ -147,15 +147,15 @@ describe(""createResource()"", () => {
   })
 
   test(""throws an error for invalid attributes"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
     await expect(
-      client.createResource(""node--article"", {
+      drupal.createResource(""node--article"", {
         data: {
           attributes: {
             title: ""TEST: Article"",
@@ -170,7 +170,7 @@ describe(""createResource()"", () => {
     )
 
     await expect(
-      client.createResource(""node--article"", {
+      drupal.createResource(""node--article"", {
         data: {
           attributes: {
             title: ""TEST: Article"",
@@ -202,15 +202,14 @@ describe(""createFileResource()"", () => {
 
   test(""constructs the API path from body and options"", async () => {
     const logger = mockLogger()
-    const client = new DrupalClient(""https://example.com"", {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(""https://example.com"", {
       debug: true,
       logger,
     })
     const type = ""type--from-first-argument""
     const fetchSpy = spyOnFetch({ responseBody: mockResponseData })
 
-    await client.createFileResource(type, mockBody, {
+    await drupal.createFileResource(type, mockBody, {
       withAuth: false,
       params: { include: ""extra_field"" },
     })
@@ -224,13 +223,11 @@ describe(""createFileResource()"", () => {
   })
 
   test(""constructs the API path using non-default locale"", async () => {
-    const client = new DrupalClient(""https://example.com"", {
-      useDefaultResourceTypeEntry: true,
-    })
+    const drupal = new NextDrupal(""https://example.com"")
     const type = ""type--from-first-argument""
     const fetchSpy = spyOnFetch({ responseBody: mockResponseData })
 
-    await client.createFileResource(type, mockBody, {
+    await drupal.createFileResource(type, mockBody, {
       withAuth: false,
       params: { include: ""extra_field"" },
       locale: ""es"",
@@ -243,12 +240,10 @@ describe(""createFileResource()"", () => {
   })
 
   test(""returns the deserialized data"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-    })
+    const drupal = new NextDrupal(BASE_URL)
     spyOnFetch({ responseBody: mockResponseData })
 
-    const result = await client.createFileResource(""ignored"", mockBody, {
+    const result = await drupal.createFileResource(""ignored"", mockBody, {
       withAuth: false,
     })
 
@@ -257,12 +252,10 @@ describe(""createFileResource()"", () => {
   })
 
   test(""optionally returns the raw data"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-    })
+    const drupal = new NextDrupal(BASE_URL)
     spyOnFetch({ responseBody: mockResponseData })
 
-    const result = await client.createFileResource(""ignored"", mockBody, {
+    const result = await drupal.createFileResource(""ignored"", mockBody, {
       withAuth: false,
       deserialize: false,
     })
@@ -274,9 +267,7 @@ describe(""createFileResource()"", () => {
   })
 
   test(""throws error if response is not ok"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-    })
+    const drupal = new NextDrupal(BASE_URL)
     const message = ""mock error""
     spyOnFetch({
       responseBody: { message },
@@ -287,7 +278,7 @@ describe(""createFileResource()"", () => {
     })
 
     await expect(
-      client.createFileResource(""ignored"", mockBody, {
+      drupal.createFileResource(""ignored"", mockBody, {
         withAuth: false,
       })
     ).rejects.toThrow(message)
@@ -296,13 +287,13 @@ describe(""createFileResource()"", () => {
 
 describe(""updateResource()"", () => {
   test(""updates a resource"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     const basic = Buffer.from(
       `${process.env.DRUPAL_USERNAME}:${process.env.DRUPAL_PASSWORD}`
     ).toString(""base64"")
 
-    const article = await client.createResource<DrupalNode>(
+    const article = await drupal.createResource<DrupalNode>(
       ""node--article"",
       {
         data: {
@@ -316,7 +307,7 @@ describe(""updateResource()"", () => {
       }
     )
 
-    const updatedArticle = await client.updateResource<DrupalNode>(
+    const updatedArticle = await drupal.updateResource<DrupalNode>(
       ""node--article"",
       article.id,
       {
@@ -340,12 +331,12 @@ describe(""updateResource()"", () => {
       `${process.env.DRUPAL_USERNAME}:${process.env.DRUPAL_PASSWORD}`
     ).toString(""base64"")
 
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Basic ${basic}`,
     })
 
     // Create an article.
-    const article = await client.createResource<DrupalNode>(""node--article"", {
+    const article = await drupal.createResource<DrupalNode>(""node--article"", {
       data: {
         attributes: {
           title: ""TEST New article"",
@@ -354,7 +345,7 @@ describe(""updateResource()"", () => {
     })
 
     // Find an image media.
-    const [mediaImage] = await client.getResourceCollection(""media--image"", {
+    const [mediaImage] = await drupal.getResourceCollection(""media--image"", {
       params: {
         ""page[limit]"": 1,
         ""filter[status]"": 1,
@@ -363,7 +354,7 @@ describe(""updateResource()"", () => {
     })
 
     // Attach the media image to the article.
-    const updatedArticle = await client.updateResource(
+    const updatedArticle = await drupal.updateResource(
       ""node--article"",
       article.id,
       {
@@ -396,14 +387,14 @@ describe(""updateResource()"", () => {
   })
 
   test(""throws an error for missing required attributes"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
-    const article = await client.createResource<DrupalNode>(""node--article"", {
+    const article = await drupal.createResource<DrupalNode>(""node--article"", {
       data: {
         attributes: {
           title: ""TEST New article"",
@@ -412,7 +403,7 @@ describe(""updateResource()"", () => {
     })
 
     await expect(
-      client.updateResource(""node--article"", article.id, {
+      drupal.updateResource(""node--article"", article.id, {
         data: {
           attributes: {
             title: null,
@@ -425,14 +416,14 @@ describe(""updateResource()"", () => {
   })
 
   test(""throws an error for invalid attributes"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
-    const article = await client.createResource<DrupalNode>(""node--article"", {
+    const article = await drupal.createResource<DrupalNode>(""node--article"", {
       data: {
         attributes: {
           title: ""TEST New article"",
@@ -441,7 +432,7 @@ describe(""updateResource()"", () => {
     })
 
     await expect(
-      client.updateResource(""node--article"", article.id, {
+      drupal.updateResource(""node--article"", article.id, {
         data: {
           attributes: {
             body: {
@@ -455,7 +446,7 @@ describe(""updateResource()"", () => {
     )
 
     await expect(
-      client.updateResource(""node--article"", article.id, {
+      drupal.updateResource(""node--article"", article.id, {
         data: {
           attributes: {
             body: {
@@ -473,42 +464,42 @@ describe(""updateResource()"", () => {
 
 describe(""deleteResource()"", () => {
   test(""deletes a resource"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
-    const article = await client.createResource<DrupalNode>(""node--article"", {
+    const article = await drupal.createResource<DrupalNode>(""node--article"", {
       data: {
         attributes: {
           title: ""TEST New article"",
         },
       },
     })
 
-    const deleted = await client.deleteResource(""node--article"", article.id)
+    const deleted = await drupal.deleteResource(""node--article"", article.id)
 
     expect(deleted).toBe(true)
 
     await expect(
-      client.getResource(""node--article"", article.id)
+      drupal.getResource(""node--article"", article.id)
     ).rejects.toThrow(
       '404 Not Found\nThe ""entity"" parameter was not converted for the path ""/jsonapi/node/article/{entity}"" (route name: ""jsonapi.node--article.individual"")'
     )
   })
 
   test(""throws an error for invalid resource"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
         password: process.env.DRUPAL_PASSWORD,
       },
     })
 
     await expect(
-      client.deleteResource(""node--article"", ""invalid-id"")
+      drupal.deleteResource(""node--article"", ""invalid-id"")
     ).rejects.toThrow(
       '404 Not Found\nThe ""entity"" parameter was not converted for the path ""/jsonapi/node/article/{entity}"" (route name: ""jsonapi.node--article.individual.delete"")'
     )

---FILE: packages/next-drupal/tests/NextDrupal/resource-methods.test.ts---
@@ -1,6 +1,6 @@
 import { afterEach, describe, expect, jest, test } from ""@jest/globals""
-import { DrupalClient } from ""../../src""
-import { BASE_URL, mocks, spyOnFetch } from ""../utils""
+import { NextDrupal } from ""../../src""
+import { BASE_URL, mockLogger, mocks, spyOnFetch } from ""../utils""
 import type { DrupalNode, DrupalSearchApiJsonApiResponse } from ""../../src""
 
 jest.setTimeout(10000)
@@ -9,81 +9,164 @@ afterEach(() => {
   jest.restoreAllMocks()
 })
 
-describe(""buildMenuTree()"", () => {
-  test.todo(""add tests"")
-})
+describe(""buildEndpoint()"", () => {
+  const drupal = new NextDrupal(BASE_URL)
 
-describe(""getEntryForResourceType()"", () => {
-  test(""returns the JSON:API entry for a resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+  test(""returns a URL string"", async () => {
+    const endpoint = await drupal.buildEndpoint()
 
-    const recipeEntry = await client.getEntryForResourceType(""node--recipe"")
-    expect(recipeEntry).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+    expect(typeof endpoint).toBe(""string"")
+  })
 
-    const articleEntry = await client.getEntryForResourceType(""node--article"")
-    expect(articleEntry).toMatch(`${BASE_URL}/en/jsonapi/node/article`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(2)
+  test(""adds the apiPrefix"", async () => {
+    const endpoint = await drupal.buildEndpoint()
+
+    expect(endpoint).toBe(`${BASE_URL}/jsonapi`)
   })
 
-  test(""assembles JSON:API entry without fetching index"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+  test(""adds a locale prefix"", async () => {
+    const endpoint = await drupal.buildEndpoint({
+      locale: ""es"",
+    })
+
+    expect(endpoint).toBe(`${BASE_URL}/es/jsonapi`)
+  })
+
+  test(""adds the default resource url"", async () => {
+    const drupal = new NextDrupal(BASE_URL)
+    const getIndexSpy = jest.spyOn(drupal, ""getIndex"")
+
+    let endpoint = await drupal.buildEndpoint({
+      resourceType: ""node--article"",
     })
-    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+    expect(endpoint).toMatch(`${BASE_URL}/jsonapi/node/article`)
+
+    endpoint = await drupal.buildEndpoint({
+      resourceType: ""menu_items"",
+    })
+    expect(endpoint).toMatch(`${BASE_URL}/jsonapi/menu_items`)
 
-    const recipeEntry = await client.getEntryForResourceType(""node--article"")
-    expect(recipeEntry).toMatch(`${BASE_URL}/jsonapi/node/article`)
     expect(getIndexSpy).toHaveBeenCalledTimes(0)
   })
 
+  test(""fetches the resource url and does not add apiPrefix or locale"", async () => {
+    const drupal = new NextDrupal(BASE_URL, { useDefaultEndpoints: false })
+    const expected = `${BASE_URL}/locale/someapi/node/article`
+    const getIndexSpy = jest
+      .spyOn(drupal, ""fetchResourceEndpoint"")
+      .mockImplementation(async () => new URL(expected))
+
+    const endpoint = await drupal.buildEndpoint({
+      locale: ""es"",
+      resourceType: ""node--article"",
+    })
+    expect(endpoint).not.toContain(""/jsonapi"")
+    expect(endpoint).not.toContain(""/es"")
+    expect(endpoint).toMatch(expected)
+    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+  })
+
+  test(""adds the path"", async () => {
+    const endpoint = await drupal.buildEndpoint({ path: ""/some-path"" })
+
+    expect(endpoint).toBe(`${BASE_URL}/jsonapi/some-path`)
+  })
+
+  test('ensures the path starts with ""/""', async () => {
+    const endpoint = await drupal.buildEndpoint({
+      path: ""some-path"",
+    })
+
+    expect(endpoint).toBe(`${BASE_URL}/jsonapi/some-path`)
+  })
+
+  test(""adds the search params"", async () => {
+    const endpoint = await drupal.buildEndpoint({
+      path: ""/zoo"",
+      searchParams: { animal: ""unicorn"" },
+    })
+
+    expect(endpoint).toBe(`${BASE_URL}/jsonapi/zoo?animal=unicorn`)
+  })
+
+  test(""adds locale then apiPrefix then resource then path"", async () => {
+    const endpoint = await drupal.buildEndpoint({
+      locale: ""en"",
+      resourceType: ""city--sandiego"",
+      path: ""/zoo"",
+      searchParams: { animal: ""unicorn"" },
+    })
+
+    expect(endpoint).toBe(
+      `${BASE_URL}/en/jsonapi/city/sandiego/zoo?animal=unicorn`
+    )
+  })
+})
+
+describe(""fetchResourceEndpoint()"", () => {
+  test(""returns the JSON:API entry for a resource type"", async () => {
+    const drupal = new NextDrupal(BASE_URL, {
+      useDefaultEndpoints: false,
+    })
+    const getIndexSpy = jest.spyOn(drupal, ""getIndex"")
+
+    const recipeEntry = await drupal.fetchResourceEndpoint(""node--recipe"")
+    expect(recipeEntry.toString()).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+
+    const articleEntry = await drupal.fetchResourceEndpoint(""node--article"")
+    expect(articleEntry.toString()).toMatch(
+      `${BASE_URL}/en/jsonapi/node/article`
+    )
+    expect(getIndexSpy).toHaveBeenCalledTimes(2)
+  })
+
   test(""throws an error if resource type does not exist"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getEntryForResourceType(""RESOURCE-DOES-NOT-EXIST"")
+      drupal.fetchResourceEndpoint(""RESOURCE-DOES-NOT-EXIST"")
     ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
   })
 })
 
 describe(""getIndex()"", () => {
   test(""fetches the JSON:API index"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const index = await client.getIndex()
+    const drupal = new NextDrupal(BASE_URL)
+    const index = await drupal.getIndex()
 
     expect(index).toMatchSnapshot()
   })
 
   test(""fetches the JSON:API index with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const index = await client.getIndex(""es"")
+    const drupal = new NextDrupal(BASE_URL)
+    const index = await drupal.getIndex(""es"")
 
     expect(index).toMatchSnapshot()
   })
 
   test(""throws error for invalid base url"", async () => {
-    const client = new DrupalClient(""https://example.com"")
+    const drupal = new NextDrupal(""https://example.com"")
 
-    await expect(client.getIndex()).rejects.toThrow(
+    await expect(drupal.getIndex()).rejects.toThrow(
       ""Failed to fetch JSON:API index at https://example.com/jsonapi""
     )
   })
 })
 
 describe(""getMenu()"", () => {
   test(""fetches menu items for a menu"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const menu = await client.getMenu(""main"")
+    const menu = await drupal.getMenu(""main"")
 
     expect(menu).toMatchSnapshot()
   })
 
   test(""fetches menu items for a menu with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const menu = await client.getMenu(""main"", {
+    const menu = await drupal.getMenu(""main"", {
       locale: ""es"",
       defaultLocale: ""en"",
     })
@@ -92,9 +175,9 @@ describe(""getMenu()"", () => {
   })
 
   test(""fetches menu items for a menu with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const menu = await client.getMenu(""main"", {
+    const menu = await drupal.getMenu(""main"", {
       params: {
         ""fields[menu_link_content--menu_link_content]"": ""title"",
       },
@@ -104,48 +187,42 @@ describe(""getMenu()"", () => {
   })
 
   test(""throws an error for invalid menu name"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    await expect(client.getMenu(""INVALID"")).rejects.toThrow(
+    await expect(drupal.getMenu(""INVALID"")).rejects.toThrow(
       '404 Not Found\nThe ""menu"" parameter was not converted for the path ""/jsonapi/menu_items/{menu}"" (route name: ""jsonapi_menu_items.menu"")'
     )
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+
+    await drupal.getMenu(""main"")
 
-    await client.getMenu(""main"")
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.getMenu(""main"", { withAuth: true })
+    await drupal.getMenu(""main"", { withAuth: true })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })
 
 describe(""getResource()"", () => {
   test(""fetches a resource by uuid"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
+    const drupal = new NextDrupal(BASE_URL)
+    const recipe = await drupal.getResource<DrupalNode>(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
     )
@@ -154,8 +231,8 @@ describe(""getResource()"", () => {
   })
 
   test(""fetches a resource by uuid with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
+    const drupal = new NextDrupal(BASE_URL)
+    const recipe = await drupal.getResource<DrupalNode>(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
       {
@@ -169,8 +246,8 @@ describe(""getResource()"", () => {
   })
 
   test(""fetches a resource using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
+    const drupal = new NextDrupal(BASE_URL)
+    const recipe = await drupal.getResource<DrupalNode>(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
       {
@@ -186,10 +263,10 @@ describe(""getResource()"", () => {
   })
 
   test(""fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL, { useDefaultEndpoints: false })
 
     await expect(
-      client.getResource(
+      drupal.getResource(
         ""node--recipe"",
         ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
         {
@@ -200,8 +277,8 @@ describe(""getResource()"", () => {
   })
 
   test(""fetches a resource by revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
+    const drupal = new NextDrupal(BASE_URL)
+    const recipe = await drupal.getResource<DrupalNode>(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
       {
@@ -210,7 +287,7 @@ describe(""getResource()"", () => {
         },
       }
     )
-    const latestRevision = await client.getResource<DrupalNode>(
+    const latestRevision = await drupal.getResource<DrupalNode>(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
       {
@@ -227,10 +304,10 @@ describe(""getResource()"", () => {
   })
 
   test(""throws an error for invalid revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResource<DrupalNode>(
+      drupal.getResource<DrupalNode>(
         ""node--recipe"",
         ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
         {
@@ -246,10 +323,10 @@ describe(""getResource()"", () => {
   })
 
   test(""throws an error if revision access is forbidden"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResource<DrupalNode>(
+      drupal.getResource<DrupalNode>(
         ""node--recipe"",
         ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
         {
@@ -265,21 +342,21 @@ describe(""getResource()"", () => {
   })
 
   test(""throws an error for invalid resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL, { useDefaultEndpoints: false })
 
     await expect(
-      client.getResource<DrupalNode>(
+      drupal.getResource<DrupalNode>(
         ""RESOURCE-DOES-NOT-EXIST"",
         ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
       )
     ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
   })
 
   test(""throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResource<DrupalNode>(
+      drupal.getResource<DrupalNode>(
         ""node--recipe"",
         ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
         {
@@ -294,59 +371,52 @@ describe(""getResource()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
-    await client.getResource(
+    await drupal.getResource(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
     )
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.getResource(
+    await drupal.getResource(
       ""node--recipe"",
       ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
       {
         withAuth: true,
       }
     )
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })
 
 describe(""getResourceByPath()"", () => {
   test(""fetches a resource by path"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"")
+      drupal.getResourceByPath(""/recipes/deep-mediterranean-quiche"")
     ).resolves.toMatchSnapshot()
   })
 
   test(""fetches a resource by path with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
+      drupal.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
         params: {
           ""fields[node--recipe]"": ""title,field_cooking_time"",
         },
@@ -355,8 +425,8 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""fetches a resource by path using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResourceByPath(
+    const drupal = new NextDrupal(BASE_URL)
+    const recipe = await drupal.getResourceByPath(
       ""/recipes/quiche-mediterrneo-profundo"",
       {
         locale: ""es"",
@@ -371,26 +441,26 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL, { useDefaultEndpoints: false })
 
     await expect(
-      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
+      drupal.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
         deserialize: false,
       })
     ).resolves.toMatchSnapshot()
   })
 
   test(""fetches a resource by revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResourceByPath<DrupalNode>(
+    const drupal = new NextDrupal(BASE_URL)
+    const recipe = await drupal.getResourceByPath<DrupalNode>(
       ""/recipes/deep-mediterranean-quiche"",
       {
         params: {
           ""fields[node--recipe]"": ""drupal_internal__vid"",
         },
       }
     )
-    const latestRevision = await client.getResourceByPath<DrupalNode>(
+    const latestRevision = await drupal.getResourceByPath<DrupalNode>(
       ""/recipes/deep-mediterranean-quiche"",
       {
         params: {
@@ -406,10 +476,10 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""throws an error for invalid revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceByPath<DrupalNode>(
+      drupal.getResourceByPath<DrupalNode>(
         ""/recipes/deep-mediterranean-quiche"",
         {
           params: {
@@ -424,10 +494,10 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""throws an error if revision access is forbidden"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceByPath<DrupalNode>(
+      drupal.getResourceByPath<DrupalNode>(
         ""/recipes/deep-mediterranean-quiche"",
         {
           params: {
@@ -442,18 +512,18 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""returns null for path not found"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceByPath<DrupalNode>(""/path-do-not-exist"")
+      drupal.getResourceByPath<DrupalNode>(""/path-do-not-exist"")
     ).rejects.toThrow(""Unable to resolve path /path-do-not-exist."")
   })
 
   test(""throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceByPath<DrupalNode>(
+      drupal.getResourceByPath<DrupalNode>(
         ""/recipes/deep-mediterranean-quiche"",
         {
           params: {
@@ -467,14 +537,14 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-    const getAccessTokenSpy = jest.spyOn(client, ""getAccessToken"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
+    const getAccessTokenSpy = jest.spyOn(drupal, ""getAccessToken"")
 
-    await client.getResourceByPath<DrupalNode>(
+    await drupal.getResourceByPath<DrupalNode>(
       ""/recipes/deep-mediterranean-quiche""
     )
-    expect(fetchSpy).toHaveBeenCalledWith(
+    expect(drupalFetchSpy).toHaveBeenCalledWith(
       expect.anything(),
       expect.not.objectContaining({
         headers: expect.objectContaining({
@@ -486,45 +556,47 @@ describe(""getResourceByPath()"", () => {
   })
 
   test(""makes authenticated requests with withAuth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupal(BASE_URL, {
       auth: mocks.auth.clientIdSecret,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
+    })
+    const fetchSpy = spyOnFetch({
+      responseBody: { ""resolvedResource#uri{0}"": { body: ""{}"" } },
+      status: 207,
     })
-    const fetchSpy = spyOnFetch()
     const getAccessTokenSpy = jest
-      .spyOn(client, ""getAccessToken"")
+      .spyOn(drupal, ""getAccessToken"")
       .mockImplementation(async () => mocks.auth.accessToken)
 
-    await client.getResourceByPath<DrupalNode>(
+    await drupal.getResourceByPath<DrupalNode>(
       ""/recipes/deep-mediterranean-quiche"",
       {
         withAuth: true,
       }
     )
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `${mocks.auth.accessToken.token_type} ${mocks.auth.accessToken.access_token}`,
-        }),
-      })
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(
+      `${mocks.auth.accessToken.token_type} ${mocks.auth.accessToken.access_token}`
     )
     expect(getAccessTokenSpy).toHaveBeenCalled()
   })
 
   test(""returns null if path is falsey"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const resource = await client.getResourceByPath("""")
+    const resource = await drupal.getResourceByPath("""")
     expect(resource).toBe(null)
   })
 })
 
 describe(""getResourceCollection()"", () => {
   test(""fetches a resource collection"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const articles = await client.getResourceCollection(""node--article"", {
+    const articles = await drupal.getResourceCollection(""node--article"", {
       params: {
         ""fields[node--article]"": ""title"",
       },
@@ -534,9 +606,9 @@ describe(""getResourceCollection()"", () => {
   })
 
   test(""fetches a resource collection using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const articles = await client.getResourceCollection(""node--article"", {
+    const articles = await drupal.getResourceCollection(""node--article"", {
       locale: ""es"",
       defaultLocale: ""en"",
       params: {
@@ -550,9 +622,9 @@ describe(""getResourceCollection()"", () => {
   })
 
   test(""fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL, { useDefaultEndpoints: false })
 
-    const recipes = await client.getResourceCollection(""node--recipe"", {
+    const recipes = await drupal.getResourceCollection(""node--recipe"", {
       deserialize: false,
       params: {
         ""fields[node--recipe]"": ""title"",
@@ -564,18 +636,18 @@ describe(""getResourceCollection()"", () => {
   })
 
   test(""throws an error for invalid resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL, { useDefaultEndpoints: false })
 
     await expect(
-      client.getResourceCollection(""RESOURCE-DOES-NOT-EXIST"")
+      drupal.getResourceCollection(""RESOURCE-DOES-NOT-EXIST"")
     ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
   })
 
   test(""throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
     await expect(
-      client.getResourceCollection<DrupalNode>(""node--recipe"", {
+      drupal.getResourceCollection<DrupalNode>(""node--recipe"", {
         params: {
           include: ""invalid_relationship"",
         },
@@ -586,43 +658,36 @@ describe(""getResourceCollection()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
-    await client.getResourceCollection(""node--recipe"")
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    await drupal.getResourceCollection(""node--recipe"")
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.getResourceCollection(""node--recipe"", {
+    await drupal.getResourceCollection(""node--recipe"", {
       withAuth: true,
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })
 
 describe(""getSearchIndex()"", () => {
   test(""fetches a search index"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const search = await client.getSearchIndex(""recipes"", {
+    const search = await drupal.getSearchIndex(""recipes"", {
       params: {
         ""fields[node--recipe]"": ""title"",
       },
@@ -632,9 +697,9 @@ describe(""getSearchIndex()"", () => {
   })
 
   test(""fetches a search index with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const search = await client.getSearchIndex(""recipes"", {
+    const search = await drupal.getSearchIndex(""recipes"", {
       locale: ""es"",
       defaultLocale: ""en"",
       params: {
@@ -646,9 +711,9 @@ describe(""getSearchIndex()"", () => {
   })
 
   test(""fetches a search index with facets filters"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const search = await client.getSearchIndex<DrupalSearchApiJsonApiResponse>(
+    const search = await drupal.getSearchIndex<DrupalSearchApiJsonApiResponse>(
       ""recipes"",
       {
         deserialize: false,
@@ -664,9 +729,9 @@ describe(""getSearchIndex()"", () => {
   })
 
   test(""fetches raw data from search index"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const search = await client.getSearchIndex(""recipes"", {
+    const search = await drupal.getSearchIndex(""recipes"", {
       deserialize: false,
       params: {
         ""filter[difficulty]"": ""easy"",
@@ -678,60 +743,53 @@ describe(""getSearchIndex()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
-    await client.getSearchIndex(""recipes"")
+    await drupal.getSearchIndex(""recipes"")
 
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""throws an error for invalid index"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    await expect(client.getSearchIndex(""INVALID-INDEX"")).rejects.toThrow(
+    await expect(drupal.getSearchIndex(""INVALID-INDEX"")).rejects.toThrow(
       ""Not Found""
     )
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.getSearchIndex(""recipes"", {
+    await drupal.getSearchIndex(""recipes"", {
       withAuth: true,
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })
 
 describe(""getView()"", () => {
   test(""fetches a view"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const view = await client.getView(""featured_articles--page_1"")
+    const view = await drupal.getView(""featured_articles--page_1"")
 
     expect(view).toMatchSnapshot()
   })
 
   test(""fetches a view with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const view = await client.getView(""featured_articles--page_1"", {
+    const view = await drupal.getView(""featured_articles--page_1"", {
       params: {
         ""fields[node--article]"": ""title"",
       },
@@ -741,9 +799,9 @@ describe(""getView()"", () => {
   })
 
   test(""fetches a view with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const view = await client.getView(""featured_articles--page_1"", {
+    const view = await drupal.getView(""featured_articles--page_1"", {
       locale: ""es"",
       defaultLocale: ""en"",
       params: {
@@ -755,9 +813,9 @@ describe(""getView()"", () => {
   })
 
   test(""fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const view = await client.getView(""featured_articles--page_1"", {
+    const view = await drupal.getView(""featured_articles--page_1"", {
       locale: ""es"",
       defaultLocale: ""en"",
       deserialize: false,
@@ -770,79 +828,72 @@ describe(""getView()"", () => {
   })
 
   test(""throws an error for invalid view name"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    await expect(client.getView(""INVALID"")).rejects.toThrow(""Not Found"")
+    await expect(drupal.getView(""INVALID"")).rejects.toThrow(""Not Found"")
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
-    await client.getView(""featured_articles--page_1"")
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    await drupal.getView(""featured_articles--page_1"")
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.getView(""featured_articles--page_1"", { withAuth: true })
+    await drupal.getView(""featured_articles--page_1"", { withAuth: true })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 
   test(""fetches a view with links for pagination"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const view = await client.getView(""recipes--page_1"")
+    const drupal = new NextDrupal(BASE_URL)
+    const view = await drupal.getView(""recipes--page_1"")
 
     expect(view.links).toHaveProperty(""next"")
   })
 })
 
 describe(""translatePath()"", () => {
   test(""translates a path"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const path = await client.translatePath(""recipes/deep-mediterranean-quiche"")
+    const path = await drupal.translatePath(""recipes/deep-mediterranean-quiche"")
 
     expect(path).toMatchSnapshot()
 
-    const path2 = await client.translatePath(
+    const path2 = await drupal.translatePath(
       ""/recipes/deep-mediterranean-quiche""
     )
 
     expect(path).toEqual(path2)
   })
 
   test(""returns null for path not found"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupal(BASE_URL)
 
-    const path = await client.translatePath(""/path-not-found"")
+    const path = await drupal.translatePath(""/path-not-found"")
 
     expect(path).toBeNull()
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupal(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
-    await client.translatePath(""recipes/deep-mediterranean-quiche"")
+    await drupal.translatePath(""recipes/deep-mediterranean-quiche"")
 
-    expect(fetchSpy).toHaveBeenCalledWith(
+    expect(drupalFetchSpy).toHaveBeenCalledWith(
       expect.anything(),
       expect.objectContaining({
         withAuth: false,
@@ -851,24 +902,17 @@ describe(""translatePath()"", () => {
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
+    const drupal = new NextDrupal(BASE_URL, {
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.translatePath(""recipes/deep-mediterranean-quiche"", {
+    await drupal.translatePath(""recipes/deep-mediterranean-quiche"", {
       withAuth: true,
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })

---FILE: packages/next-drupal/tests/NextDrupalBase/auth-functions.test.ts---
@@ -0,0 +1,77 @@
+import { describe, expect, test } from ""@jest/globals""
+import { isAccessTokenAuth, isBasicAuth, isClientIdSecretAuth } from ""../../src""
+import { mocks } from ""../utils""
+
+const { accessToken, basicAuth, clientIdSecret } = mocks.auth
+
+describe(""isBasicAuth"", () => {
+  test(""returns false if username is undefined"", () => {
+    expect(
+      isBasicAuth(
+        // @ts-expect-error
+        { password: basicAuth.password }
+      )
+    ).toBe(false)
+  })
+
+  test(""returns false if password is undefined"", () => {
+    expect(
+      isBasicAuth(
+        // @ts-expect-error
+        { username: basicAuth.username }
+      )
+    ).toBe(false)
+  })
+
+  test(""returns true if username and password are given"", () => {
+    expect(isBasicAuth(basicAuth)).toBe(true)
+  })
+})
+
+describe(""isAccessTokenAuth"", () => {
+  test(""returns false if access_token is undefined"", () => {
+    expect(
+      isAccessTokenAuth(
+        // @ts-expect-error
+        { token_type: accessToken.token_type }
+      )
+    ).toBe(false)
+  })
+
+  test(""returns false if token_type is undefined"", () => {
+    expect(
+      isAccessTokenAuth(
+        // @ts-expect-error
+        { access_token: accessToken.access_token }
+      )
+    ).toBe(false)
+  })
+
+  test(""returns true if access_token and token_type are given"", () => {
+    expect(isAccessTokenAuth(accessToken)).toBe(true)
+  })
+})
+
+describe(""isClientIdSecretAuth"", () => {
+  test(""returns false if clientId is undefined"", () => {
+    expect(
+      isClientIdSecretAuth(
+        // @ts-expect-error
+        { clientSecret: clientIdSecret.clientSecret }
+      )
+    ).toBe(false)
+  })
+
+  test(""returns false if clientSecret is undefined"", () => {
+    expect(
+      isClientIdSecretAuth(
+        // @ts-expect-error
+        { clientId: clientIdSecret.clientId }
+      )
+    ).toBe(false)
+  })
+
+  test(""returns true if clientId and clientSecret are given"", () => {
+    expect(isClientIdSecretAuth(clientIdSecret)).toBe(true)
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupalBase/basic-methods.test.ts---
@@ -0,0 +1,497 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { JsonApiErrors, NextDrupalBase } from ""../../src""
+import { BASE_URL, mockLogger, spyOnFetch, spyOnFetchOnce } from ""../utils""
+import type { JsonApiError } from ""../../src""
+
+jest.setTimeout(10000)
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""addLocalePrefix()"", () => {
+  const drupal = new NextDrupalBase(BASE_URL)
+
+  test('returns path with leading ""/""', () => {
+    expect(drupal.addLocalePrefix(""foo"")).toBe(""/foo"")
+  })
+
+  test(""returns path when using default locale"", () => {
+    expect(
+      drupal.addLocalePrefix(""/foo"", {
+        locale: ""es"",
+        defaultLocale: ""es"",
+      })
+    ).toBe(""/foo"")
+  })
+
+  test(""returns path when using non-default locale"", () => {
+    expect(
+      drupal.addLocalePrefix(""/foo"", {
+        locale: ""es"",
+        defaultLocale: ""en"",
+      })
+    ).toBe(""/es/foo"")
+  })
+})
+
+describe(""buildUrl()"", () => {
+  const drupal = new NextDrupalBase(BASE_URL)
+
+  test(""returns a URL object"", () => {
+    const url = drupal.buildUrl("""")
+    expect(url).toBeInstanceOf(URL)
+    expect(url.toString()).toEqual(`${BASE_URL}/`)
+  })
+
+  test(""adds baseURL if given a relative path"", () => {
+    expect(drupal.buildUrl(""/foo"").toString()).toEqual(`${BASE_URL}/foo`)
+  })
+
+  test(""does not add baseURL if path includes hostname"", () => {
+    const path = ""https://example.com/foo""
+    expect(drupal.buildUrl(path).toString()).toEqual(path)
+  })
+
+  test(""adds the searchParams"", () => {
+    expect(drupal.buildUrl(""/foo"", { bar: ""baz"" }).toString()).toEqual(
+      `${BASE_URL}/foo?bar=baz`
+    )
+
+    expect(
+      drupal
+        .buildUrl(""/jsonapi/node/article"", {
+          sort: ""-created"",
+          ""fields[node--article]"": ""title,path"",
+        })
+        .toString()
+    ).toEqual(
+      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
+    )
+  })
+
+  test(""adds the searchParams from a DrupalJsonApiParams"", () => {
+    const searchParams = {
+      getQueryObject: () => ({
+        sort: ""-created"",
+        ""fields[node--article]"": ""title,path"",
+      }),
+    }
+
+    expect(
+      drupal.buildUrl(""/jsonapi/node/article"", searchParams).toString()
+    ).toEqual(
+      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
+    )
+  })
+
+  test(""does not throw an error when searchParams is null"", () => {
+    expect(() =>
+      drupal.buildUrl(""/some-path"", null).toString()
+    ).not.toThrowError(
+      ""Cannot use 'in' operator to search for 'getQueryObject' in null""
+    )
+  })
+})
+
+describe(""buildEndpoint()"", () => {
+  const drupal = new NextDrupalBase(BASE_URL)
+
+  test(""returns a URL string"", async () => {
+    const endpoint = await drupal.buildEndpoint()
+
+    expect(typeof endpoint).toBe(""string"")
+  })
+
+  test(""adds the apiPrefix"", async () => {
+    const drupal = new NextDrupalBase(BASE_URL, { apiPrefix: ""/someapi"" })
+
+    const endpoint = await drupal.buildEndpoint()
+
+    expect(endpoint).toBe(`${BASE_URL}/someapi`)
+  })
+
+  test(""adds the path"", async () => {
+    const endpoint = await drupal.buildEndpoint({ path: ""/some-path"" })
+
+    expect(endpoint).toBe(`${BASE_URL}/some-path`)
+  })
+
+  test('ensures the path starts with ""/""', async () => {
+    const endpoint = await drupal.buildEndpoint({
+      path: ""some-path"",
+    })
+
+    expect(endpoint).toBe(`${BASE_URL}/some-path`)
+  })
+
+  test(""adds the search params"", async () => {
+    const endpoint = await drupal.buildEndpoint({
+      path: ""/zoo"",
+      searchParams: { animal: ""unicorn"" },
+    })
+
+    expect(endpoint).toBe(`${BASE_URL}/zoo?animal=unicorn`)
+  })
+
+  test(""adds locale then apiPrefix then path"", async () => {
+    const drupal = new NextDrupalBase(BASE_URL, { apiPrefix: ""/someapi"" })
+    const endpoint = await drupal.buildEndpoint({
+      locale: ""en"",
+      path: ""/zoo"",
+      searchParams: { animal: ""unicorn"" },
+    })
+
+    expect(endpoint).toBe(`${BASE_URL}/en/someapi/zoo?animal=unicorn`)
+  })
+})
+
+describe(""constructPathFromSegment()"", () => {
+  const frontPage = ""/home""
+  const drupal = new NextDrupalBase(BASE_URL, { frontPage })
+
+  describe(""with no options"", () => {
+    test(""returns homepage given no segments"", () => {
+      expect(drupal.constructPathFromSegment(undefined)).toBe(frontPage)
+      expect(drupal.constructPathFromSegment("""")).toBe(frontPage)
+      expect(drupal.constructPathFromSegment([])).toBe(frontPage)
+      expect(drupal.constructPathFromSegment([""""])).toBe(frontPage)
+    })
+
+    test(""returns path given string"", () => {
+      expect(drupal.constructPathFromSegment(""foo"")).toBe(""/foo"")
+    })
+
+    test(""returns path given array"", () => {
+      expect(drupal.constructPathFromSegment([""foo""])).toBe(""/foo"")
+
+      expect(drupal.constructPathFromSegment([""foo"", ""bar""])).toBe(""/foo/bar"")
+    })
+
+    test(""encodes path with punctuation"", async () => {
+      expect(
+        drupal.constructPathFromSegment([""path&with"", ""^punc&"", ""in$path""])
+      ).toEqual(""/path%26with/%5Epunc%26/in%24path"")
+    })
+
+    test(""prevents path from ending in slash"", () => {
+      expect(drupal.constructPathFromSegment([""foo"", """"])).toBe(""/foo"")
+    })
+  })
+
+  describe(""with locale options"", () => {
+    test(""returns path when using default locale"", () => {
+      expect(
+        drupal.constructPathFromSegment([""foo""], {
+          locale: ""es"",
+          defaultLocale: ""es"",
+        })
+      ).toBe(""/foo"")
+    })
+
+    test(""returns path when using non-default locale"", () => {
+      expect(
+        drupal.constructPathFromSegment([""foo""], {
+          locale: ""es"",
+          defaultLocale: ""en"",
+        })
+      ).toBe(""/es/foo"")
+    })
+  })
+
+  describe(""with pathPrefix option"", () => {
+    const pathPrefix = ""/prefix""
+    const options = {
+      pathPrefix,
+    }
+
+    test(""returns path with prefix"", () => {
+      expect(drupal.constructPathFromSegment([""foo""], options)).toBe(
+        `${pathPrefix}/foo`
+      )
+    })
+
+    test('returns correct path given ""/"" prefix', () => {
+      expect(
+        drupal.constructPathFromSegment([""foo""], { pathPrefix: ""/"" })
+      ).toBe(""/foo"")
+    })
+
+    test('returns correct path given prefix not starting in ""/""', () => {
+      expect(
+        drupal.constructPathFromSegment([""foo""], { pathPrefix: ""prefix"" })
+      ).toBe(""/prefix/foo"")
+    })
+
+    test('returns correct path given prefix ending in ""/""', () => {
+      expect(
+        drupal.constructPathFromSegment([""foo""], { pathPrefix: ""/prefix/"" })
+      ).toBe(""/prefix/foo"")
+    })
+
+    test(""returns pathPrefix given no segments"", () => {
+      expect(drupal.constructPathFromSegment(undefined, options)).toBe(
+        pathPrefix
+      )
+      expect(drupal.constructPathFromSegment("""", options)).toBe(pathPrefix)
+      expect(drupal.constructPathFromSegment([], options)).toBe(pathPrefix)
+      expect(drupal.constructPathFromSegment([""""], options)).toBe(pathPrefix)
+    })
+  })
+})
+
+describe(""debug()"", () => {
+  test(""does not print messages by default"", () => {
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, { logger })
+    const message = ""Example message""
+    drupal.debug(message)
+    expect(logger.debug).not.toHaveBeenCalled()
+  })
+
+  test(""prints messages when debugging on"", () => {
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, { logger, debug: true })
+    const message = ""Example message""
+    drupal.debug(message)
+    expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
+    expect(logger.debug).toHaveBeenCalledWith(message)
+  })
+})
+
+describe(""getErrorsFromResponse()"", () => {
+  const drupal = new NextDrupalBase(BASE_URL)
+
+  test(""returns application/json error message"", async () => {
+    const message = ""An error occurred.""
+    const response = new Response(JSON.stringify({ message }), {
+      status: 403,
+      headers: {
+        ""content-type"": ""application/json"",
+      },
+    })
+
+    expect(await drupal.getErrorsFromResponse(response)).toBe(message)
+  })
+
+  test(""returns application/vnd.api+json errors"", async () => {
+    const payload = {
+      errors: [
+        {
+          status: ""404"",
+          title: ""Not found"",
+          detail: ""Oops."",
+        },
+        {
+          status: ""418"",
+          title: ""I am a teapot"",
+          detail: ""Even RFCs have easter eggs."",
+        },
+      ],
+    }
+    const response = new Response(JSON.stringify(payload), {
+      status: 403,
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    expect(await drupal.getErrorsFromResponse(response)).toMatchObject(
+      payload.errors
+    )
+  })
+
+  test(""returns the response status text if the application/vnd.api+json errors cannot be found"", async () => {
+    const payload = {
+      contains: 'no ""errors"" entry',
+    }
+    const response = new Response(JSON.stringify(payload), {
+      status: 418,
+      statusText: ""I'm a Teapot"",
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    expect(await drupal.getErrorsFromResponse(response)).toBe(""I'm a Teapot"")
+  })
+
+  test(""returns the response status text if no errors can be found"", async () => {
+    const response = new Response(JSON.stringify({}), {
+      status: 403,
+      statusText: ""Forbidden"",
+    })
+
+    expect(await drupal.getErrorsFromResponse(response)).toBe(""Forbidden"")
+  })
+})
+
+describe(""throwIfJsonErrors()"", () => {
+  const drupal = new NextDrupalBase(BASE_URL)
+
+  test(""does not throw if response is ok"", async () => {
+    expect.assertions(1)
+
+    const response = new Response(JSON.stringify({}))
+
+    await expect(drupal.throwIfJsonErrors(response)).resolves.toBe(undefined)
+  })
+
+  test(""throws a JsonApiErrors object"", async () => {
+    expect.assertions(1)
+
+    const payload = {
+      errors: [
+        {
+          status: ""404"",
+          title: ""Not found"",
+          detail: ""Oops."",
+        },
+        {
+          status: ""418"",
+          title: ""I am a teapot"",
+          detail: ""Even RFCs have easter eggs."",
+        },
+      ] as JsonApiError[],
+    }
+    const status = 403
+    const response = new Response(JSON.stringify(payload), {
+      status,
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    const expectedError = new JsonApiErrors(payload.errors, status)
+    await expect(drupal.throwIfJsonErrors(response)).rejects.toEqual(
+      expectedError
+    )
+  })
+
+  test(""adds an error prefix"", async () => {
+    expect.assertions(1)
+
+    const payload = {
+      errors: [
+        {
+          status: ""418"",
+          title: ""I am a teapot"",
+          detail: ""Even RFCs have easter eggs."",
+        },
+      ] as JsonApiError[],
+    }
+    const status = 403
+    const response = new Response(JSON.stringify(payload), {
+      status,
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    const messagePrefix = ""Optional error message prefix:""
+    const expectedError = new JsonApiErrors(payload.errors, status)
+    expectedError.message = `${messagePrefix} ${expectedError.message}`
+
+    await expect(
+      drupal.throwIfJsonErrors(response, messagePrefix)
+    ).rejects.toEqual(expectedError)
+  })
+})
+
+describe(""validateDraftUrl()"", () => {
+  const drupal = new NextDrupalBase(BASE_URL)
+
+  test(""outputs debug messages"", async () => {
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      debug: true,
+      logger,
+    })
+    const path = ""/example""
+    const searchParams = new URLSearchParams({
+      path,
+    })
+    const testPayload = { test: ""resolved"" }
+
+    spyOnFetchOnce({
+      responseBody: testPayload,
+    })
+    spyOnFetchOnce({
+      responseBody: {
+        message: ""fail"",
+      },
+      status: 404,
+    })
+
+    let response = await drupal.validateDraftUrl(searchParams)
+
+    expect(response.status).toBe(200)
+    expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
+    expect(logger.debug).toHaveBeenCalledWith(
+      `Fetching draft url validation for ${path}.`
+    )
+    expect(logger.debug).toHaveBeenCalledWith(`Validated path, ${path}`)
+
+    response = await drupal.validateDraftUrl(searchParams)
+
+    expect(response.status).toBe(404)
+    expect(logger.debug).toHaveBeenCalledWith(
+      `Could not validate path, ${path}`
+    )
+  })
+
+  test(""calls draft-url endpoint"", async () => {
+    const searchParams = new URLSearchParams({
+      path: ""/example"",
+    })
+
+    const testPayload = { test: ""resolved"" }
+    const fetchSpy = spyOnFetch({ responseBody: testPayload })
+
+    await drupal.validateDraftUrl(searchParams)
+
+    expect(fetchSpy.mock.calls[0][0]).toBe(`${BASE_URL}/next/draft-url`)
+    expect(fetchSpy.mock.calls[0][1]).toMatchObject({
+      method: ""POST"",
+      body: JSON.stringify(Object.fromEntries(searchParams.entries())),
+    })
+    expect(
+      Object.fromEntries(
+        (fetchSpy.mock.calls[0][1].headers as Headers).entries()
+      )
+    ).toMatchObject({
+      accept: ""application/vnd.api+json"",
+      ""content-type"": ""application/json"",
+    })
+  })
+
+  test(""returns a response object on success"", async () => {
+    const searchParams = new URLSearchParams({
+      path: ""/example"",
+    })
+
+    const testPayload = { test: ""resolved"" }
+    spyOnFetch({ responseBody: testPayload })
+
+    const response = await drupal.validateDraftUrl(searchParams)
+
+    expect(response.ok).toBe(true)
+    expect(response.status).toBe(200)
+    expect(await response.json()).toMatchObject(testPayload)
+  })
+
+  test(""returns a response if fetch throws"", async () => {
+    const searchParams = new URLSearchParams({
+      path: ""/example"",
+    })
+
+    const message = ""random fetch error""
+    spyOnFetch({ throwErrorMessage: message })
+
+    const response = await drupal.validateDraftUrl(searchParams)
+
+    expect(response.ok).toBe(false)
+    expect(response.status).toBe(401)
+    expect(await response.json()).toMatchObject({ message })
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupalBase/constructor.test.ts---
@@ -0,0 +1,218 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { NextDrupalBase } from ""../../src""
+import { DEBUG_MESSAGE_PREFIX, logger as defaultLogger } from ""../../src/logger""
+import { BASE_URL, mocks } from ""../utils""
+import type { NextDrupalAuth, Logger } from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""baseUrl parameter"", () => {
+  const env = process.env
+
+  beforeEach(() => {
+    jest.resetModules()
+    process.env = { ...env }
+  })
+
+  afterEach(() => {
+    process.env = env
+  })
+
+  test(""throws error given an invalid baseUrl"", () => {
+    // @ts-ignore
+    expect(() => new NextDrupalBase()).toThrow(
+      ""The 'baseUrl' param is required.""
+    )
+
+    // @ts-ignore
+    expect(() => new NextDrupalBase({})).toThrow(
+      ""The 'baseUrl' param is required.""
+    )
+  })
+
+  test(""announces debug mode when turned on"", () => {
+    const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
+      //
+    })
+
+    new NextDrupalBase(BASE_URL, {
+      debug: true,
+    })
+
+    expect(consoleSpy).toHaveBeenCalledWith(
+      DEBUG_MESSAGE_PREFIX,
+      ""Debug mode is on.""
+    )
+  })
+
+  test(""returns a NextDrupalBase"", () => {
+    expect(new NextDrupalBase(BASE_URL)).toBeInstanceOf(NextDrupalBase)
+  })
+})
+
+describe(""options parameter"", () => {
+  describe(""accessToken"", () => {
+    test(""defaults to `undefined`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(drupal.accessToken).toBe(undefined)
+    })
+
+    test(""sets the accessToken"", async () => {
+      const accessToken = mocks.auth.accessToken
+
+      const drupal = new NextDrupalBase(BASE_URL, {
+        accessToken,
+      })
+
+      expect(drupal.accessToken).toEqual(accessToken)
+    })
+  })
+
+  describe(""apiPrefix"", () => {
+    test(""defaults to empty string"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(drupal.apiPrefix).toBe("""")
+    })
+
+    test(""sets the apiPrefix"", () => {
+      const customEndPoint = ""/customapi""
+      const drupal = new NextDrupalBase(BASE_URL, {
+        apiPrefix: customEndPoint,
+      })
+      expect(drupal.apiPrefix).toBe(customEndPoint)
+    })
+  })
+
+  describe(""auth"", () => {
+    test(""defaults to `undefined`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(drupal.auth).toBe(undefined)
+    })
+
+    test(""sets the auth credentials"", () => {
+      const auth: NextDrupalAuth = {
+        username: ""example"",
+        password: ""pw"",
+      }
+      const drupal = new NextDrupalBase(BASE_URL, {
+        auth,
+      })
+      expect(drupal.auth).toMatchObject({
+        ...auth,
+      })
+    })
+  })
+
+  describe(""debug"", () => {
+    test(""defaults to `false`"", () => {
+      const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
+        //
+      })
+
+      new NextDrupalBase(BASE_URL)
+
+      expect(consoleSpy).toBeCalledTimes(0)
+    })
+
+    test(""turns on debug mode"", () => {
+      const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
+        //
+      })
+
+      new NextDrupalBase(BASE_URL, { debug: true })
+
+      expect(consoleSpy).toBeCalledTimes(1)
+    })
+  })
+
+  describe(""fetcher"", () => {
+    test(""defaults to `undefined`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(drupal.fetcher).toBe(undefined)
+    })
+
+    test(""sets up a custom fetcher"", () => {
+      const customFetcher: NextDrupalBase[""fetcher""] = async () => {
+        //
+      }
+      const drupal = new NextDrupalBase(BASE_URL, {
+        fetcher: customFetcher,
+      })
+      expect(drupal.fetcher).toBe(customFetcher)
+    })
+  })
+
+  describe(""headers"", () => {
+    test(""defaults to `Content-Type`/`Accept`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(Object.fromEntries(drupal.headers.entries())).toMatchObject({
+        ""content-type"": ""application/json"",
+        accept: ""application/json"",
+      })
+    })
+
+    test(""sets custom headers"", () => {
+      const customHeaders = {
+        CustomContentType: ""application/vnd.api+json"",
+        CustomAccept: ""application/vnd.api+json"",
+      }
+      const expectedHeaders = {}
+      Object.keys(customHeaders).forEach((header) => {
+        expectedHeaders[header.toLowerCase()] = customHeaders[header]
+      })
+
+      const drupal = new NextDrupalBase(BASE_URL, {
+        headers: customHeaders,
+      })
+
+      expect(Object.fromEntries(drupal.headers.entries())).toMatchObject(
+        expectedHeaders
+      )
+    })
+  })
+
+  describe(""logger"", () => {
+    test(""defaults to `console`-based `Logger`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(drupal.logger).toBe(defaultLogger)
+    })
+
+    test(""sets up a custom logger"", () => {
+      const customLogger: Logger = {
+        log: () => {
+          //
+        },
+        debug: () => {
+          //
+        },
+        warn: () => {
+          //
+        },
+        error: () => {
+          //
+        },
+      }
+
+      const drupal = new NextDrupalBase(BASE_URL, {
+        logger: customLogger,
+      })
+      expect(drupal.logger).toBe(customLogger)
+    })
+  })
+
+  describe(""withAuth"", () => {
+    test(""defaults to `false`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL)
+      expect(drupal.withAuth).toBe(false)
+    })
+
+    test(""can be set to `true`"", () => {
+      const drupal = new NextDrupalBase(BASE_URL, {
+        withAuth: true,
+      })
+      expect(drupal.withAuth).toBe(true)
+    })
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupalBase/fetch-methods.test.ts---
@@ -0,0 +1,573 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { FetchOptions, NextDrupalBase } from ""../../src""
+import {
+  BASE_URL,
+  mockLogger,
+  mocks,
+  spyOnFetch,
+  spyOnFetchOnce,
+} from ""../utils""
+import type {
+  AccessToken,
+  NextDrupalAuth,
+  NextDrupalBaseOptions,
+} from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""fetch()"", () => {
+  const headers = {
+    ""Content-Type"": ""application/json"",
+    Accept: ""application/json"",
+  }
+  const defaultInit = {
+    credentials: ""include"",
+    headers: new Headers(headers),
+  }
+  const mockUrl = ""https://example.com/mock-url""
+  const authHeader = mocks.auth.customAuthenticationHeader
+
+  test(""uses global fetch by default"", async () => {
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      debug: true,
+      logger,
+    })
+    const mockResponseBody = { success: true }
+    const mockUrl = ""https://example.com/mock-url""
+    const mockInit = {
+      priority: ""high"",
+    } as FetchOptions
+    const fetchSpy = spyOnFetch({ responseBody: mockResponseBody, headers })
+
+    const response = await drupal.fetch(mockUrl, mockInit)
+
+    expect(fetchSpy).toBeCalledTimes(1)
+    expect(fetchSpy).toBeCalledWith(
+      mockUrl,
+      expect.objectContaining({
+        ...defaultInit,
+        ...mockInit,
+      })
+    )
+    expect(response.headers.get(""content-type"")).toEqual(""application/json"")
+    expect(await response.json()).toMatchObject(mockResponseBody)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      `Using default fetch, fetching: ${mockUrl}`
+    )
+  })
+
+  test(""allows for custom fetcher"", async () => {
+    const logger = mockLogger()
+    const customFetch = jest.fn()
+
+    const drupal = new NextDrupalBase(BASE_URL, {
+      fetcher: customFetch,
+      debug: true,
+      logger,
+    })
+    const mockUrl = ""https://example.com/mock-url""
+    const mockInit = {
+      priority: ""high"",
+    } as FetchOptions
+
+    await drupal.fetch(mockUrl, mockInit)
+
+    expect(customFetch).toBeCalledTimes(1)
+    expect(customFetch).toHaveBeenCalledWith(
+      mockUrl,
+      expect.objectContaining({
+        ...mockInit,
+        ...defaultInit,
+      })
+    )
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      `Using custom fetcher, fetching: ${mockUrl}`
+    )
+  })
+
+  test(""handles relative URLs"", async () => {
+    const drupal = new NextDrupalBase(BASE_URL)
+    const mockResponseBody = { success: true }
+    const mockUrl = ""/mock-url""
+    const fetchSpy = spyOnFetch({ responseBody: mockResponseBody, headers })
+
+    await drupal.fetch(mockUrl)
+
+    expect(fetchSpy).toBeCalledTimes(1)
+    expect(fetchSpy).toBeCalledWith(
+      `${BASE_URL}${mockUrl}`,
+      expect.objectContaining({
+        ...defaultInit,
+      })
+    )
+  })
+
+  test(""allows setting custom headers"", async () => {
+    const customFetch = jest.fn()
+    const constructorHeaders = {
+      constructor: ""header"",
+      Accept: ""application/set-from-constructor"",
+    }
+    const paramHeaders = {
+      params: ""header"",
+      Accept: ""application/set-from-params"",
+    }
+    const drupal = new NextDrupalBase(BASE_URL, {
+      fetcher: customFetch,
+      headers: constructorHeaders,
+    })
+
+    const url = ""http://example.com""
+
+    await drupal.fetch(url, {
+      headers: paramHeaders,
+    })
+
+    expect(customFetch).toHaveBeenLastCalledWith(
+      url,
+      expect.objectContaining({
+        ...defaultInit,
+        headers: new Headers({
+          ...constructorHeaders,
+          ...paramHeaders,
+        }),
+      })
+    )
+  })
+
+  test(""does not add Authorization header by default"", async () => {
+    const fetcher: NextDrupalBaseOptions[""fetcher""] = jest.fn()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: authHeader,
+      fetcher,
+    })
+
+    await drupal.fetch(mockUrl)
+
+    expect(fetcher.mock.lastCall[0]).toBe(mockUrl)
+    expect(fetcher.mock.lastCall[1]?.headers?.has(""Authorization"")).toBeFalsy()
+  })
+
+  test(""optionally adds Authorization header from constructor"", async () => {
+    const fetcher: NextDrupalBaseOptions[""fetcher""] = jest.fn()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: authHeader,
+      fetcher,
+    })
+
+    await drupal.fetch(mockUrl, { withAuth: true })
+
+    expect(fetcher.mock.lastCall[0]).toBe(mockUrl)
+    expect(fetcher.mock.lastCall[1]?.headers?.get(""Authorization"")).toBe(
+      authHeader
+    )
+  })
+
+  test(""optionally adds Authorization header from init"", async () => {
+    const fetcher: NextDrupalBaseOptions[""fetcher""] = jest.fn()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      fetcher,
+    })
+
+    await drupal.fetch(mockUrl, { withAuth: authHeader })
+
+    expect(fetcher.mock.lastCall[0]).toBe(mockUrl)
+    expect(fetcher.mock.lastCall[1]?.headers?.get(""Authorization"")).toBe(
+      authHeader
+    )
+  })
+})
+
+describe(""getAccessToken()"", () => {
+  const accessToken = mocks.auth.accessToken
+  const clientIdSecret = mocks.auth.clientIdSecret
+
+  test(""uses the long-lived access token from constructor"", async () => {
+    const longLivedAccessToken: AccessToken = {
+      ...accessToken,
+      access_token: `LONG${accessToken.access_token}`,
+      expires_in: accessToken.expires_in * 1000,
+    }
+    const drupal = new NextDrupalBase(BASE_URL, {
+      accessToken: longLivedAccessToken,
+    })
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const token = await drupal.getAccessToken(clientIdSecret)
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+    expect(token).toBe(longLivedAccessToken)
+  })
+
+  test(""throws if auth is not configured"", async () => {
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const drupal = new NextDrupalBase(BASE_URL)
+
+    await expect(drupal.getAccessToken()).rejects.toThrow(
+      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""throws if auth is not ClientIdSecret"", async () => {
+    const errorMessage =
+      ""'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth""
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: mocks.auth.basicAuth,
+      withAuth: true,
+    })
+
+    await expect(drupal.getAccessToken()).rejects.toThrow(errorMessage)
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+
+    await expect(
+      drupal.getAccessToken(
+        // @ts-ignore
+        { clientId: clientIdSecret.clientId }
+      )
+    ).rejects.toThrow(errorMessage)
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""fetches an access token"", async () => {
+    spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: clientIdSecret,
+      debug: true,
+      logger,
+    })
+
+    const token = await drupal.getAccessToken()
+    expect(token).toEqual(accessToken)
+    expect(logger.debug).toHaveBeenCalledWith(""Fetching new access token."")
+  })
+
+  test(""re-uses an access token"", async () => {
+    spyOnFetchOnce({
+      responseBody: accessToken,
+    })
+    const fetchSpy = spyOnFetchOnce({
+      responseBody: {
+        ...accessToken,
+        access_token: ""differentAccessToken"",
+        expires_in: 1800,
+      },
+    })
+
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: clientIdSecret,
+      debug: true,
+      logger,
+    })
+
+    const token1 = await drupal.getAccessToken()
+    const token2 = await drupal.getAccessToken()
+
+    expect(token1).toEqual(accessToken)
+    expect(token2).toEqual(token1)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using existing access token.""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(1)
+  })
+
+  test(""uses the default auth url"", async () => {
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: clientIdSecret,
+    })
+
+    const token = await drupal.getAccessToken()
+
+    expect(token).toEqual(accessToken)
+    expect(fetchSpy.mock?.lastCall?.[0]).toBe(`${BASE_URL}/oauth/token`)
+  })
+
+  test(""uses a custom auth url from constructor"", async () => {
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: { ...clientIdSecret, url: ""/custom/token"" },
+    })
+
+    const token = await drupal.getAccessToken()
+
+    expect(token).toEqual(accessToken)
+    expect(fetchSpy.mock?.lastCall?.[0]).toBe(`${BASE_URL}/custom/token`)
+  })
+
+  test(""uses a custom auth url from arguments"", async () => {
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: { ...clientIdSecret, url: ""/different/token"" },
+    })
+
+    const token = await drupal.getAccessToken({
+      ...clientIdSecret,
+      url: ""/custom/token"",
+    })
+    expect(token).toEqual(accessToken)
+    expect(fetchSpy.mock?.lastCall?.[0]).toBe(`${BASE_URL}/custom/token`)
+  })
+
+  test(""uses the scope from constructor"", async () => {
+    spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const logger = mockLogger()
+    const scope = ""admin""
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: { ...clientIdSecret, scope },
+      debug: true,
+      logger,
+    })
+
+    const token = await drupal.getAccessToken()
+    expect(token).toEqual(accessToken)
+    expect(logger.debug).toHaveBeenCalledWith(""Fetching new access token."")
+    expect(logger.debug).toHaveBeenCalledWith(`Using scope: ${scope}`)
+  })
+
+  test(""uses the scope from arguments"", async () => {
+    spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const logger = mockLogger()
+    const scope = ""admin""
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: {
+        clientId: ""not-used"",
+        clientSecret: ""not-used"",
+        scope: ""not-used"",
+        expires_in: 3600,
+      },
+      debug: true,
+      logger,
+    })
+
+    const token = await drupal.getAccessToken({ ...clientIdSecret, scope })
+
+    expect(token).toEqual(accessToken)
+    expect(logger.debug).toHaveBeenCalledWith(""Fetching new access token."")
+    expect(logger.debug).toHaveBeenCalledWith(`Using scope: ${scope}`)
+  })
+
+  test(""re-uses an access token if scope matches"", async () => {
+    spyOnFetchOnce({
+      responseBody: accessToken,
+    })
+    const fetchSpy = spyOnFetchOnce({
+      responseBody: {
+        ...accessToken,
+        access_token: ""differentAccessToken"",
+        expires_in: 1800,
+      },
+    })
+
+    const logger = mockLogger()
+    const scope = ""admin""
+    const drupal = new NextDrupalBase(BASE_URL, {
+      debug: true,
+      logger,
+    })
+
+    const token1 = await drupal.getAccessToken({ ...clientIdSecret, scope })
+    const token2 = await drupal.getAccessToken({ ...clientIdSecret, scope })
+
+    expect(token1).toEqual(accessToken)
+    expect(token2).toEqual(token1)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using existing access token.""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(1)
+  })
+
+  test(""does not re-use an access token if scope does not match"", async () => {
+    spyOnFetchOnce({
+      responseBody: accessToken,
+    })
+    const differentToken = {
+      ...accessToken,
+      access_token: ""differentAccessToken"",
+      expires_in: 1800,
+    }
+    const fetchSpy = spyOnFetchOnce({
+      responseBody: differentToken,
+    })
+
+    const logger = mockLogger()
+    const scope = ""admin""
+    const drupal = new NextDrupalBase(BASE_URL, {
+      debug: true,
+      logger,
+    })
+
+    const token1 = await drupal.getAccessToken({ ...clientIdSecret, scope })
+    const token2 = await drupal.getAccessToken({
+      ...clientIdSecret,
+      scope: ""differs"",
+    })
+
+    expect(token1).toEqual(accessToken)
+    expect(token2).toEqual(differentToken)
+    expect(logger.debug).not.toHaveBeenCalledWith(
+      ""Using existing access token.""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(2)
+  })
+})
+
+describe(""getAuthorizationHeader()"", () => {
+  const accessToken = mocks.auth.accessToken
+  const basicAuth = mocks.auth.basicAuth
+  const basicAuthHeader = `Basic ${Buffer.from(
+    `${basicAuth.username}:${basicAuth.password}`
+  ).toString(""base64"")}`
+  const clientIdSecret = mocks.auth.clientIdSecret
+  const authCallback = mocks.auth.callback
+  const authHeader = mocks.auth.customAuthenticationHeader
+
+  test(""returns Basic Auth"", async () => {
+    const auth: NextDrupalAuth = basicAuth
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+      debug: true,
+      logger,
+    })
+
+    const header = await drupal.getAuthorizationHeader(auth)
+
+    expect(header).toBe(basicAuthHeader)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using basic authorization header.""
+    )
+  })
+
+  test(""returns Client Id/Secret"", async () => {
+    const auth: NextDrupalAuth = clientIdSecret
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+      debug: true,
+      logger,
+    })
+    jest
+      .spyOn(drupal, ""getAccessToken"")
+      .mockImplementation(async () => accessToken)
+
+    const header = await drupal.getAuthorizationHeader(auth)
+
+    expect(header).toBe(`Bearer ${accessToken.access_token}`)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using access token authorization header retrieved from Client Id/Secret.""
+    )
+  })
+
+  test(""returns Access Token"", async () => {
+    const auth: NextDrupalAuth = accessToken
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+      debug: true,
+      logger,
+    })
+
+    const header = await drupal.getAuthorizationHeader(auth)
+
+    expect(header).toBe(`${auth.token_type} ${auth.access_token}`)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using access token authorization header.""
+    )
+  })
+
+  test(""returns auth header"", async () => {
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+      debug: true,
+      logger,
+    })
+
+    const header = await drupal.getAuthorizationHeader(authHeader)
+
+    expect(header).toBe(authHeader)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using custom authorization header.""
+    )
+  })
+
+  test(""returns result of auth callback"", async () => {
+    const auth: NextDrupalAuth = jest.fn(authCallback)
+    const logger = mockLogger()
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+      debug: true,
+      logger,
+    })
+
+    const header = await drupal.getAuthorizationHeader(auth)
+
+    expect(header).toBe(authCallback())
+    expect(auth).toBeCalledTimes(1)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using custom authorization callback.""
+    )
+  })
+
+  test(""throws an error if auth is undefined"", async () => {
+    const auth = undefined
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+    })
+
+    await expect(drupal.getAuthorizationHeader(auth)).rejects.toThrow(
+      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+    )
+  })
+
+  test(""throws an error if auth is unrecognized"", async () => {
+    const auth = {
+      username: ""admin"",
+      token_type: ""Bearer"",
+    }
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: ""is not used"",
+    })
+
+    await expect(
+      drupal.getAuthorizationHeader(
+        // @ts-ignore
+        auth
+      )
+    ).rejects.toThrow(
+      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+    )
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupalBase/getters-setters.test.ts---
@@ -0,0 +1,264 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { NextDrupalBase } from ""../../src""
+import { BASE_URL, mocks } from ""../utils""
+import type {
+  AccessToken,
+  NextDrupalAuthAccessToken,
+  NextDrupalAuthUsernamePassword,
+  NextDrupalBaseOptions,
+} from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""apiPrefix"", () => {
+  test(""get apiPrefix"", () => {
+    const drupal = new NextDrupalBase(BASE_URL)
+    expect(drupal.apiPrefix).toBe("""")
+  })
+  test(""set apiPrefix"", () => {
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.apiPrefix = ""/api""
+    expect(drupal.apiPrefix).toBe(""/api"")
+  })
+  test('set apiPrefix and prefixes with ""/""', () => {
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.apiPrefix = ""api""
+    expect(drupal.apiPrefix).toBe(""/api"")
+  })
+})
+
+describe(""auth"", () => {
+  describe(""throws an error if invalid Basic Auth"", () => {
+    test(""missing username"", () => {
+      expect(() => {
+        const drupal = new NextDrupalBase(BASE_URL)
+        // @ts-ignore
+        drupal.auth = {
+          password: ""password"",
+        }
+      }).toThrow(
+        ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+
+    test(""missing password"", () => {
+      expect(() => {
+        const drupal = new NextDrupalBase(BASE_URL)
+        // @ts-ignore
+        drupal.auth = {
+          username: ""admin"",
+        }
+      }).toThrow(
+        ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+  })
+
+  describe(""throws an error if invalid Access Token"", () => {
+    test(""missing access_token"", () => {
+      expect(() => {
+        const drupal = new NextDrupalBase(BASE_URL)
+        // @ts-ignore
+        drupal.auth = {
+          token_type: mocks.auth.accessToken.token_type,
+        }
+      }).toThrow(
+        ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+
+    test(""missing token_type"", () => {
+      expect(() => {
+        const drupal = new NextDrupalBase(BASE_URL)
+        // @ts-ignore
+        drupal.auth = {
+          access_token: mocks.auth.accessToken.access_token,
+        }
+      }).toThrow(
+        ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+  })
+
+  describe(""throws an error if invalid Client ID/Secret"", () => {
+    test(""missing clientId"", () => {
+      expect(() => {
+        const drupal = new NextDrupalBase(BASE_URL)
+        // @ts-ignore
+        drupal.auth = {
+          clientSecret: mocks.auth.clientIdSecret.clientSecret,
+        }
+      }).toThrow(
+        ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+
+    test(""missing clientSecret"", () => {
+      expect(() => {
+        const drupal = new NextDrupalBase(BASE_URL)
+        // @ts-ignore
+        drupal.auth = {
+          clientId: mocks.auth.clientIdSecret.clientId,
+        }
+      }).toThrow(
+        ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+  })
+
+  test(""get auth"", () => {
+    const drupal = new NextDrupalBase(BASE_URL, {
+      auth: mocks.auth.customAuthenticationHeader,
+    })
+    expect(drupal.auth).toBe(mocks.auth.customAuthenticationHeader)
+  })
+
+  test(""sets Basic Auth"", () => {
+    const basicAuth: NextDrupalAuthUsernamePassword = {
+      ...mocks.auth.basicAuth,
+    }
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = basicAuth
+    expect(drupal.auth).toMatchObject({ ...basicAuth })
+  })
+
+  test(""sets Access Token"", () => {
+    const accessToken = {
+      ...mocks.auth.accessToken,
+    }
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = accessToken
+    expect(drupal.auth).toMatchObject({ ...accessToken })
+  })
+
+  test(""sets Client ID/Secret"", () => {
+    const clientIdSecret = {
+      ...mocks.auth.clientIdSecret,
+    }
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = clientIdSecret
+    expect(drupal.auth).toMatchObject({ ...clientIdSecret })
+  })
+
+  test(""sets auth function"", () => {
+    const authFunction = mocks.auth.callback
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = authFunction
+    expect(drupal.auth).toBe(authFunction)
+  })
+
+  test(""sets custom Authorization string"", () => {
+    const authString = `${mocks.auth.customAuthenticationHeader}`
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = authString
+    expect(drupal.auth).toBe(authString)
+  })
+
+  test(""sets a default access token url"", () => {
+    const clientIdSecret = {
+      ...mocks.auth.clientIdSecret,
+    }
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = clientIdSecret
+    expect(drupal.auth.url).toBe(""/oauth/token"")
+  })
+
+  test(""can override the default access token url"", () => {
+    const clientIdSecret = {
+      ...mocks.auth.clientIdSecret,
+      url: ""/custom/oauth/token"",
+    }
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.auth = clientIdSecret
+    expect(drupal.auth.url).toBe(""/custom/oauth/token"")
+  })
+})
+
+describe(""headers"", () => {
+  const headers = {
+    ""Content-Type"": ""application/x-www-form-urlencoded"",
+    Accept: ""application/json"",
+  } as NextDrupalBaseOptions[""headers""]
+  const expectedHeaders = {}
+  Object.keys(headers).forEach((header) => {
+    expectedHeaders[header.toLowerCase()] = headers[header]
+  })
+
+  test(""get headers"", () => {
+    const drupal = new NextDrupalBase(BASE_URL, { headers })
+
+    expect(Object.fromEntries(drupal.headers.entries())).toMatchObject(
+      expectedHeaders
+    )
+  })
+
+  test(""set headers using key-value pairs"", () => {
+    const keyValuePairs = [
+      [""Content-Type"", headers[""Content-Type""]],
+      [""Accept"", headers.Accept],
+    ]
+
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.headers = keyValuePairs
+
+    expect(Object.fromEntries(drupal.headers.entries())).toMatchObject(
+      expectedHeaders
+    )
+  })
+
+  test(""set headers using object literal"", () => {
+    const drupal = new NextDrupalBase(BASE_URL)
+
+    drupal.headers = headers
+
+    expect(Object.fromEntries(drupal.headers.entries())).toMatchObject(
+      expectedHeaders
+    )
+  })
+
+  test(""set headers using Headers object"", () => {
+    const headersObject = new Headers()
+    headersObject.set(""Content-Type"", headers[""Content-Type""])
+    headersObject.set(""Accept"", headers[""Accept""])
+
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.headers = headersObject
+
+    expect(Object.fromEntries(drupal.headers.entries())).toMatchObject(
+      expectedHeaders
+    )
+  })
+})
+
+describe(""token"", () => {
+  test(""get token"", () => {
+    const accessToken = {
+      ...mocks.auth.accessToken,
+    } as NextDrupalAuthAccessToken
+
+    const drupal = new NextDrupalBase(BASE_URL)
+    drupal.token = accessToken
+    expect(drupal.token).toBe(accessToken)
+  })
+
+  test(""set token"", () => {
+    function getExpiresOn(token: AccessToken): number {
+      return Date.now() + token.expires_in * 1000
+    }
+
+    const accessToken = {
+      ...mocks.auth.accessToken,
+    } as NextDrupalAuthAccessToken
+    const drupal = new NextDrupalBase(BASE_URL)
+
+    const before = getExpiresOn(accessToken)
+    drupal.token = accessToken
+    const after = getExpiresOn(accessToken)
+
+    expect(drupal.token).toBe(accessToken)
+    expect(drupal._tokenExpiresOn).toBeGreaterThanOrEqual(before)
+    expect(drupal._tokenExpiresOn).toBeLessThanOrEqual(after)
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupalPages/constructor.test.ts---
@@ -0,0 +1,43 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { Jsona } from ""jsona""
+import { NextDrupal, NextDrupalBase, NextDrupalPages } from ""../../src""
+import { BASE_URL } from ""../utils""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""baseUrl parameter"", () => {
+  test(""returns a NextDrupalPages"", () => {
+    expect(new NextDrupalPages(BASE_URL)).toBeInstanceOf(NextDrupalPages)
+    expect(new NextDrupalPages(BASE_URL)).toBeInstanceOf(NextDrupal)
+    expect(new NextDrupalPages(BASE_URL)).toBeInstanceOf(NextDrupalBase)
+  })
+})
+
+describe(""options parameter"", () => {
+  describe(""serializer"", () => {
+    test(""defaults to `new Jsona()`"", () => {
+      const drupal = new NextDrupalPages(BASE_URL)
+      expect(drupal.serializer).toBeInstanceOf(Jsona)
+    })
+
+    test(""sets up a custom serializer"", () => {
+      const customSerializer: NextDrupalPages[""serializer""] = {
+        deserialize(
+          body: Record<string, unknown>,
+          options?: Record<string, unknown>
+        ): unknown {
+          return {
+            deserialized: true,
+          }
+        },
+      }
+
+      const drupal = new NextDrupalPages(BASE_URL, {
+        serializer: customSerializer,
+      })
+      expect(drupal.serializer).toBe(customSerializer)
+    })
+  })
+})

---FILE: packages/next-drupal/tests/NextDrupalPages/pages-router-methods.test.ts---
@@ -1,8 +1,12 @@
 import { afterEach, describe, expect, jest, test } from ""@jest/globals""
 import { GetStaticPropsContext, NextApiRequest, NextApiResponse } from ""next""
-import { DRAFT_DATA_COOKIE_NAME, DrupalClient } from ""../../src""
+import { DRAFT_DATA_COOKIE_NAME, NextDrupalPages } from ""../../src""
 import { BASE_URL, mockLogger, mocks, spyOnFetch } from ""../utils""
-import type { DrupalNode, JsonApiResourceWithPath } from ""../../src""
+import type {
+  DrupalNode,
+  JsonApiResourceWithPath,
+  NextDrupalAuth,
+} from ""../../src""
 
 jest.setTimeout(10000)
 
@@ -29,9 +33,9 @@ describe(""buildStaticPathsFromResources()"", () => {
   ]
 
   test(""builds static paths from resources"", () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    expect(client.buildStaticPathsFromResources(resources)).toMatchObject([
+    expect(drupal.buildStaticPathsFromResources(resources)).toMatchObject([
       {
         params: {
           slug: [""blog"", ""post"", ""one""],
@@ -45,7 +49,7 @@ describe(""buildStaticPathsFromResources()"", () => {
     ])
 
     expect(
-      client.buildStaticPathsFromResources(resources, { locale: ""es"" })
+      drupal.buildStaticPathsFromResources(resources, { locale: ""es"" })
     ).toMatchObject([
       {
         locale: ""es"",
@@ -63,22 +67,22 @@ describe(""buildStaticPathsFromResources()"", () => {
   })
 
   test(""builds static paths from resources with pathPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const paths = client.buildStaticPathsFromResources(resources, {
+    const paths = drupal.buildStaticPathsFromResources(resources, {
       pathPrefix: ""blog"",
     })
 
-    const paths2 = client.buildStaticPathsFromResources(resources, {
+    const paths2 = drupal.buildStaticPathsFromResources(resources, {
       pathPrefix: ""/blog"",
     })
 
-    const paths3 = client.buildStaticPathsFromResources(resources, {
+    const paths3 = drupal.buildStaticPathsFromResources(resources, {
       pathPrefix: ""/blog/post"",
       locale: ""es"",
     })
 
-    const paths4 = client.buildStaticPathsFromResources(resources, {
+    const paths4 = drupal.buildStaticPathsFromResources(resources, {
       pathPrefix: ""blog/post"",
       locale: ""es"",
     })
@@ -115,7 +119,7 @@ describe(""buildStaticPathsFromResources()"", () => {
   })
 
   test('converts frontPage path to ""/""', () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const resources: Pick<JsonApiResourceWithPath, ""path"">[] = [
       {
@@ -127,7 +131,7 @@ describe(""buildStaticPathsFromResources()"", () => {
       },
     ]
 
-    expect(client.buildStaticPathsFromResources(resources)).toMatchObject([
+    expect(drupal.buildStaticPathsFromResources(resources)).toMatchObject([
       {
         params: {
           slug: [""""],
@@ -139,11 +143,11 @@ describe(""buildStaticPathsFromResources()"", () => {
 
 describe(""buildStaticPathsParamsFromPaths()"", () => {
   test(""builds static paths from paths"", () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const paths = [""/blog/post/one"", ""/blog/post/two"", ""/blog/post/three""]
 
-    expect(client.buildStaticPathsParamsFromPaths(paths)).toMatchObject([
+    expect(drupal.buildStaticPathsParamsFromPaths(paths)).toMatchObject([
       {
         params: {
           slug: [""blog"", ""post"", ""one""],
@@ -162,7 +166,7 @@ describe(""buildStaticPathsParamsFromPaths()"", () => {
     ])
 
     expect(
-      client.buildStaticPathsParamsFromPaths(paths, { locale: ""en"" })
+      drupal.buildStaticPathsParamsFromPaths(paths, { locale: ""en"" })
     ).toMatchObject([
       {
         locale: ""en"",
@@ -186,24 +190,24 @@ describe(""buildStaticPathsParamsFromPaths()"", () => {
   })
 
   test(""builds static paths from paths with pathPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const paths = client.buildStaticPathsParamsFromPaths(
+    const paths = drupal.buildStaticPathsParamsFromPaths(
       [""/blog/post/one"", ""/blog/post/two"", ""/blog/post""],
       { pathPrefix: ""blog"" }
     )
 
-    const paths2 = client.buildStaticPathsParamsFromPaths(
+    const paths2 = drupal.buildStaticPathsParamsFromPaths(
       [""/blog/post/one"", ""/blog/post/two"", ""/blog/post""],
       { pathPrefix: ""/blog"" }
     )
 
-    const paths3 = client.buildStaticPathsParamsFromPaths(
+    const paths3 = drupal.buildStaticPathsParamsFromPaths(
       [""blog/post/one"", ""blog/post/two"", ""blog/post""],
       { pathPrefix: ""/blog"" }
     )
 
-    const paths4 = client.buildStaticPathsParamsFromPaths(
+    const paths4 = drupal.buildStaticPathsParamsFromPaths(
       [""blog/post/one"", ""blog/post/two"", ""blog/post""],
       { pathPrefix: ""blog"" }
     )
@@ -234,254 +238,204 @@ describe(""buildStaticPathsParamsFromPaths()"", () => {
 
 describe(""getAuthFromContextAndOptions()"", () => {
   const clientIdSecret = mocks.auth.clientIdSecret
-  const accessToken = mocks.auth.accessToken
+  const context = {
+    preview: false,
+    params: { slug: [""recipes"", ""deep-mediterranean-quiche""] },
+  }
 
   test(""should use the withAuth option if provided and NOT in preview"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: clientIdSecret,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
-    const fetchSpy = spyOnFetch()
-    jest
-      .spyOn(client, ""getAccessToken"")
-      .mockImplementation(async () => accessToken)
 
-    await client.getResourceFromContext(
-      ""node--article"",
-      {
-        preview: false,
-      },
-      {
-        withAuth: true,
-      }
-    )
+    let auth: boolean | NextDrupalAuth = true
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `${accessToken.token_type} ${accessToken.access_token}`,
-        }),
+    expect(
+      drupal.getAuthFromContextAndOptions(context, {
+        withAuth: auth,
       })
-    )
+    ).toBe(auth)
 
-    await client.getResourceFromContext(
-      ""node--article"",
-      {
-        preview: false,
-      },
-      {
-        withAuth: {
-          clientId: ""foo"",
-          clientSecret: ""bar"",
-          scope: ""baz"",
-        },
-      }
-    )
+    auth = {
+      clientId: ""foo"",
+      clientSecret: ""bar"",
+      scope: ""baz"",
+    }
 
-    expect(fetchSpy).toHaveBeenLastCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `${accessToken.token_type} ${accessToken.access_token}`,
-        }),
+    expect(
+      drupal.getAuthFromContextAndOptions(context, {
+        withAuth: auth,
       })
-    )
+    ).toBe(auth)
   })
 
   test(""should fallback to the global auth if NOT in preview and no withAuth option provided"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: clientIdSecret,
-    })
-    const fetchSpy = spyOnFetch()
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: false,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.not.objectContaining({
-          Authorization: expect.anything(),
-        }),
-      })
-    )
+    expect(drupal.getAuthFromContextAndOptions(context, {})).toBe(false)
 
-    const client2 = new DrupalClient(BASE_URL, {
+    const drupal2 = new NextDrupalPages(BASE_URL, {
       auth: clientIdSecret,
       withAuth: true,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
-    jest
-      .spyOn(client2, ""getAccessToken"")
-      .mockImplementation(async () => accessToken)
 
-    await client2.getResourceFromContext(""node--article"", {
-      preview: false,
-    })
-
-    expect(fetchSpy).toHaveBeenLastCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `${accessToken.token_type} ${accessToken.access_token}`,
-        }),
-      })
-    )
+    expect(drupal2.getAuthFromContextAndOptions(context, {})).toBe(true)
   })
 
-  test(""should NOT use the global auth if in preview"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+  test(""should NOT use the global auth if in preview and no plugin in previewData"", async () => {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: clientIdSecret,
       withAuth: true,
-    })
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-    spyOnFetch()
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: null,
-      })
-    )
+    expect(
+      drupal.getAuthFromContextAndOptions(
+        {
+          ...context,
+          preview: true,
+        },
+        {}
+      )
+    ).toBe(null)
   })
 
   test(""should use the scope from context if in preview and using the simple_oauth plugin"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: clientIdSecret,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-    spyOnFetch()
 
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""simple_oauth"",
-        scope: ""editor"",
-      },
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: {
-          ...clientIdSecret,
-          scope: ""editor"",
-          url: ""/oauth/token"",
+    expect(
+      drupal.getAuthFromContextAndOptions(
+        {
+          ...context,
+          preview: true,
+          previewData: {
+            plugin: ""simple_oauth"",
+            scope: ""editor"",
+          },
         },
-      })
-    )
+        {}
+      )
+    ).toMatchObject({
+      ...clientIdSecret,
+      scope: ""editor"",
+      url: ""/oauth/token"",
+    })
   })
 
   test(""should use the scope from context even with global withAuth if in preview and using the simple_oauth plugin"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: {
         ...clientIdSecret,
         scope: ""administrator"",
       },
       withAuth: true,
-    })
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-    spyOnFetch()
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""simple_oauth"",
-        scope: ""editor"",
-      },
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: {
-          ...clientIdSecret,
-          scope: ""editor"",
-          url: ""/oauth/token"",
+    expect(
+      drupal.getAuthFromContextAndOptions(
+        {
+          ...context,
+          preview: true,
+          previewData: {
+            plugin: ""simple_oauth"",
+            scope: ""editor"",
+          },
         },
-      })
-    )
+        {}
+      )
+    ).toMatchObject({
+      ...clientIdSecret,
+      scope: ""editor"",
+      url: ""/oauth/token"",
+    })
   })
 
   test(""should use the access_token from context if in preview and using the jwt plugin"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: clientIdSecret,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
-    const fetchSpy = spyOnFetch()
 
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""jwt"",
-        access_token: ""example-token"",
-      },
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `Bearer example-token`,
-        }),
-      })
-    )
+    expect(
+      drupal.getAuthFromContextAndOptions(
+        {
+          ...context,
+          preview: true,
+          previewData: {
+            plugin: ""jwt"",
+            access_token: ""example-token"",
+          },
+        },
+        {}
+      )
+    ).toBe(`Bearer example-token`)
   })
 
   test(""should use the access token from context even with global withAuth if in preview and using the jwt plugin"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       auth: {
         ...clientIdSecret,
         scope: ""administrator"",
       },
       withAuth: true,
-    })
-    const fetchSpy = spyOnFetch()
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""jwt"",
-        access_token: ""example-token"",
-      },
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `Bearer example-token`,
-        }),
-      })
-    )
+    expect(
+      drupal.getAuthFromContextAndOptions(
+        {
+          ...context,
+          preview: true,
+          previewData: {
+            plugin: ""jwt"",
+            access_token: ""example-token"",
+          },
+        },
+        {}
+      )
+    ).toBe(`Bearer example-token`)
   })
 })
 
 describe(""getPathFromContext()"", () => {
   test(""returns a path from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     expect(
-      client.getPathFromContext({
+      drupal.getPathFromContext({
         params: {
           slug: [""foo""],
         },
       })
     ).toEqual(""/foo"")
 
     expect(
-      client.getPathFromContext({
+      drupal.getPathFromContext({
         params: {
           slug: [""foo"", ""bar""],
         },
       })
     ).toEqual(""/foo/bar"")
 
     expect(
-      client.getPathFromContext({
+      drupal.getPathFromContext({
         locale: ""en"",
         defaultLocale: ""es"",
         params: {
@@ -491,25 +445,25 @@ describe(""getPathFromContext()"", () => {
     ).toEqual(""/en/foo/bar"")
 
     expect(
-      client.getPathFromContext({
+      drupal.getPathFromContext({
         params: {
           slug: [],
         },
       })
     ).toEqual(""/home"")
 
-    client.frontPage = ""/front""
+    drupal.frontPage = ""/front""
 
     expect(
-      client.getPathFromContext({
+      drupal.getPathFromContext({
         params: {
           slug: [],
         },
       })
     ).toEqual(""/front"")
 
     expect(
-      client.getPathFromContext({
+      drupal.getPathFromContext({
         locale: ""es"",
         defaultLocale: ""en"",
         params: {
@@ -520,10 +474,10 @@ describe(""getPathFromContext()"", () => {
   })
 
   test(""returns a path from context with pathPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           params: {
             slug: [""bar"", ""baz""],
@@ -536,7 +490,7 @@ describe(""getPathFromContext()"", () => {
     ).toEqual(""/foo/bar/baz"")
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           params: {
             slug: [""bar"", ""baz""],
@@ -549,7 +503,7 @@ describe(""getPathFromContext()"", () => {
     ).toEqual(""/foo/bar/baz"")
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           locale: ""en"",
           defaultLocale: ""en"",
@@ -564,7 +518,7 @@ describe(""getPathFromContext()"", () => {
     ).toEqual(""/foo/bar/baz"")
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           locale: ""es"",
           defaultLocale: ""en"",
@@ -579,7 +533,7 @@ describe(""getPathFromContext()"", () => {
     ).toEqual(""/es/foo/bar/baz"")
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           locale: ""es"",
           defaultLocale: ""en"",
@@ -591,12 +545,12 @@ describe(""getPathFromContext()"", () => {
           pathPrefix: ""/foo"",
         }
       )
-    ).toEqual(""/es/foo/home"")
+    ).toEqual(""/es/foo"")
 
-    client.frontPage = ""/baz""
+    drupal.frontPage = ""/baz""
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           locale: ""en"",
           defaultLocale: ""en"",
@@ -608,56 +562,56 @@ describe(""getPathFromContext()"", () => {
           pathPrefix: ""foo"",
         }
       )
-    ).toEqual(""/foo/baz"")
+    ).toEqual(""/foo"")
 
     expect(
-      client.getPathFromContext(
+      drupal.getPathFromContext(
         {
           params: {
             slug: [],
           },
         },
         {
-          pathPrefix: ""/foo/bar"",
+          pathPrefix: """",
         }
       )
-    ).toEqual(""/foo/bar/baz"")
+    ).toEqual(""/baz"")
   })
 
   test(""encodes path with punctuation"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const path = client.getPathFromContext({
+    const path = drupal.getPathFromContext({
       params: {
         slug: [""path&with^punc&in$path""],
       },
     })
 
     expect(path).toEqual(""/path%26with%5Epunc%26in%24path"")
 
-    const translatedPath = await client.translatePath(path)
+    const translatedPath = await drupal.translatePath(path)
 
     expect(translatedPath).toMatchSnapshot()
   })
 })
 
 describe(""getPathsFromContext()"", () => {
   test(""is an alias for getStaticPathsFromContext"", () => {
-    const client = new DrupalClient(BASE_URL)
-    expect(client.getPathsFromContext).toBe(client.getStaticPathsFromContext)
+    const drupal = new NextDrupalPages(BASE_URL)
+    expect(drupal.getPathsFromContext).toBe(drupal.getStaticPathsFromContext)
   })
 })
 
 describe(""getResourceCollectionFromContext()"", () => {
   test(""fetches a resource collection"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
       defaultLocale: ""en"",
     }
 
-    const articles = await client.getResourceCollectionFromContext(
+    const articles = await drupal.getResourceCollectionFromContext(
       ""node--article"",
       context,
       {
@@ -671,14 +625,14 @@ describe(""getResourceCollectionFromContext()"", () => {
   })
 
   test(""fetches a resource collection using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       locale: ""es"",
       defaultLocale: ""en"",
     }
 
-    const articles = await client.getResourceCollectionFromContext(
+    const articles = await drupal.getResourceCollectionFromContext(
       ""node--article"",
       context,
       {
@@ -694,14 +648,14 @@ describe(""getResourceCollectionFromContext()"", () => {
   })
 
   test(""fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
       defaultLocale: ""en"",
     }
 
-    const recipes = await client.getResourceCollectionFromContext(
+    const recipes = await drupal.getResourceCollectionFromContext(
       ""node--recipe"",
       context,
       {
@@ -717,31 +671,31 @@ describe(""getResourceCollectionFromContext()"", () => {
   })
 
   test(""throws an error for invalid resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
       defaultLocale: ""en"",
     }
 
     await expect(
-      client.getResourceCollectionFromContext(
+      drupal.getResourceCollectionFromContext(
         ""RESOURCE-DOES-NOT-EXIST"",
         context
       )
     ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
   })
 
   test(""throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
       defaultLocale: ""en"",
     }
 
     await expect(
-      client.getResourceCollectionFromContext<DrupalNode>(
+      drupal.getResourceCollectionFromContext<DrupalNode>(
         ""node--recipe"",
         context,
         {
@@ -756,56 +710,50 @@ describe(""getResourceCollectionFromContext()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupalPages(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
       defaultLocale: ""en"",
     }
 
-    await client.getResourceCollectionFromContext(""node--recipe"", context)
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    await drupal.getResourceCollectionFromContext(""node--recipe"", context)
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       useDefaultResourceTypeEntry: true,
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
     const context: GetStaticPropsContext = {
       locale: ""en"",
       defaultLocale: ""en"",
     }
-    await client.getResourceCollectionFromContext(""node--recipe"", context, {
+    await drupal.getResourceCollectionFromContext(""node--recipe"", context, {
       withAuth: true,
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })
 
 describe(""getResourceFromContext()"", () => {
   test(""fetches a resource from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
+    const recipe = await drupal.getResourceFromContext<DrupalNode>(
       ""node--recipe"",
       context
     )
@@ -814,13 +762,13 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""fetches a resource from context with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
+    const recipe = await drupal.getResourceFromContext<DrupalNode>(
       ""node--recipe"",
       context,
       {
@@ -834,15 +782,15 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""fetches a resource from context using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""quiche-mediterrneo-profundo""],
       },
       locale: ""es"",
       defaultLocale: ""en"",
     }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
+    const recipe = await drupal.getResourceFromContext<DrupalNode>(
       ""node--recipe"",
       context,
       {
@@ -856,14 +804,14 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
+    const recipe = await drupal.getResourceFromContext<DrupalNode>(
       ""node--recipe"",
       context,
       {
@@ -878,15 +826,15 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""fetches a resource from context by revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""quiche-mediterrneo-profundo""],
       },
       locale: ""es"",
       defaultLocale: ""en"",
     }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
+    const recipe = await drupal.getResourceFromContext<DrupalNode>(
       ""node--recipe"",
       context,
       {
@@ -898,7 +846,7 @@ describe(""getResourceFromContext()"", () => {
 
     context.previewData = { resourceVersion: ""rel:latest-version"" }
 
-    const latestRevision = await client.getResourceFromContext<DrupalNode>(
+    const latestRevision = await drupal.getResourceFromContext<DrupalNode>(
       ""node--recipe"",
       context,
       {
@@ -914,7 +862,7 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""throws an error for invalid revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     const context: GetStaticPropsContext = {
       previewData: {
         resourceVersion: ""id:-11"",
@@ -925,7 +873,7 @@ describe(""getResourceFromContext()"", () => {
     }
 
     await expect(
-      client.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
+      drupal.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
         params: {
           ""fields[node--recipe]"": ""drupal_internal__vid"",
         },
@@ -936,7 +884,7 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""throws an error if revision access is forbidden"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       previewData: {
@@ -948,7 +896,7 @@ describe(""getResourceFromContext()"", () => {
     }
 
     await expect(
-      client.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
+      drupal.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
         params: {
           ""fields[node--recipe]"": ""title"",
         },
@@ -959,16 +907,16 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupalPages(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
 
-    await client.getResourceFromContext(""node--recipe"", context)
-    expect(fetchSpy).toHaveBeenCalledWith(
+    await drupal.getResourceFromContext(""node--recipe"", context)
+    expect(drupalFetchSpy).toHaveBeenCalledWith(
       expect.anything(),
       expect.objectContaining({
         withAuth: false,
@@ -977,40 +925,43 @@ describe(""getResourceFromContext()"", () => {
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       useDefaultResourceTypeEntry: true,
       auth: `Bearer sample-token`,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
+    })
+    const fetchSpy = spyOnFetch({
+      responseBody: { ""resolvedResource#uri{0}"": { body: ""{}"" } },
+      status: 207,
     })
-    const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
 
-    await client.getResourceFromContext(""node--recipe"", context, {
+    await drupal.getResourceFromContext(""node--recipe"", context, {
       withAuth: true,
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 
   test(""makes authenticated requests when preview is true"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       useDefaultResourceTypeEntry: true,
       auth: `Bearer sample-token`,
+      throwJsonApiErrors: false,
+      logger: mockLogger(),
+    })
+    const fetchSpy = spyOnFetch({
+      responseBody: { ""resolvedResource#uri{0}"": { body: ""{}"" } },
+      status: 207,
     })
-    const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
     const context: GetStaticPropsContext = {
       preview: true,
@@ -1023,30 +974,25 @@ describe(""getResourceFromContext()"", () => {
       },
     }
 
-    await client.getResourceFromContext(""node--recipe"", context)
+    await drupal.getResourceFromContext(""node--recipe"", context)
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: `Bearer sample-token`,
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 
   test(""accepts a translated path"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const path = await client.translatePath(""recipes/deep-mediterranean-quiche"")
+    const path = await drupal.translatePath(""recipes/deep-mediterranean-quiche"")
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
 
-    const recipe = await client.getResourceFromContext(path, context, {
+    const recipe = await drupal.getResourceFromContext(path, context, {
       params: {
         ""fields[node--recipe]"": ""title,path,status"",
       },
@@ -1058,9 +1004,9 @@ describe(""getResourceFromContext()"", () => {
 
 describe(""getSearchIndexFromContext()"", () => {
   test(""calls getSearchIndex() with context data"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     const fetchSpy = jest
-      .spyOn(client, ""getSearchIndex"")
+      .spyOn(drupal, ""getSearchIndex"")
       .mockImplementation(async () => jest.fn())
     const name = ""resource-name""
     const locale = ""en-uk""
@@ -1069,7 +1015,7 @@ describe(""getSearchIndexFromContext()"", () => {
       deserialize: true,
     }
 
-    await client.getSearchIndexFromContext(
+    await drupal.getSearchIndexFromContext(
       name,
       { locale, defaultLocale },
       options
@@ -1085,17 +1031,17 @@ describe(""getSearchIndexFromContext()"", () => {
 
 describe(""getStaticPathsFromContext()"", () => {
   test(""returns static paths from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const paths = await client.getStaticPathsFromContext(""node--article"", {})
+    const paths = await drupal.getStaticPathsFromContext(""node--article"", {})
 
     expect(paths).toMatchSnapshot()
   })
 
   test(""returns static paths from context with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const paths = await client.getStaticPathsFromContext(""node--article"", {
+    const paths = await drupal.getStaticPathsFromContext(""node--article"", {
       locales: [""en"", ""es""],
       defaultLocale: ""en"",
     })
@@ -1104,9 +1050,9 @@ describe(""getStaticPathsFromContext()"", () => {
   })
 
   test(""returns static paths for multiple resource types from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const paths = await client.getStaticPathsFromContext(
+    const paths = await drupal.getStaticPathsFromContext(
       [""node--article"", ""node--recipe""],
       {
         locales: [""en"", ""es""],
@@ -1118,9 +1064,9 @@ describe(""getStaticPathsFromContext()"", () => {
   })
 
   test(""returns static paths from context with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    const paths = await client.getStaticPathsFromContext(
+    const paths = await drupal.getStaticPathsFromContext(
       ""node--article"",
       {},
       {
@@ -1134,27 +1080,26 @@ describe(""getStaticPathsFromContext()"", () => {
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupalPages(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
-    await client.getStaticPathsFromContext(""node--article"", {
+    await drupal.getStaticPathsFromContext(""node--article"", {
       locales: [""en"", ""es""],
       defaultLocale: ""en"",
     })
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+    expect(drupalFetchSpy).toHaveBeenCalledWith(expect.anything(), {
       withAuth: false,
     })
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       useDefaultResourceTypeEntry: true,
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
-    await client.getStaticPathsFromContext(
+    await drupal.getStaticPathsFromContext(
       ""node--article"",
       {
         locales: [""en"", ""es""],
@@ -1165,14 +1110,9 @@ describe(""getStaticPathsFromContext()"", () => {
       }
     )
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })
 
@@ -1192,10 +1132,10 @@ describe(""preview()"", () => {
   test(""turns on preview mode and clears preview data"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     spyOnFetch({ responseBody: validationPayload })
 
-    await client.preview(request, response)
+    await drupal.preview(request, response)
 
     expect(response.clearPreviewData).toBeCalledTimes(1)
     expect(response.setPreviewData).toBeCalledWith({
@@ -1209,7 +1149,7 @@ describe(""preview()"", () => {
     const logger = mockLogger()
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL, { debug: true, logger })
+    const drupal = new NextDrupalPages(BASE_URL, { debug: true, logger })
     const status = 403
     const message = ""mock fail""
     spyOnFetch({
@@ -1220,7 +1160,7 @@ describe(""preview()"", () => {
       },
     })
 
-    await client.preview(request, response)
+    await drupal.preview(request, response)
 
     expect(logger.debug).toBeCalledWith(
       `Draft url validation error: ${message}`
@@ -1233,10 +1173,10 @@ describe(""preview()"", () => {
   test(""does not turn on draft mode by default"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     spyOnFetch({ responseBody: validationPayload })
 
-    await client.preview(request, response)
+    await drupal.preview(request, response)
 
     expect(response.setDraftMode).toBeCalledTimes(0)
 
@@ -1249,14 +1189,14 @@ describe(""preview()"", () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
     const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       debug: true,
       logger,
     })
     spyOnFetch({ responseBody: validationPayload })
 
     const options = { enable: true }
-    await client.preview(request, response, options)
+    await drupal.preview(request, response, options)
 
     expect(response.setDraftMode).toBeCalledWith(options)
 
@@ -1270,7 +1210,7 @@ describe(""preview()"", () => {
   test(""updates preview mode cookies sameSite flag"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
     spyOnFetch({ responseBody: validationPayload })
 
     // Our mock response.setPreviewData() does not set a cookie, so we set one.
@@ -1284,7 +1224,7 @@ describe(""preview()"", () => {
     const cookies = response.getHeader(""Set-Cookie"")
     cookies[0] = cookies[0].replace(""SameSite=Lax"", ""SameSite=None; Secure"")
 
-    await client.preview(request, response)
+    await drupal.preview(request, response)
 
     expect(response.getHeader).toHaveBeenLastCalledWith(""Set-Cookie"")
     expect(response.setHeader).toHaveBeenLastCalledWith(""Set-Cookie"", cookies)
@@ -1295,10 +1235,10 @@ describe(""preview()"", () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
     const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, { debug: true, logger })
+    const drupal = new NextDrupalPages(BASE_URL, { debug: true, logger })
     spyOnFetch({ responseBody: validationPayload })
 
-    await client.preview(request, response)
+    await drupal.preview(request, response)
 
     expect(response.setPreviewData).toBeCalledWith({
       resourceVersion,
@@ -1313,13 +1253,13 @@ describe(""preview()"", () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
     const logger = mockLogger()
-    const client = new DrupalClient(BASE_URL, { debug: true, logger })
+    const drupal = new NextDrupalPages(BASE_URL, { debug: true, logger })
     const message = ""mock internal error""
     response.clearPreviewData = jest.fn(() => {
       throw new Error(message)
     })
 
-    await client.preview(request, response)
+    await drupal.preview(request, response)
 
     expect(logger.debug).toHaveBeenLastCalledWith(`Preview failed: ${message}`)
     expect(response.status).toBeCalledWith(422)
@@ -1331,27 +1271,27 @@ describe(""previewDisable()"", () => {
   test(""clears preview data"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    await client.previewDisable(request, response)
+    await drupal.previewDisable(request, response)
     expect(response.clearPreviewData).toBeCalledTimes(1)
   })
 
   test(""disables draft mode"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    await client.previewDisable(request, response)
+    await drupal.previewDisable(request, response)
     expect(response.setDraftMode).toBeCalledWith({ enable: false })
   })
 
   test(""deletes the draft cookie"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    await client.previewDisable(request, response)
+    await drupal.previewDisable(request, response)
     const cookies = response.getHeader(""Set-Cookie"")
     expect(cookies[cookies.length - 1]).toBe(
       `${DRAFT_DATA_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=None; Secure`
@@ -1361,77 +1301,77 @@ describe(""previewDisable()"", () => {
   test('redirects to ""/""', async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
-    await client.previewDisable(request, response)
+    await drupal.previewDisable(request, response)
     expect(response.writeHead).toBeCalledWith(307, { Location: ""/"" })
     expect(response.end).toBeCalled()
   })
 })
 
 describe(""translatePathFromContext()"", () => {
   test(""translates a path"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
 
-    const path = await client.translatePathFromContext(context)
+    const path = await drupal.translatePathFromContext(context)
 
     expect(path).toMatchSnapshot()
   })
 
   test(""returns null for path not found"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""path-not-found""],
       },
     }
 
-    const path = await client.translatePathFromContext(context)
+    const path = await drupal.translatePathFromContext(context)
 
     expect(path).toBeNull()
   })
 
   test(""translates a path with pathPrefix"", async () => {
-    const client = new DrupalClient(BASE_URL)
+    const drupal = new NextDrupalPages(BASE_URL)
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""deep-mediterranean-quiche""],
       },
     }
 
-    const path = await client.translatePathFromContext(context, {
+    const path = await drupal.translatePathFromContext(context, {
       pathPrefix: ""recipes"",
     })
 
     expect(path).toMatchSnapshot()
 
-    const path2 = await client.translatePathFromContext(context, {
+    const path2 = await drupal.translatePathFromContext(context, {
       pathPrefix: ""/recipes"",
     })
 
     expect(path).toEqual(path2)
   })
 
   test(""makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const drupal = new NextDrupalPages(BASE_URL)
+    const drupalFetchSpy = jest.spyOn(drupal, ""fetch"")
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""recipes"", ""deep-mediterranean-quiche""],
       },
     }
-    await client.translatePathFromContext(context)
+    await drupal.translatePathFromContext(context)
 
-    expect(fetchSpy).toHaveBeenCalledWith(
+    expect(drupalFetchSpy).toHaveBeenCalledWith(
       expect.anything(),
       expect.objectContaining({
         withAuth: false,
@@ -1440,30 +1380,24 @@ describe(""translatePathFromContext()"", () => {
   })
 
   test(""makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
+    const drupal = new NextDrupalPages(BASE_URL, {
       useDefaultResourceTypeEntry: true,
       auth: `Bearer sample-token`,
     })
     const fetchSpy = spyOnFetch()
-    jest.spyOn(client, ""getAccessToken"")
 
     const context: GetStaticPropsContext = {
       params: {
         slug: [""deep-mediterranean-quiche""],
       },
     }
-    await client.translatePathFromContext(context, {
+    await drupal.translatePathFromContext(context, {
       pathPrefix: ""recipes"",
       withAuth: true,
     })
 
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        headers: expect.objectContaining({
-          Authorization: ""Bearer sample-token"",
-        }),
-      })
-    )
+    expect(
+      (fetchSpy.mock.lastCall[1].headers as Headers).get(""Authorization"")
+    ).toBe(""Bearer sample-token"")
   })
 })

---FILE: packages/next-drupal/tests/NextDrupalPages/resource-methods.test.ts---
@@ -0,0 +1,37 @@
+import { describe, expect, jest, test } from ""@jest/globals""
+import { NextDrupalPages } from ""../../src""
+import { BASE_URL } from ""../utils""
+
+describe(""getEntryForResourceType()"", () => {
+  test(""returns the JSON:API entry for a resource type"", async () => {
+    const drupal = new NextDrupalPages(BASE_URL)
+    const getIndexSpy = jest.spyOn(drupal, ""getIndex"")
+
+    const recipeEntry = await drupal.getEntryForResourceType(""node--recipe"")
+    expect(recipeEntry).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+
+    const articleEntry = await drupal.getEntryForResourceType(""node--article"")
+    expect(articleEntry).toMatch(`${BASE_URL}/en/jsonapi/node/article`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(2)
+  })
+
+  test(""assembles JSON:API entry without fetching index"", async () => {
+    const drupal = new NextDrupalPages(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+    })
+    const getIndexSpy = jest.spyOn(drupal, ""getIndex"")
+
+    const recipeEntry = await drupal.getEntryForResourceType(""node--article"")
+    expect(recipeEntry).toMatch(`${BASE_URL}/jsonapi/node/article`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""throws an error if resource type does not exist"", async () => {
+    const drupal = new NextDrupalPages(BASE_URL)
+
+    await expect(
+      drupal.getEntryForResourceType(""RESOURCE-DOES-NOT-EXIST"")
+    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
+  })
+})

---FILE: packages/next-drupal/tests/draft/draft.test.ts---
@@ -12,7 +12,7 @@ import { NextRequest } from ""next/server""
 import {
   DRAFT_DATA_COOKIE_NAME,
   DRAFT_MODE_COOKIE_NAME,
-  DrupalClient,
+  NextDrupal,
 } from ""../../src""
 import { BASE_URL, spyOnFetch } from ""../utils""
 import {
@@ -50,7 +50,7 @@ describe(""enableDraftMode()"", () => {
   const request = new NextRequest(
     `https://example.com/api/draft?${searchParams}`
   )
-  const client = new DrupalClient(BASE_URL)
+  const drupal = new NextDrupal(BASE_URL)
   const draftModeCookie: ResponseCookie = {
     name: DRAFT_MODE_COOKIE_NAME,
     value: ""some-secret-key"",
@@ -60,7 +60,7 @@ describe(""enableDraftMode()"", () => {
   test(""does not enable draft mode if validation fails"", async () => {
     spyOnFetch({ responseBody: { message: ""fail"" }, status: 500 })
 
-    const response = await enableDraftMode(request, client)
+    const response = await enableDraftMode(request, drupal)
 
     expect(draftMode().enable).not.toHaveBeenCalled()
     expect(response).toBeInstanceOf(Response)
@@ -70,7 +70,7 @@ describe(""enableDraftMode()"", () => {
   test(""enables draft mode"", async () => {
     spyOnFetch({ responseBody: validationPayload })
 
-    await enableDraftMode(request, client)
+    await enableDraftMode(request, drupal)
 
     expect(draftMode().enable).toHaveBeenCalled()
   })
@@ -83,7 +83,7 @@ describe(""enableDraftMode()"", () => {
     expect(cookies().get(DRAFT_MODE_COOKIE_NAME).sameSite).toBe(""lax"")
     expect(cookies().get(DRAFT_MODE_COOKIE_NAME).secure).toBeFalsy()
 
-    await enableDraftMode(request, client)
+    await enableDraftMode(request, drupal)
 
     expect(cookies().get(DRAFT_MODE_COOKIE_NAME).sameSite).toBe(""none"")
     expect(cookies().get(DRAFT_MODE_COOKIE_NAME).secure).toBe(true)
@@ -93,7 +93,7 @@ describe(""enableDraftMode()"", () => {
     spyOnFetch({ responseBody: validationPayload })
     expect(cookies().get(DRAFT_DATA_COOKIE_NAME)).toBe(undefined)
 
-    await enableDraftMode(request, client)
+    await enableDraftMode(request, drupal)
 
     const cookie = cookies().get(DRAFT_DATA_COOKIE_NAME)
     // eslint-disable-next-line @typescript-eslint/no-unused-vars
@@ -111,7 +111,7 @@ describe(""enableDraftMode()"", () => {
   test(""redirects to the given path"", async () => {
     spyOnFetch({ responseBody: validationPayload })
 
-    await enableDraftMode(request, client)
+    await enableDraftMode(request, drupal)
 
     expect(redirect).toHaveBeenCalledWith(searchParams.get(""path""))
   })

---FILE: packages/next-drupal/tests/utils/mocks/fetch.ts---
@@ -52,12 +52,14 @@ function fetchMockImplementation({
     }
   }
 
+  const mockedHeaders = new Headers(headers)
+  if (!mockedHeaders.has(""content-type"")) {
+    mockedHeaders.set(""content-type"", ""application/vnd.api+json"")
+  }
+
   return async () =>
     new Response(JSON.stringify(responseBody || {}), {
       status,
-      headers: {
-        ""content-type"": ""application/vnd.api+json"",
-        ...headers,
-      },
+      headers: mockedHeaders,
     })
 }

---FILE: packages/next-drupal/tests/utils/rpc.ts---
@@ -1,27 +1,35 @@
-import { DrupalClient } from ""../../src""
+import { NextDrupalBase } from ""../../src""
 import { BASE_URL } from ""./index""
+import type { BaseUrl, NextDrupalBaseOptions } from ""../../src""
 
-const client = new DrupalClient(BASE_URL, {
+class JsonRpc extends NextDrupalBase {
+  constructor(baseUrl: BaseUrl, options: NextDrupalBaseOptions = {}) {
+    super(baseUrl, options)
+    this.apiPrefix = ""/jsonrpc""
+  }
+
+  async execute(body) {
+    const endpoint = await jsonRpc.buildEndpoint()
+
+    const response = await jsonRpc.fetch(endpoint, {
+      method: ""POST"",
+      body: JSON.stringify(body),
+      withAuth: true,
+    })
+
+    return response.ok
+  }
+}
+
+const jsonRpc = new JsonRpc(BASE_URL, {
   auth: {
     clientId: process.env[""DRUPAL_CLIENT_ID""] as string,
     clientSecret: process.env[""DRUPAL_CLIENT_SECRET""] as string,
   },
 })
 
-export async function executeRPC(body) {
-  const url = client.buildUrl(""/jsonrpc"")
-
-  const response = await client.fetch(url.toString(), {
-    method: ""POST"",
-    body: JSON.stringify(body),
-    withAuth: true,
-  })
-
-  return response.ok
-}
-
 export async function toggleDrupalModule(name: string, status = true) {
-  await executeRPC({
+  await jsonRpc.execute({
     jsonrpc: ""2.0"",
     method: ""module.toggle"",
     params: {
@@ -33,7 +41,7 @@ export async function toggleDrupalModule(name: string, status = true) {
 }
 
 export async function deleteTestNodes() {
-  await executeRPC({
+  await jsonRpc.execute({
     jsonrpc: ""2.0"",
     method: ""test_content.clean"",
     id: ""clean-test-content"",",False,False,Documentation / Formatting,3
chapter-three,next-drupal,2a9aa28d832dc3884d80b7ae02ee468e8af72cdd,JohnAlbin,virtually.johnalbin@gmail.com,2024-04-17T07:03:20Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-04-18T01:33:16Z,"ci(next-drupal): work-around for flakey code coverage reporting

Issue #740",.github/workflows/next-drupal.yml;.nvmrc,False,False,False,False,11,1,12,"---FILE: .github/workflows/next-drupal.yml---
@@ -14,6 +14,12 @@ jobs:
         with:
           ref: ${{github.event.pull_request.head.ref}}
           repository: ${{github.event.pull_request.head.repo.full_name}}
+      # TODO: Work-around for failing code coverage.
+      # https://github.com/chapter-three/next-drupal/issues/740
+      - name: Use Node.js
+        uses: actions/setup-node@v4
+        with:
+          node-version: '18.19.x'
       - name: Install packages
         run: yarn
       - name: Run tests

---FILE: .nvmrc---
@@ -1 +1,5 @@
-v18
+v18.19
+
+# @TODO v18.20 and v20.10 and later have a bug that causes Jest code coverage to randomly fail. When the tracking bug is fixed, switch to the less-specific ""v18"" or ""v20"" version. See https://github.com/chapter-three/next-drupal/issues/740
+
+# Note: This is a non-standard .nvmrc comment. Currently, nvm ignores all lines except the 1st line so we are hijacking this implementation detail to add comments to this file. See https://github.com/nvm-sh/nvm/pull/2288#issuecomment-1115079020",False,False,Data / Input Handling,3
chapter-three,next-drupal,4bce66307b42bed5db8c15eca6f86b87610a3c8c,JohnAlbin,virtually.johnalbin@gmail.com,2024-03-10T08:40:58Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-03-15T17:46:16Z,"feat(next)!: change ""slug"" search param to ""path"" in preview/revalidate urls

BREAKING CHANGE:
When Drupal uses the Preview Url and the Revalidate Url, the ""slug"" search param
has been renamed to ""path"".

Fixes #718",examples/example-graphql/pages/api/revalidate.ts;examples/example-marketing/pages/api/revalidate.ts;examples/example-router-migration/app/[...slug]/page.tsx;examples/example-router-migration/app/api/revalidate/route.ts;modules/next/modules/next_extras/src/NextCacheInvalidator.php;modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php;modules/next/src/Entity/NextSite.php;modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php;modules/next/tests/src/Kernel/Entity/NextSiteTest.php;modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php;modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php;modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php;packages/next-drupal/src/client.ts;packages/next-drupal/src/deprecated/preview.ts;packages/next-drupal/src/draft.ts;packages/next-drupal/tests/DrupalClient/basic-methods.test.ts;packages/next-drupal/tests/DrupalClient/pages-router-methods.test.ts;packages/next-drupal/tests/__mocks__/next.ts;packages/next-drupal/tests/draft/draft.test.ts;starters/basic-starter/pages/api/revalidate.ts;starters/graphql-starter/pages/api/revalidate.ts,False,False,False,False,103,103,206,"---FILE: examples/example-graphql/pages/api/revalidate.ts---
@@ -4,21 +4,21 @@ export default async function handler(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  let slug = request.query.slug as string
+  let path = request.query.path as string
   const secret = request.query.secret as string
 
   // Validate secret.
   if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 
-  // Validate slug.
-  if (!slug) {
-    return response.status(400).json({ message: ""Invalid slug."" })
+  // Validate path.
+  if (!path) {
+    return response.status(400).json({ message: ""Invalid path."" })
   }
 
   try {
-    await response.revalidate(slug)
+    await response.revalidate(path)
 
     return response.json({})
   } catch (error) {

---FILE: examples/example-marketing/pages/api/revalidate.ts---
@@ -4,26 +4,26 @@ export default async function handler(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  let slug = request.query.slug as string
+  let path = request.query.path as string
   const secret = request.query.secret as string
 
   // Validate secret.
   if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 
-  // Validate slug.
-  if (!slug) {
-    return response.status(400).json({ message: ""Invalid slug."" })
+  // Validate path.
+  if (!path) {
+    return response.status(400).json({ message: ""Invalid path."" })
   }
 
-  // Fix for home slug.
-  if (slug === process.env.DRUPAL_FRONT_PAGE) {
-    slug = ""/""
+  // Fix for homepage.
+  if (path === process.env.DRUPAL_FRONT_PAGE) {
+    path = ""/""
   }
 
   try {
-    await response.revalidate(slug)
+    await response.revalidate(path)
 
     return response.json({})
   } catch (error) {

---FILE: examples/example-router-migration/app/[...slug]/page.tsx---
@@ -8,13 +8,13 @@ import type { Metadata, ResolvingMetadata } from ""next""
 import type { DrupalNode, JsonApiParams } from ""next-drupal""
 
 async function getNode(slug: string[]) {
-  const path = slug.join(""/"")
+  const path = `/${slug.join(""/"")}`
 
   const params: JsonApiParams = {}
 
   const draftData = getDraftData()
 
-  if (draftData.slug === `/${path}`) {
+  if (draftData.path === path) {
     params.resourceVersion = draftData.resourceVersion
   }
 

---FILE: examples/example-router-migration/app/api/revalidate/route.ts---
@@ -3,21 +3,21 @@ import type { NextRequest } from ""next/server""
 
 async function handler(request: NextRequest) {
   const searchParams = request.nextUrl.searchParams
-  const slug = searchParams.get(""slug"")
+  const path = searchParams.get(""path"")
   const secret = searchParams.get(""secret"")
 
   // Validate secret.
   if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return new Response(""Invalid secret."", { status: 401 })
   }
 
-  // Validate slug.
-  if (!slug) {
-    return new Response(""Invalid slug."", { status: 400 })
+  // Validate path.
+  if (!path) {
+    return new Response(""Invalid path."", { status: 400 })
   }
 
   try {
-    revalidatePath(slug)
+    revalidatePath(path)
 
     return new Response(""Revalidated."")
   } catch (error) {

---FILE: modules/next/modules/next_extras/src/NextCacheInvalidator.php---
@@ -164,7 +164,7 @@ protected static function buildUrl(NextSiteInterface $site, string $path): strin
     return Url::fromUri(""{$site->getBaseUrl()}/api/revalidate"", [
       'query' => [
         'secret' => $site->getPreviewSecret(),
-        'slug' => $path,
+        'path' => $path,
       ],
     ])->toString();
   }

---FILE: modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php---
@@ -134,12 +134,12 @@ public function submitConfigurationForm(array &$form, FormStateInterface $form_s
    */
   public function generate(NextSiteInterface $next_site, EntityInterface $entity, string $resource_version = NULL): ?Url {
     $query = [];
-    $query['slug'] = $slug = $entity->toUrl()->toString();
+    $query['path'] = $path = $entity->toUrl()->toString();
     $query['uuid'] = $this->user->uuid();
 
-    // Create a secret based on the timestamp, slug and the user uuid.
+    // Create a secret based on the timestamp, path and the user uuid.
     $query['timestamp'] = $timestamp = $this->time->getRequestTime();
-    $query['secret'] = $secret = $this->previewSecretGenerator->generate($timestamp . $slug . $resource_version . $this->user->uuid());
+    $query['secret'] = $secret = $this->previewSecretGenerator->generate($timestamp . $path . $resource_version . $this->user->uuid());
 
     // Generate a JWT and store it temporarily so that we can retrieve it on
     // validate.
@@ -158,10 +158,10 @@ public function generate(NextSiteInterface $next_site, EntityInterface $entity,
   public function validate(Request $request) {
     $body = Json::decode($request->getContent());
 
-    // Validate the slug.
-    // We do not check for existing slug. We let the next.js site handle this.
-    if (empty($body['slug'])) {
-      throw new InvalidPreviewUrlRequest(""Field 'slug' is missing"");
+    // Validate the path.
+    // We do not check for existing path. We let the next.js site handle this.
+    if (empty($body['path'])) {
+      throw new InvalidPreviewUrlRequest(""Field 'path' is missing"");
     }
 
     // Validate the uuid.
@@ -184,7 +184,7 @@ public function validate(Request $request) {
       throw new InvalidPreviewUrlRequest(""Field 'secret' is missing"");
     }
 
-    if ($body['secret'] !== $this->previewSecretGenerator->generate($body['timestamp'] . $body['slug'] . $body['resourceVersion'] . $body['uuid'])) {
+    if ($body['secret'] !== $this->previewSecretGenerator->generate($body['timestamp'] . $body['path'] . $body['resourceVersion'] . $body['uuid'])) {
       throw new InvalidPreviewUrlRequest(""The provided secret is invalid."");
     }
 

---FILE: modules/next/src/Entity/NextSite.php---
@@ -273,7 +273,7 @@ public function getRevalidateUrlForPath(string $path): ?Url {
     }
 
     $query = [
-      'slug' => $path,
+      'path' => $path,
     ];
 
     if ($secret = $this->getRevalidateSecret()) {

---FILE: modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php---
@@ -126,11 +126,11 @@ public function submitConfigurationForm(array &$form, FormStateInterface $form_s
    */
   public function generate(NextSiteInterface $next_site, EntityInterface $entity, string $resource_version = NULL): ?Url {
     $query = [];
-    $query['slug'] = $slug = $entity->toUrl()->toString();
+    $query['path'] = $path = $entity->toUrl()->toString();
 
-    // Create a secret based on the timestamp, slug, scope and resource version.
+    // Create a secret based on the timestamp, path, scope and resource version.
     $query['timestamp'] = $timestamp = $this->time->getRequestTime();
-    $query['secret'] = $this->previewSecretGenerator->generate($timestamp . $slug . $resource_version);
+    $query['secret'] = $this->previewSecretGenerator->generate($timestamp . $path . $resource_version);
 
     return Url::fromUri($next_site->getPreviewUrl(), [
       'query' => $query,
@@ -143,10 +143,10 @@ public function generate(NextSiteInterface $next_site, EntityInterface $entity,
   public function validate(Request $request) {
     $body = Json::decode($request->getContent());
 
-    // Validate the slug.
-    // We do not check for existing slug. We let the next.js site handle this.
-    if (empty($body['slug'])) {
-      throw new InvalidPreviewUrlRequest(""Field 'slug' is missing"");
+    // Validate the path.
+    // We do not check for existing path. We let the next.js site handle this.
+    if (empty($body['path'])) {
+      throw new InvalidPreviewUrlRequest(""Field 'path' is missing"");
     }
 
     // Validate the timestamp.
@@ -164,12 +164,12 @@ public function validate(Request $request) {
       throw new InvalidPreviewUrlRequest(""Field 'secret' is missing"");
     }
 
-    if ($body['secret'] !== $this->previewSecretGenerator->generate($body['timestamp'] . $body['slug'] . $body['resourceVersion'])) {
+    if ($body['secret'] !== $this->previewSecretGenerator->generate($body['timestamp'] . $body['path'] . $body['resourceVersion'])) {
       throw new InvalidPreviewUrlRequest(""The provided secret is invalid."");
     }
 
     return [
-      'path' => $body['slug'],
+      'path' => $body['path'],
       'maxAge' => (int) $this->configuration['secret_expiration'],
     ];
   }

---FILE: modules/next/tests/src/Kernel/Entity/NextSiteTest.php---
@@ -133,10 +133,10 @@ public function testGetRevalidateUrlForPath() {
     $this->assertNull($marketing->getRevalidateUrlForPath('/foo'));
 
     $marketing->setRevalidateUrl('http://example.com/api/revalidate');
-    $this->assertSame('http://example.com/api/revalidate?slug=/foo', $marketing->getRevalidateUrlForPath('/foo')->toString());
+    $this->assertSame('http://example.com/api/revalidate?path=/foo', $marketing->getRevalidateUrlForPath('/foo')->toString());
 
     $marketing->setRevalidateSecret('12345');
-    $this->assertSame('http://example.com/api/revalidate?slug=/foo&secret=12345', $marketing->getRevalidateUrlForPath('/foo')->toString());
+    $this->assertSame('http://example.com/api/revalidate?path=/foo&secret=12345', $marketing->getRevalidateUrlForPath('/foo')->toString());
   }
 
 }

---FILE: modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php---
@@ -85,7 +85,7 @@ public function testRevalidate() {
     $page->save();
     $this->container->get('kernel')->terminate(Request::create('/'), new Response());
 
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/2')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?path=/node/2')->shouldBeCalled()->willReturn(new GuzzleResponse());
     $blog_site->setRevalidateUrl('http://blog.com/api/revalidate')->save();
     $page = $this->createNode();
     $page->save();
@@ -104,8 +104,8 @@ public function testRevalidate() {
       ],
     ])->save();
 
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://marketing.com/api/revalidate?path=/node/3&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?path=/node/3')->shouldBeCalled()->willReturn(new GuzzleResponse());
     $page = $this->createNode();
     $page->save();
     $this->container->get('kernel')->terminate(Request::create('/'), new Response());
@@ -114,12 +114,12 @@ public function testRevalidate() {
       'additional_paths' => ""/\n/blog"",
     ])->save();
 
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/blog&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled()->willReturn(new GuzzleResponse());
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/')->shouldBeCalled()->willReturn(new GuzzleResponse());
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/blog')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://marketing.com/api/revalidate?path=/node/3&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://marketing.com/api/revalidate?path=/&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://marketing.com/api/revalidate?path=/blog&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?path=/node/3')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?path=/')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?path=/blog')->shouldBeCalled()->willReturn(new GuzzleResponse());
     $page = $this->createNode();
     $page->save();
     $this->container->get('kernel')->terminate(Request::create('/'), new Response());

---FILE: modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php---
@@ -96,15 +96,15 @@ public function testGenerate() {
     $this->setCurrentUser($user);
     $preview_url = $this->nextSite->getPreviewUrlForEntity($page);
     $query = $preview_url->getOption('query');
-    $this->assertNotEmpty($query['slug']);
+    $this->assertNotEmpty($query['path']);
     $this->assertNotEmpty($query['timestamp']);
     $this->assertNotEmpty($query['secret']);
     $this->assertSame($query['plugin'], 'simple_oauth');
 
     // Test the secret.
     /** @var \Drupal\next\PreviewSecretGeneratorInterface $secret_generator */
     $secret_generator = \Drupal::service('next.preview_secret_generator');
-    $this->assertSame($query['secret'], $secret_generator->generate($query['timestamp'] . $query['slug'] . $query['resourceVersion']));
+    $this->assertSame($query['secret'], $secret_generator->generate($query['timestamp'] . $query['path'] . $query['resourceVersion']));
   }
 
   /**
@@ -143,7 +143,7 @@ public function testValidateSecret() {
 
     $this->expectExceptionMessage('The provided secret is invalid.');
     $query = $preview_url->getOption('query');
-    $query['slug'] = '/random-slug';
+    $query['path'] = '/random-path';
     $request = Request::create('/', 'POST', [], [], [], [], Json::encode($query));
     $preview_url_generator->validate($request);
 
@@ -162,26 +162,26 @@ public function testValidateSecret() {
    */
   public function providerValidateForInvalidBody() {
     return [
-      [[], ""Field 'slug' is missing""],
-      [['slug' => '/node/1'], ""Field 'timestamp' is missing""],
+      [[], ""Field 'path' is missing""],
+      [['path' => '/node/1'], ""Field 'timestamp' is missing""],
       [
         [
-          'slug' => '/node/1',
+          'path' => '/node/1',
           'timestamp' => strtotime('now'),
         ],
         ""Field 'secret' is missing"",
       ],
       [
         [
-          'slug' => '/node/1',
+          'path' => '/node/1',
           'timestamp' => strtotime('-60 seconds'),
           'secret' => 'secret',
         ],
         ""The provided secret has expired."",
       ],
       [
         [
-          'slug' => '/node/1',
+          'path' => '/node/1',
           'timestamp' => strtotime('60 seconds'),
           'secret' => 'secret',
         ],

---FILE: modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php---
@@ -88,7 +88,7 @@ public function testPrepare() {
     $response = $this->container->get('http_kernel')->handle($request);
     $this->setRawContent($response->getContent());
 
-    $preview_url = 'https://blog.com/api/preview?slug=/node/1';
+    $preview_url = 'https://blog.com/api/preview?path=/node/1';
     $fields = $this->xpath(""//iframe[contains(@src, '$preview_url')]"");
     $this->assertCount(1, $fields);
 

---FILE: packages/next-drupal/src/client.ts---
@@ -1023,11 +1023,11 @@ export class DrupalClient {
   }
 
   async validateDraftUrl(searchParams: URLSearchParams): Promise<Response> {
-    const slug = searchParams.get(""slug"")
+    const path = searchParams.get(""path"")
 
-    this.debug(`Fetching draft url validation for ${slug}.`)
+    this.debug(`Fetching draft url validation for ${path}.`)
 
-    // Fetch the headless CMS to check if the provided `slug` exists
+    // Fetch the headless CMS to check if the provided `path` exists
     let response: Response
     try {
       // Validate the draft url.
@@ -1047,8 +1047,8 @@ export class DrupalClient {
 
     this.debug(
       response.status !== 200
-        ? `Could not validate slug, ${slug}`
-        : `Validated slug, ${slug}`
+        ? `Could not validate path, ${path}`
+        : `Validated path, ${path}`
     )
 
     return response
@@ -1060,7 +1060,7 @@ export class DrupalClient {
     options?: Parameters<NextApiResponse[""setDraftMode""]>[0]
   ) {
     // eslint-disable-next-line @typescript-eslint/no-unused-vars
-    const { slug, resourceVersion, plugin, secret, scope, ...draftData } =
+    const { path, resourceVersion, plugin, secret, scope, ...draftData } =
       request.query
     const useDraftMode = options?.enable
 
@@ -1104,15 +1104,15 @@ export class DrupalClient {
         // Adds preview data for use in app router pages.
         cookies.push(
           `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
-            JSON.stringify({ slug, resourceVersion, ...draftData })
+            JSON.stringify({ path, resourceVersion, ...draftData })
           )}; Path=/; HttpOnly; SameSite=None; Secure`
         )
       }
       response.setHeader(""Set-Cookie"", cookies)
 
-      // We can safely redirect to the slug since this has been validated on the
+      // We can safely redirect to the path since this has been validated on the
       // server.
-      response.writeHead(307, { Location: slug })
+      response.writeHead(307, { Location: path })
 
       this.debug(`${useDraftMode ? ""Draft"" : ""Preview""} mode enabled.`)
 

---FILE: packages/next-drupal/src/deprecated/preview.ts---
@@ -18,15 +18,15 @@ export async function PreviewHandler(
   response?: NextApiResponse,
   options?: PreviewOptions
 ) {
-  const { slug, resourceVersion, secret, locale, defaultLocale } = request.query
+  const { path, resourceVersion, secret, locale, defaultLocale } = request.query
 
   if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
     return response.status(401).json({
       message: options?.errorMessages.secret || ""Invalid preview secret."",
     })
   }
 
-  if (!slug) {
+  if (!path) {
     return response
       .status(401)
       .end({ message: options?.errorMessages.slug || ""Invalid slug."" })
@@ -43,7 +43,7 @@ export async function PreviewHandler(
     }
   }
 
-  const url = await getResourcePreviewUrl(slug as string, _options)
+  const url = await getResourcePreviewUrl(path as string, _options)
 
   if (!url) {
     response

---FILE: packages/next-drupal/src/draft.ts---
@@ -17,7 +17,7 @@ export async function enableDraftMode(
   }
 
   const searchParams = request.nextUrl.searchParams
-  const slug = searchParams.get(""slug"")
+  const path = searchParams.get(""path"")
 
   // Enable Draft Mode by setting the cookie
   draftMode().enable()
@@ -47,8 +47,8 @@ export async function enableDraftMode(
   })
 
   // Redirect to the path from the fetched post. We can safely redirect to the
-  // slug since this has been validated on the server.
-  redirect(slug)
+  // path since this has been validated on the server.
+  redirect(path)
 }
 
 export function disableDraftMode() {
@@ -59,7 +59,7 @@ export function disableDraftMode() {
 }
 
 export interface DraftData {
-  slug?: string
+  path?: string
   resourceVersion?: string
 }
 

---FILE: packages/next-drupal/tests/DrupalClient/basic-methods.test.ts---
@@ -311,9 +311,9 @@ describe(""validateDraftUrl()"", () => {
       debug: true,
       logger,
     })
-    const slug = ""/example""
+    const path = ""/example""
     const searchParams = new URLSearchParams({
-      slug,
+      path,
     })
 
     const testPayload = { test: ""resolved"" }
@@ -331,21 +331,21 @@ describe(""validateDraftUrl()"", () => {
     expect(response.status).toBe(200)
     expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
     expect(logger.debug).toHaveBeenCalledWith(
-      `Fetching draft url validation for ${slug}.`
+      `Fetching draft url validation for ${path}.`
     )
-    expect(logger.debug).toHaveBeenCalledWith(`Validated slug, ${slug}`)
+    expect(logger.debug).toHaveBeenCalledWith(`Validated path, ${path}`)
 
     response = await client.validateDraftUrl(searchParams)
     expect(response.status).toBe(404)
     expect(logger.debug).toHaveBeenCalledWith(
-      `Could not validate slug, ${slug}`
+      `Could not validate path, ${path}`
     )
   })
 
   test(""calls draft-url endpoint"", async () => {
     const client = new DrupalClient(BASE_URL)
     const searchParams = new URLSearchParams({
-      slug: ""/example"",
+      path: ""/example"",
     })
 
     const testPayload = { test: ""resolved"" }
@@ -370,7 +370,7 @@ describe(""validateDraftUrl()"", () => {
   test(""returns a response object on success"", async () => {
     const client = new DrupalClient(BASE_URL)
     const searchParams = new URLSearchParams({
-      slug: ""/example"",
+      path: ""/example"",
     })
 
     const testPayload = { test: ""resolved"" }
@@ -386,7 +386,7 @@ describe(""validateDraftUrl()"", () => {
   test(""returns a response if fetch throws"", async () => {
     const client = new DrupalClient(BASE_URL)
     const searchParams = new URLSearchParams({
-      slug: ""/example"",
+      path: ""/example"",
     })
 
     const message = ""random fetch error""

---FILE: packages/next-drupal/tests/DrupalClient/pages-router-methods.test.ts---
@@ -1179,13 +1179,13 @@ describe(""getStaticPathsFromContext()"", () => {
 describe(""preview()"", () => {
   // Get values from our mocked request.
   // eslint-disable-next-line @typescript-eslint/no-unused-vars
-  const { slug, resourceVersion, plugin, secret, ...draftData } =
+  const { path, resourceVersion, plugin, secret, ...draftData } =
     new NextApiRequest().query
   const dataCookie = `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
-    JSON.stringify({ slug, resourceVersion, ...draftData })
+    JSON.stringify({ path, resourceVersion, ...draftData })
   )}; Path=/; HttpOnly; SameSite=None; Secure`
   const validationPayload = {
-    slug,
+    path,
     maxAge: 30,
   }
 
@@ -1291,7 +1291,7 @@ describe(""preview()"", () => {
     expect(response.getHeader(""Set-Cookie"")).toStrictEqual(cookies)
   })
 
-  test(""redirects to the slug path"", async () => {
+  test(""redirects to the given path"", async () => {
     const request = new NextApiRequest()
     const response = new NextApiResponse()
     const logger = mockLogger()
@@ -1305,7 +1305,7 @@ describe(""preview()"", () => {
       plugin,
       ...validationPayload,
     })
-    expect(response.writeHead).toBeCalledWith(307, { Location: slug })
+    expect(response.writeHead).toBeCalledWith(307, { Location: path })
     expect(logger.debug).toHaveBeenLastCalledWith(""Preview mode enabled."")
   })
 

---FILE: packages/next-drupal/tests/__mocks__/next.ts---
@@ -1,6 +1,6 @@
 export const NextApiRequest = jest.fn(function () {
   this.query = {
-    slug: ""/example"",
+    path: ""/example"",
     resourceVersion: ""id:1"",
     plugin: ""simple_oauth"",
     secret: ""very-secret-key"",

---FILE: packages/next-drupal/tests/draft/draft.test.ts---
@@ -38,7 +38,7 @@ afterEach(() => {
 
 describe(""enableDraftMode()"", () => {
   const searchParams = new URLSearchParams({
-    slug: ""/example"",
+    path: ""/example"",
     resourceVersion: ""id:1"",
     plugin: ""simple_oauth"",
     secret: ""very-secret-key"",
@@ -108,12 +108,12 @@ describe(""enableDraftMode()"", () => {
     })
   })
 
-  test(""redirects to the slug path"", async () => {
+  test(""redirects to the given path"", async () => {
     spyOnFetch({ responseBody: validationPayload })
 
     await enableDraftMode(request, client)
 
-    expect(redirect).toHaveBeenCalledWith(searchParams.get(""slug""))
+    expect(redirect).toHaveBeenCalledWith(searchParams.get(""path""))
   })
 })
 
@@ -146,7 +146,7 @@ describe(""disableDraftMode()"", () => {
 
 describe(""getDraftData()"", () => {
   const draftData = {
-    slug: ""/example"",
+    path: ""/example"",
     resourceVersion: ""id:1"",
   }
   const draftDataCookie: ResponseCookie = {

---FILE: starters/basic-starter/pages/api/revalidate.ts---
@@ -4,21 +4,21 @@ export default async function handler(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  let slug = request.query.slug as string
+  let path = request.query.path as string
   const secret = request.query.secret as string
 
   // Validate secret.
   if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 
-  // Validate slug.
-  if (!slug) {
-    return response.status(400).json({ message: ""Invalid slug."" })
+  // Validate path.
+  if (!path) {
+    return response.status(400).json({ message: ""Invalid path."" })
   }
 
   try {
-    await response.revalidate(slug)
+    await response.revalidate(path)
 
     return response.json({})
   } catch (error) {

---FILE: starters/graphql-starter/pages/api/revalidate.ts---
@@ -4,21 +4,21 @@ export default async function handler(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  let slug = request.query.slug as string
+  let path = request.query.path as string
   const secret = request.query.secret as string
 
   // Validate secret.
   if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 
-  // Validate slug.
-  if (!slug) {
-    return response.status(400).json({ message: ""Invalid slug."" })
+  // Validate path.
+  if (!path) {
+    return response.status(400).json({ message: ""Invalid path."" })
   }
 
   try {
-    await response.revalidate(slug)
+    await response.revalidate(path)
 
     return response.json({})
   } catch (error) {",False,False,Environment / Configuration,4
chapter-three,next-drupal,a49f641bd4bff1cf900237023eaad889e3a90ff7,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-02-29T17:26:52Z,GitHub,noreply@github.com,2024-02-29T17:26:52Z,"feat(next-drupal): remove unneeded previewSecret option/env variable

Fixes #661",examples/example-blog/.env.example;examples/example-client/.env.example;examples/example-graphql/.env.example;examples/example-graphql/lib/drupal.ts;examples/example-graphql/pages/api/revalidate.ts;examples/example-marketing/.env.example;examples/example-marketing/lib/drupal.ts;examples/example-marketing/pages/api/revalidate.ts;examples/example-umami/.env.example;examples/example-umami/lib/drupal.ts;modules/next/src/Controller/NextSiteEntityController.php;modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php;packages/next-drupal/src/client.ts;packages/next-drupal/src/types/client.ts;packages/next-drupal/tests/DrupalClient/basic-methods.test.ts;packages/next-drupal/tests/DrupalClient/constructor.test.ts;packages/next-drupal/tests/DrupalClient/pages-router-methods.test.ts;packages/next-drupal/tests/DrupalClient/resource-methods.test.ts;starters/basic-starter/.env.example;starters/basic-starter/README.md;starters/basic-starter/lib/drupal.ts;starters/graphql-starter/.env.example;starters/graphql-starter/lib/drupal.ts;www/content/docs/configuration.mdx;www/content/docs/environment-variables.mdx;www/content/docs/reference/preview.mdx;www/content/docs/upgrade-guide.mdx,False,False,False,False,20,114,134,"---FILE: examples/example-blog/.env.example---
@@ -3,5 +3,4 @@ NEXT_IMAGE_DOMAIN=localhost
 DRUPAL_CLIENT_ID=52ce1a10-bf5c-4c81-8edf-eea3af95da84
 DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
 DRUPAL_SITE_ID=1ccd4bc4-bbc6-4c19-a816-c7d100feff02
-DRUPAL_PREVIEW_SECRET=secret
-DRUPAL_FRONT_PAGE=/home
\ No newline at end of file
+DRUPAL_FRONT_PAGE=/home

---FILE: examples/example-client/.env.example---
@@ -1,11 +1,10 @@
 # Required
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
-DRUPAL_PREVIEW_SECRET=
 DRUPAL_CLIENT_ID=
 DRUPAL_CLIENT_SECRET=
 
 # Optional
 DRUPAL_SITE_ID=
 DRUPAL_FRONT_PAGE=/home
-DRUPAL_JSONAPI_PREFIX=/jsonapi
\ No newline at end of file
+DRUPAL_JSONAPI_PREFIX=/jsonapi

---FILE: examples/example-graphql/.env.example---
@@ -1,6 +1,3 @@
 # See https://next-drupal.org/docs/environment-variables
 NEXT_PUBLIC_DRUPAL_BASE_URL=https://dev.next-drupal.org
 NEXT_IMAGE_DOMAIN=dev.next-drupal.org
-
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file

---FILE: examples/example-graphql/lib/drupal.ts---
@@ -7,7 +7,6 @@ export const drupal = new DrupalClient(
       clientId: process.env.DRUPAL_CLIENT_ID,
       clientSecret: process.env.DRUPAL_CLIENT_SECRET,
     },
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
   }
 )
 

---FILE: examples/example-graphql/pages/api/revalidate.ts---
@@ -1,4 +1,4 @@
-import { NextApiRequest, NextApiResponse } from ""next""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function handler(
   request: NextApiRequest,
@@ -8,7 +8,7 @@ export default async function handler(
   const secret = request.query.secret as string
 
   // Validate secret.
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 
@@ -23,7 +23,7 @@ export default async function handler(
     return response.json({})
   } catch (error) {
     return response.status(404).json({
-      message: error.message,
+      message: (error as Error).message,
     })
   }
 }

---FILE: examples/example-marketing/.env.example---
@@ -3,5 +3,4 @@ NEXT_IMAGE_DOMAIN=localhost
 DRUPAL_CLIENT_ID=52ce1a10-bf5c-4c81-8edf-eea3af95da84
 DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
 DRUPAL_SITE_ID=example_marketing
-DRUPAL_PREVIEW_SECRET=secret
-DRUPAL_FRONT_PAGE=/home
\ No newline at end of file
+DRUPAL_FRONT_PAGE=/home

---FILE: examples/example-marketing/lib/drupal.ts---
@@ -4,7 +4,6 @@ export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
   {
     frontPage: ""/home"",
-    previewSecret: ""secret"",
     auth: {
       clientId: process.env.DRUPAL_CLIENT_ID,
       clientSecret: process.env.DRUPAL_CLIENT_SECRET,

---FILE: examples/example-marketing/pages/api/revalidate.ts---
@@ -1,4 +1,4 @@
-import { NextApiRequest, NextApiResponse } from ""next""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function handler(
   request: NextApiRequest,
@@ -8,7 +8,7 @@ export default async function handler(
   const secret = request.query.secret as string
 
   // Validate secret.
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 
@@ -28,7 +28,7 @@ export default async function handler(
     return response.json({})
   } catch (error) {
     return response.status(404).json({
-      message: error.message,
+      message: (error as Error).message,
     })
   }
 }

---FILE: examples/example-umami/.env.example---
@@ -1,7 +1,6 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
-DRUPAL_PREVIEW_SECRET=secret
 NEXTAUTH_SECRET=
 NEXTAUTH_URL=http://localhost:3000
 DRUPAL_CLIENT_ID=
-DRUPAL_CLIENT_SECRET=
\ No newline at end of file
+DRUPAL_CLIENT_SECRET=

---FILE: examples/example-umami/lib/drupal.ts---
@@ -1,8 +1,3 @@
 import { DrupalClient } from ""next-drupal""
 
-export const drupal = new DrupalClient(
-  process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
-  {
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
-  }
-)
+export const drupal = new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL)

---FILE: modules/next/src/Controller/NextSiteEntityController.php---
@@ -62,13 +62,6 @@ public function environmentVariables(NextSiteInterface $next_site) {
       'DRUPAL_CLIENT_SECRET' => 'Retrieve this from /admin/config/services/consumer',
     ];
 
-    if ($secret = $next_site->getPreviewSecret()) {
-      $variables += [
-        'preview_variables' => '# Required for Draft Mode',
-        'DRUPAL_PREVIEW_SECRET' => $secret,
-      ];
-    }
-
     if ($revalidate_secret = $next_site->getRevalidateSecret()) {
       $variables += [
         'revalidate_variables' => '# Required for On-demand Revalidation',

---FILE: modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php---
@@ -54,7 +54,6 @@ public function testEnvironmentVariables() {
 
     $this->assertEquals(\Drupal::requestStack()->getCurrentRequest()->getSchemeAndHttpHost(), $build['container']['NEXT_PUBLIC_DRUPAL_BASE_URL']['#context']['value']);
     $this->assertEquals(\Drupal::requestStack()->getCurrentRequest()->getHost(), $build['container']['NEXT_IMAGE_DOMAIN']['#context']['value']);
-    $this->assertEquals($this->nextSite->getPreviewSecret(), $build['container']['DRUPAL_PREVIEW_SECRET']['#context']['value']);
     $this->assertEquals($this->nextSite->getRevalidateSecret(), $build['container']['DRUPAL_REVALIDATE_SECRET']['#context']['value']);
   }
 
@@ -63,12 +62,12 @@ public function testEnvironmentVariables() {
    */
   public function testOverriddenEnvironmentVariables() {
     $GLOBALS['config']['next.next_site.' . $this->nextSite->id()] = [
-      'preview_secret' => 'overridden',
+      'revalidate_secret' => 'overridden',
     ];
     $overridden_entity = NextSite::load($this->nextSite->id());
     $controller = NextSiteEntityController::create($this->container);
     $build = $controller->environmentVariables($overridden_entity);
-    $this->assertEquals('overridden', $build['container']['DRUPAL_PREVIEW_SECRET']['#context']['value']);
+    $this->assertEquals('overridden', $build['container']['DRUPAL_REVALIDATE_SECRET']['#context']['value']);
   }
 
 }

---FILE: packages/next-drupal/src/client.ts---
@@ -115,8 +115,6 @@ export class DrupalClient {
 
   private withAuth?: DrupalClientOptions[""withAuth""]
 
-  private previewSecret?: DrupalClientOptions[""previewSecret""]
-
   /**
    * Instantiates a new DrupalClient.
    *
@@ -142,7 +140,6 @@ export class DrupalClient {
       withAuth = DEFAULT_WITH_AUTH,
       fetcher,
       auth,
-      previewSecret,
       accessToken,
       throwJsonApiErrors = true,
     } = options
@@ -158,7 +155,6 @@ export class DrupalClient {
     this.headers = headers
     this.logger = logger
     this.withAuth = withAuth
-    this.previewSecret = previewSecret
     this.cache = cache
     this.accessToken = accessToken
     this.throwJsonApiErrors = throwJsonApiErrors

---FILE: packages/next-drupal/src/types/client.ts---
@@ -115,16 +115,6 @@ export type DrupalClientOptions = {
    */
   useDefaultResourceTypeEntry?: boolean
 
-  /**
-   * The secret to use for preview mode.
-   *
-   * * **Default value**: `null`
-   * * **Required**: *No*
-   *
-   * [Documentation](https://next-drupal.org/docs/client/configuration#previewsecret)
-   */
-  previewSecret?: string
-
   /**
    * A long-lived access token you can set for the client.
    *

---FILE: packages/next-drupal/tests/DrupalClient/basic-methods.test.ts---
@@ -3,6 +3,8 @@ import { DrupalClient, JsonApiErrors } from ""../../src""
 import { BASE_URL, mockLogger, spyOnFetch, spyOnFetchOnce } from ""../utils""
 import type { DrupalNode, JsonApiError, Serializer } from ""../../src""
 
+jest.setTimeout(10000)
+
 afterEach(() => {
   jest.restoreAllMocks()
 })

---FILE: packages/next-drupal/tests/DrupalClient/constructor.test.ts---
@@ -247,22 +247,6 @@ describe(""options parameter"", () => {
     })
   })
 
-  describe(""previewSecret"", () => {
-    test(""defaults to `undefined`"", () => {
-      const client = new DrupalClient(BASE_URL)
-      expect(client.previewSecret).toBe(undefined)
-    })
-
-    test(""sets up a custom previewSecret"", () => {
-      const customPreviewSecret = ""custom-secret-value""
-
-      const client = new DrupalClient(BASE_URL, {
-        previewSecret: customPreviewSecret,
-      })
-      expect(client.previewSecret).toBe(customPreviewSecret)
-    })
-  })
-
   describe(""serializer"", () => {
     test(""defaults to `new Jsona()`"", () => {
       const client = new DrupalClient(BASE_URL)

---FILE: packages/next-drupal/tests/DrupalClient/pages-router-methods.test.ts---
@@ -4,6 +4,8 @@ import { DRAFT_DATA_COOKIE_NAME, DrupalClient } from ""../../src""
 import { BASE_URL, mockLogger, mocks, spyOnFetch } from ""../utils""
 import type { DrupalNode, JsonApiResourceWithPath } from ""../../src""
 
+jest.setTimeout(10000)
+
 afterEach(() => {
   jest.restoreAllMocks()
 })

---FILE: packages/next-drupal/tests/DrupalClient/resource-methods.test.ts---
@@ -3,6 +3,8 @@ import { DrupalClient } from ""../../src""
 import { BASE_URL, mocks, spyOnFetch } from ""../utils""
 import type { DrupalNode, DrupalSearchApiJsonApiResponse } from ""../../src""
 
+jest.setTimeout(10000)
+
 afterEach(() => {
   jest.restoreAllMocks()
 })

---FILE: starters/basic-starter/.env.example---
@@ -8,8 +8,5 @@ NEXT_IMAGE_DOMAIN=site.example.com
 DRUPAL_CLIENT_ID=Retrieve this from /admin/config/services/consumer
 DRUPAL_CLIENT_SECRET=Retrieve this from /admin/config/services/consumer
 
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=Retrieve this from /admin/config/services/next
-
 # Required for On-demand Revalidation
 DRUPAL_REVALIDATE_SECRET=Retrieve this from /admin/config/services/next

---FILE: starters/basic-starter/README.md---
@@ -8,7 +8,7 @@ A simple starter for building your site with Next.js and Drupal.
 
 ## Deploy to Vercel
 
-[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fchapter-three%2Fnext-drupal-basic-starter&env=NEXT_PUBLIC_DRUPAL_BASE_URL,NEXT_IMAGE_DOMAIN,DRUPAL_PREVIEW_SECRET,DRUPAL_CLIENT_ID,DRUPAL_CLIENT_SECRET&envDescription=Learn%20more%20about%20environment%20variables&envLink=https%3A%2F%2Fnext-drupal.org%2Fdocs%2Fenvironment-variables&project-name=next-drupal&demo-title=Next.js%20for%20Drupal&demo-description=A%20next-generation%20front-end%20for%20your%20Drupal%20site.&demo-url=https%3A%2F%2Fdemo.next-drupal.org&demo-image=https%3A%2F%2Fnext-drupal.org%2Fimages%2Fdemo-screenshot.jpg)
+[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fchapter-three%2Fnext-drupal-basic-starter&env=NEXT_PUBLIC_DRUPAL_BASE_URL,NEXT_IMAGE_DOMAIN,DRUPAL_CLIENT_ID,DRUPAL_CLIENT_SECRET&envDescription=Learn%20more%20about%20environment%20variables&envLink=https%3A%2F%2Fnext-drupal.org%2Fdocs%2Fenvironment-variables&project-name=next-drupal&demo-title=Next.js%20for%20Drupal&demo-description=A%20next-generation%20front-end%20for%20your%20Drupal%20site.&demo-url=https%3A%2F%2Fdemo.next-drupal.org&demo-image=https%3A%2F%2Fnext-drupal.org%2Fimages%2Fdemo-screenshot.jpg)
 
 ## Documentation
 

---FILE: starters/basic-starter/lib/drupal.ts---
@@ -3,12 +3,10 @@ import { DrupalClient } from ""next-drupal""
 const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
 const clientId = process.env.DRUPAL_CLIENT_ID || """"
 const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
-const previewSecret = process.env.DRUPAL_PREVIEW_SECRET
 
 export const drupal = new DrupalClient(baseUrl, {
   auth: {
     clientId,
     clientSecret,
   },
-  previewSecret,
 })

---FILE: starters/graphql-starter/.env.example---
@@ -8,8 +8,5 @@ NEXT_IMAGE_DOMAIN=site.example.com
 DRUPAL_CLIENT_ID=Retrieve this from /admin/config/services/consumer
 DRUPAL_CLIENT_SECRET=Retrieve this from /admin/config/services/consumer
 
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=Retrieve this from /admin/config/services/next
-
 # Required for On-demand Revalidation
 DRUPAL_REVALIDATE_SECRET=Retrieve this from /admin/config/services/next

---FILE: starters/graphql-starter/lib/drupal.ts---
@@ -3,14 +3,12 @@ import { DrupalClient } from ""next-drupal""
 const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
 const clientId = process.env.DRUPAL_CLIENT_ID || """"
 const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
-const previewSecret = process.env.DRUPAL_PREVIEW_SECRET
 
 export const drupal = new DrupalClient(baseUrl, {
   auth: {
     clientId,
     clientSecret,
   },
-  previewSecret,
 })
 
 export const graphqlEndpoint = drupal.buildUrl(""/graphql"")

---FILE: www/content/docs/configuration.mdx---
@@ -182,15 +182,6 @@ If your resources follow the `entity_type--bundle` naming convention, you can sa
 
 ---
 
-### previewSecret
-
-- **Default value**: `null`
-- **Required**: No
-
-The secret to use for preview mode.
-
----
-
 ### headers
 
 - **Default value**: `{ ""Content-Type"": ""application/vnd.api+json"", Accept: ""application/vnd.api+json"" }`

---FILE: www/content/docs/environment-variables.mdx---
@@ -8,9 +8,6 @@ excerpt: Configuration variables for Next.js and Drupal.
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
 
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=
-
 # Required for On-demand Revalidation
 DRUPAL_REVALIDATE_SECRET=
 
@@ -44,20 +41,6 @@ const drupal = new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL)
 
 ---
 
-## Preview Mode
-
-Environment variables required for preview mode.
-
-| Name                    | Description                                                              |
-| ----------------------- | :----------------------------------------------------------------------- |
-| `DRUPAL_PREVIEW_SECRET` | The secret for [preview mode](/docs/preview-mode). Example: `6SZy9xkdtR` |
-
-```ts
-const drupal = new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
-  previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
-})
-```
-
 ## On-demand Revalidation
 
 Environment variables required for on-demand revalidation.

---FILE: www/content/docs/reference/preview.mdx---
@@ -29,16 +29,6 @@ await drupal.preview(request, response, options?: {
 ## Notes
 
 - The `preview` method should be called in an API route.
-- Remember to set a `previewSecret` on the client.
-
-```ts title=lib/drupal.ts
-export const drupal = new DrupalClient(
-  process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
-  {
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
-  }
-)
-```
 
 ---
 

---FILE: www/content/docs/upgrade-guide.mdx---
@@ -92,7 +92,6 @@ export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
   {
     frontPage: ""/home"",
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
     auth: {
       clientId: process.env.DRUPAL_CLIENT_ID,
       clientSecret: process.env.DRUPAL_CLIENT_SECRET,
@@ -114,7 +113,6 @@ export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
   {
     frontPage: ""/home"",
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
     auth: {
       clientId: process.env.DRUPAL_CLIENT_ID,
       clientSecret: process.env.DRUPAL_CLIENT_SECRET,",False,False,Documentation / Formatting,6
chapter-three,next-drupal,d69ca0de04a015fcd33fa263a97d8b9ce1fbc6bd,Rajeshreeputra,pravin9901@gmail.com,2024-02-29T04:07:57Z,GitHub,noreply@github.com,2024-02-29T04:07:57Z,"feat(next): allow 1.x and 2.x of cweagans/composer-patches

Fixes #704",modules/next/composer.json,False,False,False,False,0,1,1,"---FILE: modules/next/composer.json---
@@ -11,7 +11,6 @@
     }
   ],
   ""require"": {
-    ""cweagans/composer-patches"": ""~1.0"",
     ""drupal/decoupled_router"": ""^2.0"",
     ""drupal/pathauto"": ""^1.11"",
     ""drupal/simple_oauth"": ""^5.0 || ^6.0"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,0b1816acd70f0bd8cdf6952496d17c4788910ec3,JohnAlbin,virtually.johnalbin@gmail.com,2024-02-26T12:52:26Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-02-28T03:42:22Z,"feat(next-drupal-query): drop next-drupal-query

Fixes #708",.github/ISSUE_TEMPLATE/bug_report.yml;.github/ISSUE_TEMPLATE/feature_request.yml;.github/ISSUE_TEMPLATE/question.yml;.github/workflows/next-drupal-query.yml;CONTRIBUTING.md;examples/example-query/.env.example;examples/example-query/.eslintrc.json;examples/example-query/.gitignore;examples/example-query/CHANGELOG.md;examples/example-query/README.md;examples/example-query/components/article.tsx;examples/example-query/components/card--featured.tsx;examples/example-query/components/card.tsx;examples/example-query/components/landing-page.tsx;examples/example-query/components/layout.tsx;examples/example-query/components/media--image.tsx;examples/example-query/components/menu--main.tsx;examples/example-query/components/page.tsx;examples/example-query/components/preview-alert.tsx;examples/example-query/components/section--card.tsx;examples/example-query/components/section--columns.tsx;examples/example-query/components/section--image.tsx;examples/example-query/components/section--text.tsx;examples/example-query/components/sections.tsx;examples/example-query/lib/drupal.ts;examples/example-query/lib/utils.ts;examples/example-query/next-env.d.ts;examples/example-query/next.config.js;examples/example-query/package.json;examples/example-query/pages/[...slug].tsx;examples/example-query/pages/_app.tsx;examples/example-query/pages/api/exit-preview.ts;examples/example-query/pages/api/preview.ts;examples/example-query/pages/api/revalidate.ts;examples/example-query/pages/index.tsx;examples/example-query/postcss.config.js;examples/example-query/public/favicon.ico;examples/example-query/public/robots.txt;examples/example-query/queries/index.ts;examples/example-query/queries/list--articles--published.ts;examples/example-query/queries/list--articles--related.ts;examples/example-query/queries/media--image.ts;examples/example-query/queries/menu.ts;examples/example-query/queries/node--article--teaser.ts;examples/example-query/queries/node--article.ts;examples/example-query/queries/node--landing_page.ts;examples/example-query/queries/node--page.ts;examples/example-query/queries/paragraph--card.ts;examples/example-query/queries/paragraph--columns.ts;examples/example-query/queries/paragraph--image.ts;examples/example-query/queries/paragraph--text.ts;examples/example-query/styles/globals.css;examples/example-query/tailwind.config.js;examples/example-query/tsconfig.json;examples/example-query/types/drupal/base.ts;examples/example-query/types/drupal/field.ts;examples/example-query/types/drupal/index.ts;examples/example-query/types/drupal/media.ts;examples/example-query/types/drupal/node.ts;examples/example-query/types/drupal/paragraph.ts;examples/example-query/types/drupal/user.ts;examples/example-query/types/index.ts;package.json;packages/next-drupal-query/.npmignore;packages/next-drupal-query/CHANGELOG.md;packages/next-drupal-query/README.md;packages/next-drupal-query/jest.config.cjs;packages/next-drupal-query/jest.setup.ts;packages/next-drupal-query/package.json;packages/next-drupal-query/src/index.ts;packages/next-drupal-query/tests/__snapshots__/index.test.ts.snap;packages/next-drupal-query/tests/index.test.ts;packages/next-drupal-query/tests/queries/data-only.ts;packages/next-drupal-query/tests/queries/data-with-formatter.ts;packages/next-drupal-query/tests/queries/data-with-opts.ts;packages/next-drupal-query/tests/queries/data-with-placeholder.ts;packages/next-drupal-query/tests/queries/formatter-only.ts;packages/next-drupal-query/tests/queries/index.ts;packages/next-drupal-query/tests/queries/node--article.ts;packages/next-drupal-query/tests/queries/params-nested.ts;packages/next-drupal-query/tests/queries/params-only.ts;packages/next-drupal-query/tests/queries/params-with-opts.ts;packages/next-drupal-query/tests/queries/placeholder-only.ts;packages/next-drupal-query/tests/queries/placeholder-with-opts.ts;packages/next-drupal-query/tsup.config.ts;yarn.lock,False,False,False,False,9,2674,2683,"---FILE: .github/ISSUE_TEMPLATE/bug_report.yml---
@@ -28,7 +28,7 @@ body:
         - example-custom-serializer
         - example-graphql
         - example-marketing
-        - example-query
+        - example-router-migration
         - example-search-api
         - example-umami
         - example-webform

---FILE: .github/ISSUE_TEMPLATE/feature_request.yml---
@@ -23,7 +23,7 @@ body:
         - example-custom-serializer
         - example-graphql
         - example-marketing
-        - example-query
+        - example-router-migration
         - example-search-api
         - example-umami
         - example-webform

---FILE: .github/ISSUE_TEMPLATE/question.yml---
@@ -23,7 +23,7 @@ body:
         - example-custom-serializer
         - example-graphql
         - example-marketing
-        - example-query
+        - example-router-migration
         - example-search-api
         - example-umami
         - example-webform

---FILE: .github/workflows/next-drupal-query.yml---
@@ -1,17 +0,0 @@
-name: next-drupal-query
-on:
-  push:
-    branches:
-      - main
-  pull_request:
-    types: [opened, synchronize, edited]
-
-jobs:
-  build:
-    runs-on: ubuntu-latest
-    steps:
-      - uses: actions/checkout@v4
-      - name: Install modules
-        run: yarn
-      - name: Run tests
-        run: yarn workspace next-drupal-query test

---FILE: CONTRIBUTING.md---
@@ -58,14 +58,6 @@ We use `jest` for testing the `next-drupal` package.
 yarn test packages/next-drupal
 ```
 
-### `next-drupal-query`
-
-We use `jest` for testing the `next-drupal-query` package.
-
-```
-yarn test packages/next-drupal
-```
-
 ### `next`
 
 We use `phpunit` for testing the `next` module.
@@ -76,7 +68,7 @@ yarn test:next
 
 ## Linting
 
-### `next-drupal` and `next-drupal-query`
+### `next-drupal`
 
 ```
 yarn lint

---FILE: examples/example-query/.env.example---
@@ -1,6 +0,0 @@
-# See https://next-drupal.org/docs/environment-variables
-NEXT_PUBLIC_DRUPAL_BASE_URL=https://dev.next-drupal.org
-NEXT_IMAGE_DOMAIN=dev.next-drupal.org
-
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file

---FILE: examples/example-query/.eslintrc.json---
@@ -1,4 +0,0 @@
-{
-  ""extends"": ""next"",
-  ""root"": true
-}

---FILE: examples/example-query/.gitignore---
@@ -1,39 +0,0 @@
-# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
-
-# dependencies
-/node_modules
-/.pnp
-.pnp.js
-.yarn/install-state.gz
-
-# build/test artifacts
-/.turbo
-/coverage
-/cypress/screenshots
-/cypress/videos
-
-# next.js
-/.next/
-/out/
-
-# production
-/build
-
-# misc
-.DS_Store
-*.pem
-
-# debug
-npm-debug.log*
-yarn-debug.log*
-yarn-error.log*
-
-# local env files
-.env*.local
-
-# vercel
-.vercel
-
-# typescript
-*.tsbuildinfo
-next-env.d.ts

---FILE: examples/example-query/CHANGELOG.md---
@@ -1,69 +0,0 @@
-# Change Log
-
-All notable changes to this project will be documented in this file.
-See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.
-
-# [0.4.0](https://github.com/chapter-three/next-drupal/compare/example-query@0.3.2...example-query@0.4.0) (2022-12-06)
-
-**Note:** Version bump only for package example-query
-
-
-
-
-
-## [0.3.2](https://github.com/chapter-three/next-drupal/compare/example-query@0.3.1...example-query@0.3.2) (2022-12-06)
-
-**Note:** Version bump only for package example-query
-
-
-
-
-
-## [0.3.1](https://github.com/chapter-three/next-drupal/compare/example-query@0.3.0...example-query@0.3.1) (2022-09-07)
-
-
-### Bug Fixes
-
-* **example-query:** use context for fetching content ([99bf2b6](https://github.com/chapter-three/next-drupal/commit/99bf2b6afaf55d5955d03971d186b7da42ce8f35))
-
-
-
-
-
-# [0.3.0](https://github.com/chapter-three/next-drupal/compare/example-query@0.2.1...example-query@0.3.0) (2022-08-11)
-
-
-### Features
-
-* **example-query:** add example query with opts ([73b671e](https://github.com/chapter-three/next-drupal/commit/73b671eea6afae1328caf61379f4ae60529b40f8))
-
-
-
-
-
-## [0.2.1](https://github.com/chapter-three/next-drupal/compare/example-query@0.2.0...example-query@0.2.1) (2022-08-09)
-
-**Note:** Version bump only for package example-query
-
-
-
-
-
-# [0.2.0](https://github.com/chapter-three/next-drupal/compare/example-query@0.1.0...example-query@0.2.0) (2022-08-09)
-
-
-### Features
-
-* **example-query:** add example for nested queries ([9e28c2a](https://github.com/chapter-three/next-drupal/commit/9e28c2aac149505d84c7d24617c51dc2af052b0c))
-* **example-query:** update example to use formatters ([7e29ecb](https://github.com/chapter-three/next-drupal/commit/7e29ecb1e43171f3f8628e8126c55c73c96966be))
-
-
-
-
-
-# 0.1.0 (2022-07-29)
-
-
-### Features
-
-* add example-query ([1c1aa34](https://github.com/chapter-three/next-drupal/commit/1c1aa34237dad490ab5314f74c3b8ea120bcd361))

---FILE: examples/example-query/README.md---
@@ -1,7 +0,0 @@
-# example-query
-
-Intentionally blank page - @shadcn
-
-## License
-
-Licensed under the [MIT license](https://github.com/chapter-three/next-drupal/blob/master/LICENSE).

---FILE: examples/example-query/components/article.tsx---
@@ -1,65 +0,0 @@
-import Head from ""next/head""
-import Image from ""next/image""
-import Link from ""next/link""
-
-import { Article } from ""types""
-
-interface ArticleProps {
-  article: Article
-}
-
-export function Article({ article, ...props }: ArticleProps) {
-  return (
-    <>
-      <Head>
-        <title>{article.title}</title>
-      </Head>
-      <article {...props}>
-        <h1 className=""mb-4 text-6xl font-black leading-tight"">
-          {article.title}
-        </h1>
-        <div className=""mb-4 text-gray-600"">
-          {article.author ? (
-            <span>
-              Posted by <span className=""font-semibold"">{article.author}</span>
-            </span>
-          ) : null}
-          {article.date && <span> - {article.date}</span>}
-        </div>
-        {article.image && (
-          <figure>
-            <Image
-              src={article.image.url}
-              width={900}
-              height={480}
-              layout=""responsive""
-              objectFit=""cover""
-              alt={article.image.alt}
-              priority
-            />
-          </figure>
-        )}
-        <div className=""font-serif prose prose-xl"">
-          {article.body && (
-            <div
-              dangerouslySetInnerHTML={{ __html: article.body }}
-              className=""mt-6""
-            />
-          )}
-          {article.relatedArticles?.length ? (
-            <div>
-              <h2>Related Articles</h2>
-              {article.relatedArticles.map((article) => (
-                <li key={article.id}>
-                  <Link href={article.url} passHref>
-                    <a>{article.title}</a>
-                  </Link>
-                </li>
-              ))}
-            </div>
-          ) : null}
-        </div>
-      </article>
-    </>
-  )
-}

---FILE: examples/example-query/components/card--featured.tsx---
@@ -1,53 +0,0 @@
-import Image from ""next/image""
-import Link from ""next/link""
-
-import { CardProps } from ""components/card""
-import { MediaImage } from ""./media--image""
-
-export interface CardFeaturedProps extends CardProps {
-  text?: string
-}
-
-export function CardFeatured({
-  title: heading,
-  url,
-  media,
-  date,
-}: CardFeaturedProps) {
-  return (
-    <div className=""relative bg-white border border-gray-200 rounded-lg shadow-md group"">
-      <MediaImage media={media} />
-      <div className=""flex flex-col items-start p-5 space-y-4"">
-        <div>
-          <h2 className=""mb-2 text-2xl font-bold tracking-tight text-gray-900"">
-            {heading}
-          </h2>
-          {date && <p className=""text-gray-600"">{date}</p>}
-        </div>
-        <span className=""inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-blue-700 rounded-lg group-hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300"">
-          Read more
-          <svg
-            aria-hidden=""true""
-            className=""w-4 h-4 ml-2 -mr-1""
-            fill=""currentColor""
-            viewBox=""0 0 20 20""
-            xmlns=""http://www.w3.org/2000/svg""
-          >
-            <path
-              fillRule=""evenodd""
-              d=""M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z""
-              clipRule=""evenodd""
-            ></path>
-          </svg>
-        </span>
-      </div>
-      {url && (
-        <Link href={url} passHref>
-          <a className=""absolute inset-0"">
-            <span className=""sr-only"">Read more</span>
-          </a>
-        </Link>
-      )}
-    </div>
-  )
-}

---FILE: examples/example-query/components/card.tsx---
@@ -1,31 +0,0 @@
-import Link from ""next/link""
-
-import { MediaImage, MediaImageProps } from ""./media--image""
-
-export interface CardProps {
-  title: string
-  url?: string
-  media: MediaImageProps[""media""]
-  date?: string
-}
-
-export function Card({ title: heading, url, media, date }: CardProps) {
-  return (
-    <div className=""relative bg-white border border-gray-200 rounded-lg shadow-md group"">
-      <MediaImage media={media} />
-      <div className=""p-5"">
-        <h2 className=""mb-2 text-2xl font-bold tracking-tight text-gray-900"">
-          {heading}
-        </h2>
-        {date && <span className=""text-gray-600"">{date}</span>}
-      </div>
-      {url && (
-        <Link href={url} passHref>
-          <a className=""absolute inset-0"">
-            <span className=""sr-only"">Read more</span>
-          </a>
-        </Link>
-      )}
-    </div>
-  )
-}

---FILE: examples/example-query/components/landing-page.tsx---
@@ -1,15 +0,0 @@
-import { LandingPage } from ""types""
-import { Sections } from ""components/sections""
-
-interface LandingPageProps {
-  page: LandingPage
-}
-
-export function LandingPage({ page }: LandingPageProps) {
-  return (
-    <article>
-      <h1>{page.title}</h1>
-      <Sections sections={page.sections} />
-    </article>
-  )
-}

---FILE: examples/example-query/components/layout.tsx---
@@ -1,28 +0,0 @@
-import Link from ""next/link""
-
-import { PreviewAlert } from ""components/preview-alert""
-import { MenuMain, MenuMainProps } from ""components/menu--main""
-
-export interface LayoutProps {
-  menu: MenuMainProps[""menu""]
-  children?: React.ReactNode
-}
-
-export function Layout({ menu, children }: LayoutProps) {
-  return (
-    <>
-      <PreviewAlert />
-      <header>
-        <div className=""container flex items-center justify-between max-w-4xl px-4 py-6 mx-auto"">
-          <Link href=""/"" passHref>
-            <a className=""text-2xl font-semibold no-underline"">
-              Next.js for Drupal
-            </a>
-          </Link>
-          <MenuMain menu={menu} />
-        </div>
-      </header>
-      <main className=""container max-w-4xl px-4 py-10 mx-auto"">{children}</main>
-    </>
-  )
-}

---FILE: examples/example-query/components/media--image.tsx---
@@ -1,23 +0,0 @@
-import Image from ""next/image""
-
-import { MediaImage } from ""types""
-
-export interface MediaImageProps {
-  media: MediaImage
-}
-
-export function MediaImage({ media }: MediaImageProps) {
-  if (!media?.url) {
-    return null
-  }
-
-  return (
-    <Image
-      src={media.url}
-      width={media.width}
-      height={media.height}
-      layout=""responsive""
-      alt={media.alt}
-    />
-  )
-}

---FILE: examples/example-query/components/menu--main.tsx---
@@ -1,22 +0,0 @@
-import Link from ""next/link""
-import { MenuLink } from ""types""
-
-export interface MenuMainProps {
-  menu: MenuLink[]
-}
-
-export function MenuMain({ menu }: MenuMainProps) {
-  if (!menu?.length) {
-    return null
-  }
-
-  return (
-    <div className=""flex space-x-8"">
-      {menu.map((item, index) => (
-        <Link key={index} href={item.url} passHref>
-          <a className=""hover:underline"">{item.text}</a>
-        </Link>
-      ))}
-    </div>
-  )
-}

---FILE: examples/example-query/components/page.tsx---
@@ -1,25 +0,0 @@
-import Head from ""next/head""
-import { Page } from ""types""
-
-interface PageProps {
-  page: Page
-}
-
-export function Page({ page, ...props }: PageProps) {
-  return (
-    <>
-      <Head>
-        <title>{page.title}</title>
-      </Head>
-      <article {...props}>
-        <h1 className=""mb-4 text-6xl font-black leading-tight"">{page.title}</h1>
-        {page.content && (
-          <div
-            dangerouslySetInnerHTML={{ __html: page.content }}
-            className=""mt-6 font-serif text-xl leading-loose prose""
-          />
-        )}
-      </article>
-    </>
-  )
-}

---FILE: examples/example-query/components/preview-alert.tsx---
@@ -1,28 +0,0 @@
-import * as React from ""react""
-import { useRouter } from ""next/router""
-
-export function PreviewAlert() {
-  const { isPreview } = useRouter()
-  const [showPreviewAlert, setShowPreviewAlert] = React.useState<boolean>(false)
-
-  React.useEffect(() => {
-    setShowPreviewAlert(isPreview && window.top === window.self)
-  }, [isPreview])
-
-  if (!showPreviewAlert) {
-    return null
-  }
-
-  return (
-    <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
-      <p className=""mb-0"">
-        This page is a preview.{"" ""}
-        {/* eslint-disable @next/next/no-html-link-for-pages */}
-        <a href=""/api/exit-preview"" className=""text-white underline"">
-          Click here
-        </a>{"" ""}
-        to exit preview mode.
-      </p>
-    </div>
-  )
-}

---FILE: examples/example-query/components/section--card.tsx---
@@ -1,10 +0,0 @@
-import { SectionCard } from ""types""
-import { Card } from ""./card""
-
-interface SectionCardProps {
-  section: SectionCard
-}
-
-export function SectionCard({ section }: SectionCardProps) {
-  return <Card title={section.heading} media={section.image} />
-}

---FILE: examples/example-query/components/section--columns.tsx---
@@ -1,27 +0,0 @@
-import { clsx } from ""clsx""
-import { SectionColumns } from ""types""
-import { Sections } from ""components/sections""
-
-interface SectionColumnsProps {
-  section: SectionColumns
-}
-
-export function SectionColumns({ section }: SectionColumnsProps) {
-  return (
-    <section>
-      {section.heading && <h2>{section.heading}</h2>}
-      <div
-        className={clsx(""grid items-start gap-10"", {
-          ""grid-cols-2"": section.columns === ""50-50"",
-          ""grid-cols-[1f_2fr]"": section.columns === ""25-75"",
-          ""grid-cols-[2fr_1fr]"": section.columns === ""75-25"",
-          ""grid-cols-[1fr_1fr_1fr]"": section.columns === ""33-33-33"",
-        })}
-      >
-        {section.sections?.length ? (
-          <Sections sections={section.sections} />
-        ) : null}
-      </div>
-    </section>
-  )
-}

---FILE: examples/example-query/components/section--image.tsx---
@@ -1,10 +0,0 @@
-import { SectionImage } from ""types""
-import { MediaImage } from ""components/media--image""
-
-export interface SectionImageProps {
-  section: SectionImage
-}
-
-export function SectionImage({ section }: SectionImageProps) {
-  return <MediaImage media={section.image} />
-}

---FILE: examples/example-query/components/section--text.tsx---
@@ -1,13 +0,0 @@
-import { SectionText } from ""types""
-
-interface SectionTextProps {
-  section: SectionText
-}
-
-export function SectionText({ section }: SectionTextProps) {
-  if (!section.text) {
-    return null
-  }
-
-  return <div dangerouslySetInnerHTML={{ __html: section.text }} />
-}

---FILE: examples/example-query/components/sections.tsx---
@@ -1,40 +0,0 @@
-import { Section, SectionType } from ""types""
-import { SectionColumns } from ""components/section--columns""
-import { SectionImage } from ""components/section--image""
-import { SectionText } from ""components/section--text""
-import { SectionCard } from ""components/section--card""
-
-type SectionTypes = {
-  [key in SectionType]: ({ section }) => JSX.Element
-}
-
-const sectionTypes: SectionTypes = {
-  ""section--columns"": SectionColumns,
-  ""section--image"": SectionImage,
-  ""section--text"": SectionText,
-  ""section--card"": SectionCard,
-}
-
-interface SectionsProps {
-  sections: Section[]
-}
-
-export function Sections({ sections }: SectionsProps) {
-  if (!sections?.length) {
-    return null
-  }
-
-  return (
-    <>
-      {sections?.map((section) => {
-        const SectionComponent = sectionTypes[section?.type]
-
-        if (!SectionComponent) {
-          return null
-        }
-
-        return <SectionComponent key={section.id} section={section} />
-      })}
-    </>
-  )
-}

---FILE: examples/example-query/lib/drupal.ts---
@@ -1,9 +0,0 @@
-import { DrupalClient } from ""next-drupal""
-
-export const drupal = new DrupalClient(
-  process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
-  {
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
-    frontPage: ""/"",
-  }
-)

---FILE: examples/example-query/lib/utils.ts---
@@ -1,12 +0,0 @@
-export function formatDate(input: string): string {
-  const date = new Date(input)
-  return date.toLocaleDateString(""en-US"", {
-    month: ""long"",
-    day: ""numeric"",
-    year: ""numeric"",
-  })
-}
-
-export function absoluteUrl(input: string) {
-  return `${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}${input}`
-}

---FILE: examples/example-query/next-env.d.ts---
@@ -1,5 +0,0 @@
-/// <reference types=""next"" />
-/// <reference types=""next/image-types/global"" />
-
-// NOTE: This file should not be edited
-// see https://nextjs.org/docs/basic-features/typescript for more information.

---FILE: examples/example-query/next.config.js---
@@ -1,8 +0,0 @@
-/** @type {import('next').NextConfig} */
-const nextConfig = {
-  images: {
-    domains: [process.env.NEXT_IMAGE_DOMAIN],
-  },
-}
-
-module.exports = nextConfig

---FILE: examples/example-query/package.json---
@@ -1,32 +0,0 @@
-{
-  ""name"": ""example-query"",
-  ""version"": ""0.4.0"",
-  ""private"": true,
-  ""license"": ""MIT"",
-  ""scripts"": {
-    ""dev"": ""next dev -p 4848"",
-    ""build"": ""next build"",
-    ""preview"": ""next build && next start -p 4848"",
-    ""lint"": ""next lint""
-  },
-  ""dependencies"": {
-    ""@tailwindcss/forms"": ""^0.5.6"",
-    ""@tailwindcss/typography"": ""^0.5.1"",
-    ""clsx"": ""^1.2.1"",
-    ""next"": ""^12.2.3"",
-    ""next-drupal"": ""^1.6.0"",
-    ""next-drupal-query"": ""^0.4.0"",
-    ""react"": ""^17.0.2"",
-    ""react-dom"": ""^17.0.2""
-  },
-  ""devDependencies"": {
-    ""@babel/core"": ""^7.12.9"",
-    ""@types/node"": ""^17.0.21"",
-    ""@types/react"": ""^17.0.0"",
-    ""autoprefixer"": ""^10.4.2"",
-    ""eslint-config-next"": ""^12.0.10"",
-    ""postcss"": ""^8.4.5"",
-    ""tailwindcss"": ""^3.0.15"",
-    ""typescript"": ""^5.2.2""
-  }
-}

---FILE: examples/example-query/pages/[...slug].tsx---
@@ -1,86 +0,0 @@
-import * as React from ""react""
-import { GetStaticPathsResult } from ""next""
-
-import { Resource } from ""types""
-import { drupal } from ""lib/drupal""
-import { queries } from ""queries""
-import { Layout, LayoutProps } from ""components/layout""
-import { Article } from ""components/article""
-import { LandingPage } from ""components/landing-page""
-import { Page } from ""components/page""
-
-const RESOURCE_TYPES = [
-  ""node--article"",
-  ""node--page"",
-  ""node--landing_page"",
-] as const
-
-interface ResourcePageProps {
-  menu: LayoutProps[""menu""]
-  resource: Resource
-}
-
-export default function ResourcePage({ menu, resource }: ResourcePageProps) {
-  if (!resource) return null
-
-  return (
-    <Layout menu={menu}>
-      {resource.type === ""page"" && <Page page={resource} />}
-      {resource.type === ""article"" && <Article article={resource} />}
-      {resource.type === ""landing-page"" && <LandingPage page={resource} />}
-    </Layout>
-  )
-}
-
-export async function getStaticPaths(context): Promise<GetStaticPathsResult> {
-  return {
-    paths: await drupal.getStaticPathsFromContext(
-      Array.from(RESOURCE_TYPES),
-      context
-    ),
-    fallback: ""blocking"",
-  }
-}
-
-export async function getStaticProps(context) {
-  const path = await drupal.translatePathFromContext(context)
-
-  if (!path) {
-    return {
-      notFound: true,
-    }
-  }
-
-  const type = path.jsonapi.resourceName as (typeof RESOURCE_TYPES)[number]
-
-  if (!RESOURCE_TYPES.includes(type)) {
-    return {
-      notFound: true,
-    }
-  }
-
-  const resource = await queries.getData(type, {
-    context,
-    path,
-    id: path.entity.uuid,
-  })
-
-  if (!resource) {
-    throw new Error(`Failed to fetch resource: ${path.jsonapi.individual}`)
-  }
-
-  // If we're not in preview mode and the resource is not published,
-  // Return page not found.
-  if (!context.preview && ""status"" in resource && resource?.status === false) {
-    return {
-      notFound: true,
-    }
-  }
-
-  return {
-    props: {
-      menu: await queries.getData(""menu"", { name: ""main"" }),
-      resource,
-    },
-  }
-}

---FILE: examples/example-query/pages/_app.tsx---
@@ -1,7 +0,0 @@
-import { AppProps } from ""next/app""
-
-import ""styles/globals.css""
-
-export default function App({ Component, pageProps }: AppProps) {
-  return <Component {...pageProps} />
-}

---FILE: examples/example-query/pages/api/exit-preview.ts---
@@ -1,7 +0,0 @@
-import { NextApiResponse } from ""next""
-
-export default async function exit(_, response: NextApiResponse) {
-  response.clearPreviewData()
-  response.writeHead(307, { Location: ""/"" })
-  response.end()
-}

---FILE: examples/example-query/pages/api/preview.ts---
@@ -1,10 +0,0 @@
-import { NextApiRequest, NextApiResponse } from ""next""
-
-import { drupal } from ""lib/drupal""
-
-export default async function handler(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  return await drupal.preview(request, response)
-}

---FILE: examples/example-query/pages/api/revalidate.ts---
@@ -1,29 +0,0 @@
-import { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function handler(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  let slug = request.query.slug as string
-  const secret = request.query.secret as string
-
-  // Validate secret.
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
-    return response.status(401).json({ message: ""Invalid secret."" })
-  }
-
-  // Validate slug.
-  if (!slug) {
-    return response.status(400).json({ message: ""Invalid slug."" })
-  }
-
-  try {
-    await response.revalidate(slug)
-
-    return response.json({})
-  } catch (error) {
-    return response.status(404).json({
-      message: error.message,
-    })
-  }
-}

---FILE: examples/example-query/pages/index.tsx---
@@ -1,74 +0,0 @@
-import Head from ""next/head""
-import { InferGetStaticPropsType } from ""next""
-
-import { queries } from ""queries""
-import { Layout } from ""components/layout""
-import { CardFeatured } from ""components/card--featured""
-import { Card } from ""components/card""
-
-export default function IndexPage({
-  menu,
-  articles,
-}: InferGetStaticPropsType<typeof getStaticProps>) {
-  const [firstArticle, ...otherArticles] = articles
-
-  return (
-    <Layout menu={menu}>
-      <Head>
-        <title>Example Query</title>
-        <meta
-          key=""description""
-          name=""description""
-          content=""A Next.js site powered by a Drupal backend.""
-        />
-      </Head>
-      <div>
-        <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
-        {articles?.length ? (
-          <div className=""grid gap-8"">
-            <CardFeatured
-              title={firstArticle.title}
-              media={{
-                type: ""media--image"",
-                id: firstArticle.id,
-                url: firstArticle.image.url,
-                alt: firstArticle.image.alt,
-                width: 900,
-                height: 450,
-              }}
-              url={firstArticle.url}
-            />
-            <div className=""grid gap-8 sm:grid-cols-2"">
-              {otherArticles.map((article, index) => (
-                <Card
-                  key={index}
-                  title={article.title}
-                  media={{
-                    type: ""media--image"",
-                    id: article.id,
-                    url: article.image.url,
-                    alt: article.image.alt,
-                    width: 430,
-                    height: 280,
-                  }}
-                  url={article.url}
-                />
-              ))}
-            </div>
-          </div>
-        ) : (
-          <p className=""py-4"">No articles found</p>
-        )}
-      </div>
-    </Layout>
-  )
-}
-
-export async function getStaticProps() {
-  return {
-    props: {
-      menu: await queries.getData(""menu"", { name: ""main"" }),
-      articles: await queries.getData(""list--articles--published""),
-    },
-  }
-}

---FILE: examples/example-query/postcss.config.js---
@@ -1,8 +0,0 @@
-// If you want to use other PostCSS plugins, see the following:
-// https://tailwindcss.com/docs/using-with-preprocessors
-module.exports = {
-  plugins: {
-    tailwindcss: {},
-    autoprefixer: {},
-  },
-}

---FILE: examples/example-query/public/robots.txt---
@@ -1,2 +0,0 @@
-User-agent: *
-Allow: /
\ No newline at end of file

---FILE: examples/example-query/queries/index.ts---
@@ -1,38 +0,0 @@
-import { createQueries } from ""next-drupal-query""
-
-import * as Menu from ""queries/menu""
-import * as NodeArticle from ""queries/node--article""
-import * as NodeArticleTeaser from ""queries/node--article--teaser""
-import * as NodePage from ""queries/node--page""
-import * as NodeLandingPage from ""queries/node--landing_page""
-import * as MediaImage from ""queries/media--image""
-import * as ParagraphColumns from ""queries/paragraph--columns""
-import * as ParagraphImage from ""queries/paragraph--image""
-import * as ParagraphText from ""queries/paragraph--text""
-import * as ParagraphCard from ""queries/paragraph--card""
-import * as ListArticlesPublished from ""queries/list--articles--published""
-import * as ListArticlesRelated from ""queries/list--articles--related""
-
-export const queries = createQueries({
-  // Menu
-  menu: Menu,
-
-  // Content
-  ""node--article"": NodeArticle,
-  ""node--article--teaser"": NodeArticleTeaser,
-  ""node--page"": NodePage,
-  ""node--landing_page"": NodeLandingPage,
-
-  // Media.
-  ""media--image"": MediaImage,
-
-  // Paragraphs.
-  ""paragraph--columns"": ParagraphColumns,
-  ""paragraph--image"": ParagraphImage,
-  ""paragraph--text"": ParagraphText,
-  ""paragraph--card"": ParagraphCard,
-
-  // Collections.
-  ""list--articles--published"": ListArticlesPublished,
-  ""list--articles--related"": ListArticlesRelated,
-})

---FILE: examples/example-query/queries/list--articles--published.ts---
@@ -1,40 +0,0 @@
-import {
-  QueryData,
-  QueryParams,
-  QueryOptsWithPagination,
-  withPagination,
-  QueryFormatter,
-} from ""next-drupal-query""
-
-import { ArticleTeaser } from ""types""
-import { DrupalNodeArticle } from ""types/drupal""
-import { drupal } from ""lib/drupal""
-import { queries } from ""queries""
-
-type ParamOpts = QueryOptsWithPagination<null>
-
-export const params: QueryParams<ParamOpts> = (opts) => {
-  const params = queries
-    .getParams(""node--article--teaser"")
-    .addFilter(""status"", ""1"")
-    .addSort(""created"", ""DESC"")
-
-  return withPagination(params, opts)
-}
-
-export const data: QueryData<ParamOpts, DrupalNodeArticle[]> = async (
-  opts
-): Promise<DrupalNodeArticle[]> => {
-  return await drupal.getResourceCollection<DrupalNodeArticle[]>(
-    ""node--article"",
-    {
-      params: params(opts).getQueryObject(),
-    }
-  )
-}
-
-export const formatter: QueryFormatter<DrupalNodeArticle[], ArticleTeaser[]> = (
-  nodes
-) => {
-  return nodes.map((node) => queries.formatData(""node--article--teaser"", node))
-}

---FILE: examples/example-query/queries/list--articles--related.ts---
@@ -1,59 +0,0 @@
-import {
-  QueryData,
-  QueryParams,
-  QueryOptsWithPagination,
-  withPagination,
-  QueryFormatter,
-  QueryOpts,
-} from ""next-drupal-query""
-
-import { ArticleRelated } from ""types""
-import { DrupalNodeArticle } from ""types/drupal""
-import { drupal } from ""lib/drupal""
-import { queries } from ""queries""
-
-type ParamOpts = QueryOptsWithPagination<{
-  excludeIds?: string[]
-}>
-
-export const params: QueryParams<ParamOpts> = (opts) => {
-  const params = queries
-    .getParams(""node--article"")
-    .addFields(""node--article"", [""title"", ""path""])
-    .addFilter(""status"", ""1"")
-    .addSort(""created"", ""DESC"")
-
-  if (opts.excludeIds) {
-    params.addFilter(""id"", opts.excludeIds, ""NOT IN"")
-  }
-
-  return withPagination(params, opts)
-}
-
-type DataOpts = QueryOpts<{
-  excludeIds?: string[]
-}>
-
-export const data: QueryData<DataOpts, DrupalNodeArticle[]> = async (
-  opts
-): Promise<DrupalNodeArticle[]> => {
-  return await drupal.getResourceCollectionFromContext<DrupalNodeArticle[]>(
-    ""node--article"",
-    opts.context,
-    {
-      params: params({ excludeIds: opts.excludeIds }).getQueryObject(),
-    }
-  )
-}
-
-export const formatter: QueryFormatter<
-  DrupalNodeArticle[],
-  ArticleRelated[]
-> = (nodes) => {
-  return nodes.map((node) => ({
-    type: ""article"",
-    id: node.id,
-    title: node.title,
-    url: node.path.alias,
-  }))
-}

---FILE: examples/example-query/queries/media--image.ts---
@@ -1,23 +0,0 @@
-import { QueryFormatter } from ""next-drupal-query""
-
-import { MediaImage } from ""types""
-import { DrupalMediaImage } from ""types/drupal""
-import { absoluteUrl } from ""lib/utils""
-
-export const formatter: QueryFormatter<
-  Partial<DrupalMediaImage>,
-  MediaImage
-> = (media) => {
-  if (!media?.field_media_image) {
-    return null
-  }
-
-  return {
-    type: ""media--image"",
-    id: media.id,
-    url: absoluteUrl(media.field_media_image.uri?.url),
-    alt: media.field_media_image.resourceIdObjMeta?.alt || null,
-    width: media.field_media_image.resourceIdObjMeta?.width || 500,
-    height: media.field_media_image.resourceIdObjMeta?.height || 500,
-  }
-}

---FILE: examples/example-query/queries/menu.ts---
@@ -1,46 +0,0 @@
-import {
-  QueryData,
-  QueryFormatter,
-  QueryOpts,
-  QueryPlaceholderData,
-} from ""next-drupal-query""
-import { drupal } from ""lib/drupal""
-import { DrupalMenuLinkContent } from ""next-drupal""
-import { MenuLink } from ""types""
-
-type ParamOpts = QueryOpts<{
-  name: ""main"" | ""footer""
-}>
-
-export const data: QueryData<ParamOpts, DrupalMenuLinkContent[]> = async (
-  opts
-): Promise<DrupalMenuLinkContent[]> => {
-  const { items } = await drupal.getMenu(opts.name)
-
-  return items
-}
-
-export const formatter: QueryFormatter<DrupalMenuLinkContent[], MenuLink[]> = (
-  items
-) => {
-  return items.map((item) => ({
-    text: item.title,
-    url: item.url,
-  }))
-}
-
-export const placeholder: QueryPlaceholderData<
-  QueryOpts<{ title: string }>,
-  MenuLink[]
-> = async (opts) => {
-  return [
-    {
-      text: opts.title,
-      url: ""/about"",
-    },
-    {
-      text: ""Bar"",
-      url: ""/new"",
-    },
-  ]
-}

---FILE: examples/example-query/queries/node--article--teaser.ts---
@@ -1,29 +0,0 @@
-import { QueryFormatter, QueryParams } from ""next-drupal-query""
-
-import { ArticleTeaser } from ""types""
-import { DrupalNodeArticle } from ""types/drupal""
-import { absoluteUrl, formatDate } from ""lib/utils""
-import { queries } from ""queries""
-
-export const params: QueryParams<null> = () => {
-  return queries
-    .getParams()
-    .addInclude([""field_image""])
-    .addFields(""node--article"", [""title"", ""path"", ""created"", ""field_image""])
-}
-
-export const formatter: QueryFormatter<DrupalNodeArticle, ArticleTeaser> = (
-  node
-) => {
-  return {
-    type: ""article"",
-    id: node.id,
-    title: node.title,
-    url: node.path.alias,
-    date: formatDate(node.created),
-    image: {
-      url: absoluteUrl(node.field_image.uri.url),
-      alt: node.field_image.resourceIdObjMeta.alt,
-    },
-  }
-}

---FILE: examples/example-query/queries/node--article.ts---
@@ -1,66 +0,0 @@
-import {
-  QueryData,
-  QueryFormatter,
-  QueryOpts,
-  QueryParams,
-} from ""next-drupal-query""
-
-import { Article, ArticleRelated } from ""types""
-import { DrupalNodeArticle } from ""types/drupal""
-import { drupal } from ""lib/drupal""
-import { queries } from ""queries""
-import { absoluteUrl, formatDate } from ""lib/utils""
-import { DrupalTranslatedPath } from ""next-drupal""
-
-export const params: QueryParams<null> = () => {
-  return queries.getParams().addInclude([""field_image"", ""uid""])
-}
-
-type DataOpts = QueryOpts<{
-  path: DrupalTranslatedPath
-  id: string
-}>
-
-type NodeArticleData = {
-  node: DrupalNodeArticle
-  relatedArticles: ArticleRelated[]
-}
-
-export const data: QueryData<DataOpts, NodeArticleData> = async (opts) => {
-  return {
-    node: await drupal.getResourceFromContext<DrupalNodeArticle>(
-      opts.path,
-      opts.context,
-      {
-        params: params().getQueryObject(),
-      }
-    ),
-    relatedArticles: await queries.getData(""list--articles--related"", {
-      context: opts.context,
-      excludeIds: [opts?.id],
-      page: 0,
-      limit: 3,
-    }),
-  }
-}
-
-export const formatter: QueryFormatter<NodeArticleData, Article> = ({
-  node,
-  relatedArticles,
-}) => {
-  return {
-    type: ""article"",
-    id: node.id,
-    title: node.title,
-    status: node.status,
-    author: node.uid.display_name,
-    date: formatDate(node.created),
-    url: node.path.alias,
-    image: {
-      url: absoluteUrl(node.field_image.uri.url),
-      alt: node.field_image.resourceIdObjMeta.alt,
-    },
-    body: node.body?.processed,
-    relatedArticles,
-  }
-}

---FILE: examples/example-query/queries/node--landing_page.ts---
@@ -1,54 +0,0 @@
-import {
-  QueryData,
-  QueryFormatter,
-  QueryOpts,
-  QueryParams,
-} from ""next-drupal-query""
-import { DrupalTranslatedPath } from ""next-drupal""
-
-import { LandingPage } from ""types""
-import { drupal } from ""lib/drupal""
-import { queries } from ""queries""
-import { DrupalNodeLandingPage } from ""types/drupal""
-
-export const params: QueryParams<null> = () => {
-  return queries
-    .getParams()
-    .addInclude([
-      ""field_sections.field_items.field_media.field_media_image"",
-      ""field_sections.field_items.field_items.field_media.field_media_image"",
-      ""field_sections.field_items.field_items.field_items.field_media.field_media_image"",
-    ])
-    .addFields(""file--file"", [""uri"", ""resourceIdObjMeta""])
-}
-
-type DataOpts = QueryOpts<{
-  path: DrupalTranslatedPath
-  id: string
-}>
-
-export const data: QueryData<DataOpts, DrupalNodeLandingPage> = async (
-  opts
-) => {
-  return await drupal.getResourceFromContext<DrupalNodeLandingPage>(
-    opts.path,
-    opts.context,
-    {
-      params: params().getQueryObject(),
-    }
-  )
-}
-
-export const formatter: QueryFormatter<DrupalNodeLandingPage, LandingPage> = (
-  node
-) => {
-  return {
-    id: node.id,
-    type: ""landing-page"",
-    title: node.title,
-    status: node.status,
-    sections: node.field_sections.map((paragraph) =>
-      queries.formatData(paragraph.type, paragraph)
-    ),
-  }
-}

---FILE: examples/example-query/queries/node--page.ts---
@@ -1,45 +0,0 @@
-import {
-  QueryData,
-  QueryFormatter,
-  QueryOpts,
-  QueryParams,
-} from ""next-drupal-query""
-import { DrupalTranslatedPath } from ""next-drupal""
-
-import { Page } from ""types""
-import { DrupalNodePage } from ""types/drupal""
-import { drupal } from ""lib/drupal""
-import { queries } from ""queries""
-
-export const params: QueryParams<null> = () => {
-  return queries
-    .getParams()
-    .addFields(""node--page"", [""title"", ""body"", ""status""])
-}
-
-type DataOpts = QueryOpts<{
-  path: DrupalTranslatedPath
-  id: string
-}>
-
-export const data: QueryData<DataOpts, DrupalNodePage> = async (
-  opts
-): Promise<DrupalNodePage> => {
-  return await drupal.getResourceFromContext<DrupalNodePage>(
-    opts.path,
-    opts.context,
-    {
-      params: params().getQueryObject(),
-    }
-  )
-}
-
-export const formatter: QueryFormatter<DrupalNodePage, Page> = (node) => {
-  return {
-    type: ""page"",
-    id: node.id,
-    status: node.status,
-    title: node.title,
-    content: node.body?.processed,
-  }
-}

---FILE: examples/example-query/queries/paragraph--card.ts---
@@ -1,18 +0,0 @@
-import { QueryFormatter } from ""next-drupal-query""
-
-import { SectionCard } from ""types""
-import { queries } from ""queries""
-import { DrupalParagraphCard } from ""types/drupal""
-
-export const formatter: QueryFormatter<
-  Partial<DrupalParagraphCard>,
-  SectionCard
-> = (paragraph) => {
-  return {
-    type: ""section--card"",
-    id: paragraph.id,
-    heading: paragraph.field_heading,
-    text: paragraph.field_text.processed,
-    image: queries.formatData(""media--image"", paragraph.field_media),
-  }
-}

---FILE: examples/example-query/queries/paragraph--columns.ts---
@@ -1,19 +0,0 @@
-import { QueryFormatter } from ""next-drupal-query""
-import { queries } from ""queries""
-import { SectionColumns } from ""types""
-import { DrupalParagraphColumns } from ""types/drupal""
-
-export const formatter: QueryFormatter<
-  Partial<DrupalParagraphColumns>,
-  SectionColumns
-> = (paragraph): SectionColumns => {
-  return {
-    type: ""section--columns"",
-    id: paragraph.id,
-    heading: paragraph.field_heading,
-    columns: paragraph.field_columns,
-    sections: paragraph.field_items.map((item) =>
-      queries.formatData(item.type, item)
-    ),
-  }
-}

---FILE: examples/example-query/queries/paragraph--image.ts---
@@ -1,16 +0,0 @@
-import { QueryFormatter } from ""next-drupal-query""
-
-import { queries } from ""queries""
-import { SectionImage } from ""types""
-import { DrupalParagraphImage } from ""types/drupal""
-
-export const formatter: QueryFormatter<
-  Partial<DrupalParagraphImage>,
-  SectionImage
-> = (paragraph): SectionImage => {
-  return {
-    type: ""section--image"",
-    id: paragraph.id,
-    image: queries.formatData(""media--image"", paragraph.field_media),
-  }
-}

---FILE: examples/example-query/queries/paragraph--text.ts---
@@ -1,15 +0,0 @@
-import { QueryFormatter } from ""next-drupal-query""
-
-import { SectionText } from ""types""
-import { DrupalParagraphText } from ""types/drupal""
-
-export const formatter: QueryFormatter<
-  Partial<DrupalParagraphText>,
-  SectionText
-> = (paragraph) => {
-  return {
-    type: ""section--text"",
-    id: paragraph.id,
-    text: paragraph.field_text?.processed,
-  }
-}

---FILE: examples/example-query/styles/globals.css---
@@ -1,3 +0,0 @@
-@tailwind base;
-@tailwind components;
-@tailwind utilities;

---FILE: examples/example-query/tailwind.config.js---
@@ -1,14 +0,0 @@
-module.exports = {
-  mode: ""jit"",
-  content: [
-    ""./pages/**/*.{js,ts,jsx,tsx}"",
-    ""./components/**/*.{js,ts,jsx,tsx}"",
-  ],
-  theme: {
-    extend: {},
-  },
-  variants: {
-    extend: {},
-  },
-  plugins: [require(""@tailwindcss/typography"")],
-}

---FILE: examples/example-query/tsconfig.json---
@@ -1,26 +0,0 @@
-{
-  ""compilerOptions"": {
-    ""target"": ""es5"",
-    ""lib"": [""dom"", ""dom.iterable"", ""esnext""],
-    ""allowJs"": true,
-    ""skipLibCheck"": true,
-    ""strict"": false,
-    ""forceConsistentCasingInFileNames"": true,
-    ""noEmit"": true,
-    ""esModuleInterop"": true,
-    ""module"": ""esnext"",
-    ""moduleResolution"": ""node"",
-    ""resolveJsonModule"": true,
-    ""isolatedModules"": true,
-    ""jsx"": ""preserve"",
-    ""baseUrl"": ""./"",
-    ""incremental"": true,
-    ""paths"": {
-      ""components/*"": [""components/*""],
-      ""hooks/*"": [""hooks/*""],
-      ""lib/*"": [""lib/*""]
-    }
-  },
-  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
-  ""exclude"": [""node_modules""]
-}

---FILE: examples/example-query/types/drupal/base.ts---
@@ -1,31 +0,0 @@
-import { DrupalFileMeta } from ""next-drupal""
-
-/**
- * The JsonApiResource shipped in next-drupal allows any field to set on a type.
- *
- * This is by designed. We want next-drupal to support all field types out of the box
- * without having to manually define field.s
- *
- * In this example, however, we want to demo how a fully-typed system would look like.
- *
- * Instead of extending JsonApiResource from next-drupal, we define our own.
- */
-export interface DrupalJsonApiResource {
-  id: string
-  type: string
-  langcode: string
-  status: boolean
-}
-
-export interface DrupalFile extends DrupalJsonApiResource {
-  changed: string
-  created: string
-  filename: string
-  uri: {
-    value: string
-    url: string
-  }
-  filesize: number
-  filemime: string
-  resourceIdObjMeta?: DrupalFileMeta
-}

---FILE: examples/example-query/types/drupal/field.ts---
@@ -1,14 +0,0 @@
-type FieldCardinality = ""limited"" | ""unlimited""
-
-export interface FieldTextFormatted {
-  value: string
-  processed: string
-  format: string
-}
-
-export type FieldEntityReference<
-  Types,
-  Cardinality extends FieldCardinality = ""limited"",
-> = Cardinality extends ""unlimited"" ? Array<Partial<Types>> : Partial<Types>
-
-export type FieldList<List> = keyof List

---FILE: examples/example-query/types/drupal/index.ts---
@@ -1,6 +0,0 @@
-export * from ""./base""
-export * from ""./field""
-export * from ""./media""
-export * from ""./user""
-export * from ""./node""
-export * from ""./paragraph""

---FILE: examples/example-query/types/drupal/media.ts---
@@ -1,15 +0,0 @@
-import { DrupalFile, DrupalJsonApiResource } from ""./base""
-import { FieldEntityReference } from ""./field""
-
-export interface DrupalMedia extends DrupalJsonApiResource {
-  drupal_internal__mid: string
-  drupal_internal__vid: string
-  changed: string
-  created: string
-  name: string
-}
-
-export interface DrupalMediaImage extends DrupalMedia {
-  type: ""media--image""
-  field_media_image: FieldEntityReference<DrupalFile>
-}

---FILE: examples/example-query/types/drupal/node.ts---
@@ -1,39 +0,0 @@
-import { PathAlias } from ""next-drupal""
-
-import { DrupalFile, DrupalJsonApiResource } from ""./base""
-import { FieldEntityReference, FieldTextFormatted } from ""./field""
-import {
-  DrupalParagraphCard,
-  DrupalParagraphColumns,
-  DrupalParagraphImage,
-  DrupalParagraphText,
-} from ""./paragraph""
-import { DrupalUser } from ""./user""
-
-export interface DrupalNode extends DrupalJsonApiResource {
-  title: string
-  changed: string
-  created: string
-  path?: PathAlias
-}
-
-export interface DrupalNodeArticle extends DrupalNode {
-  type: ""node--article""
-  body: FieldTextFormatted
-  field_image: FieldEntityReference<DrupalFile>
-  uid: FieldEntityReference<DrupalUser>
-}
-
-export interface DrupalNodePage extends DrupalNode {
-  body: FieldTextFormatted
-}
-
-export interface DrupalNodeLandingPage extends DrupalNode {
-  field_sections: FieldEntityReference<
-    | DrupalParagraphColumns
-    | DrupalParagraphCard
-    | DrupalParagraphImage
-    | DrupalParagraphText,
-    ""unlimited""
-  >
-}

---FILE: examples/example-query/types/drupal/paragraph.ts---
@@ -1,49 +0,0 @@
-import { DrupalJsonApiResource } from ""./base""
-import { FieldEntityReference, FieldList, FieldTextFormatted } from ""./field""
-import { DrupalMediaImage } from ""./media""
-
-export const fieldColumnTypes = {
-  ""25-75"": ""25-75"",
-  ""50-50"": ""50-50"",
-  ""33-33-33"": ""33-33-33"",
-  ""75-25"": ""75-25"",
-} as const
-
-export type ParagrapTypes = Pick<
-  | DrupalParagraphColumns
-  | DrupalParagraphCard
-  | DrupalParagraphImage
-  | DrupalParagraphText,
-  ""type""
->[""type""]
-
-export interface DrupalParagraph extends DrupalJsonApiResource {
-  type: ParagrapTypes
-}
-
-export interface DrupalParagraphColumns extends DrupalParagraph {
-  type: ""paragraph--columns""
-  field_heading: string
-  field_columns: FieldList<typeof fieldColumnTypes>
-  field_items: FieldEntityReference<
-    DrupalParagraphCard | DrupalParagraphImage | DrupalParagraphText,
-    ""unlimited""
-  >
-}
-
-export interface DrupalParagraphCard extends DrupalParagraph {
-  type: ""paragraph--card""
-  field_heading: string
-  field_text: FieldTextFormatted
-  field_media: FieldEntityReference<DrupalMediaImage>
-}
-
-export interface DrupalParagraphImage extends DrupalParagraph {
-  type: ""paragraph--image""
-  field_media: FieldEntityReference<DrupalMediaImage>
-}
-
-export interface DrupalParagraphText extends DrupalParagraph {
-  type: ""paragraph--text""
-  field_text: FieldTextFormatted
-}

---FILE: examples/example-query/types/drupal/user.ts---
@@ -1,13 +0,0 @@
-import { PathAlias } from ""next-drupal""
-
-import { DrupalJsonApiResource } from ""./base""
-
-export interface DrupalUser extends DrupalJsonApiResource {
-  type: ""user--user""
-  display_name: string
-  name: string
-  mail: string
-  created: string
-  changed: string
-  path?: PathAlias
-}

---FILE: examples/example-query/types/index.ts---
@@ -1,88 +0,0 @@
-import { fieldColumnTypes } from ""./drupal""
-
-export type MenuLink = {
-  url: string
-  text: string
-}
-
-export type Resource = LandingPage | Article | Page
-
-export type Page = {
-  type: ""page""
-  id: string
-  title: string
-  content: string
-}
-
-export type LandingPage = {
-  type: ""landing-page""
-  id: string
-  title: string
-  sections: Section[]
-}
-
-export type Article = {
-  id: string
-  type: ""article""
-  status: boolean
-  url: string
-  title: string
-  author: string
-  date: string
-  image: {
-    url: string
-    alt: string
-  }
-  body: string
-  relatedArticles: ArticleRelated[]
-}
-
-export type ArticleTeaser = Pick<
-  Article,
-  ""type"" | ""id"" | ""title"" | ""image"" | ""date"" | ""url""
->
-
-export type ArticleRelated = Pick<Article, ""id"" | ""type"" | ""title""> & {
-  url: string
-}
-
-export type Section = SectionColumns | SectionImage | SectionText | SectionCard
-
-export type SectionType = Section[""type""]
-
-export type SectionColumns = {
-  type: ""section--columns""
-  id: string
-  heading: string
-  columns: keyof typeof fieldColumnTypes
-  sections: Section[]
-}
-
-export type SectionImage = {
-  type: ""section--image""
-  id: string
-  image: MediaImage
-}
-
-export type SectionText = {
-  type: ""section--text""
-  id: string
-  text: string
-}
-
-export type SectionCard = {
-  type: ""section--card""
-  id: string
-  heading: string
-  image: MediaImage
-  text: string
-}
-
-export type MediaImage = {
-  type: ""media--image""
-  id: string
-  url: string
-  alt: string
-  width?: number
-  height?: number
-}

---FILE: package.json---
@@ -26,7 +26,7 @@
     ""sync:starters:release"": ""./scripts/sync-repo.sh canary,main git@github.com:chapter-three/next-drupal- \""starters/*\"""",
     ""seed"": ""NUM_NODES=200 node ./scripts/seed"",
     ""cy:open"": ""turbo run cy:open --parallel"",
-    ""test"": ""yarn workspace next-drupal test && yarn workspace next-drupal-query test"",
+    ""test"": ""yarn workspace next-drupal test"",
     ""pretest"": ""yarn format:check && yarn lint"",
     ""test:e2e"": ""turbo run test:e2e --parallel"",
     ""test:e2e:ci"": ""turbo run test:e2e:ci --parallel""

---FILE: packages/next-drupal-query/.npmignore---
@@ -1,3 +0,0 @@
-/coverage
-/CHANGELOG.md
-/tests

---FILE: packages/next-drupal-query/CHANGELOG.md---
@@ -1,63 +0,0 @@
-# Change Log
-
-All notable changes to this project will be documented in this file.
-See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.
-
-# [0.5.0-alpha.0](https://github.com/chapter-three/next-drupal/compare/next-drupal-query@0.4.0...next-drupal-query@0.5.0-alpha.0) (2024-01-05)
-
-
-### Features
-
-* **next-drupal:** add Next.js v14 support ([32a5a0a](https://github.com/chapter-three/next-drupal/commit/32a5a0a582c5faa93f8ac1a9633a89c60f5fd627)), closes [#578](https://github.com/chapter-three/next-drupal/issues/578)
-
-
-
-
-
-# [0.4.0](https://github.com/chapter-three/next-drupal/compare/next-drupal-query@0.3.0...next-drupal-query@0.4.0) (2022-12-06)
-
-**Note:** Version bump only for package next-drupal-query
-
-
-
-
-
-# [0.3.0](https://github.com/chapter-three/next-drupal/compare/next-drupal-query@0.2.1...next-drupal-query@0.3.0) (2022-08-11)
-
-
-### Features
-
-* **next-drupal-query:** implement placeholder data for queries ([b41a2d6](https://github.com/chapter-three/next-drupal/commit/b41a2d6cc990504be66c44cda92def5eef7bc867))
-
-
-
-
-
-## [0.2.1](https://github.com/chapter-three/next-drupal/compare/next-drupal-query@0.2.0...next-drupal-query@0.2.1) (2022-08-09)
-
-**Note:** Version bump only for package next-drupal-query
-
-
-
-
-
-# 0.2.0 (2022-08-09)
-
-
-### Features
-
-* **@next-drupal/query:** add support for data formatters ([b1bab0d](https://github.com/chapter-three/next-drupal/commit/b1bab0d44bc7899299a6f7321dc75ae699bf54f5))
-* **@next-drupal/query:** update type docs ([3851197](https://github.com/chapter-three/next-drupal/commit/3851197251d8240f7102f8781ce66ee815e3aa5f))
-* add next-drupal-query ([627888e](https://github.com/chapter-three/next-drupal/commit/627888ec06138344893385c7b270f79d29822c1a))
-
-
-
-
-
-# 0.1.0 (2022-07-29)
-
-
-### Features
-
-* **next-drupal-query:** update type docs ([3851197](https://github.com/chapter-three/next-drupal/commit/3851197251d8240f7102f8781ce66ee815e3aa5f))
-* add next-drupal-query ([627888e](https://github.com/chapter-three/next-drupal/commit/627888ec06138344893385c7b270f79d29822c1a))

---FILE: packages/next-drupal-query/README.md---
@@ -1,3 +0,0 @@
-# next-drupal-query
-
-Intentionally blank page - @shadcn

---FILE: packages/next-drupal-query/jest.config.cjs---
@@ -1,29 +0,0 @@
-/** @type {import('ts-jest').JestConfigWithTsJest} */
-module.exports = {
-  preset: ""ts-jest/presets/js-with-ts"",
-  testEnvironment: ""node"",
-  setupFiles: [""dotenv/config""],
-  setupFilesAfterEnv: [""<rootDir>/jest.setup.ts""],
-  testMatch: [""**/tests/**/*.test.{ts,tsx}""],
-  transform: {
-    ""^.+\\.tsx?$"": [
-      ""ts-jest"",
-      {
-        isolatedModules: true,
-      },
-    ],
-  },
-  testLocationInResults: true,
-  coverageProvider: ""v8"",
-  collectCoverage: true,
-  collectCoverageFrom: [""./src/**""],
-  coverageReporters: [""lcov"", ""text"", ""text-summary""],
-  coverageThreshold: {
-    global: {
-      statements: 84.22,
-      branches: 64.1,
-      functions: 70,
-      lines: 84.22,
-    },
-  },
-}

---FILE: packages/next-drupal-query/jest.setup.ts---
@@ -1 +0,0 @@
-import ""isomorphic-fetch""

---FILE: packages/next-drupal-query/package.json---
@@ -1,60 +0,0 @@
-{
-  ""name"": ""next-drupal-query"",
-  ""description"": ""Query helpers for structuring large Next.js and Drupal projects."",
-  ""version"": ""0.5.0-alpha.0"",
-  ""sideEffects"": false,
-  ""source"": ""src/index.ts"",
-  ""type"": ""module"",
-  ""main"": ""dist/index.cjs"",
-  ""module"": ""dist/index.js"",
-  ""types"": ""dist/index.d.ts"",
-  ""exports"": {
-    ""."": {
-      ""import"": {
-        ""types"": ""./dist/index.d.ts"",
-        ""default"": ""./dist/index.js""
-      },
-      ""require"": {
-        ""types"": ""./dist/index.d.cts"",
-        ""default"": ""./dist/index.cjs""
-      }
-    }
-  },
-  ""license"": ""MIT"",
-  ""publishConfig"": {
-    ""access"": ""public""
-  },
-  ""author"": {
-    ""name"": ""shadcn"",
-    ""url"": ""https://twitter.com/shadcn""
-  },
-  ""scripts"": {
-    ""prepare"": ""tsup"",
-    ""dev"": ""tsup --watch"",
-    ""test"": ""jest --verbose""
-  },
-  ""keywords"": [
-    ""next.js"",
-    ""drupal"",
-    ""jsonapi"",
-    ""preview""
-  ],
-  ""bugs"": {
-    ""url"": ""https://github.com/chapter-three/next-drupal/issues""
-  },
-  ""homepage"": ""https://github.com/chapter-three/next-drupal"",
-  ""repository"": {
-    ""type"": ""git"",
-    ""url"": ""https://github.com/chapter-three/next-drupal.git"",
-    ""directory"": ""packages/next-drupal-query""
-  },
-  ""devDependencies"": {
-    ""type-fest"": ""^4.8.1"",
-    ""typescript"": ""^5.2.2""
-  },
-  ""dependencies"": {
-    ""deepmerge"": ""^4.3.1"",
-    ""drupal-jsonapi-params"": ""^2.3.1"",
-    ""next"": ""^12.2.3 || ^13 || ^14""
-  }
-}

---FILE: packages/next-drupal-query/src/index.ts---
@@ -1,450 +0,0 @@
-import deepmerge from ""deepmerge""
-import { DrupalJsonApiParams } from ""drupal-jsonapi-params""
-import type { GetServerSidePropsContext, GetStaticPathsContext } from ""next""
-import type { RequireAllOrNone, ConditionalKeys } from ""type-fest""
-
-// Note: some generic are explicitly not typed here to force definition.
-
-const paramBuilder = new DrupalJsonApiParams()
-
-type ViewWithFilters<Items, Filters = null, Options = null> = {
-  id: string
-  items?: Items
-  filters?: Filters
-  nextPage?: number
-  opts?: QueryOptsWithPagination<Options>
-}
-
-/**
- * @template Items The items type for this view.
- * @template Filters The filters type for the view. Use `null` for no filters.
- *
- * @example
- * type ViewWithFilters = View<DrupalNode[], { from: number, to: number }>
- * type ViewWithoutFilters = View<DrupalTaxonomyTerm[], null>
- */
-export type View<Items, Filters = null, Options = null> = Filters extends null
-  ? Omit<ViewWithFilters<Items, Filters, Options>, ""filters"">
-  : ViewWithFilters<Items, Filters, Options>
-
-type QueryOptsPaginated = RequireAllOrNone<
-  {
-    page: number
-    limit: number
-  },
-  ""page"" | ""limit""
-> & {
-  context?: GetServerSidePropsContext
-}
-
-/**
- * Use this type helper to define options for query params.
- *
- * @template Options The type definition for the options. Use null if no additional options.
- *
- * @example
- * type ParamOpts = QueryOpts<{
- *    id: string
- * }>
- *
- * export const params: QueryParams<ParamOpts> = (opts) => {}
- */
-export type QueryOpts<Options> = Options & {
-  context?: GetStaticPathsContext | GetServerSidePropsContext
-}
-
-/**
- * Use this type helper to define **paginated** options for query params.
- *
- * @template Options The type definition for the options. Use null if no additional options.
- *
- * @example
- * type ParamOpts = PaginatedQueryParamsOpts<{ type: string }>
- *
- * export const params: QueryParams<ParamOpts> = () => {}
- */
-export type QueryOptsWithPagination<Options> = Options extends null
-  ? QueryOptsPaginated
-  : Options & QueryOptsPaginated
-
-/**
- * Use this type helper to define options for query params.
- *
- * @template Options The type definition for the options. Use null if no additional options.
- *
- * @example
- *
- * type ParamOpts = QueryOpts<{
- *   sortBy: string
- *   sortOrder: ""ASC"" | ""DESC""
- * }>
- *
- * export const params: QueryParams<ParamOpts> = (opts) => {
- *   return queries.getParams()
- *     .addFields(""node--article"", [""title"", ""path"", ""status""])
- *     .addSort(opts.sortBy, opts.sortOrder)
- * }
- */
-export type QueryParams<Options> = (opts?: Options) => DrupalJsonApiParams
-
-/**
- * Use this type helper to define options and return type for query data.
- *
- * @template Options The type definition for the options. Use null if no additional options.
- * @template Return The return type for the data loader.
- *
- * @example
- *
- * type DataOpts = QueryOpts<{
- *   id: string
- * }>
- *
- * type DrupalNodeArticle = {
- *   id: string
- *   title: string
- *   field_author: string
- * }
- *
- * export const data: QueryData<ParamOpts, DrupalNodeArticle> = async (opts): Promise<DrupalNodeArticle> => {
- *   return await drupal.getResource<DrupalNodeArticle>(""node--article"", opts.id)
- * }
- */
-export type QueryData<Options, Return> = (opts?: Options) => Promise<Return>
-
-/**
- * Use this type helper to define placeholder data for a query..
- *
- * @template Options The type definition for the options. Use null if no additional options.
- * @template Return The return type for the placeholder data.
- *
- * @example
- *
- * type DataOpts = QueryOpts<{
- *   id: string
- * }>
- *
- * type Article = {
- *   id: string
- *   title: string
- *   author: string
- * }
- *
- * export const placeholder: QueryPlaceholderData<ParamOpts, Article> = async (opts): Promise<DrupalNodeArticle> => {
- *   return {
- *     id: opts.id,
- *     title: faker.lorem.sentence(),
- *     author: faker.name.fullName()
- *   }
- * }
- */
-export type QueryPlaceholderData<Options, Return> = (
-  opts?: Options
-) => Promise<Return>
-
-/**
- * Use this type helper to define a query formatter. A formatter takes in input and outputs formatted data.
- *
- * @template Input The type definition for the input.
- * @template Output The type definition for the output.
- *
- * @example
- *
- * type DrupalNodeArticle = {
- *   id: string
- *   title: string
- *   field_author: string
- * }
- *
- * type Article = {
- *   id: string
- *   title: string
- *   author: string
- * }
- *
- * // This formatter accepts a `DrupalNodeArticle` and outputs an `Article`.
- * export const formatter: QueryFormatter<DrupalNodeArticle, Article> = (node): Article => {
- *   return {
- *     id: node.id,
- *     title: node.title,
- *     author: node.field_author
- *   }
- * }
- */
-export type QueryFormatter<Input, Output> = (input: Input) => Output
-
-type Queries<Q> = Record<
-  keyof Q,
-  {
-    params?: (opts: unknown) => DrupalJsonApiParams
-    data?: (opts: unknown) => unknown
-    placeholder?: (opts: unknown) => unknown
-    formatter?: (input) => unknown
-  }
->
-
-type QueryTypeOf<
-  Q extends Queries<Q>,
-  T extends keyof Q,
-  F extends ""params"" | ""data"" | ""formatter"" | ""placeholder"",
-> = Q[T][F]
-
-// type QueryId<Q = null> = keyof Q
-
-type QueryParamsOpts<Q extends Queries<Q>, T extends keyof Q> = Parameters<
-  QueryTypeOf<Q, T, ""params"">
->[0]
-
-type QueryDataOpts<Q extends Queries<Q>, T extends keyof Q> = Parameters<
-  Q[T][""data""]
->[0]
-
-type QueryPlaceholderDataOpts<
-  Q extends Queries<Q>,
-  T extends keyof Q,
-> = Parameters<Q[T][""placeholder""]>[0]
-
-type QueryFormatterInput<Q extends Queries<Q>, T extends keyof Q> = Parameters<
-  Q[T][""formatter""]
->[0]
-
-type QueryDataReturn<Q extends Queries<Q>, T extends keyof Q> = ReturnType<
-  QueryTypeOf<Q, T, ""data"">
->
-
-type QueryPlaceholderDataReturn<
-  Q extends Queries<Q>,
-  T extends keyof Q,
-> = ReturnType<QueryTypeOf<Q, T, ""placeholder"">>
-
-type QueryFormatterReturn<Q extends Queries<Q>, T extends keyof Q> = ReturnType<
-  QueryTypeOf<Q, T, ""formatter"">
->
-
-export function withPagination(
-  params: DrupalJsonApiParams,
-  opts: QueryOptsWithPagination<unknown>
-) {
-  if (!opts) {
-    return params
-  }
-
-  if (opts?.context?.query) {
-    opts = {
-      ...opts,
-      ...opts.context.query,
-    }
-  }
-
-  if (typeof opts.page !== ""undefined"" && typeof opts.limit !== ""undefined"") {
-    params.addPageLimit(opts.limit).addPageOffset(opts.page * opts.limit)
-  }
-
-  return params
-}
-
-export function massageRouteQuery(query) {
-  if (!query) {
-    return {}
-  }
-
-  // Remove slug keys from query.
-  Object.keys(query).forEach((key) => {
-    if (key.startsWith(""slug"")) {
-      delete query[key]
-    }
-  })
-
-  if (query?.page) {
-    query.page = parseInt(`${query.page}`)
-  }
-
-  if (query?.limit) {
-    query.limit = parseInt(`${query.limit}`)
-  }
-
-  return query
-}
-
-export function createQueries<Q extends Readonly<Queries<Q>>>(queries: Q) {
-  const getRawData = async <
-    T extends ConditionalKeys<Q, { data }>,
-    O extends QueryDataOpts<Q, T>,
-  >(
-    id: T,
-    opts: O = null
-  ): Promise<QueryDataReturn<typeof queries, T>> => {
-    if (typeof window !== ""undefined"") {
-      throw new Error(
-        ""You should not call getQueryData on the client. This is a server-only call.""
-      )
-    }
-
-    const query = queries?.[id]
-
-    if (!query) {
-      throw new Error(`Query with id '${id as string}' not found.`)
-    }
-
-    if (!query[""data""]) {
-      throw new Error(`No data defined for query with id '${id as string}'.`)
-    }
-
-    opts = massageRouteQuery(opts)
-
-    if (
-      typeof query[""defaultOpts""] !== ""undefined"" &&
-      typeof opts !== ""undefined""
-    ) {
-      // eslint-disable-next-line @typescript-eslint/no-explicit-any
-      opts = deepmerge(query[""defaultOpts""], opts as any) as any
-    }
-
-    // eslint-disable-next-line @typescript-eslint/no-explicit-any
-    return (await query[""data""](opts as any)) as any
-  }
-
-  const getPlaceholderData = async <
-    T extends ConditionalKeys<Q, { data }>,
-    O extends QueryPlaceholderDataOpts<Q, T>,
-  >(
-    id: T,
-    opts: O = null
-  ): Promise<QueryPlaceholderDataReturn<typeof queries, T>> => {
-    if (typeof window !== ""undefined"") {
-      throw new Error(
-        ""You should not call getPlaceholderData on the client. This is a server-only call.""
-      )
-    }
-
-    const query = queries?.[id]
-
-    if (!query) {
-      throw new Error(`Query with id '${id as string}' not found.`)
-    }
-
-    // eslint-disable-next-line @typescript-eslint/no-explicit-any
-    return (await query[""placeholder""](opts as any)) as any
-  }
-
-  const formatData = <
-    T extends ConditionalKeys<Q, { formatter }>,
-    Input extends QueryFormatterInput<Q, T>,
-  >(
-    id: T,
-    input: Input
-  ): QueryFormatterReturn<typeof queries, T> => {
-    if (typeof window !== ""undefined"") {
-      throw new Error(
-        ""You should not call getQueryData on the client. This is a server-only call.""
-      )
-    }
-
-    const query = queries?.[id]
-
-    if (!query) {
-      throw new Error(`Query with id '${id as string}' not found.`)
-    }
-
-    if (!query[""formatter""]) {
-      throw new Error(
-        `No formatter defined for query with id '${id as string}'.`
-      )
-    }
-
-    // eslint-disable-next-line @typescript-eslint/no-explicit-any
-    return query[""formatter""](input) as any
-  }
-
-  async function getData<
-    T extends ConditionalKeys<Q, { formatter; data }>,
-    O extends QueryDataOpts<Q, T>,
-  >(id: T, opts?: O): Promise<QueryFormatterReturn<Q, T>>
-
-  async function getData<
-    T extends ConditionalKeys<Q, { data }>,
-    O extends QueryDataOpts<Q, T>,
-  >(id: T, opts?: O): Promise<QueryDataReturn<Q, T>>
-
-  async function getData<
-    T extends ConditionalKeys<Q, { placeholder }>,
-    O extends QueryPlaceholderDataOpts<Q, T>,
-  >(id: T, opts?: O): Promise<QueryPlaceholderDataReturn<Q, T>>
-
-  async function getData(id, opts = null) {
-    const query = queries?.[id]
-
-    if (!query) {
-      throw new Error(`Query with id '${id as string}' not found.`)
-    }
-
-    // Try to get the raw data if defined.
-    if (query[""data""]) {
-      const rawData = await getRawData(id, opts)
-
-      // Format the data using the query formatter.
-      return query[""formatter""] ? formatData(id, rawData) : rawData
-    }
-
-    // Otherwise fallback to placeholder.
-    if (query[""placeholder""]) {
-      return await getPlaceholderData(id, opts)
-    }
-
-    throw new Error(`No data or placeholder defined for query with id '${id}'.`)
-  }
-
-  return {
-    getDataIds: <T extends ConditionalKeys<Q, { data }>>(): T[] => {
-      const ids = []
-      for (const id in queries) {
-        if (typeof queries[id][""data""] !== ""undefined"") {
-          ids.push(id)
-        }
-      }
-      return ids
-    },
-    getIds: <T extends keyof Q>(): T[] => {
-      const ids = []
-      for (const id in queries) {
-        ids.push(id)
-      }
-      return ids
-    },
-    getParams: <
-      T extends ConditionalKeys<Q, { params }>,
-      O extends QueryParamsOpts<Q, T>,
-    >(
-      id: T = null,
-      opts: O = null
-    ) => {
-      if (typeof window !== ""undefined"") {
-        throw new Error(
-          ""You should not call getQueryParams on the client. This is a server-only call.""
-        )
-      }
-
-      if (!id) {
-        return paramBuilder.clear()
-      }
-
-      const query = queries?.[id]
-
-      if (!query) {
-        throw new Error(`Query with id '${id as string}' not found.`)
-      }
-
-      if (!query[""params""]) {
-        throw new Error(
-          `No params defined for query with id '${id as string}'.`
-        )
-      }
-
-      // eslint-disable-next-line @typescript-eslint/no-explicit-any
-      return query[""params""](opts as any)
-    },
-    getRawData,
-    getPlaceholderData,
-    getData,
-    formatData,
-  }
-}

---FILE: packages/next-drupal-query/tests/__snapshots__/index.test.ts.snap---
@@ -1,83 +0,0 @@
-// Jest Snapshot v1, https://goo.gl/fbAQLP
-
-exports[`formatData it formats data 1`] = `
-{
-  ""name"": ""First Last"",
-}
-`;
-
-exports[`getData it accepts data options 1`] = `
-{
-  ""author"": ""shadcn"",
-  ""id"": ""ID"",
-  ""title"": ""Title of Article"",
-  ""type"": ""node--article"",
-}
-`;
-
-exports[`getData it accepts placeholder options 1`] = `
-{
-  ""email"": ""name@example.com"",
-  ""name"": ""shadcn"",
-}
-`;
-
-exports[`getData it returns data for a query 1`] = `
-{
-  ""author"": ""shadcn"",
-  ""id"": ""id"",
-  ""title"": ""Title of Article"",
-  ""type"": ""node--article"",
-}
-`;
-
-exports[`getData it returns data when both data and placeholder is defined 1`] = `
-{
-  ""email"": ""foo@example.com"",
-}
-`;
-
-exports[`getData it returns formatted data if a formatter is defined 1`] = `
-{
-  ""email"": ""foo@example.com"",
-  ""name"": ""First Last"",
-}
-`;
-
-exports[`getData it returns placeholder data if a query does not define data 1`] = `
-{
-  ""name"": ""shadcn"",
-}
-`;
-
-exports[`getParams it accepts params options 1`] = `
-{
-  ""fields"": {
-    ""resource"": ""foo,bar"",
-  },
-  ""filter"": {},
-  ""include"": [],
-  ""sort"": [],
-}
-`;
-
-exports[`getParams it allows params to be nested 1`] = `
-{
-  ""fields"": {},
-  ""filter"": {},
-  ""include"": ""field_image,uid"",
-  ""page"": {
-    ""limit"": 10,
-  },
-  ""sort"": [],
-}
-`;
-
-exports[`getParams it returns params for a query 1`] = `
-{
-  ""fields"": {},
-  ""filter"": {},
-  ""include"": ""field_image,uid"",
-  ""sort"": [],
-}
-`;

---FILE: packages/next-drupal-query/tests/index.test.ts---
@@ -1,111 +0,0 @@
-// eslint-disable-next-line @typescript-eslint/ban-ts-comment
-// @ts-nocheck
-
-import { expect } from ""@jest/globals""
-
-import { queries } from ""./queries""
-
-describe(""getParams"", () => {
-  test(""it returns params for a query"", () => {
-    const params = queries.getParams(""params-only"")
-
-    expect(params.getQueryObject()).toMatchSnapshot()
-  })
-
-  test(""it accepts params options"", () => {
-    const params = queries.getParams(""params-with-opts"", {
-      fields: [""foo"", ""bar""],
-    })
-
-    expect(params.getQueryObject()).toMatchSnapshot()
-  })
-
-  test(""it allows params to be nested"", () => {
-    const params = queries.getParams(""params-nested"")
-
-    expect(params.getQueryObject()).toMatchSnapshot()
-  })
-
-  test(""it throws an error if query does not exist"", () => {
-    expect(() => queries.getParams(""does-not-exist"")).toThrow(
-      ""Query with id 'does-not-exist' not found.""
-    )
-  })
-
-  test(""it throws an error if query does not define params"", () => {
-    expect(() => queries.getParams(""data-only"")).toThrow(
-      ""No params defined for query with id 'data-only'.""
-    )
-  })
-})
-
-describe(""getData"", () => {
-  test(""it returns data for a query"", async () => {
-    const data = await queries.getData(""data-only"")
-
-    expect(data).toMatchSnapshot()
-  })
-
-  test(""it accepts data options"", async () => {
-    const data = await queries.getData(""data-with-opts"", { id: ""ID"" })
-
-    expect(data).toMatchSnapshot()
-  })
-
-  test(""it throws an error if query does not exist"", async () => {
-    await expect(queries.getData(""does-not-exist"")).rejects.toThrow(
-      ""Query with id 'does-not-exist' not found.""
-    )
-  })
-
-  test(""it throws an error if query does not define data"", async () => {
-    await expect(queries.getData(""params-only"")).rejects.toThrow(
-      ""No data or placeholder defined for query with id 'params-only'.""
-    )
-  })
-
-  test(""it does NOT throw error if a query does not define data but defines a placeholder"", async () => {
-    await expect(queries.getData(""placeholder-only"")).resolves.not.toThrow()
-  })
-
-  test(""it returns placeholder data if a query does not define data"", async () => {
-    const data = await queries.getData(""placeholder-only"")
-
-    expect(data).toMatchSnapshot()
-  })
-
-  test(""it accepts placeholder options"", async () => {
-    const data = await queries.getData(""placeholder-with-opts"", {
-      email: ""name@example.com"",
-    })
-
-    expect(data).toMatchSnapshot()
-  })
-
-  test(""it returns data when both data and placeholder is defined"", async () => {
-    const data = await queries.getData(""data-with-placeholder"", {
-      email: ""foo@example.com"",
-    })
-
-    expect(data).toMatchSnapshot()
-  })
-
-  test(""it returns formatted data if a formatter is defined"", async () => {
-    const data = await queries.getData(""data-with-formatter"", {
-      email: ""foo@example.com"",
-    })
-
-    expect(data).toMatchSnapshot()
-  })
-})
-
-describe(""formatData"", () => {
-  test(""it formats data"", () => {
-    expect(
-      queries.formatData(""formatter-only"", {
-        firstName: ""First"",
-        lastName: ""Last"",
-      })
-    ).toMatchSnapshot()
-  })
-})

---FILE: packages/next-drupal-query/tests/queries/data-only.ts---
@@ -1,20 +0,0 @@
-import { QueryData } from ""../../src""
-
-export type NodeArticle = {
-  id: string
-  type: ""node--article""
-  title: string
-  author: string
-}
-
-export const data: QueryData<
-  null,
-  NodeArticle
-> = async (): Promise<NodeArticle> => {
-  return {
-    type: ""node--article"",
-    id: ""id"",
-    title: ""Title of Article"",
-    author: ""shadcn"",
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/data-with-formatter.ts---
@@ -1,35 +0,0 @@
-import { QueryData, QueryFormatter, QueryOpts } from ""../../src""
-
-type ParamOpts = QueryOpts<{
-  email: string
-}>
-
-type RawUserData = {
-  firstName: string
-  lastName: string
-  email: string
-}
-
-export const data: QueryData<ParamOpts, RawUserData> = async (
-  opts
-): Promise<RawUserData> => {
-  return {
-    firstName: ""First"",
-    lastName: ""Last"",
-    email: opts?.email || ""n/a"",
-  }
-}
-
-type FormattedUserData = {
-  name: string
-  email: string
-}
-
-export const formatter: QueryFormatter<RawUserData, FormattedUserData> = (
-  input
-) => {
-  return {
-    name: `${input.firstName} ${input.lastName}`,
-    email: input.email,
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/data-with-opts.ts---
@@ -1,23 +0,0 @@
-import { QueryData, QueryOpts } from ""../../src""
-
-export type NodeArticle = {
-  id: string
-  type: ""node--article""
-  title: string
-  author: string
-}
-
-type DataOpts = QueryOpts<{
-  id: string
-}>
-
-export const data: QueryData<DataOpts, NodeArticle> = async (
-  opts
-): Promise<NodeArticle> => {
-  return {
-    type: ""node--article"",
-    id: opts?.id || ""2"",
-    title: ""Title of Article"",
-    author: ""shadcn"",
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/data-with-placeholder.ts---
@@ -1,25 +0,0 @@
-import { QueryData, QueryOpts, QueryPlaceholderData } from ""../../src""
-
-type ParamOpts = QueryOpts<{
-  email: string
-}>
-
-export const data: QueryData<ParamOpts, { email: string }> = async (
-  opts
-): Promise<{
-  email: string
-}> => {
-  return {
-    email: opts.email,
-  }
-}
-
-export const placeholder: QueryPlaceholderData<
-  ParamOpts,
-  { name: string; email: string }
-> = async (opts) => {
-  return {
-    name: ""placeholder"",
-    email: opts.email,
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/formatter-only.ts---
@@ -1,16 +0,0 @@
-import { QueryFormatter } from ""../../src""
-
-type Input = {
-  firstName: string
-  lastName: string
-}
-
-type Output = {
-  name: string
-}
-
-export const formatter: QueryFormatter<Input, Output> = (input) => {
-  return {
-    name: `${input.firstName} ${input.lastName}`,
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/index.ts---
@@ -1,25 +0,0 @@
-import * as ParamsOnly from ""./params-only""
-import * as ParamsWithOpts from ""./params-with-opts""
-import * as ParamsNested from ""./params-nested""
-import * as DataOnly from ""./data-only""
-import * as DataWithOpts from ""./data-with-opts""
-import * as PlaceholderOnly from ""./placeholder-only""
-import * as PlaceholderWithOpts from ""./placeholder-with-opts""
-import * as DataWithPlaceholder from ""./data-with-placeholder""
-import * as FormatterOnly from ""./formatter-only""
-import * as DataWithFormatter from ""./data-with-formatter""
-
-import { createQueries } from ""../../src""
-
-export const queries = createQueries({
-  ""params-only"": ParamsOnly,
-  ""params-with-opts"": ParamsWithOpts,
-  ""params-nested"": ParamsNested,
-  ""data-only"": DataOnly,
-  ""data-with-opts"": DataWithOpts,
-  ""placeholder-only"": PlaceholderOnly,
-  ""placeholder-with-opts"": PlaceholderWithOpts,
-  ""data-with-placeholder"": DataWithPlaceholder,
-  ""formatter-only"": FormatterOnly,
-  ""data-with-formatter"": DataWithFormatter,
-})

---FILE: packages/next-drupal-query/tests/queries/node--article.ts---
@@ -1,37 +0,0 @@
-import {
-  QueryData,
-  QueryOpts,
-  QueryOptsWithPagination,
-  QueryParams,
-} from ""../../src""
-import { queries } from "".""
-
-export type NodeArticle = {
-  id: string
-  type: ""node--article""
-  title: string
-  author: string
-}
-
-type ParamOpts = QueryOptsWithPagination<{
-  id: number
-}>
-
-export const params: QueryParams<ParamOpts> = (opts) => {
-  return queries.getParams().addInclude([""field_image"", ""uid""])
-}
-
-type DataOpts = QueryOpts<{
-  id: string
-}>
-
-export const data: QueryData<DataOpts, NodeArticle> = async (
-  opts
-): Promise<NodeArticle> => {
-  return {
-    type: ""node--article"",
-    id: ""id"",
-    title: ""Title of Article"",
-    author: ""shadcn"",
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/params-nested.ts---
@@ -1,6 +0,0 @@
-import { QueryParams } from ""../../src""
-import { queries } from "".""
-
-export const params: QueryParams<null> = () => {
-  return queries.getParams(""params-only"").addPageLimit(10)
-}

---FILE: packages/next-drupal-query/tests/queries/params-only.ts---
@@ -1,6 +0,0 @@
-import { QueryParams } from ""../../src""
-import { queries } from "".""
-
-export const params: QueryParams<null> = () => {
-  return queries.getParams().addInclude([""field_image"", ""uid""])
-}

---FILE: packages/next-drupal-query/tests/queries/params-with-opts.ts---
@@ -1,10 +0,0 @@
-import { QueryOpts, QueryParams } from ""../../src""
-import { queries } from "".""
-
-type ParamOpts = QueryOpts<{
-  fields: string[]
-}>
-
-export const params: QueryParams<ParamOpts> = (opts) => {
-  return queries.getParams().addFields(""resource"", opts.fields)
-}

---FILE: packages/next-drupal-query/tests/queries/placeholder-only.ts---
@@ -1,10 +0,0 @@
-import { QueryPlaceholderData } from ""../../src""
-
-export const placeholder: QueryPlaceholderData<
-  null,
-  { name: string }
-> = async () => {
-  return {
-    name: ""shadcn"",
-  }
-}

---FILE: packages/next-drupal-query/tests/queries/placeholder-with-opts.ts---
@@ -1,15 +0,0 @@
-import { QueryOpts, QueryPlaceholderData } from ""../../src""
-
-type ParamOpts = QueryOpts<{
-  email: string
-}>
-
-export const placeholder: QueryPlaceholderData<
-  ParamOpts,
-  { name: string; email: string }
-> = async (opts) => {
-  return {
-    name: ""shadcn"",
-    email: opts.email,
-  }
-}

---FILE: packages/next-drupal-query/tsup.config.ts---
@@ -1,14 +0,0 @@
-import { defineConfig } from ""tsup""
-
-export const tsup = defineConfig({
-  entry: [""src/index.ts""],
-  // Enable experimental code splitting support in CommonJS.
-  // splitting: true,
-  // Use Rollup for tree shaking.
-  // treeshake: true,
-  sourcemap: true,
-  clean: true,
-  format: [""esm"", ""cjs""],
-  dts: true,
-  cjsInterop: true,
-})

---FILE: yarn.lock---
@@ -4441,11 +4441,6 @@ clone@^1.0.2:
   resolved ""https://registry.yarnpkg.com/clone/-/clone-1.0.4.tgz#da309cc263df15994c688ca902179ca3c7cd7c7e""
   integrity sha512-JQHZ2QMW6l3aH/j6xCqQThY/9OH4D/9ls34cgkUBiEeocRTU04tHfKPBsUK1PqZCUQM7GiA0IIXJSuXHI64Kbg==
 
-clsx@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/clsx/-/clsx-1.2.1.tgz#0ddc4a20a549b59c93a4116bb26f5294ca17dc12""
-  integrity sha512-EcR6r5a8bj6pu3ycsa/E/cKVGuTgZJZdsyUYHOksG/UHIiKfjxzRxYJpyVBwYaQeOvghal9fcc4PidlgzugAQg==
-
 cluster-key-slot@^1.1.0:
   version ""1.1.2""
   resolved ""https://registry.yarnpkg.com/cluster-key-slot/-/cluster-key-slot-1.1.2.tgz#88ddaa46906e303b5de30d3153b7d9fe0a0c19ac""
@@ -5009,7 +5004,7 @@ deep-is@^0.1.3:
   resolved ""https://registry.yarnpkg.com/deep-is/-/deep-is-0.1.4.tgz#a6f2dce612fadd2ef1f519b73551f17e85199831""
   integrity sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==
 
-deepmerge@^4.2.2, deepmerge@^4.3.1:
+deepmerge@^4.2.2:
   version ""4.3.1""
   resolved ""https://registry.yarnpkg.com/deepmerge/-/deepmerge-4.3.1.tgz#44b5f2147cd3b00d4b56137685966f26fd25dd4a""
   integrity sha512-3sUqbMEc77XqpdNO7FRyRog+eW3ph+GYCbj+rK+uYyRMuwsVy0rMiVtPn+QJlKFvWP/1PYpapqYn0Me2knFn+A==
@@ -5221,7 +5216,7 @@ drupal-jsonapi-params@^1.2.2:
   dependencies:
     qs ""^6.10.0""
 
-drupal-jsonapi-params@^2.0.0, drupal-jsonapi-params@^2.1.0, drupal-jsonapi-params@^2.3.1:
+drupal-jsonapi-params@^2.0.0:
   version ""2.3.1""
   resolved ""https://registry.yarnpkg.com/drupal-jsonapi-params/-/drupal-jsonapi-params-2.3.1.tgz#7e91f9d7aa6b2b0793cf6b51fe19a5ffb9591278""
   integrity sha512-Isx6dudrFhORCl87OWHHO2LpQIAha5d6n7+/fwngsgcQs4PYeZcmTAA3pKUmvfyyFgCJ0N4fLAJQHyf4jtgiDA==
@@ -9412,16 +9407,6 @@ next-auth@^4.22.1:
     preact-render-to-string ""^5.1.19""
     uuid ""^8.3.2""
 
-next-drupal-query@^0.4.0:
-  version ""0.4.0""
-  resolved ""https://registry.yarnpkg.com/next-drupal-query/-/next-drupal-query-0.4.0.tgz#26def174b3449fd5365670c83f23f942cab8d845""
-  integrity sha512-05kDHr/I0OiwaXLQxhBHEZ1q6xIWYNSnli2TsiAgEtfmDo4K2mqGEnjPDUXzkXvtH/XfJ7y5hG83qydLKghiAA==
-  dependencies:
-    deepmerge ""^4.2.2""
-    drupal-jsonapi-params ""^2.1.0""
-    next ""^12.2.3 || ^13""
-    type-fest ""^2.17.0""
-
 next-drupal@^1.6.0:
   version ""1.6.0""
   resolved ""https://registry.yarnpkg.com/next-drupal/-/next-drupal-1.6.0.tgz#4bc14f73a5dc55763e461da696fc938da2bb6b67""
@@ -9484,7 +9469,7 @@ next-seo@^4.23.0:
   resolved ""https://registry.yarnpkg.com/next-seo/-/next-seo-4.29.0.tgz#d281e95ba47914117cc99e9e468599f0547d9b9b""
   integrity sha512-xmwzcz4uHaYJ8glbuhs6FSBQ7z3irmdPYdJJ5saWm72Uy3o+mPKGaPCXQetTCE6/xxVnpoDV4yFtFlEjUcljSg==
 
-""next@^12.2.0 || ^13"", ""next@^12.2.3 || ^13"":
+""next@^12.2.0 || ^13"":
   version ""13.5.6""
   resolved ""https://registry.yarnpkg.com/next/-/next-13.5.6.tgz#e964b5853272236c37ce0dd2c68302973cf010b1""
   integrity sha512-Y2wTcTbO4WwEsVb4A8VSnOsG1I9ok+h74q0ZdxkwM3EODqrs4pasq7O0iUxbcS9VtWMicG7f3+HAj0r1+NtKSw==
@@ -9533,7 +9518,7 @@ next@^12.2.3:
     ""@next/swc-win32-ia32-msvc"" ""12.3.4""
     ""@next/swc-win32-x64-msvc"" ""12.3.4""
 
-""next@^12.2.3 || ^13 || ^14"", ""next@^13.4 || ^14"", next@^14:
+""next@^13.4 || ^14"", next@^14:
   version ""14.1.0""
   resolved ""https://registry.yarnpkg.com/next/-/next-14.1.0.tgz#b31c0261ff9caa6b4a17c5af019ed77387174b69""
   integrity sha512-wlzrsbfeSU48YQBjZhDzOwhWhGsy+uQycR8bHAOt1LY1bn3zZEcDyHQOEoN3aWzQ8LHCAJ1nqrWCc9XF2+O45Q==
@@ -12691,21 +12676,11 @@ type-fest@^0.8.0, type-fest@^0.8.1:
   resolved ""https://registry.yarnpkg.com/type-fest/-/type-fest-0.8.1.tgz#09e249ebde851d3b1e48d27c105444667f17b83d""
   integrity sha512-4dbzIzqvjtgiM5rw1k5rEHtBANKmdudhGyBEajN01fEyhaAIhsoKNy6y7+IN93IfpFtwY9iqi7kD+xwKhQsNJA==
 
-type-fest@^2.17.0:
-  version ""2.19.0""
-  resolved ""https://registry.yarnpkg.com/type-fest/-/type-fest-2.19.0.tgz#88068015bb33036a598b952e55e9311a60fd3a9b""
-  integrity sha512-RAH822pAdBgcNMAfWnCBU3CFZcfZ/i1eZjwFU/dsLKumyuuP3niueg2UAukXYF0E2AAoc82ZSSf9J0WQBinzHA==
-
 type-fest@^3.0.0:
   version ""3.13.1""
   resolved ""https://registry.yarnpkg.com/type-fest/-/type-fest-3.13.1.tgz#bb744c1f0678bea7543a2d1ec24e83e68e8c8706""
   integrity sha512-tLq3bSNx+xSpwvAJnzrK0Ep5CLNWjvFTOp71URMaAEWBfRb9nnJiBoUe0tF8bI4ZFO3omgBR6NvnbzVUT3Ly4g==
 
-type-fest@^4.8.1:
-  version ""4.10.2""
-  resolved ""https://registry.yarnpkg.com/type-fest/-/type-fest-4.10.2.tgz#3abdb144d93c5750432aac0d73d3e85fcab45738""
-  integrity sha512-anpAG63wSpdEbLwOqH8L84urkL6PiVIov3EMmgIhhThevh9aiMQov+6Btx0wldNcvm4wV+e2/Rt1QdDwKHFbHw==
-
 typed-array-buffer@^1.0.1:
   version ""1.0.2""
   resolved ""https://registry.yarnpkg.com/typed-array-buffer/-/typed-array-buffer-1.0.2.tgz#1867c5d83b20fcb5ccf32649e5e2fc7424474ff3""",False,False,Documentation / Formatting,6
chapter-three,next-drupal,55819335c3435e4f8467519ed9e03f9c392f07e1,JohnAlbin,virtually.johnalbin@gmail.com,2024-02-23T12:39:47Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-02-27T07:27:14Z,fix(next-drupal): allow clientId/Secret in getAccessToken() params,packages/next-drupal/src/client.ts;packages/next-drupal/tests/DrupalClient/constructor.test.ts;packages/next-drupal/tests/DrupalClient/fetch-related-methods.test.ts;packages/next-drupal/tests/DrupalClient/getters-setters.test.ts,False,False,False,False,64,45,109,"---FILE: packages/next-drupal/src/client.ts---
@@ -12,6 +12,7 @@ import type {
 import type {
   AccessToken,
   BaseUrl,
+  DrupalClientAuth,
   DrupalClientAuthAccessToken,
   DrupalClientAuthClientIdSecret,
   DrupalClientAuthUsernamePassword,
@@ -53,25 +54,28 @@ const DEFAULT_HEADERS = {
 }
 
 function isBasicAuth(
-  auth: DrupalClientOptions[""auth""]
+  auth: DrupalClientAuth
 ): auth is DrupalClientAuthUsernamePassword {
   return (
-    (auth as DrupalClientAuthUsernamePassword)?.username !== undefined ||
+    (auth as DrupalClientAuthUsernamePassword)?.username !== undefined &&
     (auth as DrupalClientAuthUsernamePassword)?.password !== undefined
   )
 }
 
 function isAccessTokenAuth(
-  auth: DrupalClientOptions[""auth""]
+  auth: DrupalClientAuth
 ): auth is DrupalClientAuthAccessToken {
-  return (auth as DrupalClientAuthAccessToken)?.access_token !== undefined
+  return (
+    (auth as DrupalClientAuthAccessToken)?.access_token !== undefined &&
+    (auth as DrupalClientAuthAccessToken)?.token_type !== undefined
+  )
 }
 
 function isClientIdSecretAuth(
-  auth: DrupalClient[""auth""]
+  auth: DrupalClientAuth
 ): auth is DrupalClientAuthClientIdSecret {
   return (
-    (auth as DrupalClientAuthClientIdSecret)?.clientId !== undefined ||
+    (auth as DrupalClientAuthClientIdSecret)?.clientId !== undefined &&
     (auth as DrupalClientAuthClientIdSecret)?.clientSecret !== undefined
   )
 }
@@ -177,31 +181,47 @@ export class DrupalClient {
 
   set auth(auth: DrupalClientOptions[""auth""]) {
     if (typeof auth === ""object"") {
-      if (isBasicAuth(auth)) {
-        if (!auth.username || !auth.password) {
+      const checkUsernamePassword = auth as DrupalClientAuthUsernamePassword
+      const checkAccessToken = auth as DrupalClientAuthAccessToken
+      const checkClientIdSecret = auth as DrupalClientAuthClientIdSecret
+
+      if (
+        checkUsernamePassword.username !== undefined ||
+        checkUsernamePassword.password !== undefined
+      ) {
+        if (
+          !checkUsernamePassword.username ||
+          !checkUsernamePassword.password
+        ) {
           throw new Error(
             `'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth`
           )
         }
-      } else if (isAccessTokenAuth(auth)) {
-        if (!auth.access_token || !auth.token_type) {
+      } else if (
+        checkAccessToken.access_token !== undefined ||
+        checkAccessToken.token_type !== undefined
+      ) {
+        if (!checkAccessToken.access_token || !checkAccessToken.token_type) {
           throw new Error(
             `'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth`
           )
         }
-      } else if (!auth.clientId || !auth.clientSecret) {
+      } else if (
+        !checkClientIdSecret.clientId ||
+        !checkClientIdSecret.clientSecret
+      ) {
         throw new Error(
           `'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth`
         )
       }
 
-      auth = {
-        url: DEFAULT_AUTH_URL,
+      this._auth = {
+        ...(isClientIdSecretAuth(auth) ? { url: DEFAULT_AUTH_URL } : {}),
         ...auth,
       }
+    } else {
+      this._auth = auth
     }
-
-    this._auth = auth
   }
 
   set headers(value: DrupalClientOptions[""headers""]) {
@@ -1356,26 +1376,25 @@ export class DrupalClient {
       return this.accessToken
     }
 
-    if (!opts?.clientId || !opts?.clientSecret) {
-      if (typeof this._auth === ""undefined"") {
-        throw new Error(
-          ""auth is not configured. See https://next-drupal.org/docs/client/auth""
-        )
+    let auth: DrupalClientAuthClientIdSecret
+    if (isClientIdSecretAuth(opts)) {
+      auth = {
+        url: DEFAULT_AUTH_URL,
+        ...opts,
       }
-    }
-
-    if (
-      !isClientIdSecretAuth(this._auth) ||
-      (opts && !isClientIdSecretAuth(opts))
-    ) {
+    } else if (isClientIdSecretAuth(this._auth)) {
+      auth = this._auth
+    } else if (typeof this._auth === ""undefined"") {
+      throw new Error(
+        ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+      )
+    } else {
       throw new Error(
         `'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth`
       )
     }
 
-    const clientId = opts?.clientId || this._auth.clientId
-    const clientSecret = opts?.clientSecret || this._auth.clientSecret
-    const url = this.buildUrl(opts?.url || this._auth.url)
+    const url = this.buildUrl(auth.url)
 
     if (
       this.accessTokenScope === opts?.scope &&
@@ -1388,7 +1407,9 @@ export class DrupalClient {
 
     this.debug(`Fetching new access token.`)
 
-    const basic = Buffer.from(`${clientId}:${clientSecret}`).toString(""base64"")
+    const basic = Buffer.from(`${auth.clientId}:${auth.clientSecret}`).toString(
+      ""base64""
+    )
 
     let body = `grant_type=client_credentials`
 

---FILE: packages/next-drupal/tests/DrupalClient/constructor.test.ts---
@@ -3,7 +3,7 @@ import { Jsona } from ""jsona""
 import { DrupalClient } from ""../../src""
 import { DEBUG_MESSAGE_PREFIX, logger as defaultLogger } from ""../../src/logger""
 import { BASE_URL } from ""../utils""
-import type { Logger } from ""../../src""
+import type { DrupalClientAuth, Logger } from ""../../src""
 
 afterEach(() => {
   jest.restoreAllMocks()
@@ -106,7 +106,7 @@ describe(""options parameter"", () => {
     })
 
     test(""sets the auth credentials"", () => {
-      const auth: DrupalClient[""auth""] = {
+      const auth: DrupalClientAuth = {
         username: ""example"",
         password: ""pw"",
       }
@@ -115,7 +115,6 @@ describe(""options parameter"", () => {
       })
       expect(client._auth).toMatchObject({
         ...auth,
-        url: ""/oauth/token"",
       })
     })
   })

---FILE: packages/next-drupal/tests/DrupalClient/fetch-related-methods.test.ts---
@@ -278,19 +278,19 @@ describe(""getAccessToken()"", () => {
     expect(fetchSpy).toHaveBeenCalledTimes(0)
   })
 
-  test(""BUG: throws if auth is ClientIdSecret and not given as opts"", async () => {
+  test(""throws if auth is not ClientIdSecret"", async () => {
     const fetchSpy = spyOnFetch({
       responseBody: accessToken,
     })
 
     const client = new DrupalClient(BASE_URL, {
-      auth: clientIdSecret,
+      auth: mocks.auth.basicAuth,
       withAuth: true,
     })
 
     await expect(
       // @ts-ignore
-      client.getAccessToken({ scope: ""irrelevant"" })
+      client.getAccessToken()
     ).rejects.toThrow(
       ""'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth""
     )

---FILE: packages/next-drupal/tests/DrupalClient/getters-setters.test.ts---
@@ -57,13 +57,12 @@ describe(""auth"", () => {
   })
 
   describe(""throws an error if invalid Access Token"", () => {
-    // TODO: The wrong error is thrown.
-    test.skip(""missing access_token"", () => {
+    test(""missing access_token"", () => {
       expect(() => {
         const client = new DrupalClient(BASE_URL)
         // @ts-ignore
         client.auth = {
-          token_type: ""bearer"",
+          token_type: mocks.auth.accessToken.token_type,
         }
       }).toThrow(
         ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
@@ -151,21 +150,21 @@ describe(""auth"", () => {
   })
 
   test(""sets a default access token url"", () => {
-    const accessToken = {
-      ...mocks.auth.accessToken,
+    const clientIdSecret = {
+      ...mocks.auth.clientIdSecret,
     }
     const client = new DrupalClient(BASE_URL)
-    client.auth = accessToken
+    client.auth = clientIdSecret
     expect(client._auth.url).toBe(""/oauth/token"")
   })
 
   test(""can override the default access token url"", () => {
-    const accessToken = {
-      ...mocks.auth.accessToken,
+    const clientIdSecret = {
+      ...mocks.auth.clientIdSecret,
       url: ""/custom/oauth/token"",
     }
     const client = new DrupalClient(BASE_URL)
-    client.auth = accessToken
+    client.auth = clientIdSecret
     expect(client._auth.url).toBe(""/custom/oauth/token"")
   })
 })",False,False,Implementation / Logic,3
chapter-three,next-drupal,fda97090080f0df882bc1f6938a6475c60d0aaf8,Josh Waihi,josh.waihi@acquia.com,2024-02-23T05:32:22Z,GitHub,noreply@github.com,2024-02-23T05:32:22Z,"fix(next): fix typo; follow up to PR #698

Fixes #527",modules/next/modules/next_jsonapi/src/Controller/EntityResource.php,False,False,False,False,1,1,2,"---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -100,7 +100,7 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
       $max = $page['limit'];
     }
 
-    $params[OffsetPage::KEY_NAME] = new OffsetPage($query['offset'] ?? OffsetPage::DEFAULT_OFFSET, $max);
+    $params[OffsetPage::KEY_NAME] = new OffsetPage($page['offset'] ?? OffsetPage::DEFAULT_OFFSET, $max);
 
     return $params;
   }",False,False,Documentation / Formatting,1
chapter-three,next-drupal,bdd289fba209a6a313338c569b98e82b7055ccc5,Rainer Friederich,friederich@parkside-interactive.com,2024-02-22T15:20:15Z,GitHub,noreply@github.com,2024-02-22T15:20:15Z,"fix(next): prevent exception on entity events when entity has no url

Fixes #549",modules/next/src/Event/EntityActionEvent.php,False,False,False,False,6,2,8,"---FILE: modules/next/src/Event/EntityActionEvent.php---
@@ -75,8 +75,12 @@ public static function createFromEntity(EntityInterface $entity, string $action)
     $next_entity_type_manager = \Drupal::service('next.entity_type.manager');
 
     $sites = $next_entity_type_manager->getSitesForEntity($entity);
-    $url = $entity->hasLinkTemplate('canonical') ? $entity->toUrl()->toString(TRUE)->getGeneratedUrl() : NULL;
-
+    try {
+      $url = $entity->hasLinkTemplate('canonical') ? $entity->toUrl()->toString(TRUE)->getGeneratedUrl() : NULL;
+    }
+    catch (\Exception $e) {
+      $url = NULL;
+    }
     return new static($entity, $action, $sites, $url);
   }
 ",False,False,Implementation / Logic,3
chapter-three,next-drupal,01acd8541eb59a03aed00c69fa7c56eb88120814,Andy Marquis,apmsooner@gmail.com,2024-02-22T14:44:11Z,GitHub,noreply@github.com,2024-02-22T14:44:11Z,"bug(next): prevent iframe preview error when no sites configured for preview

Fixes #517 #495

Co-authored-by: Andy Marquis <andy.marquis@mediacurrent.com>",modules/next/src/Render/MainContent/HtmlRenderer.php,False,False,False,False,6,1,7,"---FILE: modules/next/src/Render/MainContent/HtmlRenderer.php---
@@ -112,7 +112,12 @@ protected function prepare(array $main_content, Request $request, RouteMatchInte
       return $build;
     }
 
-    $sites = $next_entity_type_config->getSiteResolver()->getSitesForEntity($entity);
+    $resolver = $next_entity_type_config->getSiteResolver();
+    if (empty($resolver)) {
+      return $build;
+    }
+
+    $sites = $resolver->getSitesForEntity($entity);
     if (!count($sites)) {
       return $build;
     }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,7e891195682a8537c27d7744bb03feb3ac2cf935,Josh Waihi,josh@joshwaihi.com,2024-02-22T14:10:57Z,GitHub,noreply@github.com,2024-02-22T14:10:57Z,"bug(next): ensure page offset is respected in JSON:API links

Fixes #527",modules/next/modules/next_jsonapi/src/Controller/EntityResource.php,False,False,False,False,1,1,2,"---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -100,7 +100,7 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
       $max = $page['limit'];
     }
 
-    $params[OffsetPage::KEY_NAME] = new OffsetPage(OffsetPage::DEFAULT_OFFSET, $max);
+    $params[OffsetPage::KEY_NAME] = new OffsetPage($query['offset'] ?? OffsetPage::DEFAULT_OFFSET, $max);
 
     return $params;
   }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,cca3868b051a951b8cc3b806dec014a02b66039e,Mikkel Blyme,blymemikkel@protonmail.com,2024-02-22T11:44:34Z,GitHub,noreply@github.com,2024-02-22T11:44:34Z,"fix(example-umami): fix typo in className for transparent border

Fixes #522",examples/example-umami/components/header.tsx,False,False,False,False,1,1,2,"---FILE: examples/example-umami/components/header.tsx---
@@ -42,7 +42,7 @@ export function Header({ menus }: HeaderProps) {
           </a>
         </Link>
         <button
-          className=""absolute transition-all border beorder-transparent md:hidden right-4 top-8 hover:border-link""
+          className=""absolute transition-all border border-transparent md:hidden right-4 top-8 hover:border-link""
           onClick={() => setShowMenu(!showMenu)}
         >
           <svg",False,False,Documentation / Formatting,1
chapter-three,next-drupal,1ca8321261b11eb5182417f36d905a06227f540e,Eirik Stanghelle Morland,eirik@morland.no,2024-02-22T11:31:37Z,GitHub,noreply@github.com,2024-02-22T11:31:37Z,"bug(next): use LoggerInterface from psr/log

Fixes #505",modules/next/src/EventSubscriber/EntityActionEventSubscriberBase.php,False,False,False,False,5,5,10,"---FILE: modules/next/src/EventSubscriber/EntityActionEventSubscriberBase.php---
@@ -2,9 +2,9 @@
 
 namespace Drupal\next\EventSubscriber;
 
-use Drupal\Core\Logger\LoggerChannelInterface;
 use Drupal\next\NextEntityTypeManagerInterface;
 use Drupal\next\NextSettingsManagerInterface;
+use Psr\Log\LoggerInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 use Symfony\Contracts\EventDispatcher\EventDispatcherInterface;
 
@@ -30,9 +30,9 @@ abstract class EntityActionEventSubscriberBase implements EventSubscriberInterfa
   /**
    * The logger channel.
    *
-   * @var \Drupal\Core\Logger\LoggerChannelInterface
+   * @var \Psr\Log\LoggerInterface
    */
-  protected LoggerChannelInterface $logger;
+  protected LoggerInterface $logger;
 
   /**
    * The event dispatcher.
@@ -48,12 +48,12 @@ abstract class EntityActionEventSubscriberBase implements EventSubscriberInterfa
    *   The next entity type manager.
    * @param \Drupal\next\NextSettingsManagerInterface $next_settings_manager
    *   The next settings manager.
-   * @param \Drupal\Core\Logger\LoggerChannelInterface $logger
+   * @param \Psr\Log\LoggerInterface $logger
    *   The logger channel.
    * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
    *   The event dispatcher.
    */
-  public function __construct(NextEntityTypeManagerInterface $next_entity_type_manager, NextSettingsManagerInterface $next_settings_manager, LoggerChannelInterface $logger, EventDispatcherInterface $event_dispatcher) {
+  public function __construct(NextEntityTypeManagerInterface $next_entity_type_manager, NextSettingsManagerInterface $next_settings_manager, LoggerInterface $logger, EventDispatcherInterface $event_dispatcher) {
     $this->nextEntityTypeManager = $next_entity_type_manager;
     $this->nextSettingsManager = $next_settings_manager;
     $this->logger = $logger;",False,False,Dependency / Package,3
chapter-three,next-drupal,81b3830957230394be43ba2ceb0806cae27328d4,PierreRe,Pierrere@gmail.com,2024-02-22T10:36:37Z,GitHub,noreply@github.com,2024-02-22T10:36:37Z,"feat(examples-*): add keys to <Head> elements to prevent duplicate meta tags

Fixes #416",examples/example-blog/components/meta.tsx;examples/example-graphql/pages/[...slug].tsx;examples/example-graphql/pages/index.tsx;examples/example-marketing/components/meta.tsx;examples/example-query/pages/index.tsx;examples/example-umami/components/meta.tsx,False,False,False,False,18,8,26,"---FILE: examples/example-blog/components/meta.tsx---
@@ -14,6 +14,7 @@ export function Meta({ title, tags }: MetaProps) {
   return (
     <Head>
       <link
+        key=""canonical_link""
         rel=""canonical""
         href={`${process.env.NEXT_PUBLIC_BASE_URL}${
           router.asPath !== ""/"" ? router.asPath : """"
@@ -37,15 +38,17 @@ export function Meta({ title, tags }: MetaProps) {
         <>
           <title>{`${title} | Next.js for Drupal`}</title>
           <meta
+            key=""description""
             name=""description""
             content=""A Next.js blog powered by a Drupal backend.""
           />
           <meta
+            key=""og_image""
             property=""og:image""
             content={`${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`}
           />
-          <meta property=""og:image:width"" content=""800"" />
-          <meta property=""og:image:height"" content=""600"" />
+          <meta key=""og_image_width"" property=""og:image:width"" content=""800"" />
+          <meta key=""og_image_height"" property=""og:image:height"" content=""600"" />
         </>
       )}
     </Head>

---FILE: examples/example-graphql/pages/[...slug].tsx---
@@ -12,7 +12,7 @@ export default function NodePage({ resource }) {
     <Layout>
       <Head>
         <title>{resource.title}</title>
-        <meta name=""description"" content=""A Next.js site powered by Drupal."" />
+        <meta key=""description"" name=""description"" content=""A Next.js site powered by Drupal."" />
       </Head>
       {resource && <NodeArticle node={resource} />}
     </Layout>

---FILE: examples/example-graphql/pages/index.tsx---
@@ -10,6 +10,7 @@ export default function IndexPage({ articles }) {
       <Head>
         <title>Next.js for Drupal</title>
         <meta
+          key=""description""
           name=""description""
           content=""A Next.js site powered by a Drupal backend.""
         />

---FILE: examples/example-marketing/components/meta.tsx---
@@ -14,6 +14,7 @@ export function Meta({ title, tags }: MetaProps) {
   return (
     <Head>
       <link
+        key=""canonical_link""
         rel=""canonical""
         href={`${process.env.NEXT_PUBLIC_BASE_URL}${
           router.asPath !== ""/"" ? router.asPath : """"
@@ -37,15 +38,17 @@ export function Meta({ title, tags }: MetaProps) {
         <>
           <title>{`${title} | Next.js for Drupal`}</title>
           <meta
+            key=""description""
             name=""description""
             content=""A Next.js blog powered by a Drupal backend.""
           />
           <meta
+            key=""og_image""
             property=""og:image""
             content={`${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`}
           />
-          <meta property=""og:image:width"" content=""800"" />
-          <meta property=""og:image:height"" content=""600"" />
+          <meta key=""og_image_width"" property=""og:image:width"" content=""800"" />
+          <meta key=""og_image_height"" property=""og:image:height"" content=""600"" />
         </>
       )}
     </Head>

---FILE: examples/example-query/pages/index.tsx---
@@ -17,6 +17,7 @@ export default function IndexPage({
       <Head>
         <title>Example Query</title>
         <meta
+          key=""description""
           name=""description""
           content=""A Next.js site powered by a Drupal backend.""
         />

---FILE: examples/example-umami/components/meta.tsx---
@@ -16,17 +16,19 @@ export function Meta({ title, description }: MetaProps) {
   return (
     <Head>
       <link
+        key=""canonical_link""
         rel=""canonical""
         href={absoluteURL(router.asPath !== ""/"" ? router.asPath : """")}
       />
       <title>{`${title} | ${siteConfig.name}`}</title>
-      <meta name=""description"" content={description || siteConfig.slogan} />
+      <meta key=""description"" name=""description"" content={description || siteConfig.slogan} />
       <meta
+        key=""og_image""
         property=""og:image""
         content={`${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`}
       />
-      <meta property=""og:image:width"" content=""800"" />
-      <meta property=""og:image:height"" content=""600"" />
+      <meta key=""og_image_width"" property=""og:image:width"" content=""800"" />
+      <meta key=""og_image_height"" property=""og:image:height"" content=""600"" />
     </Head>
   )
 }",False,False,Dependency / Package,3
chapter-three,next-drupal,e245ababa7cdef4d74083969658460ea2add307a,Ruslan Zainetdinov,skiffle.rus@gmail.com,2024-02-22T09:51:55Z,GitHub,noreply@github.com,2024-02-22T09:51:55Z,"docs(next-drupal): add example and note about pathPrefix

Fixes #181",www/content/guides/redirects.mdx,False,False,False,False,10,0,10,"---FILE: www/content/guides/redirects.mdx---
@@ -72,3 +72,13 @@ export async function getStaticProps(
 ```
 
 With `fallback: ""blocking""` in `getStaticPaths`, this will cache and handle redirects configured in Drupal and still work with incremental static regeneration.
+
+In multilingual setup you may need to specify `pathPrefix` option for `translatePathFromContext` for default locale.
+In some cases Drupal can't find a matching redirect for path without explicit locale prefix.
+
+```tsx
+// Get information about the path.
+const path = await drupal.translatePathFromContext(context, {
+  pathPrefix: context.locale === context.defaultLocale ? context.locale : ""/"",
+})
+```",False,False,Documentation / Formatting,4
chapter-three,next-drupal,c5c8d63e4cc7e1d86c04229a41d707bc591f8a2b,JohnAlbin,virtually.johnalbin@gmail.com,2024-02-21T09:17:47Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-02-21T17:28:18Z,"test(next-drupal): reorganize Jest tests

Fixes #608",.editorconfig;packages/next-drupal/jest.config.cjs;packages/next-drupal/src/client.ts;packages/next-drupal/src/draft.ts;packages/next-drupal/src/types/resource.ts;packages/next-drupal/tests/.eslintrc.json;packages/next-drupal/tests/DrupalClient/__snapshots__/basic-methods.test.ts.snap;packages/next-drupal/tests/DrupalClient/__snapshots__/fetch-related-methods.test.ts.snap;packages/next-drupal/tests/DrupalClient/__snapshots__/pages-router-methods.test.ts.snap;packages/next-drupal/tests/DrupalClient/basic-methods.test.ts;packages/next-drupal/tests/DrupalClient/constructor.test.ts;packages/next-drupal/tests/DrupalClient/crud-methods.test.ts;packages/next-drupal/tests/DrupalClient/fetch-related-methods.test.ts;packages/next-drupal/tests/DrupalClient/getters-setters.test.ts;packages/next-drupal/tests/DrupalClient/pages-router-methods.test.ts;packages/next-drupal/tests/Logger/logger.test.ts;packages/next-drupal/tests/__mocks__/next.ts;packages/next-drupal/tests/__mocks__/next/headers.ts;packages/next-drupal/tests/client.test.ts;packages/next-drupal/tests/draft/draft.test.ts;packages/next-drupal/tests/utils/index.ts;packages/next-drupal/tests/utils/mocks/data.ts;packages/next-drupal/tests/utils/mocks/fetch.ts;packages/next-drupal/tests/utils/mocks/index.ts;packages/next-drupal/tests/utils/mocks/logger.ts;packages/next-drupal/tests/utils/rpc.ts,False,False,False,False,7619,4754,12373,"---FILE: .editorconfig---
@@ -8,3 +8,6 @@ indent_size = 2
 indent_style = space
 insert_final_newline = true
 trim_trailing_whitespace = true
+
+[{*.diff,*.patch}]
+trim_trailing_whitespace = false

---FILE: packages/next-drupal/jest.config.cjs---
@@ -13,6 +13,7 @@ module.exports = {
       },
     ],
   },
+  testLocationInResults: true,
   coverageProvider: ""v8"",
   collectCoverage: true,
   collectCoverageFrom: [""./src/**""],
@@ -25,10 +26,10 @@ module.exports = {
   coverageReporters: [""lcov"", ""text"", ""text-summary""],
   coverageThreshold: {
     global: {
-      statements: 82.07,
-      branches: 86.9,
-      functions: 80.76,
-      lines: 82.07,
+      statements: 100,
+      branches: 100,
+      functions: 100,
+      lines: 100,
     },
   },
 }

---FILE: packages/next-drupal/src/client.ts---
@@ -264,7 +264,7 @@ export class DrupalClient {
             if (token) {
               init[""headers""][""Authorization""] = `Bearer ${token.access_token}`
             }
-          } else if (isAccessTokenAuth(this._auth)) {
+          } /* c8 ignore next 4 */ else if (isAccessTokenAuth(this._auth)) {
             init[""headers""][""Authorization""] =
               `${this._auth.token_type} ${this._auth.access_token}`
           }
@@ -273,7 +273,7 @@ export class DrupalClient {
         this.debug(`Using custom authorization header.`)
 
         init[""headers""][""Authorization""] = init.withAuth
-      } else if (typeof init.withAuth === ""function"") {
+      } /* c8 ignore next 4 */ else if (typeof init.withAuth === ""function"") {
         this.debug(`Using custom authorization callback.`)
 
         init[""headers""][""Authorization""] = init.withAuth()
@@ -292,7 +292,7 @@ export class DrupalClient {
         if (token) {
           init[""headers""][""Authorization""] = `Bearer ${token.access_token}`
         }
-      } else if (isAccessTokenAuth(init.withAuth)) {
+      } /* c8 ignore next 4 */ else if (isAccessTokenAuth(init.withAuth)) {
         init[""headers""][""Authorization""] =
           `${init.withAuth.token_type} ${init.withAuth.access_token}`
       }
@@ -322,7 +322,9 @@ export class DrupalClient {
 
     const apiPath = await this.getEntryForResourceType(
       type,
-      options?.locale !== options?.defaultLocale ? options.locale : undefined
+      options?.locale !== options?.defaultLocale
+        ? /* c8 ignore next */ options.locale
+        : undefined
     )
 
     const url = this.buildUrl(apiPath, options?.params)
@@ -338,13 +340,13 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const json = await response.json()
 
-    return options.deserialize ? this.deserialize(json) : json
+    return options.deserialize
+      ? this.deserialize(json)
+      : /* c8 ignore next */ json
   }
 
   async createFileResource<T = DrupalFile>(
@@ -383,9 +385,7 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const json = await response.json()
 
@@ -406,7 +406,9 @@ export class DrupalClient {
 
     const apiPath = await this.getEntryForResourceType(
       type,
-      options?.locale !== options?.defaultLocale ? options.locale : undefined
+      options?.locale !== options?.defaultLocale
+        ? /* c8 ignore next */ options.locale
+        : undefined
     )
 
     const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
@@ -423,13 +425,13 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const json = await response.json()
 
-    return options.deserialize ? this.deserialize(json) : json
+    return options.deserialize
+      ? this.deserialize(json)
+      : /* c8 ignore next */ json
   }
 
   async deleteResource(
@@ -445,7 +447,9 @@ export class DrupalClient {
 
     const apiPath = await this.getEntryForResourceType(
       type,
-      options?.locale !== options?.defaultLocale ? options.locale : undefined
+      options?.locale !== options?.defaultLocale
+        ? /* c8 ignore next */ options.locale
+        : undefined
     )
 
     const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
@@ -457,9 +461,7 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     return response.status === 204
   }
@@ -477,6 +479,7 @@ export class DrupalClient {
       ...options,
     }
 
+    /* c8 ignore next 11 */
     if (options.withCache) {
       const cached = (await this.cache.get(options.cacheKey)) as string
 
@@ -502,12 +505,11 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const json = await response.json()
 
+    /* c8 ignore next 3 */
     if (options.withCache) {
       await this.cache.set(options.cacheKey, JSON.stringify(json))
     }
@@ -568,6 +570,7 @@ export class DrupalClient {
       // When we try to translate /es/example, decoupled router will properly
       // translate to the untranslated version and set the locale to es.
       // However a subrequests to /es/subrequests for decoupled router will fail.
+      /* c8 ignore next 3 */
       if (context.locale && input.entity.langcode !== context.locale) {
         context.locale = input.entity.langcode
       }
@@ -621,7 +624,7 @@ export class DrupalClient {
       options.defaultLocale &&
       path.indexOf(options.locale) !== 1
     ) {
-      path = path === ""/"" ? path : path.replace(/^\/+/, """")
+      path = path === ""/"" ? /* c8 ignore next */ path : path.replace(/^\/+/, """")
       path = this.getPathFromContext({
         params: { slug: [path] },
         locale: options.locale,
@@ -735,9 +738,7 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const json = await response.json()
 
@@ -1028,6 +1029,7 @@ export class DrupalClient {
       const pattern = `^\\/${locale}\\/`
       const path = href.replace(this.baseUrl, """")
 
+      /* c8 ignore next 3 */
       if (!new RegExp(pattern, ""i"").test(path)) {
         return `${this.baseUrl}/${locale}${path}`
       }
@@ -1073,6 +1075,7 @@ export class DrupalClient {
     response: NextApiResponse,
     options?: Parameters<NextApiResponse[""setDraftMode""]>[0]
   ) {
+    // eslint-disable-next-line @typescript-eslint/no-unused-vars
     const { slug, resourceVersion, plugin, secret, scope, ...draftData } =
       request.query
     const useDraftMode = options?.enable
@@ -1167,6 +1170,7 @@ export class DrupalClient {
       ...options,
     }
 
+    /* c8 ignore next 9 */
     if (options.withCache) {
       const cached = (await this.cache.get(options.cacheKey)) as string
 
@@ -1192,13 +1196,13 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const data = await response.json()
 
-    const items = options.deserialize ? this.deserialize(data) : data
+    const items = options.deserialize
+      ? this.deserialize(data)
+      : /* c8 ignore next */ data
 
     const { items: tree } = this.buildMenuTree(items)
 
@@ -1207,6 +1211,7 @@ export class DrupalClient {
       tree,
     }
 
+    /* c8 ignore next 3 */
     if (options.withCache) {
       await this.cache.set(options.cacheKey, JSON.stringify(menu))
     }
@@ -1265,9 +1270,7 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const data = await response.json()
 
@@ -1307,9 +1310,7 @@ export class DrupalClient {
       withAuth: options.withAuth,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const json = await response.json()
 
@@ -1374,7 +1375,7 @@ export class DrupalClient {
 
     const clientId = opts?.clientId || this._auth.clientId
     const clientSecret = opts?.clientSecret || this._auth.clientSecret
-    const url = this.buildUrl(opts?.url || this._auth.url || DEFAULT_AUTH_URL)
+    const url = this.buildUrl(opts?.url || this._auth.url)
 
     if (
       this.accessTokenScope === opts?.scope &&
@@ -1407,9 +1408,7 @@ export class DrupalClient {
       body,
     })
 
-    if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-    }
+    await this.throwIfJsonApiErrors(response)
 
     const result: AccessToken = await response.json()
 
@@ -1476,7 +1475,7 @@ export class DrupalClient {
     throw error
   }
 
-  private async handleJsonApiErrors(response: Response) {
+  private async throwIfJsonApiErrors(response: Response) {
     if (!response?.ok) {
       const errors = await this.getErrorsFromResponse(response)
       throw new JsonApiErrors(errors, response.status)

---FILE: packages/next-drupal/src/draft.ts---
@@ -34,6 +34,7 @@ export async function enableDraftMode(
   }
 
   // Send Drupal's data to the draft-mode page.
+  // eslint-disable-next-line @typescript-eslint/no-unused-vars
   const { secret, scope, plugin, ...draftData } = Object.fromEntries(
     searchParams.entries()
   )

---FILE: packages/next-drupal/src/types/resource.ts---
@@ -1,3 +1,5 @@
+/* eslint-disable @typescript-eslint/no-explicit-any */
+
 import type { JsonApiError, JsonApiLinks } from ""../jsonapi-errors""
 import type { PathAlias } from ""./drupal""
 
@@ -53,7 +55,6 @@ export interface JsonApiUpdateResourceBody {
   }
 }
 
-/* eslint-disable  @typescript-eslint/no-explicit-any */
 export interface JsonApiResource extends Record<string, any> {
   id: string
   type: string

---FILE: packages/next-drupal/tests/.eslintrc.json---
@@ -0,0 +1,11 @@
+{
+  ""extends"": [""../../../.eslintrc.json""],
+  ""overrides"": [
+    {
+      ""files"": [""*.test.ts""],
+      ""rules"": {
+        ""@typescript-eslint/ban-ts-comment"": ""off""
+      }
+    }
+  ]
+}

---FILE: packages/next-drupal/tests/DrupalClient/__snapshots__/basic-methods.test.ts.snap---
@@ -0,0 +1,406 @@
+// Jest Snapshot v1, https://goo.gl/fbAQLP
+
+exports[`deserialize() allows for custom data serializer 1`] = `
+{
+  ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+  ""title"": ""TITLE: Give it a go and grow your own herbs"",
+}
+`;
+
+exports[`deserialize() deserializes JSON:API collection 1`] = `
+[
+  {
+    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+      },
+    },
+    ""title"": ""Give it a go and grow your own herbs"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
+      },
+    },
+    ""title"": ""Dairy-free and delicious milk chocolate"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
+      },
+    },
+    ""title"": ""The real deal for supermarket savvy shopping"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+      },
+    },
+    ""title"": ""The Umami guide to our favorite mushrooms"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+      },
+    },
+    ""title"": ""Let's hear it for carrots"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+      },
+    },
+    ""title"": ""Baking mishaps - our troubleshooting tips"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+      },
+    },
+    ""title"": ""Skip the spirits with delicious mocktails"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+      },
+    },
+    ""title"": ""Give your oatmeal the ultimate makeover"",
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`deserialize() deserializes JSON:API resource 1`] = `
+{
+  ""body"": {
+    ""format"": ""basic_html"",
+    ""processed"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
+<h2>Outdoors</h2>
+<h3>Mint</h3>
+<p>Mint is a great plant to grow as it's hardy and can grow in almost any soil. Mint can grow wild, so keep it contained in a pot or it might spread and take over your whole garden.</p>
+<h3>Sage</h3>
+<p>Like mint, sage is another prolific growing plant and will take over your garden if you let it. Highly aromatic, the sage plant can be planted in a pot or flower bed in well drained soil. The best way to store the herb is to sun dry the leaves and store in a cool, dark cupboard in a sealed container.</p>
+<h3>Rosemary</h3>
+<p>Rosemary plants grow into lovely shrubs. Easily grown from cuttings, rosemary plants do not like freezing temperatures so keep pots or planted bushes near the home to shelter them from the cold. It grows well in pots as it likes dry soil, but can survive well in the ground too. If pruning rosemary to encourage it into a better shape, save the branches and hang them upside down to preserve the flavor and use in food.</p>
+<h2>Indoors</h2>
+<h3>Basil</h3>
+<p>Perfect in sunny spot on a kitchen window sill. Basil is an annual plant, so will die off in the autumn, so it's a good idea to harvest it in the summer if you have an abundance and dry it. Picked basil stays fresh longer if it is placed in water (like fresh flowers). A great way to store basil is to make it into pesto!</p>
+<h3>Chives</h3>
+<p>A versatile herb, chives can grow well indoors. Ensure the plant is watered well, and gets plenty of light. Remember to regularly trim the chives. This prevents the flowers from developing and encourages new growth.</p>
+<h3>Coriander (Cilantro)</h3>
+<p>Coriander can grow indoors, but unlike the other herbs, it doesn't like full sun. If you have a south facing kitchen window, this isn't the place for it. Although not as thirsty as basil, coriander doesn't like dry soil so don't forget to water it! Cut coriander is best stored in the fridge.</p>
+"",
+    ""summary"": null,
+    ""value"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
+<h2>Outdoors</h2>
+<h3>Mint</h3>
+<p>Mint is a great plant to grow as it's hardy and can grow in almost any soil. Mint can grow wild, so keep it contained in a pot or it might spread and take over your whole garden.</p>
+<h3>Sage</h3>
+<p>Like mint, sage is another prolific growing plant and will take over your garden if you let it. Highly aromatic, the sage plant can be planted in a pot or flower bed in well drained soil. The best way to store the herb is to sun dry the leaves and store in a cool, dark cupboard in a sealed container.</p>
+<h3>Rosemary</h3>
+<p>Rosemary plants grow into lovely shrubs. Easily grown from cuttings, rosemary plants do not like freezing temperatures so keep pots or planted bushes near the home to shelter them from the cold. It grows well in pots as it likes dry soil, but can survive well in the ground too. If pruning rosemary to encourage it into a better shape, save the branches and hang them upside down to preserve the flavor and use in food.</p>
+<h2>Indoors</h2>
+<h3>Basil</h3>
+<p>Perfect in sunny spot on a kitchen window sill. Basil is an annual plant, so will die off in the autumn, so it's a good idea to harvest it in the summer if you have an abundance and dry it. Picked basil stays fresh longer if it is placed in water (like fresh flowers). A great way to store basil is to make it into pesto!</p>
+<h3>Chives</h3>
+<p>A versatile herb, chives can grow well indoors. Ensure the plant is watered well, and gets plenty of light. Remember to regularly trim the chives. This prevents the flowers from developing and encourages new growth.</p>
+<h3>Coriander (Cilantro)</h3>
+<p>Coriander can grow indoors, but unlike the other herbs, it doesn't like full sun. If you have a south facing kitchen window, this isn't the place for it. Although not as thirsty as basil, coriander doesn't like dry soil so don't forget to water it! Cut coriander is best stored in the fridge.</p>
+"",
+  },
+  ""changed"": ""2022-03-21T10:52:42+00:00"",
+  ""content_translation_outdated"": false,
+  ""content_translation_source"": ""und"",
+  ""created"": ""2022-03-21T10:52:42+00:00"",
+  ""default_langcode"": true,
+  ""drupal_internal__nid"": 10,
+  ""drupal_internal__vid"": 20,
+  ""field_media_image"": {
+    ""id"": ""e5091a16-134e-400d-8393-cfe4eccbcaa2"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 10,
+    },
+    ""type"": ""media--image"",
+  },
+  ""field_tags"": [
+    {
+      ""changed"": ""2022-03-21T10:52:42+00:00"",
+      ""content_translation_created"": ""2022-03-21T10:52:42+00:00"",
+      ""content_translation_outdated"": false,
+      ""content_translation_source"": ""und"",
+      ""content_translation_uid"": {
+        ""id"": ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
+        ""resourceIdObjMeta"": {
+          ""drupal_internal__target_id"": 0,
+        },
+        ""type"": ""user--user"",
+      },
+      ""default_langcode"": true,
+      ""description"": null,
+      ""drupal_internal__revision_id"": 14,
+      ""drupal_internal__tid"": 14,
+      ""id"": ""dcd81647-71b7-48cb-b555-e20322bcb7a7"",
+      ""langcode"": ""en"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/taxonomy_term/tags/dcd81647-71b7-48cb-b555-e20322bcb7a7?resourceVersion=id%3A14"",
+        },
+      },
+      ""name"": ""Grow your own"",
+      ""parent"": [
+        {
+          ""id"": ""virtual"",
+          ""resourceIdObjMeta"": {
+            ""links"": {
+              ""help"": {
+                ""href"": ""https://www.drupal.org/docs/8/modules/json-api/core-concepts#virtual"",
+                ""meta"": {
+                  ""about"": ""Usage and meaning of the 'virtual' resource identifier."",
+                },
+              },
+            },
+          },
+          ""type"": ""taxonomy_term--tags"",
+        },
+      ],
+      ""path"": {
+        ""alias"": ""/tags/grow-your-own"",
+        ""langcode"": ""en"",
+        ""pid"": 27,
+      },
+      ""relationshipNames"": [
+        ""vid"",
+        ""revision_user"",
+        ""parent"",
+        ""content_translation_uid"",
+      ],
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 14,
+      },
+      ""revision_created"": ""2022-03-21T10:52:42+00:00"",
+      ""revision_log_message"": null,
+      ""revision_translation_affected"": true,
+      ""revision_user"": null,
+      ""status"": true,
+      ""type"": ""taxonomy_term--tags"",
+      ""vid"": {
+        ""id"": ""b0442737-e5ff-4c7c-8c2b-c977886d6e73"",
+        ""resourceIdObjMeta"": {
+          ""drupal_internal__target_id"": ""tags"",
+        },
+        ""type"": ""taxonomy_vocabulary--taxonomy_vocabulary"",
+      },
+      ""weight"": 0,
+    },
+    {
+      ""changed"": ""2022-03-21T10:52:42+00:00"",
+      ""content_translation_created"": ""2022-03-21T10:52:42+00:00"",
+      ""content_translation_outdated"": false,
+      ""content_translation_source"": ""und"",
+      ""content_translation_uid"": {
+        ""id"": ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
+        ""resourceIdObjMeta"": {
+          ""drupal_internal__target_id"": 0,
+        },
+        ""type"": ""user--user"",
+      },
+      ""default_langcode"": true,
+      ""description"": null,
+      ""drupal_internal__revision_id"": 23,
+      ""drupal_internal__tid"": 23,
+      ""id"": ""60d20a4c-9d42-4b25-b717-3af3cba6abe8"",
+      ""langcode"": ""en"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/taxonomy_term/tags/60d20a4c-9d42-4b25-b717-3af3cba6abe8?resourceVersion=id%3A23"",
+        },
+      },
+      ""name"": ""Seasonal"",
+      ""parent"": [
+        {
+          ""id"": ""virtual"",
+          ""resourceIdObjMeta"": {
+            ""links"": {
+              ""help"": {
+                ""href"": ""https://www.drupal.org/docs/8/modules/json-api/core-concepts#virtual"",
+                ""meta"": {
+                  ""about"": ""Usage and meaning of the 'virtual' resource identifier."",
+                },
+              },
+            },
+          },
+          ""type"": ""taxonomy_term--tags"",
+        },
+      ],
+      ""path"": {
+        ""alias"": ""/tags/seasonal"",
+        ""langcode"": ""en"",
+        ""pid"": 45,
+      },
+      ""relationshipNames"": [
+        ""vid"",
+        ""revision_user"",
+        ""parent"",
+        ""content_translation_uid"",
+      ],
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 23,
+      },
+      ""revision_created"": ""2022-03-21T10:52:42+00:00"",
+      ""revision_log_message"": null,
+      ""revision_translation_affected"": true,
+      ""revision_user"": null,
+      ""status"": true,
+      ""type"": ""taxonomy_term--tags"",
+      ""vid"": {
+        ""id"": ""b0442737-e5ff-4c7c-8c2b-c977886d6e73"",
+        ""resourceIdObjMeta"": {
+          ""drupal_internal__target_id"": ""tags"",
+        },
+        ""type"": ""taxonomy_vocabulary--taxonomy_vocabulary"",
+      },
+      ""weight"": 0,
+    },
+    {
+      ""changed"": ""2022-03-21T10:52:42+00:00"",
+      ""content_translation_created"": ""2022-03-21T10:52:42+00:00"",
+      ""content_translation_outdated"": false,
+      ""content_translation_source"": ""und"",
+      ""content_translation_uid"": {
+        ""id"": ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
+        ""resourceIdObjMeta"": {
+          ""drupal_internal__target_id"": 0,
+        },
+        ""type"": ""user--user"",
+      },
+      ""default_langcode"": true,
+      ""description"": null,
+      ""drupal_internal__revision_id"": 16,
+      ""drupal_internal__tid"": 16,
+      ""id"": ""57a1d9f6-23a6-4215-a8a9-582202cd938d"",
+      ""langcode"": ""en"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/taxonomy_term/tags/57a1d9f6-23a6-4215-a8a9-582202cd938d?resourceVersion=id%3A16"",
+        },
+      },
+      ""name"": ""Herbs"",
+      ""parent"": [
+        {
+          ""id"": ""virtual"",
+          ""resourceIdObjMeta"": {
+            ""links"": {
+              ""help"": {
+                ""href"": ""https://www.drupal.org/docs/8/modules/json-api/core-concepts#virtual"",
+                ""meta"": {
+                  ""about"": ""Usage and meaning of the 'virtual' resource identifier."",
+                },
+              },
+            },
+          },
+          ""type"": ""taxonomy_term--tags"",
+        },
+      ],
+      ""path"": {
+        ""alias"": ""/tags/herbs"",
+        ""langcode"": ""en"",
+        ""pid"": 31,
+      },
+      ""relationshipNames"": [
+        ""vid"",
+        ""revision_user"",
+        ""parent"",
+        ""content_translation_uid"",
+      ],
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 16,
+      },
+      ""revision_created"": ""2022-03-21T10:52:42+00:00"",
+      ""revision_log_message"": null,
+      ""revision_translation_affected"": true,
+      ""revision_user"": null,
+      ""status"": true,
+      ""type"": ""taxonomy_term--tags"",
+      ""vid"": {
+        ""id"": ""b0442737-e5ff-4c7c-8c2b-c977886d6e73"",
+        ""resourceIdObjMeta"": {
+          ""drupal_internal__target_id"": ""tags"",
+        },
+        ""type"": ""taxonomy_vocabulary--taxonomy_vocabulary"",
+      },
+      ""weight"": 0,
+    },
+  ],
+  ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+  ""langcode"": ""en"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+    },
+  },
+  ""moderation_state"": ""published"",
+  ""node_type"": {
+    ""id"": ""a145b65a-e660-4f5d-ac0d-bd2ff9e3f0b0"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": ""article"",
+    },
+    ""type"": ""node_type--node_type"",
+  },
+  ""path"": {
+    ""alias"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
+    ""langcode"": ""en"",
+    ""pid"": 85,
+  },
+  ""promote"": true,
+  ""relationshipNames"": [
+    ""node_type"",
+    ""revision_uid"",
+    ""uid"",
+    ""field_media_image"",
+    ""field_tags"",
+  ],
+  ""revision_log"": null,
+  ""revision_timestamp"": ""2022-03-21T10:52:42+00:00"",
+  ""revision_translation_affected"": null,
+  ""revision_uid"": {
+    ""id"": ""dd9c916d-4d66-4bff-a851-eeba0cf7673a"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 5,
+    },
+    ""type"": ""user--user"",
+  },
+  ""status"": true,
+  ""sticky"": false,
+  ""title"": ""Give it a go and grow your own herbs"",
+  ""type"": ""node--article"",
+  ""uid"": {
+    ""id"": ""dd9c916d-4d66-4bff-a851-eeba0cf7673a"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 5,
+    },
+    ""type"": ""user--user"",
+  },
+}
+`;

---FILE: packages/next-drupal/tests/DrupalClient/__snapshots__/fetch-related-methods.test.ts.snap---
@@ -1,287 +1,12 @@
 // Jest Snapshot v1, https://goo.gl/fbAQLP
 
-exports[`buildStaticPathsFromResources it builds static paths from resources 1`] = `
-[
-  {
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""two"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`buildStaticPathsFromResources it builds static paths from resources 2`] = `
-[
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""two"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`buildStaticPathsFromResources it builds static paths from resources with pathPrefix 1`] = `
-[
-  {
-    ""params"": {
-      ""slug"": [
-        ""post"",
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""post"",
-        ""two"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`buildStaticPathsFromResources it builds static paths from resources with pathPrefix 2`] = `
-[
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""two"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`buildStaticPathsParamsFromPaths it builds static paths from paths 1`] = `
-[
-  {
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""two"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""three"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`buildStaticPathsParamsFromPaths it builds static paths from paths 2`] = `
-[
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""two"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""blog"",
-        ""post"",
-        ""three"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`buildStaticPathsParamsFromPaths it builds static paths from paths with pathPrefix 1`] = `
-[
-  {
-    ""params"": {
-      ""slug"": [
-        ""post"",
-        ""one"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""post"",
-        ""two"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""post"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`deserialize it allows for custom data serializer 1`] = `
-{
-  ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
-  ""title"": ""TITLE: Give it a go and grow your own herbs"",
-}
-`;
-
-exports[`deserialize it deserializes JSON:API collection 1`] = `
-[
-  {
-    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
-      },
-    },
-    ""title"": ""Give it a go and grow your own herbs"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
-      },
-    },
-    ""title"": ""Dairy-free and delicious milk chocolate"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
-      },
-    },
-    ""title"": ""The real deal for supermarket savvy shopping"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
-      },
-    },
-    ""title"": ""The Umami guide to our favorite mushrooms"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
-      },
-    },
-    ""title"": ""Let's hear it for carrots"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
-      },
-    },
-    ""title"": ""Baking mishaps - our troubleshooting tips"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
-      },
-    },
-    ""title"": ""Skip the spirits with delicious mocktails"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
-      },
-    },
-    ""title"": ""Give your oatmeal the ultimate makeover"",
-    ""type"": ""node--article"",
-  },
-]
-`;
-
-exports[`deserialize it deserializes JSON:API resource 1`] = `
+exports[`fetch() allows fetching custom url 1`] = `
 {
-  ""body"": {
-    ""format"": ""basic_html"",
-    ""processed"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
+  ""data"": {
+    ""attributes"": {
+      ""body"": {
+        ""format"": ""basic_html"",
+        ""processed"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
 <h2>Outdoors</h2>
 <h3>Mint</h3>
 <p>Mint is a great plant to grow as it's hardy and can grow in almost any soil. Mint can grow wild, so keep it contained in a pot or it might spread and take over your whole garden.</p>
@@ -297,8 +22,8 @@ exports[`deserialize it deserializes JSON:API resource 1`] = `
 <h3>Coriander (Cilantro)</h3>
 <p>Coriander can grow indoors, but unlike the other herbs, it doesn't like full sun. If you have a south facing kitchen window, this isn't the place for it. Although not as thirsty as basil, coriander doesn't like dry soil so don't forget to water it! Cut coriander is best stored in the fridge.</p>
 "",
-    ""summary"": null,
-    ""value"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
+        ""summary"": null,
+        ""value"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
 <h2>Outdoors</h2>
 <h3>Mint</h3>
 <p>Mint is a great plant to grow as it's hardy and can grow in almost any soil. Mint can grow wild, so keep it contained in a pot or it might spread and take over your whole garden.</p>
@@ -314,348 +39,33 @@ exports[`deserialize it deserializes JSON:API resource 1`] = `
 <h3>Coriander (Cilantro)</h3>
 <p>Coriander can grow indoors, but unlike the other herbs, it doesn't like full sun. If you have a south facing kitchen window, this isn't the place for it. Although not as thirsty as basil, coriander doesn't like dry soil so don't forget to water it! Cut coriander is best stored in the fridge.</p>
 "",
-  },
-  ""changed"": ""2022-03-21T10:52:42+00:00"",
-  ""content_translation_outdated"": false,
-  ""content_translation_source"": ""und"",
-  ""created"": ""2022-03-21T10:52:42+00:00"",
-  ""default_langcode"": true,
-  ""drupal_internal__nid"": 10,
-  ""drupal_internal__vid"": 20,
-  ""field_media_image"": {
-    ""id"": ""e5091a16-134e-400d-8393-cfe4eccbcaa2"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": 10,
-    },
-    ""type"": ""media--image"",
-  },
-  ""field_tags"": [
-    {
+      },
       ""changed"": ""2022-03-21T10:52:42+00:00"",
-      ""content_translation_created"": ""2022-03-21T10:52:42+00:00"",
       ""content_translation_outdated"": false,
       ""content_translation_source"": ""und"",
-      ""content_translation_uid"": {
-        ""id"": ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
-        ""resourceIdObjMeta"": {
-          ""drupal_internal__target_id"": 0,
-        },
-        ""type"": ""user--user"",
-      },
+      ""created"": ""2022-03-21T10:52:42+00:00"",
       ""default_langcode"": true,
-      ""description"": null,
-      ""drupal_internal__revision_id"": 14,
-      ""drupal_internal__tid"": 14,
-      ""id"": ""dcd81647-71b7-48cb-b555-e20322bcb7a7"",
+      ""drupal_internal__nid"": 10,
+      ""drupal_internal__vid"": 20,
       ""langcode"": ""en"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/taxonomy_term/tags/dcd81647-71b7-48cb-b555-e20322bcb7a7?resourceVersion=id%3A14"",
-        },
-      },
-      ""name"": ""Grow your own"",
-      ""parent"": [
-        {
-          ""id"": ""virtual"",
-          ""resourceIdObjMeta"": {
-            ""links"": {
-              ""help"": {
-                ""href"": ""https://www.drupal.org/docs/8/modules/json-api/core-concepts#virtual"",
-                ""meta"": {
-                  ""about"": ""Usage and meaning of the 'virtual' resource identifier."",
-                },
-              },
-            },
-          },
-          ""type"": ""taxonomy_term--tags"",
-        },
-      ],
+      ""moderation_state"": ""published"",
       ""path"": {
-        ""alias"": ""/tags/grow-your-own"",
+        ""alias"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
         ""langcode"": ""en"",
-        ""pid"": 27,
-      },
-      ""relationshipNames"": [
-        ""vid"",
-        ""revision_user"",
-        ""parent"",
-        ""content_translation_uid"",
-      ],
-      ""resourceIdObjMeta"": {
-        ""drupal_internal__target_id"": 14,
+        ""pid"": 85,
       },
-      ""revision_created"": ""2022-03-21T10:52:42+00:00"",
-      ""revision_log_message"": null,
-      ""revision_translation_affected"": true,
-      ""revision_user"": null,
+      ""promote"": true,
+      ""revision_log"": null,
+      ""revision_timestamp"": ""2022-03-21T10:52:42+00:00"",
+      ""revision_translation_affected"": null,
       ""status"": true,
-      ""type"": ""taxonomy_term--tags"",
-      ""vid"": {
-        ""id"": ""b0442737-e5ff-4c7c-8c2b-c977886d6e73"",
-        ""resourceIdObjMeta"": {
-          ""drupal_internal__target_id"": ""tags"",
-        },
-        ""type"": ""taxonomy_vocabulary--taxonomy_vocabulary"",
-      },
-      ""weight"": 0,
+      ""sticky"": false,
+      ""title"": ""Give it a go and grow your own herbs"",
     },
-    {
-      ""changed"": ""2022-03-21T10:52:42+00:00"",
-      ""content_translation_created"": ""2022-03-21T10:52:42+00:00"",
-      ""content_translation_outdated"": false,
-      ""content_translation_source"": ""und"",
-      ""content_translation_uid"": {
-        ""id"": ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
-        ""resourceIdObjMeta"": {
-          ""drupal_internal__target_id"": 0,
-        },
-        ""type"": ""user--user"",
-      },
-      ""default_langcode"": true,
-      ""description"": null,
-      ""drupal_internal__revision_id"": 23,
-      ""drupal_internal__tid"": 23,
-      ""id"": ""60d20a4c-9d42-4b25-b717-3af3cba6abe8"",
-      ""langcode"": ""en"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/taxonomy_term/tags/60d20a4c-9d42-4b25-b717-3af3cba6abe8?resourceVersion=id%3A23"",
-        },
-      },
-      ""name"": ""Seasonal"",
-      ""parent"": [
-        {
-          ""id"": ""virtual"",
-          ""resourceIdObjMeta"": {
-            ""links"": {
-              ""help"": {
-                ""href"": ""https://www.drupal.org/docs/8/modules/json-api/core-concepts#virtual"",
-                ""meta"": {
-                  ""about"": ""Usage and meaning of the 'virtual' resource identifier."",
-                },
-              },
-            },
-          },
-          ""type"": ""taxonomy_term--tags"",
-        },
-      ],
-      ""path"": {
-        ""alias"": ""/tags/seasonal"",
-        ""langcode"": ""en"",
-        ""pid"": 45,
-      },
-      ""relationshipNames"": [
-        ""vid"",
-        ""revision_user"",
-        ""parent"",
-        ""content_translation_uid"",
-      ],
-      ""resourceIdObjMeta"": {
-        ""drupal_internal__target_id"": 23,
-      },
-      ""revision_created"": ""2022-03-21T10:52:42+00:00"",
-      ""revision_log_message"": null,
-      ""revision_translation_affected"": true,
-      ""revision_user"": null,
-      ""status"": true,
-      ""type"": ""taxonomy_term--tags"",
-      ""vid"": {
-        ""id"": ""b0442737-e5ff-4c7c-8c2b-c977886d6e73"",
-        ""resourceIdObjMeta"": {
-          ""drupal_internal__target_id"": ""tags"",
-        },
-        ""type"": ""taxonomy_vocabulary--taxonomy_vocabulary"",
-      },
-      ""weight"": 0,
-    },
-    {
-      ""changed"": ""2022-03-21T10:52:42+00:00"",
-      ""content_translation_created"": ""2022-03-21T10:52:42+00:00"",
-      ""content_translation_outdated"": false,
-      ""content_translation_source"": ""und"",
-      ""content_translation_uid"": {
-        ""id"": ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
-        ""resourceIdObjMeta"": {
-          ""drupal_internal__target_id"": 0,
-        },
-        ""type"": ""user--user"",
-      },
-      ""default_langcode"": true,
-      ""description"": null,
-      ""drupal_internal__revision_id"": 16,
-      ""drupal_internal__tid"": 16,
-      ""id"": ""57a1d9f6-23a6-4215-a8a9-582202cd938d"",
-      ""langcode"": ""en"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/taxonomy_term/tags/57a1d9f6-23a6-4215-a8a9-582202cd938d?resourceVersion=id%3A16"",
-        },
-      },
-      ""name"": ""Herbs"",
-      ""parent"": [
-        {
-          ""id"": ""virtual"",
-          ""resourceIdObjMeta"": {
-            ""links"": {
-              ""help"": {
-                ""href"": ""https://www.drupal.org/docs/8/modules/json-api/core-concepts#virtual"",
-                ""meta"": {
-                  ""about"": ""Usage and meaning of the 'virtual' resource identifier."",
-                },
-              },
-            },
-          },
-          ""type"": ""taxonomy_term--tags"",
-        },
-      ],
-      ""path"": {
-        ""alias"": ""/tags/herbs"",
-        ""langcode"": ""en"",
-        ""pid"": 31,
-      },
-      ""relationshipNames"": [
-        ""vid"",
-        ""revision_user"",
-        ""parent"",
-        ""content_translation_uid"",
-      ],
-      ""resourceIdObjMeta"": {
-        ""drupal_internal__target_id"": 16,
-      },
-      ""revision_created"": ""2022-03-21T10:52:42+00:00"",
-      ""revision_log_message"": null,
-      ""revision_translation_affected"": true,
-      ""revision_user"": null,
-      ""status"": true,
-      ""type"": ""taxonomy_term--tags"",
-      ""vid"": {
-        ""id"": ""b0442737-e5ff-4c7c-8c2b-c977886d6e73"",
-        ""resourceIdObjMeta"": {
-          ""drupal_internal__target_id"": ""tags"",
-        },
-        ""type"": ""taxonomy_vocabulary--taxonomy_vocabulary"",
-      },
-      ""weight"": 0,
-    },
-  ],
-  ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
-  ""langcode"": ""en"",
-  ""links"": {
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
-    },
-  },
-  ""moderation_state"": ""published"",
-  ""node_type"": {
-    ""id"": ""a145b65a-e660-4f5d-ac0d-bd2ff9e3f0b0"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": ""article"",
-    },
-    ""type"": ""node_type--node_type"",
-  },
-  ""path"": {
-    ""alias"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
-    ""langcode"": ""en"",
-    ""pid"": 85,
-  },
-  ""promote"": true,
-  ""relationshipNames"": [
-    ""node_type"",
-    ""revision_uid"",
-    ""uid"",
-    ""field_media_image"",
-    ""field_tags"",
-  ],
-  ""revision_log"": null,
-  ""revision_timestamp"": ""2022-03-21T10:52:42+00:00"",
-  ""revision_translation_affected"": null,
-  ""revision_uid"": {
-    ""id"": ""dd9c916d-4d66-4bff-a851-eeba0cf7673a"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": 5,
-    },
-    ""type"": ""user--user"",
-  },
-  ""status"": true,
-  ""sticky"": false,
-  ""title"": ""Give it a go and grow your own herbs"",
-  ""type"": ""node--article"",
-  ""uid"": {
-    ""id"": ""dd9c916d-4d66-4bff-a851-eeba0cf7673a"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": 5,
-    },
-    ""type"": ""user--user"",
-  },
-}
-`;
-
-exports[`fetch it allows fetching custom url 1`] = `
-{
-  ""data"": {
-    ""attributes"": {
-      ""body"": {
-        ""format"": ""basic_html"",
-        ""processed"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
-<h2>Outdoors</h2>
-<h3>Mint</h3>
-<p>Mint is a great plant to grow as it's hardy and can grow in almost any soil. Mint can grow wild, so keep it contained in a pot or it might spread and take over your whole garden.</p>
-<h3>Sage</h3>
-<p>Like mint, sage is another prolific growing plant and will take over your garden if you let it. Highly aromatic, the sage plant can be planted in a pot or flower bed in well drained soil. The best way to store the herb is to sun dry the leaves and store in a cool, dark cupboard in a sealed container.</p>
-<h3>Rosemary</h3>
-<p>Rosemary plants grow into lovely shrubs. Easily grown from cuttings, rosemary plants do not like freezing temperatures so keep pots or planted bushes near the home to shelter them from the cold. It grows well in pots as it likes dry soil, but can survive well in the ground too. If pruning rosemary to encourage it into a better shape, save the branches and hang them upside down to preserve the flavor and use in food.</p>
-<h2>Indoors</h2>
-<h3>Basil</h3>
-<p>Perfect in sunny spot on a kitchen window sill. Basil is an annual plant, so will die off in the autumn, so it's a good idea to harvest it in the summer if you have an abundance and dry it. Picked basil stays fresh longer if it is placed in water (like fresh flowers). A great way to store basil is to make it into pesto!</p>
-<h3>Chives</h3>
-<p>A versatile herb, chives can grow well indoors. Ensure the plant is watered well, and gets plenty of light. Remember to regularly trim the chives. This prevents the flowers from developing and encourages new growth.</p>
-<h3>Coriander (Cilantro)</h3>
-<p>Coriander can grow indoors, but unlike the other herbs, it doesn't like full sun. If you have a south facing kitchen window, this isn't the place for it. Although not as thirsty as basil, coriander doesn't like dry soil so don't forget to water it! Cut coriander is best stored in the fridge.</p>
-"",
-        ""summary"": null,
-        ""value"": ""<p>There's nothing like having your own supply of fresh herbs, readily available and close at hand to use while cooking. Whether you have a large garden or a small kitchen window sill, there's always enough room for something home grown.</p>
-<h2>Outdoors</h2>
-<h3>Mint</h3>
-<p>Mint is a great plant to grow as it's hardy and can grow in almost any soil. Mint can grow wild, so keep it contained in a pot or it might spread and take over your whole garden.</p>
-<h3>Sage</h3>
-<p>Like mint, sage is another prolific growing plant and will take over your garden if you let it. Highly aromatic, the sage plant can be planted in a pot or flower bed in well drained soil. The best way to store the herb is to sun dry the leaves and store in a cool, dark cupboard in a sealed container.</p>
-<h3>Rosemary</h3>
-<p>Rosemary plants grow into lovely shrubs. Easily grown from cuttings, rosemary plants do not like freezing temperatures so keep pots or planted bushes near the home to shelter them from the cold. It grows well in pots as it likes dry soil, but can survive well in the ground too. If pruning rosemary to encourage it into a better shape, save the branches and hang them upside down to preserve the flavor and use in food.</p>
-<h2>Indoors</h2>
-<h3>Basil</h3>
-<p>Perfect in sunny spot on a kitchen window sill. Basil is an annual plant, so will die off in the autumn, so it's a good idea to harvest it in the summer if you have an abundance and dry it. Picked basil stays fresh longer if it is placed in water (like fresh flowers). A great way to store basil is to make it into pesto!</p>
-<h3>Chives</h3>
-<p>A versatile herb, chives can grow well indoors. Ensure the plant is watered well, and gets plenty of light. Remember to regularly trim the chives. This prevents the flowers from developing and encourages new growth.</p>
-<h3>Coriander (Cilantro)</h3>
-<p>Coriander can grow indoors, but unlike the other herbs, it doesn't like full sun. If you have a south facing kitchen window, this isn't the place for it. Although not as thirsty as basil, coriander doesn't like dry soil so don't forget to water it! Cut coriander is best stored in the fridge.</p>
-"",
-      },
-      ""changed"": ""2022-03-21T10:52:42+00:00"",
-      ""content_translation_outdated"": false,
-      ""content_translation_source"": ""und"",
-      ""created"": ""2022-03-21T10:52:42+00:00"",
-      ""default_langcode"": true,
-      ""drupal_internal__nid"": 10,
-      ""drupal_internal__vid"": 20,
-      ""langcode"": ""en"",
-      ""moderation_state"": ""published"",
-      ""path"": {
-        ""alias"": ""/articles/give-it-a-go-and-grow-your-own-herbs"",
-        ""langcode"": ""en"",
-        ""pid"": 85,
-      },
-      ""promote"": true,
-      ""revision_log"": null,
-      ""revision_timestamp"": ""2022-03-21T10:52:42+00:00"",
-      ""revision_translation_affected"": null,
-      ""status"": true,
-      ""sticky"": false,
-      ""title"": ""Give it a go and grow your own herbs"",
-    },
-    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
       },
     },
     ""relationships"": {
@@ -781,7 +191,7 @@ exports[`fetch it allows fetching custom url 1`] = `
 }
 `;
 
-exports[`getIndex it fetches the JSON:API index 1`] = `
+exports[`getIndex() fetches the JSON:API index 1`] = `
 {
   ""data"": [],
   ""jsonapi"": {
@@ -991,7 +401,7 @@ exports[`getIndex it fetches the JSON:API index 1`] = `
 }
 `;
 
-exports[`getIndex it fetches the JSON:API index with locale 1`] = `
+exports[`getIndex() fetches the JSON:API index with locale 1`] = `
 {
   ""data"": [],
   ""jsonapi"": {
@@ -1201,7 +611,7 @@ exports[`getIndex it fetches the JSON:API index with locale 1`] = `
 }
 `;
 
-exports[`getMenu it fetches menu items for a menu 1`] = `
+exports[`getMenu() fetches menu items for a menu 1`] = `
 {
   ""items"": [
     {
@@ -1336,7 +746,7 @@ exports[`getMenu it fetches menu items for a menu 1`] = `
 }
 `;
 
-exports[`getMenu it fetches menu items for a menu with locale 1`] = `
+exports[`getMenu() fetches menu items for a menu with locale 1`] = `
 {
   ""items"": [
     {
@@ -1471,7 +881,7 @@ exports[`getMenu it fetches menu items for a menu with locale 1`] = `
 }
 `;
 
-exports[`getMenu it fetches menu items for a menu with params 1`] = `
+exports[`getMenu() fetches menu items for a menu with params 1`] = `
 {
   ""items"": [
     {
@@ -1494,36 +904,7 @@ exports[`getMenu it fetches menu items for a menu with params 1`] = `
 }
 `;
 
-exports[`getPathFromContext it encodes path with punctuation 1`] = `
-{
-  ""entity"": {
-    ""bundle"": ""page"",
-    ""canonical"": ""https://tests.next-drupal.org/en/path%26with%5Epunc%26in%24path"",
-    ""id"": ""20"",
-    ""langcode"": ""en"",
-    ""path"": ""/en/path%26with%5Epunc%26in%24path"",
-    ""type"": ""node"",
-    ""uuid"": ""e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
-  },
-  ""isHomePath"": false,
-  ""jsonapi"": {
-    ""basePath"": ""/en/jsonapi"",
-    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
-    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/page/e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
-    ""pathPrefix"": ""en/jsonapi"",
-    ""resourceName"": ""node--page"",
-  },
-  ""label"": ""Page with characters in path"",
-  ""meta"": {
-    ""deprecated"": {
-      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
-    },
-  },
-  ""resolved"": ""https://tests.next-drupal.org/en/path%26with%5Epunc%26in%24path"",
-}
-`;
-
-exports[`getResource it fetches a resource by uuid 1`] = `
+exports[`getResource() fetches a resource by uuid 1`] = `
 {
   ""changed"": ""2022-03-25T08:02:17+00:00"",
   ""content_translation_outdated"": false,
@@ -1660,7 +1041,7 @@ exports[`getResource it fetches a resource by uuid 1`] = `
 }
 `;
 
-exports[`getResource it fetches a resource by uuid with params 1`] = `
+exports[`getResource() fetches a resource by uuid with params 1`] = `
 {
   ""field_cooking_time"": 30,
   ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
@@ -1674,7 +1055,7 @@ exports[`getResource it fetches a resource by uuid with params 1`] = `
 }
 `;
 
-exports[`getResource it fetches a resource using locale 1`] = `
+exports[`getResource() fetches a resource using locale 1`] = `
 {
   ""field_cooking_time"": 30,
   ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
@@ -1688,7 +1069,7 @@ exports[`getResource it fetches a resource using locale 1`] = `
 }
 `;
 
-exports[`getResource it fetches raw data 1`] = `
+exports[`getResource() fetches raw data 1`] = `
 {
   ""data"": {
     ""attributes"": {
@@ -1898,7 +1279,7 @@ exports[`getResource it fetches raw data 1`] = `
 }
 `;
 
-exports[`getResourceByPath it fetches a resource by path 1`] = `
+exports[`getResourceByPath() fetches a resource by path 1`] = `
 {
   ""changed"": ""2022-03-25T08:02:17+00:00"",
   ""content_translation_outdated"": false,
@@ -2035,7 +1416,7 @@ exports[`getResourceByPath it fetches a resource by path 1`] = `
 }
 `;
 
-exports[`getResourceByPath it fetches a resource by path using locale 1`] = `
+exports[`getResourceByPath() fetches a resource by path using locale 1`] = `
 {
   ""field_cooking_time"": 30,
   ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
@@ -2049,7 +1430,7 @@ exports[`getResourceByPath it fetches a resource by path using locale 1`] = `
 }
 `;
 
-exports[`getResourceByPath it fetches a resource by path with params 1`] = `
+exports[`getResourceByPath() fetches a resource by path with params 1`] = `
 {
   ""field_cooking_time"": 30,
   ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
@@ -2063,7 +1444,7 @@ exports[`getResourceByPath it fetches a resource by path with params 1`] = `
 }
 `;
 
-exports[`getResourceByPath it fetches raw data 1`] = `
+exports[`getResourceByPath() fetches raw data 1`] = `
 {
   ""data"": {
     ""attributes"": {
@@ -2273,7 +1654,7 @@ exports[`getResourceByPath it fetches raw data 1`] = `
 }
 `;
 
-exports[`getResourceCollection it fetches a resource collection 1`] = `
+exports[`getResourceCollection() fetches a resource collection 1`] = `
 [
   {
     ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
@@ -2358,7 +1739,7 @@ exports[`getResourceCollection it fetches a resource collection 1`] = `
 ]
 `;
 
-exports[`getResourceCollection it fetches a resource collection using locale 1`] = `
+exports[`getResourceCollection() fetches a resource collection using locale 1`] = `
 [
   {
     ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
@@ -2451,7 +1832,7 @@ exports[`getResourceCollection it fetches a resource collection using locale 1`]
 ]
 `;
 
-exports[`getResourceCollection it fetches raw data 1`] = `
+exports[`getResourceCollection() fetches raw data 1`] = `
 {
   ""data"": [
     {
@@ -2500,207 +1881,152 @@ exports[`getResourceCollection it fetches raw data 1`] = `
 }
 `;
 
-exports[`getResourceCollectionFromContext it fetches a resource collection 1`] = `
+exports[`getSearchIndex() fetches a search index 1`] = `
 [
   {
-    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""id"": ""3873f7b4-790c-4f93-ac7a-b4ca71272128"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/3873f7b4-790c-4f93-ac7a-b4ca71272128?resourceVersion=id%3A18"",
       },
     },
-    ""title"": ""Give it a go and grow your own herbs"",
-    ""type"": ""node--article"",
+    ""title"": ""Fiery chili sauce"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
+    ""id"": ""f4fff2df-1a2a-4762-be23-6b7d5755eba1"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/f4fff2df-1a2a-4762-be23-6b7d5755eba1?resourceVersion=id%3A10"",
       },
     },
-    ""title"": ""Dairy-free and delicious milk chocolate"",
-    ""type"": ""node--article"",
+    ""title"": ""Victoria sponge cake"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
+    ""id"": ""20b576d2-2343-4b94-bd46-445ecc526e48"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/20b576d2-2343-4b94-bd46-445ecc526e48?resourceVersion=id%3A16"",
       },
     },
-    ""title"": ""The real deal for supermarket savvy shopping"",
-    ""type"": ""node--article"",
+    ""title"": ""Crema catalana"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
+    ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
       },
     },
-    ""title"": ""The Umami guide to our favorite mushrooms"",
-    ""type"": ""node--article"",
+    ""title"": ""Deep mediterranean quiche - edited"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
+    ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
       },
     },
-    ""title"": ""Let's hear it for carrots"",
-    ""type"": ""node--article"",
+    ""title"": ""Super easy vegetarian pasta bake"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
+    ""id"": ""84e09cbf-e33e-46bd-b40c-4dda4e00937a"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/84e09cbf-e33e-46bd-b40c-4dda4e00937a?resourceVersion=id%3A12"",
       },
     },
-    ""title"": ""Baking mishaps - our troubleshooting tips"",
-    ""type"": ""node--article"",
+    ""title"": ""Gluten free pizza"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
+    ""id"": ""194f2647-1fbb-42b1-9ea5-3a3eb0494e04"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/194f2647-1fbb-42b1-9ea5-3a3eb0494e04?resourceVersion=id%3A14"",
       },
     },
-    ""title"": ""Skip the spirits with delicious mocktails"",
-    ""type"": ""node--article"",
+    ""title"": ""Thai green curry"",
+    ""type"": ""node--recipe"",
   },
   {
-    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
+    ""id"": ""7862d283-ece2-4ae1-8bef-865259f72315"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/7862d283-ece2-4ae1-8bef-865259f72315?resourceVersion=id%3A4"",
       },
     },
-    ""title"": ""Give your oatmeal the ultimate makeover"",
-    ""type"": ""node--article"",
+    ""title"": ""Vegan chocolate and nut brownies"",
+    ""type"": ""node--recipe"",
   },
-]
-`;
-
-exports[`getResourceCollectionFromContext it fetches a resource collection using locale 1`] = `
-[
   {
-    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
-    ""langcode"": ""es"",
+    ""id"": ""0bf47bce-51c9-480e-9c24-cd0a457a4f9b"",
     ""links"": {
       ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
-      },
-    },
-    ""title"": ""Prueba y cultiva tus propias hierbas"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
-      },
-    },
-    ""title"": ""Delicioso chocolate sin lactosa"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
-      },
-    },
-    ""title"": ""El verdadero negocio para comprar en el supermercado"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/0bf47bce-51c9-480e-9c24-cd0a457a4f9b?resourceVersion=id%3A8"",
       },
     },
-    ""title"": ""Gua Umami de nuestras setas preferidas"",
-    ""type"": ""node--article"",
+    ""title"": ""Watercress soup"",
+    ""type"": ""node--recipe"",
   },
-  {
-    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+]
+`;
+
+exports[`getSearchIndex() fetches a search index with facets filters 1`] = `
+{
+  ""data"": [
+    {
+      ""attributes"": {
+        ""field_difficulty"": ""easy"",
+        ""title"": ""Super easy vegetarian pasta bake"",
       },
-    },
-    ""title"": ""Un aplauso para las zanahorias"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+      ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
+        },
       },
+      ""type"": ""node--recipe"",
     },
-    ""title"": ""Percances al hornear - nuestros consejos para solucionar los problemas"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+    {
+      ""attributes"": {
+        ""field_difficulty"": ""easy"",
+        ""title"": ""Watercress soup"",
       },
-    },
-    ""title"": ""Salta los espritus con deliciosos ccteles sin alcohol"",
-    ""type"": ""node--article"",
-  },
-  {
-    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
-    ""langcode"": ""es"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+      ""id"": ""0bf47bce-51c9-480e-9c24-cd0a457a4f9b"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/0bf47bce-51c9-480e-9c24-cd0a457a4f9b?resourceVersion=id%3A8"",
+        },
       },
+      ""type"": ""node--recipe"",
     },
-    ""title"": ""Dale a tu avena el cambio de imagen definitivo"",
-    ""type"": ""node--article"",
-  },
-]
-`;
-
-exports[`getResourceCollectionFromContext it fetches raw data 1`] = `
-{
-  ""data"": [
     {
       ""attributes"": {
-        ""title"": ""Vegan chocolate and nut brownies"",
+        ""field_difficulty"": ""easy"",
+        ""title"": ""Victoria sponge cake"",
       },
-      ""id"": ""7862d283-ece2-4ae1-8bef-865259f72315"",
+      ""id"": ""f4fff2df-1a2a-4762-be23-6b7d5755eba1"",
       ""links"": {
         ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/7862d283-ece2-4ae1-8bef-865259f72315?resourceVersion=id%3A4"",
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/f4fff2df-1a2a-4762-be23-6b7d5755eba1?resourceVersion=id%3A10"",
         },
       },
       ""type"": ""node--recipe"",
     },
     {
       ""attributes"": {
-        ""title"": ""Super easy vegetarian pasta bake"",
+        ""field_difficulty"": ""easy"",
+        ""title"": ""Fiery chili sauce"",
       },
-      ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
+      ""id"": ""3873f7b4-790c-4f93-ac7a-b4ca71272128"",
       ""links"": {
         ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/3873f7b4-790c-4f93-ac7a-b4ca71272128?resourceVersion=id%3A18"",
         },
       },
       ""type"": ""node--recipe"",
@@ -2716,396 +2042,9 @@ exports[`getResourceCollectionFromContext it fetches raw data 1`] = `
     },
     ""version"": ""1.0"",
   },
-  ""links"": {
-    ""next"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe?fields%5Bnode--recipe%5D=title&page%5Boffset%5D=2&page%5Blimit%5D=2"",
-    },
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe?fields%5Bnode--recipe%5D=title&page%5Blimit%5D=2"",
-    },
-  },
-}
-`;
-
-exports[`getResourceFromContext it accepts a translated path 1`] = `
-{
-  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-  ""links"": {
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
-    },
-  },
-  ""path"": {
-    ""alias"": ""/recipes/deep-mediterranean-quiche"",
-    ""langcode"": ""en"",
-    ""pid"": 67,
-  },
-  ""status"": true,
-  ""title"": ""Deep mediterranean quiche - edited"",
-  ""type"": ""node--recipe"",
-}
-`;
-
-exports[`getResourceFromContext it fetches a resource from context 1`] = `
-{
-  ""changed"": ""2022-03-25T08:02:17+00:00"",
-  ""content_translation_outdated"": false,
-  ""content_translation_source"": ""und"",
-  ""created"": ""2022-03-21T10:52:42+00:00"",
-  ""default_langcode"": true,
-  ""drupal_internal__nid"": 1,
-  ""drupal_internal__vid"": 37,
-  ""field_cooking_time"": 30,
-  ""field_difficulty"": ""medium"",
-  ""field_ingredients"": [
-    ""For the pastry:"",
-    ""280g plain flour"",
-    ""140g butter"",
-    ""Cold water"",
-    ""For the filling:"",
-    ""1 onion"",
-    ""2 garlic cloves"",
-    ""Half a courgette"",
-    ""450ml soya milk"",
-    ""500g grated parmesan"",
-    ""2 eggs"",
-    ""200g sun dried tomatoes"",
-    ""100g feta"",
-  ],
-  ""field_media_image"": {
-    ""id"": ""bbfe9d97-2da2-432b-a22c-0396c08e06ca"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": 1,
-    },
-    ""type"": ""media--image"",
-  },
-  ""field_number_of_servings"": 8,
-  ""field_preparation_time"": 40,
-  ""field_recipe_category"": [
-    {
-      ""id"": ""a6c02fe4-67bf-462c-90cb-32281a07efe4"",
-      ""resourceIdObjMeta"": {
-        ""drupal_internal__target_id"": 31,
-      },
-      ""type"": ""taxonomy_term--recipe_category"",
-    },
-  ],
-  ""field_recipe_instruction"": {
-    ""format"": ""basic_html"",
-    ""processed"": ""<ol><li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
-<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
-<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
-<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
-<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
-</ol>"",
-    ""value"": ""<ol>
-	<li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
-	<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
-	<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
-	<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
-	<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
-</ol>
-"",
-  },
-  ""field_summary"": {
-    ""format"": ""basic_html"",
-    ""processed"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
-"",
-    ""value"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
-"",
-  },
-  ""field_tags"": [
-    {
-      ""id"": ""46258827-cfad-4813-99dc-287c4cb41117"",
-      ""resourceIdObjMeta"": {
-        ""drupal_internal__target_id"": 22,
-      },
-      ""type"": ""taxonomy_term--tags"",
-    },
-    {
-      ""id"": ""f32a4d84-0568-4bfd-8be3-8217d36efb6d"",
-      ""resourceIdObjMeta"": {
-        ""drupal_internal__target_id"": 13,
-      },
-      ""type"": ""taxonomy_term--tags"",
-    },
-  ],
-  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-  ""langcode"": ""en"",
   ""links"": {
     ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
-    },
-  },
-  ""moderation_state"": ""published"",
-  ""node_type"": {
-    ""id"": ""9b70a287-cade-454f-be8b-dea7b9a37c7a"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": ""recipe"",
-    },
-    ""type"": ""node_type--node_type"",
-  },
-  ""path"": {
-    ""alias"": ""/recipes/deep-mediterranean-quiche"",
-    ""langcode"": ""en"",
-    ""pid"": 67,
-  },
-  ""promote"": true,
-  ""relationshipNames"": [
-    ""node_type"",
-    ""revision_uid"",
-    ""uid"",
-    ""field_media_image"",
-    ""field_recipe_category"",
-    ""field_tags"",
-  ],
-  ""revision_log"": null,
-  ""revision_timestamp"": ""2022-03-25T08:02:17+00:00"",
-  ""revision_translation_affected"": true,
-  ""revision_uid"": {
-    ""id"": ""365cc7b5-ddc4-4b3b-939e-1494400aab4a"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": 1,
-    },
-    ""type"": ""user--user"",
-  },
-  ""status"": true,
-  ""sticky"": false,
-  ""title"": ""Deep mediterranean quiche - edited"",
-  ""type"": ""node--recipe"",
-  ""uid"": {
-    ""id"": ""9e4944e8-dd77-407a-8610-83e823b48b56"",
-    ""resourceIdObjMeta"": {
-      ""drupal_internal__target_id"": 4,
-    },
-    ""type"": ""user--user"",
-  },
-}
-`;
-
-exports[`getResourceFromContext it fetches a resource from context using locale 1`] = `
-{
-  ""field_cooking_time"": 30,
-  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-  ""links"": {
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
-    },
-  },
-  ""title"": ""Quiche mediterrneo profundo"",
-  ""type"": ""node--recipe"",
-}
-`;
-
-exports[`getResourceFromContext it fetches a resource from context with params 1`] = `
-{
-  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-  ""links"": {
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
-    },
-  },
-  ""title"": ""Deep mediterranean quiche - edited"",
-  ""type"": ""node--recipe"",
-}
-`;
-
-exports[`getResourceFromContext it fetches raw data 1`] = `
-{
-  ""data"": {
-    ""attributes"": {
-      ""title"": ""Deep mediterranean quiche - edited"",
-    },
-    ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
-      },
-    },
-    ""type"": ""node--recipe"",
-  },
-  ""jsonapi"": {
-    ""meta"": {
-      ""links"": {
-        ""self"": {
-          ""href"": ""http://jsonapi.org/format/1.0/"",
-        },
-      },
-    },
-    ""version"": ""1.0"",
-  },
-  ""links"": {
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?fields%5Bnode--recipe%5D=title&resourceVersion=rel%3Alatest-version"",
-    },
-  },
-}
-`;
-
-exports[`getSearchIndex it fetches a search index 1`] = `
-[
-  {
-    ""id"": ""3873f7b4-790c-4f93-ac7a-b4ca71272128"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/3873f7b4-790c-4f93-ac7a-b4ca71272128?resourceVersion=id%3A18"",
-      },
-    },
-    ""title"": ""Fiery chili sauce"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""f4fff2df-1a2a-4762-be23-6b7d5755eba1"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/f4fff2df-1a2a-4762-be23-6b7d5755eba1?resourceVersion=id%3A10"",
-      },
-    },
-    ""title"": ""Victoria sponge cake"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""20b576d2-2343-4b94-bd46-445ecc526e48"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/20b576d2-2343-4b94-bd46-445ecc526e48?resourceVersion=id%3A16"",
-      },
-    },
-    ""title"": ""Crema catalana"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
-      },
-    },
-    ""title"": ""Deep mediterranean quiche - edited"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
-      },
-    },
-    ""title"": ""Super easy vegetarian pasta bake"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""84e09cbf-e33e-46bd-b40c-4dda4e00937a"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/84e09cbf-e33e-46bd-b40c-4dda4e00937a?resourceVersion=id%3A12"",
-      },
-    },
-    ""title"": ""Gluten free pizza"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""194f2647-1fbb-42b1-9ea5-3a3eb0494e04"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/194f2647-1fbb-42b1-9ea5-3a3eb0494e04?resourceVersion=id%3A14"",
-      },
-    },
-    ""title"": ""Thai green curry"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""7862d283-ece2-4ae1-8bef-865259f72315"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/7862d283-ece2-4ae1-8bef-865259f72315?resourceVersion=id%3A4"",
-      },
-    },
-    ""title"": ""Vegan chocolate and nut brownies"",
-    ""type"": ""node--recipe"",
-  },
-  {
-    ""id"": ""0bf47bce-51c9-480e-9c24-cd0a457a4f9b"",
-    ""links"": {
-      ""self"": {
-        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/0bf47bce-51c9-480e-9c24-cd0a457a4f9b?resourceVersion=id%3A8"",
-      },
-    },
-    ""title"": ""Watercress soup"",
-    ""type"": ""node--recipe"",
-  },
-]
-`;
-
-exports[`getSearchIndex it fetches a search index with facets filters 1`] = `
-{
-  ""data"": [
-    {
-      ""attributes"": {
-        ""field_difficulty"": ""easy"",
-        ""title"": ""Super easy vegetarian pasta bake"",
-      },
-      ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
-        },
-      },
-      ""type"": ""node--recipe"",
-    },
-    {
-      ""attributes"": {
-        ""field_difficulty"": ""easy"",
-        ""title"": ""Watercress soup"",
-      },
-      ""id"": ""0bf47bce-51c9-480e-9c24-cd0a457a4f9b"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/0bf47bce-51c9-480e-9c24-cd0a457a4f9b?resourceVersion=id%3A8"",
-        },
-      },
-      ""type"": ""node--recipe"",
-    },
-    {
-      ""attributes"": {
-        ""field_difficulty"": ""easy"",
-        ""title"": ""Victoria sponge cake"",
-      },
-      ""id"": ""f4fff2df-1a2a-4762-be23-6b7d5755eba1"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/f4fff2df-1a2a-4762-be23-6b7d5755eba1?resourceVersion=id%3A10"",
-        },
-      },
-      ""type"": ""node--recipe"",
-    },
-    {
-      ""attributes"": {
-        ""field_difficulty"": ""easy"",
-        ""title"": ""Fiery chili sauce"",
-      },
-      ""id"": ""3873f7b4-790c-4f93-ac7a-b4ca71272128"",
-      ""links"": {
-        ""self"": {
-          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/3873f7b4-790c-4f93-ac7a-b4ca71272128?resourceVersion=id%3A18"",
-        },
-      },
-      ""type"": ""node--recipe"",
-    },
-  ],
-  ""jsonapi"": {
-    ""meta"": {
-      ""links"": {
-        ""self"": {
-          ""href"": ""http://jsonapi.org/format/1.0/"",
-        },
-      },
-    },
-    ""version"": ""1.0"",
-  },
-  ""links"": {
-    ""self"": {
-      ""href"": ""https://tests.next-drupal.org/jsonapi/index/recipes?fields%5Bnode--recipe%5D=title%2Cfield_difficulty&filter%5Bdifficulty%5D=easy"",
+      ""href"": ""https://tests.next-drupal.org/jsonapi/index/recipes?fields%5Bnode--recipe%5D=title%2Cfield_difficulty&filter%5Bdifficulty%5D=easy"",
     },
   },
   ""meta"": {
@@ -3966,7 +2905,7 @@ exports[`getSearchIndex it fetches a search index with facets filters 1`] = `
 }
 `;
 
-exports[`getSearchIndex it fetches a search index with locale 1`] = `
+exports[`getSearchIndex() fetches a search index with locale 1`] = `
 [
   {
     ""id"": ""3873f7b4-790c-4f93-ac7a-b4ca71272128"",
@@ -4061,7 +3000,7 @@ exports[`getSearchIndex it fetches a search index with locale 1`] = `
 ]
 `;
 
-exports[`getSearchIndex it fetches raw data from search index 1`] = `
+exports[`getSearchIndex() fetches raw data from search index 1`] = `
 {
   ""data"": [
     {
@@ -4788,807 +3727,209 @@ exports[`getSearchIndex it fetches raw data from search index 1`] = `
               ""data-drupal-facet-item-id"": ""title-watercress"",
               ""data-drupal-facet-item-value"": ""watercress"",
             },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""watercress"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""watercress"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""3"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-al"",
-              ""data-drupal-facet-item-value"": ""al"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""al"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""al"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""4"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-ardiente"",
-              ""data-drupal-facet-item-value"": ""ardiente"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""ardiente"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""ardiente"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""5"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-bake"",
-              ""data-drupal-facet-item-value"": ""bake"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""bake"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""bake"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""6"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-berro"",
-              ""data-drupal-facet-item-value"": ""berro"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""berro"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""berro"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""7"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-cake"",
-              ""data-drupal-facet-item-value"": ""cake"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""cake"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""cake"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""8"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-chile"",
-              ""data-drupal-facet-item-value"": ""chile"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""chile"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""chile"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-          ""9"": {
-            ""#attributes"": {
-              ""data-drupal-facet-item-count"": 1,
-              ""data-drupal-facet-item-id"": ""title-chili"",
-              ""data-drupal-facet-item-value"": ""chili"",
-            },
-            ""#title"": {
-              ""#count"": 1,
-              ""#facet"": {
-                ""show_title"": null,
-              },
-              ""#is_active"": false,
-              ""#raw_value"": ""chili"",
-              ""#show_count"": false,
-              ""#theme"": ""facets_result_item"",
-              ""#value"": ""chili"",
-            },
-            ""#type"": ""link"",
-            ""#url"": {},
-            ""#wrapper_attributes"": {
-              ""class"": [
-                ""facet-item"",
-              ],
-            },
-          },
-        },
-        ""#theme"": ""facets_item_list__links__title"",
-      },
-    ],
-  },
-}
-`;
-
-exports[`getStaticPathsFromContext it returns static paths for multiple resource types from context 1`] = `
-[
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-it-a-go-and-grow-your-own-herbs"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""dairy-free-and-delicious-milk-chocolate"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-real-deal-for-supermarket-savvy-shopping"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-umami-guide-to-our-favourite-mushrooms"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""lets-hear-it-for-carrots"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""baking-mishaps-our-troubleshooting-tips"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""skip-the-spirits-with-delicious-mocktails"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-your-oatmeal-the-ultimate-makeover"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""prueba-y-cultiva-tus-propias-hierbas"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""delicioso-chocolate-sin-lactosa"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""guia-umami-de-nuestras-setas-preferidas"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""un-aplauso-para-las-zanahorias"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""vegan-chocolate-and-nut-brownies"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""super-easy-vegetarian-pasta-bake"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""watercress-soup"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""victoria-sponge-cake"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""gluten-free-pizza"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""thai-green-curry"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""crema-catalana"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""fiery-chili-sauce"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""deep-mediterranean-quiche"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""bizcochos-veganos-de-chocolate-y-nueces"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""pasta-vegetariana-horno-super-facil"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""sopa-de-berro"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""pastel-victoria"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""pizza-sin-gluten"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""curry-verde-tailandes"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""crema-catalana"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""salsa-de-chile-ardiente"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""recipes"",
-        ""quiche-mediterrneo-profundo"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`getStaticPathsFromContext it returns static paths from context 1`] = `
-[
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-it-a-go-and-grow-your-own-herbs"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""dairy-free-and-delicious-milk-chocolate"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-real-deal-for-supermarket-savvy-shopping"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-umami-guide-to-our-favourite-mushrooms"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""lets-hear-it-for-carrots"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""baking-mishaps-our-troubleshooting-tips"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""skip-the-spirits-with-delicious-mocktails"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-your-oatmeal-the-ultimate-makeover"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`getStaticPathsFromContext it returns static paths from context with locale 1`] = `
-[
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-it-a-go-and-grow-your-own-herbs"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""dairy-free-and-delicious-milk-chocolate"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-real-deal-for-supermarket-savvy-shopping"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-umami-guide-to-our-favourite-mushrooms"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""lets-hear-it-for-carrots"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""baking-mishaps-our-troubleshooting-tips"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""skip-the-spirits-with-delicious-mocktails"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""en"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-your-oatmeal-the-ultimate-makeover"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""prueba-y-cultiva-tus-propias-hierbas"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""delicioso-chocolate-sin-lactosa"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""guia-umami-de-nuestras-setas-preferidas"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""un-aplauso-para-las-zanahorias"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
-      ],
-    },
-  },
-  {
-    ""locale"": ""es"",
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
-      ],
-    },
-  },
-]
-`;
-
-exports[`getStaticPathsFromContext it returns static paths from context with params 1`] = `
-[
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-it-a-go-and-grow-your-own-herbs"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""dairy-free-and-delicious-milk-chocolate"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-real-deal-for-supermarket-savvy-shopping"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""the-umami-guide-to-our-favourite-mushrooms"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""lets-hear-it-for-carrots"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""baking-mishaps-our-troubleshooting-tips"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""skip-the-spirits-with-delicious-mocktails"",
-      ],
-    },
-  },
-  {
-    ""params"": {
-      ""slug"": [
-        ""articles"",
-        ""give-your-oatmeal-the-ultimate-makeover"",
-      ],
-    },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""watercress"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""watercress"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""3"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-al"",
+              ""data-drupal-facet-item-value"": ""al"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""al"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""al"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""4"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-ardiente"",
+              ""data-drupal-facet-item-value"": ""ardiente"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""ardiente"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""ardiente"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""5"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-bake"",
+              ""data-drupal-facet-item-value"": ""bake"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""bake"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""bake"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""6"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-berro"",
+              ""data-drupal-facet-item-value"": ""berro"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""berro"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""berro"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""7"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-cake"",
+              ""data-drupal-facet-item-value"": ""cake"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""cake"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""cake"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""8"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-chile"",
+              ""data-drupal-facet-item-value"": ""chile"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""chile"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""chile"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+          ""9"": {
+            ""#attributes"": {
+              ""data-drupal-facet-item-count"": 1,
+              ""data-drupal-facet-item-id"": ""title-chili"",
+              ""data-drupal-facet-item-value"": ""chili"",
+            },
+            ""#title"": {
+              ""#count"": 1,
+              ""#facet"": {
+                ""show_title"": null,
+              },
+              ""#is_active"": false,
+              ""#raw_value"": ""chili"",
+              ""#show_count"": false,
+              ""#theme"": ""facets_result_item"",
+              ""#value"": ""chili"",
+            },
+            ""#type"": ""link"",
+            ""#url"": {},
+            ""#wrapper_attributes"": {
+              ""class"": [
+                ""facet-item"",
+              ],
+            },
+          },
+        },
+        ""#theme"": ""facets_item_list__links__title"",
+      },
+    ],
   },
-]
+}
 `;
 
-exports[`getView it fetches a view 1`] = `
+exports[`getView() fetches a view 1`] = `
 {
   ""id"": ""featured_articles--page_1"",
   ""links"": {
@@ -6617,7 +4958,7 @@ This low-sugar delight will meet all of those chocolate cravings and is the perf
 }
 `;
 
-exports[`getView it fetches a view with locale 1`] = `
+exports[`getView() fetches a view with locale 1`] = `
 {
   ""id"": ""featured_articles--page_1"",
   ""links"": {
@@ -6713,7 +5054,7 @@ exports[`getView it fetches a view with locale 1`] = `
 }
 `;
 
-exports[`getView it fetches a view with params 1`] = `
+exports[`getView() fetches a view with params 1`] = `
 {
   ""id"": ""featured_articles--page_1"",
   ""links"": {
@@ -6809,7 +5150,7 @@ exports[`getView it fetches a view with params 1`] = `
 }
 `;
 
-exports[`getView it fetches raw data 1`] = `
+exports[`getView() fetches raw data 1`] = `
 {
   ""id"": ""featured_articles--page_1"",
   ""links"": {
@@ -6941,65 +5282,7 @@ exports[`getView it fetches raw data 1`] = `
 }
 `;
 
-exports[`translatePath it translates a path 1`] = `
-{
-  ""entity"": {
-    ""bundle"": ""recipe"",
-    ""canonical"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
-    ""id"": ""1"",
-    ""langcode"": ""en"",
-    ""path"": ""/en/recipes/deep-mediterranean-quiche"",
-    ""type"": ""node"",
-    ""uuid"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-  },
-  ""isHomePath"": false,
-  ""jsonapi"": {
-    ""basePath"": ""/en/jsonapi"",
-    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
-    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-    ""pathPrefix"": ""en/jsonapi"",
-    ""resourceName"": ""node--recipe"",
-  },
-  ""label"": ""Deep mediterranean quiche - edited"",
-  ""meta"": {
-    ""deprecated"": {
-      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
-    },
-  },
-  ""resolved"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
-}
-`;
-
-exports[`translatePathFromContext it translates a path 1`] = `
-{
-  ""entity"": {
-    ""bundle"": ""recipe"",
-    ""canonical"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
-    ""id"": ""1"",
-    ""langcode"": ""en"",
-    ""path"": ""/en/recipes/deep-mediterranean-quiche"",
-    ""type"": ""node"",
-    ""uuid"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-  },
-  ""isHomePath"": false,
-  ""jsonapi"": {
-    ""basePath"": ""/en/jsonapi"",
-    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
-    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-    ""pathPrefix"": ""en/jsonapi"",
-    ""resourceName"": ""node--recipe"",
-  },
-  ""label"": ""Deep mediterranean quiche - edited"",
-  ""meta"": {
-    ""deprecated"": {
-      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
-    },
-  },
-  ""resolved"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
-}
-`;
-
-exports[`translatePathFromContext it translates a path with pathPrefix 1`] = `
+exports[`translatePath() translates a path 1`] = `
 {
   ""entity"": {
     ""bundle"": ""recipe"",

---FILE: packages/next-drupal/tests/DrupalClient/__snapshots__/pages-router-methods.test.ts.snap---
@@ -0,0 +1,2255 @@
+// Jest Snapshot v1, https://goo.gl/fbAQLP
+
+exports[`getPathFromContext() encodes path with punctuation 1`] = `
+{
+  ""entity"": {
+    ""bundle"": ""page"",
+    ""canonical"": ""https://tests.next-drupal.org/en/path%26with%5Epunc%26in%24path"",
+    ""id"": ""20"",
+    ""langcode"": ""en"",
+    ""path"": ""/en/path%26with%5Epunc%26in%24path"",
+    ""type"": ""node"",
+    ""uuid"": ""e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": {
+    ""basePath"": ""/en/jsonapi"",
+    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
+    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/page/e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
+    ""pathPrefix"": ""en/jsonapi"",
+    ""resourceName"": ""node--page"",
+  },
+  ""label"": ""Page with characters in path"",
+  ""meta"": {
+    ""deprecated"": {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://tests.next-drupal.org/en/path%26with%5Epunc%26in%24path"",
+}
+`;
+
+exports[`getResourceCollectionFromContext() fetches a resource collection 1`] = `
+[
+  {
+    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+      },
+    },
+    ""title"": ""Give it a go and grow your own herbs"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
+      },
+    },
+    ""title"": ""Dairy-free and delicious milk chocolate"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
+      },
+    },
+    ""title"": ""The real deal for supermarket savvy shopping"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+      },
+    },
+    ""title"": ""The Umami guide to our favorite mushrooms"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+      },
+    },
+    ""title"": ""Let's hear it for carrots"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+      },
+    },
+    ""title"": ""Baking mishaps - our troubleshooting tips"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+      },
+    },
+    ""title"": ""Skip the spirits with delicious mocktails"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+      },
+    },
+    ""title"": ""Give your oatmeal the ultimate makeover"",
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionFromContext() fetches a resource collection using locale 1`] = `
+[
+  {
+    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+      },
+    },
+    ""title"": ""Prueba y cultiva tus propias hierbas"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
+      },
+    },
+    ""title"": ""Delicioso chocolate sin lactosa"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
+      },
+    },
+    ""title"": ""El verdadero negocio para comprar en el supermercado"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+      },
+    },
+    ""title"": ""Gua Umami de nuestras setas preferidas"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+      },
+    },
+    ""title"": ""Un aplauso para las zanahorias"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+      },
+    },
+    ""title"": ""Percances al hornear - nuestros consejos para solucionar los problemas"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+      },
+    },
+    ""title"": ""Salta los espritus con deliciosos ccteles sin alcohol"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+      },
+    },
+    ""title"": ""Dale a tu avena el cambio de imagen definitivo"",
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionFromContext() fetches raw data 1`] = `
+{
+  ""data"": [
+    {
+      ""attributes"": {
+        ""title"": ""Vegan chocolate and nut brownies"",
+      },
+      ""id"": ""7862d283-ece2-4ae1-8bef-865259f72315"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/7862d283-ece2-4ae1-8bef-865259f72315?resourceVersion=id%3A4"",
+        },
+      },
+      ""type"": ""node--recipe"",
+    },
+    {
+      ""attributes"": {
+        ""title"": ""Super easy vegetarian pasta bake"",
+      },
+      ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
+        },
+      },
+      ""type"": ""node--recipe"",
+    },
+  ],
+  ""jsonapi"": {
+    ""meta"": {
+      ""links"": {
+        ""self"": {
+          ""href"": ""http://jsonapi.org/format/1.0/"",
+        },
+      },
+    },
+    ""version"": ""1.0"",
+  },
+  ""links"": {
+    ""next"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe?fields%5Bnode--recipe%5D=title&page%5Boffset%5D=2&page%5Blimit%5D=2"",
+    },
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe?fields%5Bnode--recipe%5D=title&page%5Blimit%5D=2"",
+    },
+  },
+}
+`;
+
+exports[`getResourceFromContext() accepts a translated path 1`] = `
+{
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""path"": {
+    ""alias"": ""/recipes/deep-mediterranean-quiche"",
+    ""langcode"": ""en"",
+    ""pid"": 67,
+  },
+  ""status"": true,
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResourceFromContext() fetches a resource from context 1`] = `
+{
+  ""changed"": ""2022-03-25T08:02:17+00:00"",
+  ""content_translation_outdated"": false,
+  ""content_translation_source"": ""und"",
+  ""created"": ""2022-03-21T10:52:42+00:00"",
+  ""default_langcode"": true,
+  ""drupal_internal__nid"": 1,
+  ""drupal_internal__vid"": 37,
+  ""field_cooking_time"": 30,
+  ""field_difficulty"": ""medium"",
+  ""field_ingredients"": [
+    ""For the pastry:"",
+    ""280g plain flour"",
+    ""140g butter"",
+    ""Cold water"",
+    ""For the filling:"",
+    ""1 onion"",
+    ""2 garlic cloves"",
+    ""Half a courgette"",
+    ""450ml soya milk"",
+    ""500g grated parmesan"",
+    ""2 eggs"",
+    ""200g sun dried tomatoes"",
+    ""100g feta"",
+  ],
+  ""field_media_image"": {
+    ""id"": ""bbfe9d97-2da2-432b-a22c-0396c08e06ca"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 1,
+    },
+    ""type"": ""media--image"",
+  },
+  ""field_number_of_servings"": 8,
+  ""field_preparation_time"": 40,
+  ""field_recipe_category"": [
+    {
+      ""id"": ""a6c02fe4-67bf-462c-90cb-32281a07efe4"",
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 31,
+      },
+      ""type"": ""taxonomy_term--recipe_category"",
+    },
+  ],
+  ""field_recipe_instruction"": {
+    ""format"": ""basic_html"",
+    ""processed"": ""<ol><li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
+<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
+<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
+<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
+<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
+</ol>"",
+    ""value"": ""<ol>
+	<li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
+	<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
+	<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
+	<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
+	<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
+</ol>
+"",
+  },
+  ""field_summary"": {
+    ""format"": ""basic_html"",
+    ""processed"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
+"",
+    ""value"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
+"",
+  },
+  ""field_tags"": [
+    {
+      ""id"": ""46258827-cfad-4813-99dc-287c4cb41117"",
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 22,
+      },
+      ""type"": ""taxonomy_term--tags"",
+    },
+    {
+      ""id"": ""f32a4d84-0568-4bfd-8be3-8217d36efb6d"",
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 13,
+      },
+      ""type"": ""taxonomy_term--tags"",
+    },
+  ],
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""langcode"": ""en"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""moderation_state"": ""published"",
+  ""node_type"": {
+    ""id"": ""9b70a287-cade-454f-be8b-dea7b9a37c7a"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": ""recipe"",
+    },
+    ""type"": ""node_type--node_type"",
+  },
+  ""path"": {
+    ""alias"": ""/recipes/deep-mediterranean-quiche"",
+    ""langcode"": ""en"",
+    ""pid"": 67,
+  },
+  ""promote"": true,
+  ""relationshipNames"": [
+    ""node_type"",
+    ""revision_uid"",
+    ""uid"",
+    ""field_media_image"",
+    ""field_recipe_category"",
+    ""field_tags"",
+  ],
+  ""revision_log"": null,
+  ""revision_timestamp"": ""2022-03-25T08:02:17+00:00"",
+  ""revision_translation_affected"": true,
+  ""revision_uid"": {
+    ""id"": ""365cc7b5-ddc4-4b3b-939e-1494400aab4a"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 1,
+    },
+    ""type"": ""user--user"",
+  },
+  ""status"": true,
+  ""sticky"": false,
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+  ""uid"": {
+    ""id"": ""9e4944e8-dd77-407a-8610-83e823b48b56"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 4,
+    },
+    ""type"": ""user--user"",
+  },
+}
+`;
+
+exports[`getResourceFromContext() fetches a resource from context using locale 1`] = `
+{
+  ""field_cooking_time"": 30,
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""title"": ""Quiche mediterrneo profundo"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResourceFromContext() fetches a resource from context with params 1`] = `
+{
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResourceFromContext() fetches raw data 1`] = `
+{
+  ""data"": {
+    ""attributes"": {
+      ""title"": ""Deep mediterranean quiche - edited"",
+    },
+    ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+      },
+    },
+    ""type"": ""node--recipe"",
+  },
+  ""jsonapi"": {
+    ""meta"": {
+      ""links"": {
+        ""self"": {
+          ""href"": ""http://jsonapi.org/format/1.0/"",
+        },
+      },
+    },
+    ""version"": ""1.0"",
+  },
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?fields%5Bnode--recipe%5D=title&resourceVersion=rel%3Alatest-version"",
+    },
+  },
+}
+`;
+
+exports[`getStaticPathsFromContext() returns static paths for multiple resource types from context 1`] = `
+[
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""prueba-y-cultiva-tus-propias-hierbas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""delicioso-chocolate-sin-lactosa"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""guia-umami-de-nuestras-setas-preferidas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""un-aplauso-para-las-zanahorias"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""vegan-chocolate-and-nut-brownies"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""super-easy-vegetarian-pasta-bake"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""watercress-soup"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""victoria-sponge-cake"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""gluten-free-pizza"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""thai-green-curry"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""crema-catalana"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""fiery-chili-sauce"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""deep-mediterranean-quiche"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""bizcochos-veganos-de-chocolate-y-nueces"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""pasta-vegetariana-horno-super-facil"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""sopa-de-berro"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""pastel-victoria"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""pizza-sin-gluten"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""curry-verde-tailandes"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""crema-catalana"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""salsa-de-chile-ardiente"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""quiche-mediterrneo-profundo"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`getStaticPathsFromContext() returns static paths from context 1`] = `
+[
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`getStaticPathsFromContext() returns static paths from context with locale 1`] = `
+[
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""prueba-y-cultiva-tus-propias-hierbas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""delicioso-chocolate-sin-lactosa"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""guia-umami-de-nuestras-setas-preferidas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""un-aplauso-para-las-zanahorias"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`getStaticPathsFromContext() returns static paths from context with params 1`] = `
+[
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`translatePathFromContext() translates a path 1`] = `
+{
+  ""entity"": {
+    ""bundle"": ""recipe"",
+    ""canonical"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+    ""id"": ""1"",
+    ""langcode"": ""en"",
+    ""path"": ""/en/recipes/deep-mediterranean-quiche"",
+    ""type"": ""node"",
+    ""uuid"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": {
+    ""basePath"": ""/en/jsonapi"",
+    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
+    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    ""pathPrefix"": ""en/jsonapi"",
+    ""resourceName"": ""node--recipe"",
+  },
+  ""label"": ""Deep mediterranean quiche - edited"",
+  ""meta"": {
+    ""deprecated"": {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+}
+`;
+
+exports[`translatePathFromContext() translates a path with pathPrefix 1`] = `
+{
+  ""entity"": {
+    ""bundle"": ""recipe"",
+    ""canonical"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+    ""id"": ""1"",
+    ""langcode"": ""en"",
+    ""path"": ""/en/recipes/deep-mediterranean-quiche"",
+    ""type"": ""node"",
+    ""uuid"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": {
+    ""basePath"": ""/en/jsonapi"",
+    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
+    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    ""pathPrefix"": ""en/jsonapi"",
+    ""resourceName"": ""node--recipe"",
+  },
+  ""label"": ""Deep mediterranean quiche - edited"",
+  ""meta"": {
+    ""deprecated"": {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+}
+`;
+
+exports[`getPathFromContext() encodes path with punctuation 1`] = `
+{
+  ""entity"": {
+    ""bundle"": ""page"",
+    ""canonical"": ""https://tests.next-drupal.org/en/path%26with%5Epunc%26in%24path"",
+    ""id"": ""20"",
+    ""langcode"": ""en"",
+    ""path"": ""/en/path%26with%5Epunc%26in%24path"",
+    ""type"": ""node"",
+    ""uuid"": ""e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": {
+    ""basePath"": ""/en/jsonapi"",
+    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
+    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/page/e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
+    ""pathPrefix"": ""en/jsonapi"",
+    ""resourceName"": ""node--page"",
+  },
+  ""label"": ""Page with characters in path"",
+  ""meta"": {
+    ""deprecated"": {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://tests.next-drupal.org/en/path%26with%5Epunc%26in%24path"",
+}
+`;
+
+exports[`getResourceCollectionFromContext() fetches a resource collection 1`] = `
+[
+  {
+    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+      },
+    },
+    ""title"": ""Give it a go and grow your own herbs"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
+      },
+    },
+    ""title"": ""Dairy-free and delicious milk chocolate"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
+      },
+    },
+    ""title"": ""The real deal for supermarket savvy shopping"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+      },
+    },
+    ""title"": ""The Umami guide to our favorite mushrooms"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+      },
+    },
+    ""title"": ""Let's hear it for carrots"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+      },
+    },
+    ""title"": ""Baking mishaps - our troubleshooting tips"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+      },
+    },
+    ""title"": ""Skip the spirits with delicious mocktails"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+      },
+    },
+    ""title"": ""Give your oatmeal the ultimate makeover"",
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionFromContext() fetches a resource collection using locale 1`] = `
+[
+  {
+    ""id"": ""52837ad0-f218-46bd-a106-5710336b7053"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053?resourceVersion=id%3A20"",
+      },
+    },
+    ""title"": ""Prueba y cultiva tus propias hierbas"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""3d5a7bca-5b4a-49ee-87d2-cbe313562903"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/3d5a7bca-5b4a-49ee-87d2-cbe313562903?resourceVersion=id%3A22"",
+      },
+    },
+    ""title"": ""Delicioso chocolate sin lactosa"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""a1ef61c9-ed15-4b6d-bba2-bf6e5141f961"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/a1ef61c9-ed15-4b6d-bba2-bf6e5141f961?resourceVersion=id%3A24"",
+      },
+    },
+    ""title"": ""El verdadero negocio para comprar en el supermercado"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ac0b8b56-db8d-4322-9b1e-224f22083f0d"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/ac0b8b56-db8d-4322-9b1e-224f22083f0d?resourceVersion=id%3A26"",
+      },
+    },
+    ""title"": ""Gua Umami de nuestras setas preferidas"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""22874ecc-0443-441b-a3c9-3aa94d85b800"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/22874ecc-0443-441b-a3c9-3aa94d85b800?resourceVersion=id%3A28"",
+      },
+    },
+    ""title"": ""Un aplauso para las zanahorias"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""ec51b1de-f51e-4761-b061-aa2624e58b4a"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/ec51b1de-f51e-4761-b061-aa2624e58b4a?resourceVersion=id%3A30"",
+      },
+    },
+    ""title"": ""Percances al hornear - nuestros consejos para solucionar los problemas"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""d5b9ef80-c0aa-45ca-88e7-79c28abe5d50"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/d5b9ef80-c0aa-45ca-88e7-79c28abe5d50?resourceVersion=id%3A32"",
+      },
+    },
+    ""title"": ""Salta los espritus con deliciosos ccteles sin alcohol"",
+    ""type"": ""node--article"",
+  },
+  {
+    ""id"": ""6c7c249f-cd1a-41d5-944b-b3bfce68b325"",
+    ""langcode"": ""es"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/article/6c7c249f-cd1a-41d5-944b-b3bfce68b325?resourceVersion=id%3A34"",
+      },
+    },
+    ""title"": ""Dale a tu avena el cambio de imagen definitivo"",
+    ""type"": ""node--article"",
+  },
+]
+`;
+
+exports[`getResourceCollectionFromContext() fetches raw data 1`] = `
+{
+  ""data"": [
+    {
+      ""attributes"": {
+        ""title"": ""Vegan chocolate and nut brownies"",
+      },
+      ""id"": ""7862d283-ece2-4ae1-8bef-865259f72315"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/7862d283-ece2-4ae1-8bef-865259f72315?resourceVersion=id%3A4"",
+        },
+      },
+      ""type"": ""node--recipe"",
+    },
+    {
+      ""attributes"": {
+        ""title"": ""Super easy vegetarian pasta bake"",
+      },
+      ""id"": ""8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7"",
+      ""links"": {
+        ""self"": {
+          ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/8d4b237f-f6fe-4bb1-95ef-f9e3b3f9d6b7?resourceVersion=id%3A6"",
+        },
+      },
+      ""type"": ""node--recipe"",
+    },
+  ],
+  ""jsonapi"": {
+    ""meta"": {
+      ""links"": {
+        ""self"": {
+          ""href"": ""http://jsonapi.org/format/1.0/"",
+        },
+      },
+    },
+    ""version"": ""1.0"",
+  },
+  ""links"": {
+    ""next"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe?fields%5Bnode--recipe%5D=title&page%5Boffset%5D=2&page%5Blimit%5D=2"",
+    },
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe?fields%5Bnode--recipe%5D=title&page%5Blimit%5D=2"",
+    },
+  },
+}
+`;
+
+exports[`getResourceFromContext() accepts a translated path 1`] = `
+{
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""path"": {
+    ""alias"": ""/recipes/deep-mediterranean-quiche"",
+    ""langcode"": ""en"",
+    ""pid"": 67,
+  },
+  ""status"": true,
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResourceFromContext() fetches a resource from context 1`] = `
+{
+  ""changed"": ""2022-03-25T08:02:17+00:00"",
+  ""content_translation_outdated"": false,
+  ""content_translation_source"": ""und"",
+  ""created"": ""2022-03-21T10:52:42+00:00"",
+  ""default_langcode"": true,
+  ""drupal_internal__nid"": 1,
+  ""drupal_internal__vid"": 37,
+  ""field_cooking_time"": 30,
+  ""field_difficulty"": ""medium"",
+  ""field_ingredients"": [
+    ""For the pastry:"",
+    ""280g plain flour"",
+    ""140g butter"",
+    ""Cold water"",
+    ""For the filling:"",
+    ""1 onion"",
+    ""2 garlic cloves"",
+    ""Half a courgette"",
+    ""450ml soya milk"",
+    ""500g grated parmesan"",
+    ""2 eggs"",
+    ""200g sun dried tomatoes"",
+    ""100g feta"",
+  ],
+  ""field_media_image"": {
+    ""id"": ""bbfe9d97-2da2-432b-a22c-0396c08e06ca"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 1,
+    },
+    ""type"": ""media--image"",
+  },
+  ""field_number_of_servings"": 8,
+  ""field_preparation_time"": 40,
+  ""field_recipe_category"": [
+    {
+      ""id"": ""a6c02fe4-67bf-462c-90cb-32281a07efe4"",
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 31,
+      },
+      ""type"": ""taxonomy_term--recipe_category"",
+    },
+  ],
+  ""field_recipe_instruction"": {
+    ""format"": ""basic_html"",
+    ""processed"": ""<ol><li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
+<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
+<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
+<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
+<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
+</ol>"",
+    ""value"": ""<ol>
+	<li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
+	<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
+	<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
+	<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
+	<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
+</ol>
+"",
+  },
+  ""field_summary"": {
+    ""format"": ""basic_html"",
+    ""processed"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
+"",
+    ""value"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
+"",
+  },
+  ""field_tags"": [
+    {
+      ""id"": ""46258827-cfad-4813-99dc-287c4cb41117"",
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 22,
+      },
+      ""type"": ""taxonomy_term--tags"",
+    },
+    {
+      ""id"": ""f32a4d84-0568-4bfd-8be3-8217d36efb6d"",
+      ""resourceIdObjMeta"": {
+        ""drupal_internal__target_id"": 13,
+      },
+      ""type"": ""taxonomy_term--tags"",
+    },
+  ],
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""langcode"": ""en"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""moderation_state"": ""published"",
+  ""node_type"": {
+    ""id"": ""9b70a287-cade-454f-be8b-dea7b9a37c7a"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": ""recipe"",
+    },
+    ""type"": ""node_type--node_type"",
+  },
+  ""path"": {
+    ""alias"": ""/recipes/deep-mediterranean-quiche"",
+    ""langcode"": ""en"",
+    ""pid"": 67,
+  },
+  ""promote"": true,
+  ""relationshipNames"": [
+    ""node_type"",
+    ""revision_uid"",
+    ""uid"",
+    ""field_media_image"",
+    ""field_recipe_category"",
+    ""field_tags"",
+  ],
+  ""revision_log"": null,
+  ""revision_timestamp"": ""2022-03-25T08:02:17+00:00"",
+  ""revision_translation_affected"": true,
+  ""revision_uid"": {
+    ""id"": ""365cc7b5-ddc4-4b3b-939e-1494400aab4a"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 1,
+    },
+    ""type"": ""user--user"",
+  },
+  ""status"": true,
+  ""sticky"": false,
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+  ""uid"": {
+    ""id"": ""9e4944e8-dd77-407a-8610-83e823b48b56"",
+    ""resourceIdObjMeta"": {
+      ""drupal_internal__target_id"": 4,
+    },
+    ""type"": ""user--user"",
+  },
+}
+`;
+
+exports[`getResourceFromContext() fetches a resource from context using locale 1`] = `
+{
+  ""field_cooking_time"": 30,
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/es/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""title"": ""Quiche mediterrneo profundo"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResourceFromContext() fetches a resource from context with params 1`] = `
+{
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResourceFromContext() fetches raw data 1`] = `
+{
+  ""data"": {
+    ""attributes"": {
+      ""title"": ""Deep mediterranean quiche - edited"",
+    },
+    ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    ""links"": {
+      ""self"": {
+        ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+      },
+    },
+    ""type"": ""node--recipe"",
+  },
+  ""jsonapi"": {
+    ""meta"": {
+      ""links"": {
+        ""self"": {
+          ""href"": ""http://jsonapi.org/format/1.0/"",
+        },
+      },
+    },
+    ""version"": ""1.0"",
+  },
+  ""links"": {
+    ""self"": {
+      ""href"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?fields%5Bnode--recipe%5D=title&resourceVersion=rel%3Alatest-version"",
+    },
+  },
+}
+`;
+
+exports[`getStaticPathsFromContext() returns static paths for multiple resource types from context 1`] = `
+[
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""prueba-y-cultiva-tus-propias-hierbas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""delicioso-chocolate-sin-lactosa"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""guia-umami-de-nuestras-setas-preferidas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""un-aplauso-para-las-zanahorias"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""vegan-chocolate-and-nut-brownies"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""super-easy-vegetarian-pasta-bake"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""watercress-soup"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""victoria-sponge-cake"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""gluten-free-pizza"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""thai-green-curry"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""crema-catalana"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""fiery-chili-sauce"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""deep-mediterranean-quiche"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""bizcochos-veganos-de-chocolate-y-nueces"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""pasta-vegetariana-horno-super-facil"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""sopa-de-berro"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""pastel-victoria"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""pizza-sin-gluten"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""curry-verde-tailandes"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""crema-catalana"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""salsa-de-chile-ardiente"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""recipes"",
+        ""quiche-mediterrneo-profundo"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`getStaticPathsFromContext() returns static paths from context 1`] = `
+[
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`getStaticPathsFromContext() returns static paths from context with locale 1`] = `
+[
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""en"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""prueba-y-cultiva-tus-propias-hierbas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""delicioso-chocolate-sin-lactosa"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""el-verdadeo-negocio-para-comprar-en-el-supermercado"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""guia-umami-de-nuestras-setas-preferidas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""un-aplauso-para-las-zanahorias"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""percances-al-hornear-nuestros-consejos-para-solucionar-problemas"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""salta-los-espiritus-con-deliciosos-cocteles-sin-alcohol"",
+      ],
+    },
+  },
+  {
+    ""locale"": ""es"",
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dale-a-tu-avena-el-cambio-de-imagen-definitivo"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`getStaticPathsFromContext() returns static paths from context with params 1`] = `
+[
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-it-a-go-and-grow-your-own-herbs"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""dairy-free-and-delicious-milk-chocolate"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-real-deal-for-supermarket-savvy-shopping"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""the-umami-guide-to-our-favourite-mushrooms"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""lets-hear-it-for-carrots"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""baking-mishaps-our-troubleshooting-tips"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""skip-the-spirits-with-delicious-mocktails"",
+      ],
+    },
+  },
+  {
+    ""params"": {
+      ""slug"": [
+        ""articles"",
+        ""give-your-oatmeal-the-ultimate-makeover"",
+      ],
+    },
+  },
+]
+`;
+
+exports[`translatePathFromContext() translates a path 1`] = `
+{
+  ""entity"": {
+    ""bundle"": ""recipe"",
+    ""canonical"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+    ""id"": ""1"",
+    ""langcode"": ""en"",
+    ""path"": ""/en/recipes/deep-mediterranean-quiche"",
+    ""type"": ""node"",
+    ""uuid"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": {
+    ""basePath"": ""/en/jsonapi"",
+    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
+    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    ""pathPrefix"": ""en/jsonapi"",
+    ""resourceName"": ""node--recipe"",
+  },
+  ""label"": ""Deep mediterranean quiche - edited"",
+  ""meta"": {
+    ""deprecated"": {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+}
+`;
+
+exports[`translatePathFromContext() translates a path with pathPrefix 1`] = `
+{
+  ""entity"": {
+    ""bundle"": ""recipe"",
+    ""canonical"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+    ""id"": ""1"",
+    ""langcode"": ""en"",
+    ""path"": ""/en/recipes/deep-mediterranean-quiche"",
+    ""type"": ""node"",
+    ""uuid"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": {
+    ""basePath"": ""/en/jsonapi"",
+    ""entryPoint"": ""https://tests.next-drupal.org/en/jsonapi"",
+    ""individual"": ""https://tests.next-drupal.org/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+    ""pathPrefix"": ""en/jsonapi"",
+    ""resourceName"": ""node--recipe"",
+  },
+  ""label"": ""Deep mediterranean quiche - edited"",
+  ""meta"": {
+    ""deprecated"": {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://tests.next-drupal.org/en/recipes/deep-mediterranean-quiche"",
+}
+`;

---FILE: packages/next-drupal/tests/DrupalClient/basic-methods.test.ts---
@@ -0,0 +1,597 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { NextApiRequest, NextApiResponse } from ""next""
+import { DRAFT_DATA_COOKIE_NAME, DrupalClient, JsonApiErrors } from ""../../src""
+import { BASE_URL, mockLogger, spyOnFetch, spyOnFetchOnce } from ""../utils""
+import type { DrupalNode, JsonApiError, Serializer } from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""buildMenuTree()"", () => {
+  test.todo(""add tests"")
+})
+
+describe(""buildUrl()"", () => {
+  const client = new DrupalClient(BASE_URL)
+
+  test(""builds a url"", () => {
+    expect(client.buildUrl(""http://example.com"").toString()).toEqual(
+      ""http://example.com/""
+    )
+  })
+
+  test(""builds a relative url"", () => {
+    expect(client.buildUrl(""/foo"").toString()).toEqual(`${BASE_URL}/foo`)
+  })
+
+  test(""builds a url with params"", () => {
+    expect(client.buildUrl(""/foo"", { bar: ""baz"" }).toString()).toEqual(
+      `${BASE_URL}/foo?bar=baz`
+    )
+
+    expect(
+      client
+        .buildUrl(""/jsonapi/node/article"", {
+          sort: ""-created"",
+          ""fields[node--article]"": ""title,path"",
+        })
+        .toString()
+    ).toEqual(
+      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
+    )
+  })
+
+  test(""builds a url from object (DrupalJsonApiParams)"", () => {
+    const params = {
+      getQueryObject: () => ({
+        sort: ""-created"",
+        ""fields[node--article]"": ""title,path"",
+      }),
+    }
+
+    expect(client.buildUrl(""/jsonapi/node/article"", params).toString()).toEqual(
+      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
+    )
+  })
+})
+
+describe(""debug()"", () => {
+  test(""does not print messages by default"", () => {
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, { logger })
+    const message = ""Example message""
+    client.debug(message)
+    expect(logger.debug).not.toHaveBeenCalled()
+  })
+
+  test(""prints messages when debugging on"", () => {
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, { logger, debug: true })
+    const message = ""Example message""
+    client.debug(message)
+    expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
+    expect(logger.debug).toHaveBeenCalledWith(message)
+  })
+})
+
+describe(""deserialize()"", () => {
+  test(""deserializes JSON:API resource"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const url = client.buildUrl(
+      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053"",
+      {
+        include: ""field_tags"",
+      }
+    )
+
+    const response = await client.fetch(url.toString())
+    const json = await response.json()
+    const article = client.deserialize(json) as DrupalNode
+
+    expect(article).toMatchSnapshot()
+    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
+    expect(article.field_tags).toHaveLength(3)
+  })
+
+  test(""deserializes JSON:API collection"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const url = client.buildUrl(""/jsonapi/node/article"", {
+      getQueryObject: () => ({
+        ""fields[node--article]"": ""title"",
+      }),
+    })
+
+    const response = await client.fetch(url.toString())
+    const json = await response.json()
+    const articles = client.deserialize(json) as DrupalNode[]
+
+    expect(articles).toMatchSnapshot()
+  })
+
+  test(""allows for custom data serializer"", async () => {
+    const serializer: Serializer = {
+      deserialize: (
+        body: { data: { id: string; attributes: { title: string } } },
+        options: { pathPrefix: string }
+      ) => {
+        return {
+          id: body.data.id,
+          title: `${options.pathPrefix}: ${body.data.attributes.title}`,
+        }
+      },
+    }
+    const client = new DrupalClient(BASE_URL, {
+      serializer,
+    })
+    const url = client.buildUrl(
+      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
+    )
+
+    const response = await client.fetch(url.toString())
+    const json = await response.json()
+    const article = client.deserialize(json, {
+      pathPrefix: ""TITLE"",
+    }) as DrupalNode
+
+    expect(article).toMatchSnapshot()
+    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
+    expect(article.title).toEqual(`TITLE: ${json.data.attributes.title}`)
+  })
+
+  test(""returns null if no body"", () => {
+    const client = new DrupalClient(BASE_URL)
+    expect(client.deserialize("""")).toBe(null)
+  })
+})
+
+describe(""formatJsonApiErrors()"", () => {
+  const errors: JsonApiError[] = [
+    {
+      status: ""404"",
+      title: ""First error"",
+    },
+    {
+      status: ""500"",
+      title: ""Second error"",
+      detail: ""is ignored"",
+    },
+  ]
+  const client = new DrupalClient(BASE_URL)
+
+  test(""formats the first error in the array"", () => {
+    expect(client.formatJsonApiErrors(errors)).toBe(""404 First error"")
+  })
+
+  test(""includes the optional error detail"", () => {
+    expect(
+      client.formatJsonApiErrors([
+        {
+          ...errors[0],
+          detail: ""Detail is included."",
+        },
+        errors[1],
+      ])
+    ).toBe(""404 First error\nDetail is included."")
+  })
+})
+
+describe(""getErrorsFromResponse()"", () => {
+  const client = new DrupalClient(BASE_URL)
+
+  test(""returns application/json error message"", async () => {
+    const message = ""An error occurred.""
+    const response = new Response(JSON.stringify({ message }), {
+      status: 403,
+      headers: {
+        ""content-type"": ""application/json"",
+      },
+    })
+
+    expect(await client.getErrorsFromResponse(response)).toBe(message)
+  })
+
+  test(""returns application/vnd.api+json errors"", async () => {
+    const payload = {
+      errors: [
+        {
+          status: ""404"",
+          title: ""Not found"",
+          detail: ""Oops."",
+        },
+        {
+          status: ""418"",
+          title: ""I am a teapot"",
+          detail: ""Even RFCs have easter eggs."",
+        },
+      ] as JsonApiError[],
+    }
+    const response = new Response(JSON.stringify(payload), {
+      status: 403,
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    expect(await client.getErrorsFromResponse(response)).toMatchObject(
+      payload.errors
+    )
+  })
+
+  test(""returns the response status text if the application/vnd.api+json errors cannot be found"", async () => {
+    const payload = {
+      contains: 'no ""errors"" entry',
+    }
+    const response = new Response(JSON.stringify(payload), {
+      status: 418,
+      statusText: ""I'm a Teapot"",
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    expect(await client.getErrorsFromResponse(response)).toBe(""I'm a Teapot"")
+  })
+
+  test(""returns the response status text if no errors can be found"", async () => {
+    const response = new Response(JSON.stringify({}), {
+      status: 403,
+      statusText: ""Forbidden"",
+    })
+
+    expect(await client.getErrorsFromResponse(response)).toBe(""Forbidden"")
+  })
+})
+
+describe(""preview()"", () => {
+  // Get values from our mocked request.
+  // eslint-disable-next-line @typescript-eslint/no-unused-vars
+  const { slug, resourceVersion, plugin, secret, ...draftData } =
+    new NextApiRequest().query
+  const dataCookie = `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
+    JSON.stringify({ slug, resourceVersion, ...draftData })
+  )}; Path=/; HttpOnly; SameSite=None; Secure`
+  const validationPayload = {
+    slug,
+    maxAge: 30,
+  }
+
+  test(""turns on preview mode and clears preview data"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+    spyOnFetch({ responseBody: validationPayload })
+
+    await client.preview(request, response)
+
+    expect(response.clearPreviewData).toBeCalledTimes(1)
+    expect(response.setPreviewData).toBeCalledWith({
+      resourceVersion,
+      plugin,
+      ...validationPayload,
+    })
+  })
+
+  test(""does not enable preview mode if validation fails"", async () => {
+    const logger = mockLogger()
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL, { debug: true, logger })
+    const status = 403
+    const message = ""mock fail""
+    spyOnFetch({
+      responseBody: { message },
+      status,
+      headers: {
+        ""Content-Type"": ""application/json"",
+      },
+    })
+
+    await client.preview(request, response)
+
+    expect(logger.debug).toBeCalledWith(
+      `Draft url validation error: ${message}`
+    )
+    expect(response.setPreviewData).toBeCalledTimes(0)
+    expect(response.statusCode).toBe(status)
+    expect(response.json).toBeCalledWith({ message })
+  })
+
+  test(""does not turn on draft mode by default"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+    spyOnFetch({ responseBody: validationPayload })
+
+    await client.preview(request, response)
+
+    expect(response.setDraftMode).toBeCalledTimes(0)
+
+    // Also check for no draft data cookie.
+    const cookies = response.getHeader(""Set-Cookie"")
+    expect(cookies[cookies.length - 1]).not.toBe(dataCookie)
+  })
+
+  test(""optionally turns on draft mode"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, {
+      debug: true,
+      logger,
+    })
+    spyOnFetch({ responseBody: validationPayload })
+
+    const options = { enable: true }
+    await client.preview(request, response, options)
+
+    expect(response.setDraftMode).toBeCalledWith(options)
+
+    // Also check for draft data cookie.
+    const cookies = response.getHeader(""Set-Cookie"")
+    expect(cookies[cookies.length - 1]).toBe(dataCookie)
+
+    expect(logger.debug).toHaveBeenLastCalledWith(""Draft mode enabled."")
+  })
+
+  test(""updates preview mode cookies sameSite flag"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+    spyOnFetch({ responseBody: validationPayload })
+
+    // Our mock response.setPreviewData() does not set a cookie, so we set one.
+    const previewCookie =
+      ""__next_preview_data=secret-data; Path=/; HttpOnly; SameSite=Lax""
+    response.setHeader(""Set-Cookie"", [
+      previewCookie,
+      ...response.getHeader(""Set-Cookie""),
+    ])
+
+    const cookies = response.getHeader(""Set-Cookie"")
+    cookies[0] = cookies[0].replace(""SameSite=Lax"", ""SameSite=None; Secure"")
+
+    await client.preview(request, response)
+
+    expect(response.getHeader).toHaveBeenLastCalledWith(""Set-Cookie"")
+    expect(response.setHeader).toHaveBeenLastCalledWith(""Set-Cookie"", cookies)
+    expect(response.getHeader(""Set-Cookie"")).toStrictEqual(cookies)
+  })
+
+  test(""redirects to the slug path"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, { debug: true, logger })
+    spyOnFetch({ responseBody: validationPayload })
+
+    await client.preview(request, response)
+
+    expect(response.setPreviewData).toBeCalledWith({
+      resourceVersion,
+      plugin,
+      ...validationPayload,
+    })
+    expect(response.writeHead).toBeCalledWith(307, { Location: slug })
+    expect(logger.debug).toHaveBeenLastCalledWith(""Preview mode enabled."")
+  })
+
+  test(""returns a 422 response on error"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, { debug: true, logger })
+    const message = ""mock internal error""
+    response.clearPreviewData = jest.fn(() => {
+      throw new Error(message)
+    })
+
+    await client.preview(request, response)
+
+    expect(logger.debug).toHaveBeenLastCalledWith(`Preview failed: ${message}`)
+    expect(response.status).toBeCalledWith(422)
+    expect(response.end).toHaveBeenCalled()
+  })
+})
+
+describe(""previewDisable()"", () => {
+  test(""clears preview data"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+
+    await client.previewDisable(request, response)
+    expect(response.clearPreviewData).toBeCalledTimes(1)
+  })
+
+  test(""disables draft mode"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+
+    await client.previewDisable(request, response)
+    expect(response.setDraftMode).toBeCalledWith({ enable: false })
+  })
+
+  test(""deletes the draft cookie"", async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+
+    await client.previewDisable(request, response)
+    const cookies = response.getHeader(""Set-Cookie"")
+    expect(cookies[cookies.length - 1]).toBe(
+      `${DRAFT_DATA_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=None; Secure`
+    )
+  })
+
+  test('redirects to ""/""', async () => {
+    const request = new NextApiRequest()
+    const response = new NextApiResponse()
+    const client = new DrupalClient(BASE_URL)
+
+    await client.previewDisable(request, response)
+    expect(response.writeHead).toBeCalledWith(307, { Location: ""/"" })
+    expect(response.end).toBeCalled()
+  })
+})
+
+describe(""throwError()"", () => {
+  test(""throws the error"", () => {
+    const client = new DrupalClient(BASE_URL)
+    expect(() => {
+      client.throwError(new Error(""Example error""))
+    }).toThrow(""Example error"")
+  })
+
+  test(""logs the error when throwJsonApiErrors is false"", () => {
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, {
+      throwJsonApiErrors: false,
+      logger,
+    })
+    expect(() => {
+      client.throwError(new Error(""Example error""))
+    }).not.toThrow()
+    expect(logger.error).toHaveBeenCalledWith(new Error(""Example error""))
+  })
+})
+
+describe(""throwIfJsonApiErrors()"", () => {
+  const client = new DrupalClient(BASE_URL)
+
+  test(""does not throw if response is ok"", async () => {
+    expect.assertions(1)
+
+    const response = new Response(JSON.stringify({}))
+
+    await expect(client.throwIfJsonApiErrors(response)).resolves.toBe(undefined)
+  })
+
+  test(""throws a JsonApiErrors object"", async () => {
+    expect.assertions(1)
+
+    const payload = {
+      errors: [
+        {
+          status: ""404"",
+          title: ""Not found"",
+          detail: ""Oops."",
+        },
+        {
+          status: ""418"",
+          title: ""I am a teapot"",
+          detail: ""Even RFCs have easter eggs."",
+        },
+      ] as JsonApiError[],
+    }
+    const status = 403
+    const response = new Response(JSON.stringify(payload), {
+      status,
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+      },
+    })
+
+    const expectedError = new JsonApiErrors(payload.errors, status)
+    await expect(client.throwIfJsonApiErrors(response)).rejects.toEqual(
+      expectedError
+    )
+  })
+})
+
+describe(""validateDraftUrl()"", () => {
+  test(""outputs debug messages"", async () => {
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, {
+      debug: true,
+      logger,
+    })
+    const slug = ""/example""
+    const searchParams = new URLSearchParams({
+      slug,
+    })
+
+    const testPayload = { test: ""resolved"" }
+    spyOnFetchOnce({
+      responseBody: testPayload,
+    })
+    spyOnFetchOnce({
+      responseBody: {
+        message: ""fail"",
+      },
+      status: 404,
+    })
+
+    let response = await client.validateDraftUrl(searchParams)
+    expect(response.status).toBe(200)
+    expect(logger.debug).toHaveBeenCalledWith(""Debug mode is on."")
+    expect(logger.debug).toHaveBeenCalledWith(
+      `Fetching draft url validation for ${slug}.`
+    )
+    expect(logger.debug).toHaveBeenCalledWith(`Validated slug, ${slug}`)
+
+    response = await client.validateDraftUrl(searchParams)
+    expect(response.status).toBe(404)
+    expect(logger.debug).toHaveBeenCalledWith(
+      `Could not validate slug, ${slug}`
+    )
+  })
+
+  test(""calls draft-url endpoint"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const searchParams = new URLSearchParams({
+      slug: ""/example"",
+    })
+
+    const testPayload = { test: ""resolved"" }
+    const fetchSpy = spyOnFetch({ responseBody: testPayload })
+
+    await client.validateDraftUrl(searchParams)
+
+    expect(fetchSpy).toHaveBeenNthCalledWith(
+      1,
+      `${BASE_URL}/next/draft-url`,
+      expect.objectContaining({
+        method: ""POST"",
+        headers: {
+          Accept: ""application/vnd.api+json"",
+          ""Content-Type"": ""application/json"",
+        },
+        body: JSON.stringify(Object.fromEntries(searchParams.entries())),
+      })
+    )
+  })
+
+  test(""returns a response object on success"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const searchParams = new URLSearchParams({
+      slug: ""/example"",
+    })
+
+    const testPayload = { test: ""resolved"" }
+    spyOnFetch({ responseBody: testPayload })
+
+    const response = await client.validateDraftUrl(searchParams)
+
+    expect(response.ok).toBe(true)
+    expect(response.status).toBe(200)
+    expect(await response.json()).toMatchObject(testPayload)
+  })
+
+  test(""returns a response if fetch throws"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const searchParams = new URLSearchParams({
+      slug: ""/example"",
+    })
+
+    const message = ""random fetch error""
+    spyOnFetch({ throwErrorMessage: message })
+
+    const response = await client.validateDraftUrl(searchParams)
+
+    expect(response.ok).toBe(false)
+    expect(response.status).toBe(401)
+    expect(await response.json()).toMatchObject({ message })
+  })
+})

---FILE: packages/next-drupal/tests/DrupalClient/constructor.test.ts---
@@ -0,0 +1,333 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { Jsona } from ""jsona""
+import { DrupalClient } from ""../../src""
+import { DEBUG_MESSAGE_PREFIX, logger as defaultLogger } from ""../../src/logger""
+import { BASE_URL } from ""../utils""
+import type { Logger } from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""baseUrl parameter"", () => {
+  const env = process.env
+
+  beforeEach(() => {
+    jest.resetModules()
+    process.env = { ...env }
+  })
+
+  afterEach(() => {
+    process.env = env
+  })
+
+  test(""throws error given an invalid baseUrl"", () => {
+    // @ts-ignore
+    expect(() => new DrupalClient()).toThrow(""The 'baseUrl' param is required."")
+
+    // @ts-ignore
+    expect(() => new DrupalClient({})).toThrow(
+      ""The 'baseUrl' param is required.""
+    )
+  })
+
+  test(""turns throwJsonApiErrors off in production"", () => {
+    process.env = {
+      ...process.env,
+      NODE_ENV: ""production"",
+    }
+
+    const client = new DrupalClient(BASE_URL)
+    expect(client.throwJsonApiErrors).toBe(false)
+  })
+
+  test(""announces debug mode when turned on"", () => {
+    const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
+      //
+    })
+
+    new DrupalClient(BASE_URL, {
+      debug: true,
+    })
+
+    expect(consoleSpy).toHaveBeenCalledWith(
+      DEBUG_MESSAGE_PREFIX,
+      ""Debug mode is on.""
+    )
+  })
+
+  test(""returns a DrupalClient"", () => {
+    expect(new DrupalClient(BASE_URL)).toBeInstanceOf(DrupalClient)
+  })
+})
+
+describe(""options parameter"", () => {
+  describe(""accessToken"", () => {
+    test(""defaults to `undefined`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.accessToken).toBe(undefined)
+    })
+
+    test(""sets the accessToken"", async () => {
+      const accessToken = {
+        token_type: ""Bearer"",
+        expires_in: 300,
+        access_token:
+          ""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImVlNDkyOTI4ZTZjNj"",
+      }
+
+      const client = new DrupalClient(BASE_URL, {
+        accessToken,
+      })
+
+      expect(client.accessToken).toEqual(accessToken)
+    })
+  })
+
+  describe(""apiPrefix"", () => {
+    test('defaults to ""/jsonapi""', () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.apiPrefix).toBe(""/jsonapi"")
+    })
+
+    test(""sets the apiPrefix"", () => {
+      const customEndPoint = ""/customapi""
+      const client = new DrupalClient(BASE_URL, {
+        apiPrefix: customEndPoint,
+      })
+      expect(client.apiPrefix).toBe(customEndPoint)
+    })
+  })
+
+  describe(""auth"", () => {
+    test(""defaults to `undefined`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.auth).toBe(undefined)
+    })
+
+    test(""sets the auth credentials"", () => {
+      const auth: DrupalClient[""auth""] = {
+        username: ""example"",
+        password: ""pw"",
+      }
+      const client = new DrupalClient(BASE_URL, {
+        auth,
+      })
+      expect(client._auth).toMatchObject({
+        ...auth,
+        url: ""/oauth/token"",
+      })
+    })
+  })
+
+  describe(""cache"", () => {
+    test(""defaults to `null`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.cache).toBe(null)
+    })
+
+    test(""sets the cache storage"", () => {
+      const customCache: DrupalClient[""cache""] = {
+        async get(key) {
+          //
+        },
+        async set(key, value, ttl?: number) {
+          //
+        },
+      }
+      const client = new DrupalClient(BASE_URL, {
+        cache: customCache,
+      })
+      expect(client.cache).toBe(customCache)
+    })
+  })
+
+  describe(""debug"", () => {
+    test(""defaults to `false`"", () => {
+      const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
+        //
+      })
+
+      new DrupalClient(BASE_URL)
+
+      expect(consoleSpy).toBeCalledTimes(0)
+    })
+
+    test(""turns on debug mode"", () => {
+      const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation(() => {
+        //
+      })
+
+      new DrupalClient(BASE_URL, { debug: true })
+
+      expect(consoleSpy).toBeCalledTimes(1)
+    })
+  })
+
+  describe(""fetcher"", () => {
+    test(""defaults to `undefined`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.fetcher).toBe(undefined)
+    })
+
+    test(""sets up a custom fetcher"", () => {
+      const customFetcher: DrupalClient[""fetcher""] = async () => {
+        //
+      }
+      const client = new DrupalClient(BASE_URL, {
+        fetcher: customFetcher,
+      })
+      expect(client.fetcher).toBe(customFetcher)
+    })
+  })
+
+  describe(""frontPage"", () => {
+    test('defaults to ""/home""', () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.frontPage).toBe(""/home"")
+    })
+
+    test(""sets up a custom frontPage"", () => {
+      const customFrontPage = ""/front""
+
+      const client = new DrupalClient(BASE_URL, {
+        frontPage: customFrontPage,
+      })
+      expect(client.frontPage).toBe(customFrontPage)
+    })
+  })
+
+  describe(""headers"", () => {
+    test(""defaults to `Content-Type`/`Accept`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client._headers).toMatchObject({
+        ""Content-Type"": ""application/vnd.api+json"",
+        Accept: ""application/vnd.api+json"",
+      })
+    })
+
+    test(""sets custom headers"", () => {
+      const customHeaders = {
+        CustomContentType: ""application/json"",
+        CustomAccept: ""application/json"",
+      }
+
+      const client = new DrupalClient(BASE_URL, {
+        headers: customHeaders,
+      })
+      expect(client._headers).toMatchObject(customHeaders)
+    })
+  })
+
+  describe(""logger"", () => {
+    test(""defaults to `console`-based `Logger`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.logger).toBe(defaultLogger)
+    })
+
+    test(""sets up a custom logger"", () => {
+      const customLogger: Logger = {
+        log: () => {
+          //
+        },
+        debug: () => {
+          //
+        },
+        warn: () => {
+          //
+        },
+        error: () => {
+          //
+        },
+      }
+
+      const client = new DrupalClient(BASE_URL, {
+        logger: customLogger,
+      })
+      expect(client.logger).toBe(customLogger)
+    })
+  })
+
+  describe(""previewSecret"", () => {
+    test(""defaults to `undefined`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.previewSecret).toBe(undefined)
+    })
+
+    test(""sets up a custom previewSecret"", () => {
+      const customPreviewSecret = ""custom-secret-value""
+
+      const client = new DrupalClient(BASE_URL, {
+        previewSecret: customPreviewSecret,
+      })
+      expect(client.previewSecret).toBe(customPreviewSecret)
+    })
+  })
+
+  describe(""serializer"", () => {
+    test(""defaults to `new Jsona()`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.serializer).toBeInstanceOf(Jsona)
+    })
+
+    test(""sets up a custom serializer"", () => {
+      const customSerializer: DrupalClient[""serializer""] = {
+        deserialize(
+          body: Record<string, unknown>,
+          options?: Record<string, unknown>
+        ): unknown {
+          return {
+            deserialized: true,
+          }
+        },
+      }
+
+      const client = new DrupalClient(BASE_URL, {
+        serializer: customSerializer,
+      })
+      expect(client.serializer).toBe(customSerializer)
+    })
+  })
+
+  describe(""throwJsonApiErrors"", () => {
+    test(""defaults to `true`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.throwJsonApiErrors).toBe(true)
+    })
+
+    test(""can be set to `false`"", () => {
+      const client = new DrupalClient(BASE_URL, {
+        throwJsonApiErrors: false,
+      })
+      expect(client.throwJsonApiErrors).toBe(false)
+    })
+  })
+
+  describe(""useDefaultResourceTypeEntry"", () => {
+    test(""defaults to `false`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.useDefaultResourceTypeEntry).toBe(false)
+    })
+
+    test(""can be set to `true`"", () => {
+      const client = new DrupalClient(BASE_URL, {
+        useDefaultResourceTypeEntry: true,
+      })
+      expect(client.useDefaultResourceTypeEntry).toBe(true)
+    })
+  })
+
+  describe(""withAuth"", () => {
+    test(""defaults to `false`"", () => {
+      const client = new DrupalClient(BASE_URL)
+      expect(client.withAuth).toBe(false)
+    })
+
+    test(""can be set to `true`"", () => {
+      const client = new DrupalClient(BASE_URL, {
+        withAuth: true,
+      })
+      expect(client.withAuth).toBe(true)
+    })
+  })
+})

---FILE: packages/next-drupal/tests/DrupalClient/crud-methods.test.ts---
@@ -1,10 +1,25 @@
-import { expect } from ""@jest/globals""
-import { DrupalClient } from ""../src/client""
-import type { DrupalNode } from ""../src/types""
-import { BASE_URL, deleteTestNodes, toggleDrupalModule } from ""./utils""
+import {
+  afterAll,
+  afterEach,
+  beforeAll,
+  describe,
+  expect,
+  jest,
+  test,
+} from ""@jest/globals""
+import { DrupalClient } from ""../../src""
+import {
+  BASE_URL,
+  deleteTestNodes,
+  toggleDrupalModule,
+  mocks,
+  mockLogger,
+  spyOnFetch,
+} from ""../utils""
+import type { DrupalNode, JsonApiCreateFileResourceBody } from ""../../src""
 
 // Enabling and disabling modules takes longer.
-// So we increase the time out to handle this.
+// So we increase the timeout to 10 seconds to handle this.
 jest.setTimeout(10000)
 
 beforeAll(async () => {
@@ -21,8 +36,8 @@ afterAll(async () => {
   await deleteTestNodes()
 })
 
-describe(""createResource"", () => {
-  test(""it creates a resource"", async () => {
+describe(""createResource()"", () => {
+  test(""creates a resource"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     const article = await client.createResource<DrupalNode>(
@@ -46,7 +61,7 @@ describe(""createResource"", () => {
     expect(article.title).toEqual(""TEST New article"")
   })
 
-  test(""it creates a resource with a relationship"", async () => {
+  test(""creates a resource with a relationship"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -92,7 +107,7 @@ describe(""createResource"", () => {
     expect(article.field_media_image.name).toEqual(mediaImage.name)
   })
 
-  test(""it creates a localized resource"", async () => {
+  test(""creates a localized resource"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -112,7 +127,7 @@ describe(""createResource"", () => {
     expect(article.langcode).toEqual(""es"")
   })
 
-  test(""it throws an error for missing required attributes"", async () => {
+  test(""throws an error for missing required attributes"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -131,7 +146,7 @@ describe(""createResource"", () => {
     )
   })
 
-  test(""it throws an error for invalid attributes"", async () => {
+  test(""throws an error for invalid attributes"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -172,8 +187,115 @@ describe(""createResource"", () => {
   })
 })
 
-describe(""updateResource"", () => {
-  test(""it updates a resource"", async () => {
+describe(""createFileResource()"", () => {
+  const mockBody: JsonApiCreateFileResourceBody = {
+    data: {
+      attributes: {
+        type: ""file--file"",
+        field: ""field_media_image"",
+        filename: ""mediterranean-quiche-umami.jpg"",
+        file: Buffer.from(""mock-file-data""),
+      },
+    },
+  }
+  const mockResponseData = mocks.resources.file
+
+  test(""constructs the API path from body and options"", async () => {
+    const logger = mockLogger()
+    const client = new DrupalClient(""https://example.com"", {
+      useDefaultResourceTypeEntry: true,
+      debug: true,
+      logger,
+    })
+    const type = ""type--from-first-argument""
+    const fetchSpy = spyOnFetch({ responseBody: mockResponseData })
+
+    await client.createFileResource(type, mockBody, {
+      withAuth: false,
+      params: { include: ""extra_field"" },
+    })
+
+    expect(logger.debug).toBeCalledWith(
+      `Creating file resource for media of type ${type}.`
+    )
+    expect(fetchSpy.mock.lastCall[0]).toBe(
+      ""https://example.com/jsonapi/file/file/field_media_image?include=extra_field""
+    )
+  })
+
+  test(""constructs the API path using non-default locale"", async () => {
+    const client = new DrupalClient(""https://example.com"", {
+      useDefaultResourceTypeEntry: true,
+    })
+    const type = ""type--from-first-argument""
+    const fetchSpy = spyOnFetch({ responseBody: mockResponseData })
+
+    await client.createFileResource(type, mockBody, {
+      withAuth: false,
+      params: { include: ""extra_field"" },
+      locale: ""es"",
+      defaultLocale: ""en"",
+    })
+
+    expect(fetchSpy.mock.lastCall[0]).toBe(
+      ""https://example.com/es/jsonapi/file/file/field_media_image?include=extra_field""
+    )
+  })
+
+  test(""returns the deserialized data"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+    })
+    spyOnFetch({ responseBody: mockResponseData })
+
+    const result = await client.createFileResource(""ignored"", mockBody, {
+      withAuth: false,
+    })
+
+    expect(result?.filename).toBe(mockResponseData.data.attributes.filename)
+    expect(result?.data?.attributes?.filename).toBe(undefined)
+  })
+
+  test(""optionally returns the raw data"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+    })
+    spyOnFetch({ responseBody: mockResponseData })
+
+    const result = await client.createFileResource(""ignored"", mockBody, {
+      withAuth: false,
+      deserialize: false,
+    })
+
+    expect(result?.filename).toBe(undefined)
+    expect(result?.data?.attributes?.filename).toBe(
+      mockResponseData.data.attributes.filename
+    )
+  })
+
+  test(""throws error if response is not ok"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+    })
+    const message = ""mock error""
+    spyOnFetch({
+      responseBody: { message },
+      status: 403,
+      headers: {
+        ""content-type"": ""application/json"",
+      },
+    })
+
+    await expect(
+      client.createFileResource(""ignored"", mockBody, {
+        withAuth: false,
+      })
+    ).rejects.toThrow(message)
+  })
+})
+
+describe(""updateResource()"", () => {
+  test(""updates a resource"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     const basic = Buffer.from(
@@ -213,7 +335,7 @@ describe(""updateResource"", () => {
     expect(updatedArticle.title).toEqual(""TEST New article updated"")
   })
 
-  test(""it updates a resource with a relationship"", async () => {
+  test(""updates a resource with a relationship"", async () => {
     const basic = Buffer.from(
       `${process.env.DRUPAL_USERNAME}:${process.env.DRUPAL_PASSWORD}`
     ).toString(""base64"")
@@ -273,7 +395,7 @@ describe(""updateResource"", () => {
     expect(updatedArticle.field_media_image.name).toEqual(mediaImage.name)
   })
 
-  test(""it throws an error for missing required attributes"", async () => {
+  test(""throws an error for missing required attributes"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -302,7 +424,7 @@ describe(""updateResource"", () => {
     )
   })
 
-  test(""it throws an error for invalid attributes"", async () => {
+  test(""throws an error for invalid attributes"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -349,8 +471,8 @@ describe(""updateResource"", () => {
   })
 })
 
-describe(""deleteResource"", () => {
-  test(""it deletes a resource"", async () => {
+describe(""deleteResource()"", () => {
+  test(""deletes a resource"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -377,7 +499,7 @@ describe(""deleteResource"", () => {
     )
   })
 
-  test(""it throws an error for invalid resource"", async () => {
+  test(""throws an error for invalid resource"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,

---FILE: packages/next-drupal/tests/DrupalClient/fetch-related-methods.test.ts---
@@ -0,0 +1,1186 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { DrupalClient } from ""../../src""
+import {
+  BASE_URL,
+  mockLogger,
+  mocks,
+  spyOnFetch,
+  spyOnFetchOnce,
+} from ""../utils""
+import type {
+  AccessToken,
+  DrupalClientAuth,
+  DrupalNode,
+  DrupalSearchApiJsonApiResponse,
+} from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""fetch()"", () => {
+  test(""allows fetching custom url"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const url = client.buildUrl(
+      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
+    )
+
+    const response = await client.fetch(url.toString())
+    expect(response.headers.get(""content-type"")).toEqual(
+      ""application/vnd.api+json""
+    )
+    const json = await response.json()
+    expect(json).toMatchSnapshot()
+  })
+
+  test(""allows for custom fetcher"", async () => {
+    const customFetch = jest.fn()
+
+    const client = new DrupalClient(BASE_URL, {
+      fetcher: customFetch,
+    })
+    const url = client.buildUrl(""/jsonapi"").toString()
+
+    await client.fetch(url)
+    expect(customFetch).toHaveBeenCalledWith(
+      url,
+      expect.objectContaining({
+        headers: {
+          ""Content-Type"": ""application/vnd.api+json"",
+          Accept: ""application/vnd.api+json"",
+        },
+      })
+    )
+
+    await client.fetch(url, {
+      headers: {
+        foo: ""bar"",
+      },
+    })
+    expect(customFetch).toHaveBeenLastCalledWith(
+      url,
+      expect.objectContaining({
+        headers: {
+          Accept: ""application/vnd.api+json"",
+          ""Content-Type"": ""application/vnd.api+json"",
+          foo: ""bar"",
+        },
+      })
+    )
+  })
+
+  describe(""authentication"", () => {
+    const clientIdSecret = mocks.auth.clientIdSecret
+
+    test(""throws an error if withAuth is called when auth is not configured"", async () => {
+      const client = new DrupalClient(BASE_URL)
+
+      const url = client.buildUrl(""/jsonapi"")
+
+      await expect(
+        client.fetch(url.toString(), {
+          withAuth: true,
+        })
+      ).rejects.toThrow(""auth is not configured."")
+    })
+
+    test(""accepts username and password"", async () => {
+      const customFetch = jest.fn()
+
+      const client = new DrupalClient(BASE_URL, {
+        auth: {
+          username: ""admin"",
+          password: ""password"",
+        },
+        fetcher: customFetch,
+      })
+      const url = client.buildUrl(""/jsonapi"").toString()
+
+      await client.fetch(url, { withAuth: true })
+      expect(customFetch).toHaveBeenCalledWith(
+        url,
+        expect.objectContaining({
+          headers: {
+            ""Content-Type"": ""application/vnd.api+json"",
+            Accept: ""application/vnd.api+json"",
+            Authorization: ""Basic YWRtaW46cGFzc3dvcmQ="",
+          },
+          withAuth: true,
+        })
+      )
+    })
+
+    test(""accepts callback"", async () => {
+      const customAuth = jest
+        .fn()
+        .mockReturnValue(
+          ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM=""
+        ) as DrupalClientAuth
+      const customFetch = jest.fn()
+
+      const client = new DrupalClient(BASE_URL, {
+        auth: customAuth,
+        fetcher: customFetch,
+      })
+      const url = client.buildUrl(""/jsonapi"").toString()
+
+      await client.fetch(url, { withAuth: true })
+      expect(customFetch).toHaveBeenCalledWith(
+        url,
+        expect.objectContaining({
+          headers: {
+            ""Content-Type"": ""application/vnd.api+json"",
+            Accept: ""application/vnd.api+json"",
+            Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
+          },
+          withAuth: true,
+        })
+      )
+    })
+
+    test(""accepts clientId and clientSecret"", async () => {
+      const client = new DrupalClient(BASE_URL, {
+        auth: clientIdSecret,
+      })
+      const fetchSpy = spyOnFetch()
+
+      const basic = Buffer.from(
+        `${clientIdSecret.clientId}:${clientIdSecret.clientSecret}`
+      ).toString(""base64"")
+
+      await client.fetch(""http://example.com"", { withAuth: true })
+      expect(fetchSpy).toHaveBeenNthCalledWith(
+        1,
+        `${BASE_URL}/oauth/token`,
+        expect.objectContaining({
+          headers: {
+            Accept: ""application/json"",
+            Authorization: `Basic ${basic}`,
+            ""Content-Type"": ""application/x-www-form-urlencoded"",
+          },
+        })
+      )
+    })
+
+    test(""accepts custom auth url"", async () => {
+      const client = new DrupalClient(BASE_URL, {
+        auth: {
+          ...clientIdSecret,
+          url: ""/custom/oauth"",
+        },
+      })
+      const fetchSpy = spyOnFetch()
+
+      await client.fetch(""http://example.com"", { withAuth: true })
+      expect(fetchSpy).toHaveBeenNthCalledWith(
+        1,
+        `${BASE_URL}/custom/oauth`,
+        expect.anything()
+      )
+    })
+  })
+
+  describe(""headers"", () => {
+    // TODO: Are these duplicates of getters-setters/headers tests?
+    test(""allows setting custom headers"", async () => {
+      const customFetch = jest.fn()
+      const client = new DrupalClient(BASE_URL, {
+        fetcher: customFetch,
+      })
+      client.headers = {
+        foo: ""bar"",
+      }
+
+      const url = ""http://example.com""
+
+      await client.fetch(url)
+      expect(customFetch).toHaveBeenCalledWith(
+        url,
+        expect.objectContaining({
+          headers: { foo: ""bar"" },
+        })
+      )
+    })
+
+    test(""allows setting custom headers with custom auth"", async () => {
+      const customFetch = jest.fn()
+      const client = new DrupalClient(BASE_URL, {
+        fetcher: customFetch,
+        headers: {
+          foo: ""bar"",
+        },
+        auth: jest
+          .fn()
+          .mockReturnValue(
+            ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM=""
+          ) as DrupalClientAuth,
+      })
+
+      const url = ""http://example.com""
+
+      await client.fetch(url, { withAuth: true })
+
+      expect(customFetch).toHaveBeenCalledWith(
+        url,
+        expect.objectContaining({
+          headers: {
+            foo: ""bar"",
+            Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
+          },
+          withAuth: true,
+        })
+      )
+    })
+  })
+})
+
+describe(""getAccessToken()"", () => {
+  const accessToken = mocks.auth.accessToken
+  const clientIdSecret = mocks.auth.clientIdSecret
+
+  test(""uses the long-lived access token from constructor"", async () => {
+    const longLivedAccessToken: AccessToken = {
+      ...accessToken,
+      expires_in: 360000,
+    }
+    const client = new DrupalClient(BASE_URL, {
+      accessToken: longLivedAccessToken,
+    })
+    const fetchSpy = spyOnFetch({
+      responseBody: {
+        ...accessToken,
+        access_token: ""not-used"",
+      },
+    })
+
+    const token = await client.getAccessToken({
+      clientId: """",
+      clientSecret: """",
+      scope: undefined,
+    })
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+    expect(token).toBe(longLivedAccessToken)
+  })
+
+  test(""throws if auth is not configured"", async () => {
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      // @ts-ignore
+      client.getAccessToken({ clientId: clientIdSecret.clientId })
+    ).rejects.toThrow(
+      ""auth is not configured. See https://next-drupal.org/docs/client/auth""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""BUG: throws if auth is ClientIdSecret and not given as opts"", async () => {
+    const fetchSpy = spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+      withAuth: true,
+    })
+
+    await expect(
+      // @ts-ignore
+      client.getAccessToken({ scope: ""irrelevant"" })
+    ).rejects.toThrow(
+      ""'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""fetches an access token"", async () => {
+    spyOnFetch({
+      responseBody: accessToken,
+    })
+
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+      debug: true,
+      logger,
+    })
+
+    const token = await client.getAccessToken()
+    expect(token).toEqual(accessToken)
+    expect(logger.debug).toHaveBeenCalledWith(""Fetching new access token."")
+  })
+
+  test(""re-uses access token"", async () => {
+    spyOnFetchOnce({
+      responseBody: accessToken,
+    })
+    const fetchSpy = spyOnFetchOnce({
+      responseBody: {
+        ...accessToken,
+        access_token: ""differentAccessToken"",
+        expires_in: 1800,
+      },
+    })
+
+    const logger = mockLogger()
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+      debug: true,
+      logger,
+    })
+
+    const token1 = await client.getAccessToken()
+    const token2 = await client.getAccessToken()
+    expect(token1).toEqual(token2)
+    expect(logger.debug).toHaveBeenLastCalledWith(
+      ""Using existing access token.""
+    )
+    expect(fetchSpy).toHaveBeenCalledTimes(1)
+  })
+})
+
+describe(""getEntryForResourceType()"", () => {
+  test(""returns the JSON:API entry for a resource type"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+
+    const recipeEntry = await client.getEntryForResourceType(""node--recipe"")
+    expect(recipeEntry).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+
+    const articleEntry = await client.getEntryForResourceType(""node--article"")
+    expect(articleEntry).toMatch(`${BASE_URL}/en/jsonapi/node/article`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(2)
+  })
+
+  test(""assembles JSON:API entry without fetching index"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+    })
+    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+
+    const recipeEntry = await client.getEntryForResourceType(""node--article"")
+    expect(recipeEntry).toMatch(`${BASE_URL}/jsonapi/node/article`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""throws an error if resource type does not exist"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getEntryForResourceType(""RESOURCE-DOES-NOT-EXIST"")
+    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
+  })
+})
+
+describe(""getIndex()"", () => {
+  test(""fetches the JSON:API index"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const index = await client.getIndex()
+
+    expect(index).toMatchSnapshot()
+  })
+
+  test(""fetches the JSON:API index with locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const index = await client.getIndex(""es"")
+
+    expect(index).toMatchSnapshot()
+  })
+
+  test(""throws error for invalid base url"", async () => {
+    const client = new DrupalClient(""https://example.com"")
+
+    await expect(client.getIndex()).rejects.toThrow(
+      ""Failed to fetch JSON:API index at https://example.com/jsonapi""
+    )
+  })
+})
+
+describe(""getMenu()"", () => {
+  test(""fetches menu items for a menu"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const menu = await client.getMenu(""main"")
+
+    expect(menu).toMatchSnapshot()
+  })
+
+  test(""fetches menu items for a menu with locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const menu = await client.getMenu(""main"", {
+      locale: ""es"",
+      defaultLocale: ""en"",
+    })
+
+    expect(menu).toMatchSnapshot()
+  })
+
+  test(""fetches menu items for a menu with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const menu = await client.getMenu(""main"", {
+      params: {
+        ""fields[menu_link_content--menu_link_content]"": ""title"",
+      },
+    })
+
+    expect(menu).toMatchSnapshot()
+  })
+
+  test(""throws an error for invalid menu name"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(client.getMenu(""INVALID"")).rejects.toThrow(
+      '404 Not Found\nThe ""menu"" parameter was not converted for the path ""/jsonapi/menu_items/{menu}"" (route name: ""jsonapi_menu_items.menu"")'
+    )
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getMenu(""main"")
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getMenu(""main"", { withAuth: true })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})
+
+describe(""getResource()"", () => {
+  test(""fetches a resource by uuid"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches a resource by uuid with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      }
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches a resource using locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        locale: ""es"",
+        defaultLocale: ""en"",
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      }
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches raw data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResource(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          deserialize: false,
+        }
+      )
+    ).resolves.toMatchSnapshot()
+  })
+
+  test(""fetches a resource by revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        params: {
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+    const latestRevision = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        params: {
+          resourceVersion: ""rel:latest-version"",
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+
+    expect(recipe.drupal_internal__vid).toEqual(
+      latestRevision.drupal_internal__vid
+    )
+  })
+
+  test(""throws an error for invalid revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResource<DrupalNode>(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          params: {
+            resourceVersion: ""id:-11"",
+            ""fields[node--recipe]"": ""title"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
+    )
+  })
+
+  test(""throws an error if revision access is forbidden"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResource<DrupalNode>(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          params: {
+            resourceVersion: ""id:1"",
+            ""fields[node--recipe]"": ""title"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+    )
+  })
+
+  test(""throws an error for invalid resource type"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResource<DrupalNode>(
+        ""RESOURCE-DOES-NOT-EXIST"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
+      )
+    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
+  })
+
+  test(""throws an error for invalid params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResource<DrupalNode>(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          params: {
+            include: ""invalid_relationship"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
+    )
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getResource(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
+    )
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getResource(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        withAuth: true,
+      }
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})
+
+describe(""getResourceByPath()"", () => {
+  test(""fetches a resource by path"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"")
+    ).resolves.toMatchSnapshot()
+  })
+
+  test(""fetches a resource by path with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      })
+    ).resolves.toMatchSnapshot()
+  })
+
+  test(""fetches a resource by path using locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResourceByPath(
+      ""/recipes/quiche-mediterrneo-profundo"",
+      {
+        locale: ""es"",
+        defaultLocale: ""en"",
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      }
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches raw data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
+        deserialize: false,
+      })
+    ).resolves.toMatchSnapshot()
+  })
+
+  test(""fetches a resource by revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResourceByPath<DrupalNode>(
+      ""/recipes/deep-mediterranean-quiche"",
+      {
+        params: {
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+    const latestRevision = await client.getResourceByPath<DrupalNode>(
+      ""/recipes/deep-mediterranean-quiche"",
+      {
+        params: {
+          resourceVersion: ""rel:latest-version"",
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+
+    expect(recipe.drupal_internal__vid).toEqual(
+      latestRevision.drupal_internal__vid
+    )
+  })
+
+  test(""throws an error for invalid revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath<DrupalNode>(
+        ""/recipes/deep-mediterranean-quiche"",
+        {
+          params: {
+            resourceVersion: ""id:-11"",
+            ""fields[node--recipe]"": ""title"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
+    )
+  })
+
+  test(""throws an error if revision access is forbidden"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath<DrupalNode>(
+        ""/recipes/deep-mediterranean-quiche"",
+        {
+          params: {
+            resourceVersion: ""id:1"",
+            ""fields[node--recipe]"": ""title"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+    )
+  })
+
+  test(""returns null for path not found"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath<DrupalNode>(""/path-do-not-exist"")
+    ).rejects.toThrow(""Unable to resolve path /path-do-not-exist."")
+  })
+
+  test(""throws an error for invalid params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceByPath<DrupalNode>(
+        ""/recipes/deep-mediterranean-quiche"",
+        {
+          params: {
+            include: ""invalid_relationship"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
+    )
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const getAccessTokenSpy = jest.spyOn(client, ""getAccessToken"")
+
+    await client.getResourceByPath<DrupalNode>(
+      ""/recipes/deep-mediterranean-quiche""
+    )
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.not.objectContaining({
+        withAuth: true,
+      })
+    )
+    expect(getAccessTokenSpy).not.toHaveBeenCalled()
+  })
+
+  test(""makes authenticated requests with withAuth"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: mocks.auth.clientIdSecret,
+    })
+    const fetchSpy = spyOnFetch()
+    const getAccessTokenSpy = jest.spyOn(client, ""getAccessToken"")
+
+    await client.getResourceByPath<DrupalNode>(
+      ""/recipes/deep-mediterranean-quiche"",
+      {
+        withAuth: true,
+      }
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+    expect(getAccessTokenSpy).toHaveBeenCalled()
+  })
+
+  test(""returns null if path is falsey"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const resource = await client.getResourceByPath("""")
+    expect(resource).toBe(null)
+  })
+})
+
+describe(""getResourceCollection()"", () => {
+  test(""fetches a resource collection"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const articles = await client.getResourceCollection(""node--article"", {
+      params: {
+        ""fields[node--article]"": ""title"",
+      },
+    })
+
+    expect(articles).toMatchSnapshot()
+  })
+
+  test(""fetches a resource collection using locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const articles = await client.getResourceCollection(""node--article"", {
+      locale: ""es"",
+      defaultLocale: ""en"",
+      params: {
+        ""fields[node--article]"": ""title,langcode"",
+      },
+    })
+
+    expect(articles[0].langcode).toEqual(""es"")
+
+    expect(articles).toMatchSnapshot()
+  })
+
+  test(""fetches raw data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const recipes = await client.getResourceCollection(""node--recipe"", {
+      deserialize: false,
+      params: {
+        ""fields[node--recipe]"": ""title"",
+        ""page[limit]"": 2,
+      },
+    })
+
+    expect(recipes).toMatchSnapshot()
+  })
+
+  test(""throws an error for invalid resource type"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceCollection(""RESOURCE-DOES-NOT-EXIST"")
+    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
+  })
+
+  test(""throws an error for invalid params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResourceCollection<DrupalNode>(""node--recipe"", {
+        params: {
+          include: ""invalid_relationship"",
+        },
+      })
+    ).rejects.toThrow(
+      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
+    )
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getResourceCollection(""node--recipe"")
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getResourceCollection(""node--recipe"", {
+      withAuth: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})
+
+describe(""getSearchIndex()"", () => {
+  test(""fetches a search index"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const search = await client.getSearchIndex(""recipes"", {
+      params: {
+        ""fields[node--recipe]"": ""title"",
+      },
+    })
+
+    expect(search).toMatchSnapshot()
+  })
+
+  test(""fetches a search index with locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const search = await client.getSearchIndex(""recipes"", {
+      locale: ""es"",
+      defaultLocale: ""en"",
+      params: {
+        ""fields[node--recipe]"": ""title"",
+      },
+    })
+
+    expect(search).toMatchSnapshot()
+  })
+
+  test(""fetches a search index with facets filters"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const search = await client.getSearchIndex<DrupalSearchApiJsonApiResponse>(
+      ""recipes"",
+      {
+        deserialize: false,
+        params: {
+          ""filter[difficulty]"": ""easy"",
+          ""fields[node--recipe]"": ""title,field_difficulty"",
+        },
+      }
+    )
+
+    expect(search).toMatchSnapshot()
+    expect(search.meta.facets).not.toBeNull()
+  })
+
+  test(""fetches raw data from search index"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const search = await client.getSearchIndex(""recipes"", {
+      deserialize: false,
+      params: {
+        ""filter[difficulty]"": ""easy"",
+        ""fields[node--recipe]"": ""title,field_difficulty"",
+      },
+    })
+
+    expect(search).toMatchSnapshot()
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getSearchIndex(""recipes"")
+
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""throws an error for invalid index"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(client.getSearchIndex(""INVALID-INDEX"")).rejects.toThrow(
+      ""Not Found""
+    )
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getSearchIndex(""recipes"", {
+      withAuth: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})
+
+describe(""getView()"", () => {
+  test(""fetches a view"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const view = await client.getView(""featured_articles--page_1"")
+
+    expect(view).toMatchSnapshot()
+  })
+
+  test(""fetches a view with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const view = await client.getView(""featured_articles--page_1"", {
+      params: {
+        ""fields[node--article]"": ""title"",
+      },
+    })
+
+    expect(view).toMatchSnapshot()
+  })
+
+  test(""fetches a view with locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const view = await client.getView(""featured_articles--page_1"", {
+      locale: ""es"",
+      defaultLocale: ""en"",
+      params: {
+        ""fields[node--article]"": ""title"",
+      },
+    })
+
+    expect(view).toMatchSnapshot()
+  })
+
+  test(""fetches raw data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const view = await client.getView(""featured_articles--page_1"", {
+      locale: ""es"",
+      defaultLocale: ""en"",
+      deserialize: false,
+      params: {
+        ""fields[node--article]"": ""title"",
+      },
+    })
+
+    expect(view).toMatchSnapshot()
+  })
+
+  test(""throws an error for invalid view name"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(client.getView(""INVALID"")).rejects.toThrow(""Not Found"")
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getView(""featured_articles--page_1"")
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getView(""featured_articles--page_1"", { withAuth: true })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+
+  test(""fetches a view with links for pagination"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const view = await client.getView(""recipes--page_1"")
+
+    expect(view.links).toHaveProperty(""next"")
+  })
+})
+
+describe(""translatePath()"", () => {
+  test(""translates a path"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const path = await client.translatePath(""recipes/deep-mediterranean-quiche"")
+
+    expect(path).toMatchSnapshot()
+
+    const path2 = await client.translatePath(
+      ""/recipes/deep-mediterranean-quiche""
+    )
+
+    expect(path).toEqual(path2)
+  })
+
+  test(""returns null for path not found"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const path = await client.translatePath(""/path-not-found"")
+
+    expect(path).toBeNull()
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.translatePath(""recipes/deep-mediterranean-quiche"")
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: false,
+      })
+    )
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.translatePath(""recipes/deep-mediterranean-quiche"", {
+      withAuth: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})

---FILE: packages/next-drupal/tests/DrupalClient/getters-setters.test.ts---
@@ -0,0 +1,224 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import {
+  AccessToken,
+  DrupalClient,
+  DrupalClientAuthAccessToken,
+  DrupalClientAuthUsernamePassword,
+  DrupalClientOptions,
+} from ""../../src""
+import { BASE_URL, mocks } from ""../utils""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""apiPrefix"", () => {
+  test(""get apiPrefix"", () => {
+    const client = new DrupalClient(BASE_URL)
+    expect(client.apiPrefix).toBe(""/jsonapi"")
+  })
+  test(""set apiPrefix"", () => {
+    const client = new DrupalClient(BASE_URL)
+    client.apiPrefix = ""/api""
+    expect(client.apiPrefix).toBe(""/api"")
+  })
+  test('set apiPrefix and prefixes with ""/""', () => {
+    const client = new DrupalClient(BASE_URL)
+    client.apiPrefix = ""api""
+    expect(client.apiPrefix).toBe(""/api"")
+  })
+})
+
+describe(""auth"", () => {
+  describe(""throws an error if invalid Basic Auth"", () => {
+    test(""missing username"", () => {
+      expect(() => {
+        const client = new DrupalClient(BASE_URL)
+        // @ts-ignore
+        client.auth = {
+          password: ""password"",
+        }
+      }).toThrow(
+        ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+
+    test(""missing password"", () => {
+      expect(() => {
+        const client = new DrupalClient(BASE_URL)
+        // @ts-ignore
+        client.auth = {
+          username: ""admin"",
+        }
+      }).toThrow(
+        ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+  })
+
+  describe(""throws an error if invalid Access Token"", () => {
+    // TODO: The wrong error is thrown.
+    test.skip(""missing access_token"", () => {
+      expect(() => {
+        const client = new DrupalClient(BASE_URL)
+        // @ts-ignore
+        client.auth = {
+          token_type: ""bearer"",
+        }
+      }).toThrow(
+        ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+
+    test(""missing token_type"", () => {
+      expect(() => {
+        const client = new DrupalClient(BASE_URL)
+        // @ts-ignore
+        client.auth = {
+          access_token: mocks.auth.accessToken.access_token,
+        }
+      }).toThrow(
+        ""'access_token' and 'token_type' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+  })
+
+  describe(""throws an error if invalid Client ID/Secret"", () => {
+    test(""missing clientId"", () => {
+      expect(() => {
+        const client = new DrupalClient(BASE_URL)
+        // @ts-ignore
+        client.auth = {
+          clientSecret: mocks.auth.clientIdSecret.clientSecret,
+        }
+      }).toThrow(
+        ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+
+    test(""missing clientSecret"", () => {
+      expect(() => {
+        const client = new DrupalClient(BASE_URL)
+        // @ts-ignore
+        client.auth = {
+          clientId: mocks.auth.clientIdSecret.clientId,
+        }
+      }).toThrow(
+        ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
+      )
+    })
+  })
+
+  test(""sets Basic Auth"", () => {
+    const basicAuth: DrupalClientAuthUsernamePassword = {
+      ...mocks.auth.basicAuth,
+    }
+    const client = new DrupalClient(BASE_URL)
+    client.auth = basicAuth
+    expect(client._auth).toMatchObject({ ...basicAuth })
+  })
+
+  test(""sets Access Token"", () => {
+    const accessToken = {
+      ...mocks.auth.accessToken,
+    }
+    const client = new DrupalClient(BASE_URL)
+    client.auth = accessToken
+    expect(client._auth).toMatchObject({ ...accessToken })
+  })
+
+  test(""sets Client ID/Secret"", () => {
+    const clientIdSecret = {
+      ...mocks.auth.clientIdSecret,
+    }
+    const client = new DrupalClient(BASE_URL)
+    client.auth = clientIdSecret
+    expect(client._auth).toMatchObject({ ...clientIdSecret })
+  })
+
+  test(""sets auth function"", () => {
+    const authFunction = mocks.auth.function
+    const client = new DrupalClient(BASE_URL)
+    client.auth = authFunction
+    expect(client._auth).toBe(authFunction)
+  })
+
+  test(""sets custom Authorization string"", () => {
+    const authString = `${mocks.auth.customAuthenticationHeader}`
+    const client = new DrupalClient(BASE_URL)
+    client.auth = authString
+    expect(client._auth).toBe(authString)
+  })
+
+  test(""sets a default access token url"", () => {
+    const accessToken = {
+      ...mocks.auth.accessToken,
+    }
+    const client = new DrupalClient(BASE_URL)
+    client.auth = accessToken
+    expect(client._auth.url).toBe(""/oauth/token"")
+  })
+
+  test(""can override the default access token url"", () => {
+    const accessToken = {
+      ...mocks.auth.accessToken,
+      url: ""/custom/oauth/token"",
+    }
+    const client = new DrupalClient(BASE_URL)
+    client.auth = accessToken
+    expect(client._auth.url).toBe(""/custom/oauth/token"")
+  })
+})
+
+describe(""headers"", () => {
+  describe(""set headers"", () => {
+    test(""using key-value pairs"", () => {
+      const headers = [
+        [""Content-Type"", ""application/x-www-form-urlencoded""],
+        [""Accept"", ""application/json""],
+      ] as DrupalClientOptions[""headers""]
+      const client = new DrupalClient(BASE_URL)
+      client.headers = headers
+      expect(client._headers).toBe(headers)
+    })
+
+    test(""using object literal"", () => {
+      const headers = {
+        ""Content-Type"": ""application/x-www-form-urlencoded"",
+        Accept: ""application/json"",
+      } as DrupalClientOptions[""headers""]
+      const client = new DrupalClient(BASE_URL)
+      client.headers = headers
+      expect(client._headers).toBe(headers)
+    })
+
+    test(""using Headers object"", () => {
+      const headers = new Headers()
+      headers.append(""Content-Type"", ""application/x-www-form-urlencoded"")
+      headers.append(""Accept"", ""application/json"")
+
+      const client = new DrupalClient(BASE_URL)
+      client.headers = headers
+      expect(client._headers).toBe(headers)
+    })
+  })
+})
+
+describe(""token"", () => {
+  test(""set token"", () => {
+    function getExpiresOn(token: AccessToken): number {
+      return Date.now() + token.expires_in * 1000
+    }
+
+    const accessToken = {
+      ...mocks.auth.accessToken,
+    } as DrupalClientAuthAccessToken
+    const before = getExpiresOn(accessToken)
+
+    const client = new DrupalClient(BASE_URL)
+    client.token = accessToken
+    expect(client._token).toBe(accessToken)
+    expect(client.tokenExpiresOn).toBeGreaterThanOrEqual(before)
+    expect(client.tokenExpiresOn).toBeLessThanOrEqual(getExpiresOn(accessToken))
+  })
+})

---FILE: packages/next-drupal/tests/DrupalClient/pages-router-methods.test.ts---
@@ -0,0 +1,1252 @@
+import { afterEach, describe, expect, jest, test } from ""@jest/globals""
+import { GetStaticPropsContext } from ""next""
+import { DrupalClient } from ""../../src""
+import { BASE_URL, mocks, spyOnFetch } from ""../utils""
+import type { DrupalNode, JsonApiResourceWithPath } from ""../../src""
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""buildStaticPathsFromResources()"", () => {
+  const resources: Pick<JsonApiResourceWithPath, ""path"">[] = [
+    {
+      path: {
+        alias: ""/blog/post/one"",
+        pid: 1,
+        langcode: ""en"",
+      },
+    },
+    {
+      path: {
+        alias: ""/blog/post/two"",
+        pid: 2,
+        langcode: ""en"",
+      },
+    },
+  ]
+
+  test(""builds static paths from resources"", () => {
+    const client = new DrupalClient(BASE_URL)
+
+    expect(client.buildStaticPathsFromResources(resources)).toMatchObject([
+      {
+        params: {
+          slug: [""blog"", ""post"", ""one""],
+        },
+      },
+      {
+        params: {
+          slug: [""blog"", ""post"", ""two""],
+        },
+      },
+    ])
+
+    expect(
+      client.buildStaticPathsFromResources(resources, { locale: ""es"" })
+    ).toMatchObject([
+      {
+        locale: ""es"",
+        params: {
+          slug: [""blog"", ""post"", ""one""],
+        },
+      },
+      {
+        locale: ""es"",
+        params: {
+          slug: [""blog"", ""post"", ""two""],
+        },
+      },
+    ])
+  })
+
+  test(""builds static paths from resources with pathPrefix"", () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = client.buildStaticPathsFromResources(resources, {
+      pathPrefix: ""blog"",
+    })
+
+    const paths2 = client.buildStaticPathsFromResources(resources, {
+      pathPrefix: ""/blog"",
+    })
+
+    const paths3 = client.buildStaticPathsFromResources(resources, {
+      pathPrefix: ""/blog/post"",
+      locale: ""es"",
+    })
+
+    const paths4 = client.buildStaticPathsFromResources(resources, {
+      pathPrefix: ""blog/post"",
+      locale: ""es"",
+    })
+
+    expect(paths).toMatchObject([
+      {
+        params: {
+          slug: [""post"", ""one""],
+        },
+      },
+      {
+        params: {
+          slug: [""post"", ""two""],
+        },
+      },
+    ])
+    expect(paths3).toMatchObject([
+      {
+        locale: ""es"",
+        params: {
+          slug: [""one""],
+        },
+      },
+      {
+        locale: ""es"",
+        params: {
+          slug: [""two""],
+        },
+      },
+    ])
+
+    expect(paths).toEqual(paths2)
+    expect(paths3).toEqual(paths4)
+  })
+
+  test('converts frontPage path to ""/""', () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const resources: Pick<JsonApiResourceWithPath, ""path"">[] = [
+      {
+        path: {
+          alias: ""/home"",
+          pid: 1,
+          langcode: ""en"",
+        },
+      },
+    ]
+
+    expect(client.buildStaticPathsFromResources(resources)).toMatchObject([
+      {
+        params: {
+          slug: [""""],
+        },
+      },
+    ])
+  })
+})
+
+describe(""buildStaticPathsParamsFromPaths()"", () => {
+  test(""builds static paths from paths"", () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = [""/blog/post/one"", ""/blog/post/two"", ""/blog/post/three""]
+
+    expect(client.buildStaticPathsParamsFromPaths(paths)).toMatchObject([
+      {
+        params: {
+          slug: [""blog"", ""post"", ""one""],
+        },
+      },
+      {
+        params: {
+          slug: [""blog"", ""post"", ""two""],
+        },
+      },
+      {
+        params: {
+          slug: [""blog"", ""post"", ""three""],
+        },
+      },
+    ])
+
+    expect(
+      client.buildStaticPathsParamsFromPaths(paths, { locale: ""en"" })
+    ).toMatchObject([
+      {
+        locale: ""en"",
+        params: {
+          slug: [""blog"", ""post"", ""one""],
+        },
+      },
+      {
+        locale: ""en"",
+        params: {
+          slug: [""blog"", ""post"", ""two""],
+        },
+      },
+      {
+        locale: ""en"",
+        params: {
+          slug: [""blog"", ""post"", ""three""],
+        },
+      },
+    ])
+  })
+
+  test(""builds static paths from paths with pathPrefix"", () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = client.buildStaticPathsParamsFromPaths(
+      [""/blog/post/one"", ""/blog/post/two"", ""/blog/post""],
+      { pathPrefix: ""blog"" }
+    )
+
+    const paths2 = client.buildStaticPathsParamsFromPaths(
+      [""/blog/post/one"", ""/blog/post/two"", ""/blog/post""],
+      { pathPrefix: ""/blog"" }
+    )
+
+    const paths3 = client.buildStaticPathsParamsFromPaths(
+      [""blog/post/one"", ""blog/post/two"", ""blog/post""],
+      { pathPrefix: ""/blog"" }
+    )
+
+    const paths4 = client.buildStaticPathsParamsFromPaths(
+      [""blog/post/one"", ""blog/post/two"", ""blog/post""],
+      { pathPrefix: ""blog"" }
+    )
+
+    expect(paths).toMatchObject([
+      {
+        params: {
+          slug: [""post"", ""one""],
+        },
+      },
+      {
+        params: {
+          slug: [""post"", ""two""],
+        },
+      },
+      {
+        params: {
+          slug: [""post""],
+        },
+      },
+    ])
+
+    expect(paths).toEqual(paths2)
+    expect(paths).toEqual(paths3)
+    expect(paths).toEqual(paths4)
+  })
+})
+
+describe(""getAuthFromContextAndOptions()"", () => {
+  const clientIdSecret = mocks.auth.clientIdSecret
+
+  test(""should use the withAuth option if provided and NOT in preview"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getResourceFromContext(
+      ""node--article"",
+      {
+        preview: false,
+      },
+      {
+        withAuth: true,
+      }
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+
+    await client.getResourceFromContext(
+      ""node--article"",
+      {
+        preview: false,
+      },
+      {
+        withAuth: {
+          clientId: ""foo"",
+          clientSecret: ""bar"",
+          scope: ""baz"",
+        },
+      }
+    )
+
+    expect(fetchSpy).toHaveBeenLastCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: {
+          clientId: ""foo"",
+          clientSecret: ""bar"",
+          scope: ""baz"",
+        },
+      })
+    )
+  })
+
+  test(""should fallback to the global auth if NOT in preview and no withAuth option provided"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+    })
+    const fetchSpy = spyOnFetch()
+
+    await client.getResourceFromContext(""node--article"", {
+      preview: false,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: false,
+      })
+    )
+
+    const client2 = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+      withAuth: true,
+    })
+    jest.spyOn(client2, ""getAccessToken"").mockImplementation(async () => ({
+      token_type: """",
+      expires_in: 0,
+      access_token: """",
+    }))
+
+    await client2.getResourceFromContext(""node--article"", {
+      preview: false,
+    })
+
+    expect(fetchSpy).toHaveBeenLastCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+
+  test(""should NOT use the global auth if in preview"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+      withAuth: true,
+    })
+    const fetchSpy = spyOnFetch()
+
+    await client.getResourceFromContext(""node--article"", {
+      preview: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: null,
+      })
+    )
+  })
+
+  test(""should use the scope from context if in preview and using the simple_oauth plugin"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+    })
+    const fetchSpy = spyOnFetch()
+
+    await client.getResourceFromContext(""node--article"", {
+      preview: true,
+      previewData: {
+        plugin: ""simple_oauth"",
+        scope: ""editor"",
+      },
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: {
+          ...clientIdSecret,
+          scope: ""editor"",
+          url: ""/oauth/token"",
+        },
+      })
+    )
+  })
+
+  test(""should use the scope from context even with global withAuth if in preview and using the simple_oauth plugin"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        ...clientIdSecret,
+        scope: ""administrator"",
+      },
+      withAuth: true,
+    })
+    const fetchSpy = spyOnFetch()
+
+    await client.getResourceFromContext(""node--article"", {
+      preview: true,
+      previewData: {
+        plugin: ""simple_oauth"",
+        scope: ""editor"",
+      },
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: {
+          ...clientIdSecret,
+          scope: ""editor"",
+          url: ""/oauth/token"",
+        },
+      })
+    )
+  })
+
+  test(""should use the access_token from context if in preview and using the jwt plugin"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: clientIdSecret,
+    })
+    const fetchSpy = spyOnFetch()
+
+    await client.getResourceFromContext(""node--article"", {
+      preview: true,
+      previewData: {
+        plugin: ""jwt"",
+        access_token: ""example-token"",
+      },
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: `Bearer example-token`,
+      })
+    )
+  })
+
+  test(""should use the access token from context even with global withAuth if in preview and using the jwt plugin"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        ...clientIdSecret,
+        scope: ""administrator"",
+      },
+      withAuth: true,
+    })
+    const fetchSpy = spyOnFetch()
+
+    await client.getResourceFromContext(""node--article"", {
+      preview: true,
+      previewData: {
+        plugin: ""jwt"",
+        access_token: ""example-token"",
+      },
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: `Bearer example-token`,
+      })
+    )
+  })
+})
+
+describe(""getPathFromContext()"", () => {
+  test(""returns a path from context"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    expect(
+      client.getPathFromContext({
+        params: {
+          slug: [""foo""],
+        },
+      })
+    ).toEqual(""/foo"")
+
+    expect(
+      client.getPathFromContext({
+        params: {
+          slug: [""foo"", ""bar""],
+        },
+      })
+    ).toEqual(""/foo/bar"")
+
+    expect(
+      client.getPathFromContext({
+        locale: ""en"",
+        defaultLocale: ""es"",
+        params: {
+          slug: [""foo"", ""bar""],
+        },
+      })
+    ).toEqual(""/en/foo/bar"")
+
+    expect(
+      client.getPathFromContext({
+        params: {
+          slug: [],
+        },
+      })
+    ).toEqual(""/home"")
+
+    client.frontPage = ""/front""
+
+    expect(
+      client.getPathFromContext({
+        params: {
+          slug: [],
+        },
+      })
+    ).toEqual(""/front"")
+
+    expect(
+      client.getPathFromContext({
+        locale: ""es"",
+        defaultLocale: ""en"",
+        params: {
+          slug: [],
+        },
+      })
+    ).toEqual(""/es/front"")
+  })
+
+  test(""returns a path from context with pathPrefix"", () => {
+    const client = new DrupalClient(BASE_URL)
+
+    expect(
+      client.getPathFromContext(
+        {
+          params: {
+            slug: [""bar"", ""baz""],
+          },
+        },
+        {
+          pathPrefix: ""/foo"",
+        }
+      )
+    ).toEqual(""/foo/bar/baz"")
+
+    expect(
+      client.getPathFromContext(
+        {
+          params: {
+            slug: [""bar"", ""baz""],
+          },
+        },
+        {
+          pathPrefix: ""foo"",
+        }
+      )
+    ).toEqual(""/foo/bar/baz"")
+
+    expect(
+      client.getPathFromContext(
+        {
+          locale: ""en"",
+          defaultLocale: ""en"",
+          params: {
+            slug: [""bar"", ""baz""],
+          },
+        },
+        {
+          pathPrefix: ""foo"",
+        }
+      )
+    ).toEqual(""/foo/bar/baz"")
+
+    expect(
+      client.getPathFromContext(
+        {
+          locale: ""es"",
+          defaultLocale: ""en"",
+          params: {
+            slug: [""bar"", ""baz""],
+          },
+        },
+        {
+          pathPrefix: ""foo"",
+        }
+      )
+    ).toEqual(""/es/foo/bar/baz"")
+
+    expect(
+      client.getPathFromContext(
+        {
+          locale: ""es"",
+          defaultLocale: ""en"",
+          params: {
+            slug: [],
+          },
+        },
+        {
+          pathPrefix: ""/foo"",
+        }
+      )
+    ).toEqual(""/es/foo/home"")
+
+    client.frontPage = ""/baz""
+
+    expect(
+      client.getPathFromContext(
+        {
+          locale: ""en"",
+          defaultLocale: ""en"",
+          params: {
+            slug: [],
+          },
+        },
+        {
+          pathPrefix: ""foo"",
+        }
+      )
+    ).toEqual(""/foo/baz"")
+
+    expect(
+      client.getPathFromContext(
+        {
+          params: {
+            slug: [],
+          },
+        },
+        {
+          pathPrefix: ""/foo/bar"",
+        }
+      )
+    ).toEqual(""/foo/bar/baz"")
+  })
+
+  test(""encodes path with punctuation"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const path = client.getPathFromContext({
+      params: {
+        slug: [""path&with^punc&in$path""],
+      },
+    })
+
+    expect(path).toEqual(""/path%26with%5Epunc%26in%24path"")
+
+    const translatedPath = await client.translatePath(path)
+
+    expect(translatedPath).toMatchSnapshot()
+  })
+})
+
+describe(""getPathsFromContext()"", () => {
+  test(""is an alias for getStaticPathsFromContext"", () => {
+    const client = new DrupalClient(BASE_URL)
+    expect(client.getPathsFromContext).toBe(client.getStaticPathsFromContext)
+  })
+})
+
+describe(""getResourceCollectionFromContext()"", () => {
+  test(""fetches a resource collection"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      locale: ""en"",
+      defaultLocale: ""en"",
+    }
+
+    const articles = await client.getResourceCollectionFromContext(
+      ""node--article"",
+      context,
+      {
+        params: {
+          ""fields[node--article]"": ""title"",
+        },
+      }
+    )
+
+    expect(articles).toMatchSnapshot()
+  })
+
+  test(""fetches a resource collection using locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      locale: ""es"",
+      defaultLocale: ""en"",
+    }
+
+    const articles = await client.getResourceCollectionFromContext(
+      ""node--article"",
+      context,
+      {
+        params: {
+          ""fields[node--article]"": ""title,langcode"",
+        },
+      }
+    )
+
+    expect(articles[0].langcode).toEqual(""es"")
+
+    expect(articles).toMatchSnapshot()
+  })
+
+  test(""fetches raw data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      locale: ""en"",
+      defaultLocale: ""en"",
+    }
+
+    const recipes = await client.getResourceCollectionFromContext(
+      ""node--recipe"",
+      context,
+      {
+        deserialize: false,
+        params: {
+          ""fields[node--recipe]"": ""title"",
+          ""page[limit]"": 2,
+        },
+      }
+    )
+
+    expect(recipes).toMatchSnapshot()
+  })
+
+  test(""throws an error for invalid resource type"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      locale: ""en"",
+      defaultLocale: ""en"",
+    }
+
+    await expect(
+      client.getResourceCollectionFromContext(
+        ""RESOURCE-DOES-NOT-EXIST"",
+        context
+      )
+    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
+  })
+
+  test(""throws an error for invalid params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      locale: ""en"",
+      defaultLocale: ""en"",
+    }
+
+    await expect(
+      client.getResourceCollectionFromContext<DrupalNode>(
+        ""node--recipe"",
+        context,
+        {
+          params: {
+            include: ""invalid_relationship"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
+    )
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    const context: GetStaticPropsContext = {
+      locale: ""en"",
+      defaultLocale: ""en"",
+    }
+
+    await client.getResourceCollectionFromContext(""node--recipe"", context)
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    const context: GetStaticPropsContext = {
+      locale: ""en"",
+      defaultLocale: ""en"",
+    }
+    await client.getResourceCollectionFromContext(""node--recipe"", context, {
+      withAuth: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})
+
+describe(""getResourceFromContext()"", () => {
+  test(""fetches a resource from context"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+    const recipe = await client.getResourceFromContext<DrupalNode>(
+      ""node--recipe"",
+      context
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches a resource from context with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+    const recipe = await client.getResourceFromContext<DrupalNode>(
+      ""node--recipe"",
+      context,
+      {
+        params: {
+          ""fields[node--recipe]"": ""title"",
+        },
+      }
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches a resource from context using locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""quiche-mediterrneo-profundo""],
+      },
+      locale: ""es"",
+      defaultLocale: ""en"",
+    }
+    const recipe = await client.getResourceFromContext<DrupalNode>(
+      ""node--recipe"",
+      context,
+      {
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      }
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches raw data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+    const recipe = await client.getResourceFromContext<DrupalNode>(
+      ""node--recipe"",
+      context,
+      {
+        deserialize: false,
+        params: {
+          ""fields[node--recipe]"": ""title"",
+        },
+      }
+    )
+
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""fetches a resource from context by revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""quiche-mediterrneo-profundo""],
+      },
+      locale: ""es"",
+      defaultLocale: ""en"",
+    }
+    const recipe = await client.getResourceFromContext<DrupalNode>(
+      ""node--recipe"",
+      context,
+      {
+        params: {
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+
+    context.previewData = { resourceVersion: ""rel:latest-version"" }
+
+    const latestRevision = await client.getResourceFromContext<DrupalNode>(
+      ""node--recipe"",
+      context,
+      {
+        params: {
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+
+    expect(recipe.drupal_internal__vid).toEqual(
+      latestRevision.drupal_internal__vid
+    )
+  })
+
+  test(""throws an error for invalid revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const context: GetStaticPropsContext = {
+      previewData: {
+        resourceVersion: ""id:-11"",
+      },
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    await expect(
+      client.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
+        params: {
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      })
+    ).rejects.toThrow(
+      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
+    )
+  })
+
+  test(""throws an error if revision access is forbidden"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      previewData: {
+        resourceVersion: ""id:1"",
+      },
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    await expect(
+      client.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
+        params: {
+          ""fields[node--recipe]"": ""title"",
+        },
+      })
+    ).rejects.toThrow(
+      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+    )
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    await client.getResourceFromContext(""node--recipe"", context)
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: false,
+      })
+    )
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    await client.getResourceFromContext(""node--recipe"", context, {
+      withAuth: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+
+  test(""makes authenticated requests when preview is true"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    const context: GetStaticPropsContext = {
+      preview: true,
+      previewData: {
+        plugin: ""simple_oauth"",
+        scope: ""editor"",
+      },
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    await client.getResourceFromContext(""node--recipe"", context)
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: `Bearer sample-token`,
+      })
+    )
+  })
+
+  test(""accepts a translated path"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const path = await client.translatePath(""recipes/deep-mediterranean-quiche"")
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    const recipe = await client.getResourceFromContext(path, context, {
+      params: {
+        ""fields[node--recipe]"": ""title,path,status"",
+      },
+    })
+
+    await expect(recipe).toMatchSnapshot()
+  })
+})
+
+describe(""getSearchIndexFromContext()"", () => {
+  test(""calls getSearchIndex() with context data"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest
+      .spyOn(client, ""getSearchIndex"")
+      .mockImplementation(async () => jest.fn())
+    const name = ""resource-name""
+    const locale = ""en-uk""
+    const defaultLocale = ""en-us""
+    const options = {
+      deserialize: true,
+    }
+
+    await client.getSearchIndexFromContext(
+      name,
+      { locale, defaultLocale },
+      options
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(name, {
+      ...options,
+      locale,
+      defaultLocale,
+    })
+  })
+})
+
+describe(""getStaticPathsFromContext()"", () => {
+  test(""returns static paths from context"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = await client.getStaticPathsFromContext(""node--article"", {})
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns static paths from context with locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = await client.getStaticPathsFromContext(""node--article"", {
+      locales: [""en"", ""es""],
+      defaultLocale: ""en"",
+    })
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns static paths for multiple resource types from context"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = await client.getStaticPathsFromContext(
+      [""node--article"", ""node--recipe""],
+      {
+        locales: [""en"", ""es""],
+        defaultLocale: ""en"",
+      }
+    )
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""returns static paths from context with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const paths = await client.getStaticPathsFromContext(
+      ""node--article"",
+      {},
+      {
+        params: {
+          ""filter[promote]"": 1,
+        },
+      }
+    )
+
+    expect(paths).toMatchSnapshot()
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getStaticPathsFromContext(""node--article"", {
+      locales: [""en"", ""es""],
+      defaultLocale: ""en"",
+    })
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: false,
+    })
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    await client.getStaticPathsFromContext(
+      ""node--article"",
+      {
+        locales: [""en"", ""es""],
+        defaultLocale: ""en"",
+      },
+      {
+        withAuth: true,
+      }
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})
+
+describe(""translatePathFromContext()"", () => {
+  test(""translates a path"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+
+    const path = await client.translatePathFromContext(context)
+
+    expect(path).toMatchSnapshot()
+  })
+
+  test(""returns null for path not found"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""path-not-found""],
+      },
+    }
+
+    const path = await client.translatePathFromContext(context)
+
+    expect(path).toBeNull()
+  })
+
+  test(""translates a path with pathPrefix"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""deep-mediterranean-quiche""],
+      },
+    }
+
+    const path = await client.translatePathFromContext(context, {
+      pathPrefix: ""recipes"",
+    })
+
+    expect(path).toMatchSnapshot()
+
+    const path2 = await client.translatePathFromContext(context, {
+      pathPrefix: ""/recipes"",
+    })
+
+    expect(path).toEqual(path2)
+  })
+
+  test(""makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""recipes"", ""deep-mediterranean-quiche""],
+      },
+    }
+    await client.translatePathFromContext(context)
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: false,
+      })
+    )
+  })
+
+  test(""makes authenticated requests with withAuth option"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+      auth: `Bearer sample-token`,
+    })
+    const fetchSpy = spyOnFetch()
+    jest.spyOn(client, ""getAccessToken"")
+
+    const context: GetStaticPropsContext = {
+      params: {
+        slug: [""deep-mediterranean-quiche""],
+      },
+    }
+    await client.translatePathFromContext(context, {
+      pathPrefix: ""recipes"",
+      withAuth: true,
+    })
+
+    expect(fetchSpy).toHaveBeenCalledWith(
+      expect.anything(),
+      expect.objectContaining({
+        withAuth: true,
+      })
+    )
+  })
+})

---FILE: packages/next-drupal/tests/Logger/logger.test.ts---
@@ -0,0 +1,69 @@
+import { describe, expect, jest, test } from ""@jest/globals""
+import {
+  LOG_MESSAGE_PREFIX,
+  DEBUG_MESSAGE_PREFIX,
+  WARN_MESSAGE_PREFIX,
+  ERROR_MESSAGE_PREFIX,
+  logger,
+} from ""../../src/logger""
+import type { Logger } from ""../../src""
+
+test(""is type Logger"", () => {
+  // At compile time, compilation will fail if not a Logger type.
+  const test: Logger = logger
+
+  // At run-time, we just check for object.
+  expect(typeof test === ""object"").toBe(true)
+})
+
+describe(""method: debug"", () => {
+  test(""logs a message"", () => {
+    const consoleSpy = jest
+      .spyOn(console, ""debug"")
+      .mockImplementation((message) => message)
+    const message = ""Test debug message""
+
+    logger.debug(message)
+
+    expect(consoleSpy).toHaveBeenCalledWith(DEBUG_MESSAGE_PREFIX, message)
+  })
+})
+
+describe(""method: error"", () => {
+  test(""logs a message"", () => {
+    const consoleSpy = jest
+      .spyOn(console, ""error"")
+      .mockImplementation((message) => message)
+    const message = ""Test error message""
+
+    logger.error(message)
+
+    expect(consoleSpy).toHaveBeenCalledWith(ERROR_MESSAGE_PREFIX, message)
+  })
+})
+
+describe(""method: log"", () => {
+  test(""logs a message"", () => {
+    const consoleSpy = jest
+      .spyOn(console, ""log"")
+      .mockImplementation((message) => message)
+    const message = ""Test log message""
+
+    logger.log(message)
+
+    expect(consoleSpy).toHaveBeenCalledWith(LOG_MESSAGE_PREFIX, message)
+  })
+})
+
+describe(""method: warn"", () => {
+  test(""logs a message"", () => {
+    const consoleSpy = jest
+      .spyOn(console, ""warn"")
+      .mockImplementation((message) => message)
+    const message = ""Test warn message""
+
+    logger.warn(message)
+
+    expect(consoleSpy).toHaveBeenCalledWith(WARN_MESSAGE_PREFIX, message)
+  })
+})

---FILE: packages/next-drupal/tests/__mocks__/next.ts---
@@ -0,0 +1,37 @@
+export const NextApiRequest = jest.fn(function () {
+  this.query = {
+    slug: ""/example"",
+    resourceVersion: ""id:1"",
+    plugin: ""simple_oauth"",
+    secret: ""very-secret-key"",
+  }
+  this.url = `https://example.com/?${new URLSearchParams(this.query)}`
+  this.headers = {
+    host: ""https://example.com"",
+  }
+})
+
+export const NextApiResponse = jest.fn(function () {
+  const headers = {
+    ""Set-Cookie"": [""mock-cookie-value""],
+  }
+  const response = {
+    statusCode: 200,
+    status: jest.fn((statusCode) => {
+      response.statusCode = statusCode
+      return response
+    }),
+    clearPreviewData: jest.fn(() => response),
+    setPreviewData: jest.fn(() => response),
+    setDraftMode: jest.fn(() => response),
+    getHeader: jest.fn((name) => headers[name]),
+    setHeader: jest.fn((name, value) => {
+      headers[name] = value
+      return response
+    }),
+    writeHead: jest.fn(() => response),
+    end: jest.fn(),
+    json: jest.fn(),
+  }
+  return response
+})

---FILE: packages/next-drupal/tests/__mocks__/next/headers.ts---
@@ -0,0 +1,86 @@
+import type { CookieListItem } from ""next/dist/compiled/@edge-runtime/cookies""
+
+// Create nested mocks ahead of time instead of always creating new mocks when
+// the cookies mock function is called.
+export const cookies = jest.fn(() => cookiesObject)
+
+const cookieStore = {}
+const cookiesObject = {
+  delete: jest.fn((name: string) => {
+    delete cookieStore[name]
+    return cookiesObject
+  }),
+  get: jest.fn((name: string) =>
+    cookieStore[name]
+      ? ({
+          ...cookieStore[name],
+        } as CookieListItem)
+      : undefined
+  ),
+  getAll: jest.fn(
+    () =>
+      [
+        ...Object.keys(cookieStore).map((name) => ({
+          ...cookieStore[name],
+        })),
+      ] as CookieListItem[]
+  ),
+  has: jest.fn((name: string) => !!cookieStore[name]),
+  set: jest.fn(
+    ({
+      name,
+      value,
+      expires,
+      sameSite,
+      secure,
+      path,
+      domain,
+    }: CookieListItem) => {
+      cookieStore[name] = {
+        name,
+        value,
+        expires,
+        sameSite,
+        secure,
+        path,
+        domain,
+      }
+      return cookiesObject
+    }
+  ),
+  toString: jest.fn(),
+}
+
+// Create nested mocks ahead of time instead of always creating new mocks when
+// the draftMode mock function is called.
+export const draftMode = jest.fn(() => ({
+  disable,
+  enable,
+  isEnabled: draftModeEnabled,
+}))
+
+let draftModeEnabled = false
+const disable = jest.fn(() => {
+  draftModeEnabled = false
+})
+const enable = jest.fn(() => {
+  draftModeEnabled = true
+})
+
+export function resetNextHeaders() {
+  cookies.mockClear()
+  cookiesObject.delete.mockClear()
+  cookiesObject.get.mockClear()
+  cookiesObject.getAll.mockClear()
+  cookiesObject.has.mockClear()
+  cookiesObject.set.mockClear()
+  cookiesObject.toString.mockClear()
+  Object.keys(cookieStore).forEach((key) => {
+    delete cookieStore[key]
+  })
+
+  draftMode.mockClear()
+  disable.mockClear()
+  enable.mockClear()
+  draftModeEnabled = false
+}

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -1,2647 +0,0 @@
-import { expect } from ""@jest/globals""
-import { GetStaticPropsContext } from ""next""
-import { DrupalClient } from ""../src/client""
-import type {
-  Serializer,
-  DrupalNode,
-  Logger,
-  JsonApiResourceWithPath,
-  JsonApiSearchApiResponse,
-} from ""../src/types""
-import { BASE_URL } from ""./utils""
-
-jest.setTimeout(10000)
-
-afterEach(() => {
-  jest.restoreAllMocks()
-})
-
-describe(""DrupalClient"", () => {
-  test(""it properly constructs a DrupalClient"", () => {
-    expect(new DrupalClient(BASE_URL)).toBeInstanceOf(DrupalClient)
-  })
-
-  test(""it throws error for invalid baseUrl"", () => {
-    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
-    // @ts-ignore
-    expect(() => new DrupalClient()).toThrow(""The 'baseUrl' param is required."")
-
-    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
-    // @ts-ignore
-    expect(() => new DrupalClient({})).toThrow(
-      ""The 'baseUrl' param is required.""
-    )
-  })
-
-  test(""it correctly formats apiPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
-    expect(client.apiPrefix).toBe(""/jsonapi"")
-
-    const client2 = new DrupalClient(BASE_URL, {
-      apiPrefix: ""/api"",
-    })
-    expect(client2.apiPrefix).toBe(""/api"")
-
-    const client3 = new DrupalClient(BASE_URL, {})
-    client3.apiPrefix = ""api""
-    expect(client3.apiPrefix).toBe(""/api"")
-
-    const client4 = new DrupalClient(BASE_URL, {})
-    expect(client4.apiPrefix).toBe(""/jsonapi"")
-  })
-
-  test(""it has a debug mode"", async () => {
-    const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation()
-
-    const client = new DrupalClient(BASE_URL, {
-      debug: true,
-    })
-
-    expect(consoleSpy).toHaveBeenCalledWith(
-      ""[next-drupal][debug]:"",
-      ""Debug mode is on.""
-    )
-    expect(client.isDebugEnabled).toBe(true)
-  })
-})
-
-describe(""auth"", () => {
-  test(""it accepts username and password for auth"", async () => {
-    const customFetch = jest.fn()
-
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        username: ""admin"",
-        password: ""password"",
-      },
-      fetcher: customFetch,
-    })
-    const url = client.buildUrl(""/jsonapi"").toString()
-
-    await client.fetch(url, { withAuth: true })
-    expect(customFetch).toHaveBeenCalledWith(
-      url,
-      expect.objectContaining({
-        headers: {
-          ""Content-Type"": ""application/vnd.api+json"",
-          Accept: ""application/vnd.api+json"",
-          Authorization: ""Basic YWRtaW46cGFzc3dvcmQ="",
-        },
-        withAuth: true,
-      })
-    )
-  })
-
-  test(""it accepts callback for auth"", async () => {
-    const customAuth = jest
-      .fn()
-      .mockReturnValue(""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="")
-    const customFetch = jest.fn()
-
-    const client = new DrupalClient(BASE_URL, {
-      auth: customAuth,
-      fetcher: customFetch,
-    })
-    const url = client.buildUrl(""/jsonapi"").toString()
-
-    await client.fetch(url, { withAuth: true })
-    expect(customFetch).toHaveBeenCalledWith(
-      url,
-      expect.objectContaining({
-        headers: {
-          ""Content-Type"": ""application/vnd.api+json"",
-          Accept: ""application/vnd.api+json"",
-          Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
-        },
-        withAuth: true,
-      })
-    )
-  })
-
-  test(""it accepts clientId and clientSecret for auth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    const basic = Buffer.from(
-      `7795065e-8ad0-45eb-a64d-73d9f3a5e943:d92Fm^ds`
-    ).toString(""base64"")
-
-    await client.fetch(""http://example.com"", { withAuth: true })
-    expect(fetchSpy).toHaveBeenNthCalledWith(
-      1,
-      `${BASE_URL}/oauth/token`,
-      expect.objectContaining({
-        headers: {
-          Accept: ""application/json"",
-          Authorization: `Basic ${basic}`,
-          ""Content-Type"": ""application/x-www-form-urlencoded"",
-        },
-      })
-    )
-  })
-
-  test(""it accepts custom auth url"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-        url: ""/custom/oauth"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.fetch(""http://example.com"", { withAuth: true })
-    expect(fetchSpy).toHaveBeenNthCalledWith(
-      1,
-      `${BASE_URL}/custom/oauth`,
-      expect.anything()
-    )
-  })
-
-  test(""it throws an error if invalid auth is set"", async () => {
-    expect(
-      () =>
-        new DrupalClient(BASE_URL, {
-          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
-          // @ts-ignore
-          auth: {
-            clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-          },
-        })
-    ).toThrow(
-      ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
-    )
-
-    expect(() => {
-      const client = new DrupalClient(BASE_URL)
-      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
-      // @ts-ignore
-      client.auth = {
-        clientSecret: ""d92Fm^ds"",
-      }
-    }).toThrow(
-      ""'clientId' and 'clientSecret' are required for auth. See https://next-drupal.org/docs/client/auth""
-    )
-
-    expect(
-      () =>
-        new DrupalClient(BASE_URL, {
-          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
-          // @ts-ignore
-          auth: {
-            username: ""admin"",
-          },
-        })
-    ).toThrow(
-      ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
-    )
-
-    expect(
-      () =>
-        new DrupalClient(BASE_URL, {
-          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
-          // @ts-ignore
-          auth: {
-            password: ""password"",
-          },
-        })
-    ).toThrow(
-      ""'username' and 'password' are required for auth. See https://next-drupal.org/docs/client/auth""
-    )
-  })
-})
-
-describe(""getAccessToken"", () => {
-  test(""it fetches an access token"", async () => {
-    jest.spyOn(global, ""fetch"").mockImplementation(
-      jest.fn(() =>
-        Promise.resolve({
-          ok: true,
-          json: () =>
-            Promise.resolve({
-              access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"",
-              token_type: ""bearer"",
-              expires_in: 3600,
-            }),
-        })
-      ) as jest.Mock
-    )
-
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-
-    const token = await client.getAccessToken()
-    expect(token).toEqual({
-      access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"",
-      token_type: ""bearer"",
-      expires_in: 3600,
-    })
-  })
-
-  test(""it re-uses access token"", async () => {
-    jest.spyOn(global, ""fetch"").mockImplementation(
-      jest.fn(() =>
-        Promise.resolve({
-          ok: true,
-          json: () =>
-            Promise.resolve({
-              access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"" + Math.random(),
-              token_type: ""bearer"",
-              expires_in: 3600,
-            }),
-        })
-      ) as jest.Mock
-    )
-
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-
-    const token1 = await client.getAccessToken()
-    const token2 = await client.getAccessToken()
-    expect(token1).toEqual(token2)
-  })
-
-  test(""it accepts a long-lived accessToken"", async () => {
-    const accessToken = {
-      token_type: ""Bearer"",
-      expires_in: 300,
-      access_token:
-        ""eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImVlNDkyOTI4ZTZjNj"",
-    }
-
-    const client = new DrupalClient(BASE_URL, {
-      accessToken,
-    })
-
-    const token = await client.getAccessToken()
-
-    expect(token).toEqual(accessToken)
-  })
-})
-
-describe(""headers"", () => {
-  test(""it allows setting custom headers"", async () => {
-    const customFetch = jest.fn()
-    const client = new DrupalClient(BASE_URL, {
-      fetcher: customFetch,
-    })
-    client.headers = {
-      foo: ""bar"",
-    }
-
-    const url = ""http://example.com""
-
-    await client.fetch(url)
-    expect(customFetch).toHaveBeenCalledWith(
-      url,
-      expect.objectContaining({
-        headers: { foo: ""bar"" },
-      })
-    )
-  })
-
-  test(""it allows setting custom headers with custom auth"", async () => {
-    const customFetch = jest.fn()
-    const client = new DrupalClient(BASE_URL, {
-      fetcher: customFetch,
-      headers: {
-        foo: ""bar"",
-      },
-      auth: jest
-        .fn()
-        .mockReturnValue(""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM=""),
-    })
-
-    const url = ""http://example.com""
-
-    await client.fetch(url, { withAuth: true })
-
-    expect(customFetch).toHaveBeenCalledWith(
-      url,
-      expect.objectContaining({
-        headers: {
-          foo: ""bar"",
-          Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
-        },
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""logger"", () => {
-  test(""it allows custom logger"", () => {
-    const logger: Logger = {
-      log(message) {
-        console.log(message)
-      },
-      warn(message) {
-        console.warn(message)
-      },
-      error(message) {
-        console.error(message)
-      },
-      debug(message) {
-        console.debug(message)
-      },
-    }
-    const debugSpy = jest.spyOn(logger, ""debug"").mockImplementation()
-
-    new DrupalClient(BASE_URL, { debug: true, logger })
-
-    expect(debugSpy).toHaveBeenCalled()
-  })
-})
-
-describe(""fetch"", () => {
-  test(""it allows fetching custom url"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const url = client.buildUrl(
-      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
-    )
-
-    const response = await client.fetch(url.toString())
-    expect(response.headers.get(""content-type"")).toEqual(
-      ""application/vnd.api+json""
-    )
-    const json = await response.json()
-    expect(json).toMatchSnapshot()
-  })
-
-  test(""it allows authenticated requests"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const url = client.buildUrl(""/jsonapi"")
-
-    const getAccessTokenSpy = jest
-      .spyOn(client, ""getAccessToken"")
-      .mockImplementation()
-
-    await client.fetch(url.toString(), {
-      withAuth: true,
-    })
-
-    expect(getAccessTokenSpy).toHaveBeenCalled()
-  })
-
-  test(""it throws an error if withAuth is called when auth is not configured"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const url = client.buildUrl(""/jsonapi"")
-
-    await expect(
-      client.fetch(url.toString(), {
-        withAuth: true,
-      })
-    ).rejects.toThrow(""auth is not configured."")
-  })
-
-  test(""it allows for custom fetcher"", async () => {
-    const customFetch = jest.fn()
-
-    const client = new DrupalClient(BASE_URL, {
-      fetcher: customFetch,
-    })
-    const url = client.buildUrl(""/jsonapi"").toString()
-
-    await client.fetch(url)
-    expect(customFetch).toHaveBeenCalledWith(
-      url,
-      expect.objectContaining({
-        headers: {
-          ""Content-Type"": ""application/vnd.api+json"",
-          Accept: ""application/vnd.api+json"",
-        },
-      })
-    )
-
-    await client.fetch(url, {
-      headers: {
-        foo: ""bar"",
-      },
-    })
-    expect(customFetch).toHaveBeenLastCalledWith(
-      url,
-      expect.objectContaining({
-        headers: {
-          Accept: ""application/vnd.api+json"",
-          ""Content-Type"": ""application/vnd.api+json"",
-          foo: ""bar"",
-        },
-      })
-    )
-  })
-})
-
-describe(""buildUrl"", () => {
-  const client = new DrupalClient(BASE_URL)
-
-  test(""it builds a url"", () => {
-    expect(client.buildUrl(""http://example.com"").toString()).toEqual(
-      ""http://example.com/""
-    )
-  })
-
-  test(""it builds a relative url"", () => {
-    expect(client.buildUrl(""/foo"").toString()).toEqual(`${BASE_URL}/foo`)
-  })
-
-  test(""it builds a url with params"", () => {
-    expect(client.buildUrl(""/foo"", { bar: ""baz"" }).toString()).toEqual(
-      `${BASE_URL}/foo?bar=baz`
-    )
-
-    expect(
-      client
-        .buildUrl(""/jsonapi/node/article"", {
-          sort: ""-created"",
-          ""fields[node--article]"": ""title,path"",
-        })
-        .toString()
-    ).toEqual(
-      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
-    )
-  })
-
-  test(""it builds a url from object (DrupalJsonApiParams)"", () => {
-    const params = {
-      getQueryObject: () => ({
-        sort: ""-created"",
-        ""fields[node--article]"": ""title,path"",
-      }),
-    }
-
-    expect(client.buildUrl(""/jsonapi/node/article"", params).toString()).toEqual(
-      `${BASE_URL}/jsonapi/node/article?sort=-created&fields%5Bnode--article%5D=title%2Cpath`
-    )
-  })
-})
-
-describe(""deserialize"", () => {
-  test(""it deserializes JSON:API resource"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const url = client.buildUrl(
-      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053"",
-      {
-        include: ""field_tags"",
-      }
-    )
-
-    const response = await client.fetch(url.toString())
-    const json = await response.json()
-    const article = client.deserialize(json) as DrupalNode
-
-    expect(article).toMatchSnapshot()
-    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
-    expect(article.field_tags).toHaveLength(3)
-  })
-
-  test(""it deserializes JSON:API collection"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const url = client.buildUrl(""/jsonapi/node/article"", {
-      getQueryObject: () => ({
-        ""fields[node--article]"": ""title"",
-      }),
-    })
-
-    const response = await client.fetch(url.toString())
-    const json = await response.json()
-    const articles = client.deserialize(json) as DrupalNode[]
-
-    expect(articles).toMatchSnapshot()
-  })
-
-  test(""it allows for custom data serializer"", async () => {
-    const serializer: Serializer = {
-      deserialize: (
-        body: { data: { id: string; attributes: { title: string } } },
-        options: { pathPrefix: string }
-      ) => {
-        return {
-          id: body.data.id,
-          title: `${options.pathPrefix}: ${body.data.attributes.title}`,
-        }
-      },
-    }
-    const client = new DrupalClient(BASE_URL, {
-      serializer,
-    })
-    const url = client.buildUrl(
-      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
-    )
-
-    const response = await client.fetch(url.toString())
-    const json = await response.json()
-    const article = client.deserialize(json, {
-      pathPrefix: ""TITLE"",
-    }) as DrupalNode
-
-    expect(article).toMatchSnapshot()
-    expect(article.id).toEqual(""52837ad0-f218-46bd-a106-5710336b7053"")
-    expect(article.title).toEqual(`TITLE: ${json.data.attributes.title}`)
-  })
-})
-
-describe(""getPathFromContext"", () => {
-  test(""it returns a path from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    expect(
-      client.getPathFromContext({
-        params: {
-          slug: [""foo""],
-        },
-      })
-    ).toEqual(""/foo"")
-
-    expect(
-      client.getPathFromContext({
-        params: {
-          slug: [""foo"", ""bar""],
-        },
-      })
-    ).toEqual(""/foo/bar"")
-
-    expect(
-      client.getPathFromContext({
-        locale: ""en"",
-        defaultLocale: ""es"",
-        params: {
-          slug: [""foo"", ""bar""],
-        },
-      })
-    ).toEqual(""/en/foo/bar"")
-
-    expect(
-      client.getPathFromContext({
-        params: {
-          slug: [],
-        },
-      })
-    ).toEqual(""/home"")
-
-    client.frontPage = ""/front""
-
-    expect(
-      client.getPathFromContext({
-        params: {
-          slug: [],
-        },
-      })
-    ).toEqual(""/front"")
-
-    expect(
-      client.getPathFromContext({
-        locale: ""es"",
-        defaultLocale: ""en"",
-        params: {
-          slug: [],
-        },
-      })
-    ).toEqual(""/es/front"")
-  })
-
-  test(""it returns a path from context with pathPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
-
-    expect(
-      client.getPathFromContext(
-        {
-          params: {
-            slug: [""bar"", ""baz""],
-          },
-        },
-        {
-          pathPrefix: ""/foo"",
-        }
-      )
-    ).toEqual(""/foo/bar/baz"")
-
-    expect(
-      client.getPathFromContext(
-        {
-          params: {
-            slug: [""bar"", ""baz""],
-          },
-        },
-        {
-          pathPrefix: ""foo"",
-        }
-      )
-    ).toEqual(""/foo/bar/baz"")
-
-    expect(
-      client.getPathFromContext(
-        {
-          locale: ""en"",
-          defaultLocale: ""en"",
-          params: {
-            slug: [""bar"", ""baz""],
-          },
-        },
-        {
-          pathPrefix: ""foo"",
-        }
-      )
-    ).toEqual(""/foo/bar/baz"")
-
-    expect(
-      client.getPathFromContext(
-        {
-          locale: ""es"",
-          defaultLocale: ""en"",
-          params: {
-            slug: [""bar"", ""baz""],
-          },
-        },
-        {
-          pathPrefix: ""foo"",
-        }
-      )
-    ).toEqual(""/es/foo/bar/baz"")
-
-    expect(
-      client.getPathFromContext(
-        {
-          locale: ""es"",
-          defaultLocale: ""en"",
-          params: {
-            slug: [],
-          },
-        },
-        {
-          pathPrefix: ""/foo"",
-        }
-      )
-    ).toEqual(""/es/foo/home"")
-
-    client.frontPage = ""/baz""
-
-    expect(
-      client.getPathFromContext(
-        {
-          locale: ""en"",
-          defaultLocale: ""en"",
-          params: {
-            slug: [],
-          },
-        },
-        {
-          pathPrefix: ""foo"",
-        }
-      )
-    ).toEqual(""/foo/baz"")
-
-    expect(
-      client.getPathFromContext(
-        {
-          params: {
-            slug: [],
-          },
-        },
-        {
-          pathPrefix: ""/foo/bar"",
-        }
-      )
-    ).toEqual(""/foo/bar/baz"")
-  })
-
-  test(""it encodes path with punctuation"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const path = client.getPathFromContext({
-      params: {
-        slug: [""path&with^punc&in$path""],
-      },
-    })
-
-    expect(path).toEqual(""/path%26with%5Epunc%26in%24path"")
-
-    const translatedPath = await client.translatePath(path)
-
-    expect(translatedPath).toMatchSnapshot()
-  })
-})
-
-describe(""getIndex"", () => {
-  test(""it fetches the JSON:API index"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const index = await client.getIndex()
-
-    expect(index).toMatchSnapshot()
-  })
-
-  test(""it fetches the JSON:API index with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const index = await client.getIndex(""es"")
-
-    expect(index).toMatchSnapshot()
-  })
-
-  test(""it throws error for invalid base url"", async () => {
-    const client = new DrupalClient(""https://example.com"")
-
-    await expect(client.getIndex()).rejects.toThrow(
-      ""Failed to fetch JSON:API index at https://example.com/jsonapi""
-    )
-  })
-})
-
-describe(""getEntryForResourceType"", () => {
-  test(""it returns the JSON:API entry for a resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const getIndexSpy = jest.spyOn(client, ""getIndex"")
-
-    const recipeEntry = await client.getEntryForResourceType(""node--recipe"")
-    expect(recipeEntry).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(1)
-
-    const articleEntry = await client.getEntryForResourceType(""node--article"")
-    expect(articleEntry).toMatch(`${BASE_URL}/en/jsonapi/node/article`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(2)
-  })
-
-  test(""it assembles JSON:API entry without fetching index"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-    })
-    const getIndexSpy = jest.spyOn(client, ""getIndex"")
-
-    const recipeEntry = await client.getEntryForResourceType(""node--article"")
-    expect(recipeEntry).toMatch(`${BASE_URL}/jsonapi/node/article`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(0)
-  })
-
-  test(""it throws an error if resource type does not exist"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getEntryForResourceType(""RESOURCE-DOES-NOT-EXIST"")
-    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
-  })
-})
-
-describe(""getResource"", () => {
-  test(""it fetches a resource by uuid"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource by uuid with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-      {
-        params: {
-          ""fields[node--recipe]"": ""title,field_cooking_time"",
-        },
-      }
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-      {
-        locale: ""es"",
-        defaultLocale: ""en"",
-        params: {
-          ""fields[node--recipe]"": ""title,field_cooking_time"",
-        },
-      }
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResource(
-        ""node--recipe"",
-        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-        {
-          deserialize: false,
-        }
-      )
-    ).resolves.toMatchSnapshot()
-  })
-
-  test(""it fetches a resource by revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResource<DrupalNode>(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-      {
-        params: {
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      }
-    )
-    const latestRevision = await client.getResource<DrupalNode>(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-      {
-        params: {
-          resourceVersion: ""rel:latest-version"",
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      }
-    )
-
-    expect(recipe.drupal_internal__vid).toEqual(
-      latestRevision.drupal_internal__vid
-    )
-  })
-
-  test(""it throws an error for invalid revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResource<DrupalNode>(
-        ""node--recipe"",
-        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-        {
-          params: {
-            resourceVersion: ""id:-11"",
-            ""fields[node--recipe]"": ""title"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
-    )
-  })
-
-  test(""it throws an error if revision access is forbidden"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResource<DrupalNode>(
-        ""node--recipe"",
-        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-        {
-          params: {
-            resourceVersion: ""id:1"",
-            ""fields[node--recipe]"": ""title"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""401 Unauthorized\nNo authentication credentials provided.""
-    )
-  })
-
-  test(""it throws an error for invalid resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResource<DrupalNode>(
-        ""RESOURCE-DOES-NOT-EXIST"",
-        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
-      )
-    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
-  })
-
-  test(""it throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResource<DrupalNode>(
-        ""node--recipe"",
-        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-        {
-          params: {
-            include: ""invalid_relationship"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
-    )
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.getResource(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
-    )
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getResource(
-      ""node--recipe"",
-      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
-      {
-        withAuth: true,
-      }
-    )
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""getResourceByPath"", () => {
-  test(""it fetches a resource by path"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"")
-    ).resolves.toMatchSnapshot()
-  })
-
-  test(""it fetches a resource by path with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
-        params: {
-          ""fields[node--recipe]"": ""title,field_cooking_time"",
-        },
-      })
-    ).resolves.toMatchSnapshot()
-  })
-
-  test(""it fetches a resource by path using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResourceByPath(
-      ""/recipes/quiche-mediterrneo-profundo"",
-      {
-        locale: ""es"",
-        defaultLocale: ""en"",
-        params: {
-          ""fields[node--recipe]"": ""title,field_cooking_time"",
-        },
-      }
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath(""/recipes/deep-mediterranean-quiche"", {
-        deserialize: false,
-      })
-    ).resolves.toMatchSnapshot()
-  })
-
-  test(""it fetches a resource by revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const recipe = await client.getResourceByPath<DrupalNode>(
-      ""/recipes/deep-mediterranean-quiche"",
-      {
-        params: {
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      }
-    )
-    const latestRevision = await client.getResourceByPath<DrupalNode>(
-      ""/recipes/deep-mediterranean-quiche"",
-      {
-        params: {
-          resourceVersion: ""rel:latest-version"",
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      }
-    )
-
-    expect(recipe.drupal_internal__vid).toEqual(
-      latestRevision.drupal_internal__vid
-    )
-  })
-
-  test(""it throws an error for invalid revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath<DrupalNode>(
-        ""/recipes/deep-mediterranean-quiche"",
-        {
-          params: {
-            resourceVersion: ""id:-11"",
-            ""fields[node--recipe]"": ""title"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
-    )
-  })
-
-  test(""it throws an error if revision access is forbidden"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath<DrupalNode>(
-        ""/recipes/deep-mediterranean-quiche"",
-        {
-          params: {
-            resourceVersion: ""id:1"",
-            ""fields[node--recipe]"": ""title"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""401 Unauthorized\nNo authentication credentials provided.""
-    )
-  })
-
-  test(""it returns null for path not found"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath<DrupalNode>(""/path-do-not-exist"")
-    ).rejects.toThrow(""Unable to resolve path /path-do-not-exist."")
-  })
-
-  test(""it throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceByPath<DrupalNode>(
-        ""/recipes/deep-mediterranean-quiche"",
-        {
-          params: {
-            include: ""invalid_relationship"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
-    )
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-    const getAccessTokenSpy = jest.spyOn(client, ""getAccessToken"")
-
-    await client.getResourceByPath<DrupalNode>(
-      ""/recipes/deep-mediterranean-quiche""
-    )
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.not.objectContaining({
-        withAuth: true,
-      })
-    )
-    expect(getAccessTokenSpy).not.toHaveBeenCalled()
-  })
-
-  test(""it makes authenticated requests with withAuth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    const getAccessTokenSpy = jest.spyOn(client, ""getAccessToken"")
-
-    await client.getResourceByPath<DrupalNode>(
-      ""/recipes/deep-mediterranean-quiche"",
-      {
-        withAuth: true,
-      }
-    )
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-    expect(getAccessTokenSpy).toHaveBeenCalled()
-  })
-})
-
-describe(""getResourceFromContext"", () => {
-  test(""it fetches a resource from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
-      ""node--recipe"",
-      context
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource from context with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
-      ""node--recipe"",
-      context,
-      {
-        params: {
-          ""fields[node--recipe]"": ""title"",
-        },
-      }
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource from context using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""quiche-mediterrneo-profundo""],
-      },
-      locale: ""es"",
-      defaultLocale: ""en"",
-    }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
-      ""node--recipe"",
-      context,
-      {
-        params: {
-          ""fields[node--recipe]"": ""title,field_cooking_time"",
-        },
-      }
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
-      ""node--recipe"",
-      context,
-      {
-        deserialize: false,
-        params: {
-          ""fields[node--recipe]"": ""title"",
-        },
-      }
-    )
-
-    expect(recipe).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource from context by revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""quiche-mediterrneo-profundo""],
-      },
-      locale: ""es"",
-      defaultLocale: ""en"",
-    }
-    const recipe = await client.getResourceFromContext<DrupalNode>(
-      ""node--recipe"",
-      context,
-      {
-        params: {
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      }
-    )
-
-    context.previewData = { resourceVersion: ""rel:latest-version"" }
-
-    const latestRevision = await client.getResourceFromContext<DrupalNode>(
-      ""node--recipe"",
-      context,
-      {
-        params: {
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      }
-    )
-
-    expect(recipe.drupal_internal__vid).toEqual(
-      latestRevision.drupal_internal__vid
-    )
-  })
-
-  test(""it throws an error for invalid revision"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const context: GetStaticPropsContext = {
-      previewData: {
-        resourceVersion: ""id:-11"",
-      },
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    await expect(
-      client.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
-        params: {
-          ""fields[node--recipe]"": ""drupal_internal__vid"",
-        },
-      })
-    ).rejects.toThrow(
-      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
-    )
-  })
-
-  test(""it throws an error if revision access is forbidden"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      previewData: {
-        resourceVersion: ""id:1"",
-      },
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    await expect(
-      client.getResourceFromContext<DrupalNode>(""node--recipe"", context, {
-        params: {
-          ""fields[node--recipe]"": ""title"",
-        },
-      })
-    ).rejects.toThrow(
-      ""401 Unauthorized\nNo authentication credentials provided.""
-    )
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    await client.getResourceFromContext(""node--recipe"", context)
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: false,
-      })
-    )
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    await client.getResourceFromContext(""node--recipe"", context, {
-      withAuth: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-
-  test(""it makes authenticated requests when preview is true"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    const context: GetStaticPropsContext = {
-      preview: true,
-      previewData: {
-        plugin: ""simple_oauth"",
-        scope: ""editor"",
-      },
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    await client.getResourceFromContext(""node--recipe"", context)
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: `Bearer sample-token`,
-      })
-    )
-  })
-
-  test(""it accepts a translated path"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const path = await client.translatePath(""recipes/deep-mediterranean-quiche"")
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    if (path) {
-      const recipe = await client.getResourceFromContext(path, context, {
-        params: {
-          ""fields[node--recipe]"": ""title,path,status"",
-        },
-      })
-
-      await expect(recipe).toMatchSnapshot()
-    }
-  })
-})
-
-describe(""translatePath"", () => {
-  test(""it translates a path"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const path = await client.translatePath(""recipes/deep-mediterranean-quiche"")
-
-    expect(path).toMatchSnapshot()
-
-    const path2 = await client.translatePath(
-      ""/recipes/deep-mediterranean-quiche""
-    )
-
-    expect(path).toEqual(path2)
-  })
-
-  test(""it returns null for path not found"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const path = await client.translatePath(""/path-not-found"")
-
-    expect(path).toBeNull()
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.translatePath(""recipes/deep-mediterranean-quiche"")
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: false,
-      })
-    )
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.translatePath(""recipes/deep-mediterranean-quiche"", {
-      withAuth: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""translatePathFromContext"", () => {
-  test(""it translates a path"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-
-    const path = await client.translatePathFromContext(context)
-
-    expect(path).toMatchSnapshot()
-  })
-
-  test(""it returns null for path not found"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""path-not-found""],
-      },
-    }
-
-    const path = await client.translatePathFromContext(context)
-
-    expect(path).toBeNull()
-  })
-
-  test(""it translates a path with pathPrefix"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""deep-mediterranean-quiche""],
-      },
-    }
-
-    const path = await client.translatePathFromContext(context, {
-      pathPrefix: ""recipes"",
-    })
-
-    expect(path).toMatchSnapshot()
-
-    const path2 = await client.translatePathFromContext(context, {
-      pathPrefix: ""/recipes"",
-    })
-
-    expect(path).toEqual(path2)
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""recipes"", ""deep-mediterranean-quiche""],
-      },
-    }
-    await client.translatePathFromContext(context)
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: false,
-      })
-    )
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    const context: GetStaticPropsContext = {
-      params: {
-        slug: [""deep-mediterranean-quiche""],
-      },
-    }
-    await client.translatePathFromContext(context, {
-      pathPrefix: ""recipes"",
-      withAuth: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""getResourceCollection"", () => {
-  test(""it fetches a resource collection"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const articles = await client.getResourceCollection(""node--article"", {
-      params: {
-        ""fields[node--article]"": ""title"",
-      },
-    })
-
-    expect(articles).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource collection using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const articles = await client.getResourceCollection(""node--article"", {
-      locale: ""es"",
-      defaultLocale: ""en"",
-      params: {
-        ""fields[node--article]"": ""title,langcode"",
-      },
-    })
-
-    expect(articles[0].langcode).toEqual(""es"")
-
-    expect(articles).toMatchSnapshot()
-  })
-
-  test(""it fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const recipes = await client.getResourceCollection(""node--recipe"", {
-      deserialize: false,
-      params: {
-        ""fields[node--recipe]"": ""title"",
-        ""page[limit]"": 2,
-      },
-    })
-
-    expect(recipes).toMatchSnapshot()
-  })
-
-  test(""it throws an error for invalid resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceCollection(""RESOURCE-DOES-NOT-EXIST"")
-    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
-  })
-
-  test(""it throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(
-      client.getResourceCollection<DrupalNode>(""node--recipe"", {
-        params: {
-          include: ""invalid_relationship"",
-        },
-      })
-    ).rejects.toThrow(
-      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
-    )
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.getResourceCollection(""node--recipe"")
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getResourceCollection(""node--recipe"", {
-      withAuth: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""getResourceCollectionFromContext"", () => {
-  test(""it fetches a resource collection"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      locale: ""en"",
-      defaultLocale: ""en"",
-    }
-
-    const articles = await client.getResourceCollectionFromContext(
-      ""node--article"",
-      context,
-      {
-        params: {
-          ""fields[node--article]"": ""title"",
-        },
-      }
-    )
-
-    expect(articles).toMatchSnapshot()
-  })
-
-  test(""it fetches a resource collection using locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      locale: ""es"",
-      defaultLocale: ""en"",
-    }
-
-    const articles = await client.getResourceCollectionFromContext(
-      ""node--article"",
-      context,
-      {
-        params: {
-          ""fields[node--article]"": ""title,langcode"",
-        },
-      }
-    )
-
-    expect(articles[0].langcode).toEqual(""es"")
-
-    expect(articles).toMatchSnapshot()
-  })
-
-  test(""it fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      locale: ""en"",
-      defaultLocale: ""en"",
-    }
-
-    const recipes = await client.getResourceCollectionFromContext(
-      ""node--recipe"",
-      context,
-      {
-        deserialize: false,
-        params: {
-          ""fields[node--recipe]"": ""title"",
-          ""page[limit]"": 2,
-        },
-      }
-    )
-
-    expect(recipes).toMatchSnapshot()
-  })
-
-  test(""it throws an error for invalid resource type"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      locale: ""en"",
-      defaultLocale: ""en"",
-    }
-
-    await expect(
-      client.getResourceCollectionFromContext(
-        ""RESOURCE-DOES-NOT-EXIST"",
-        context
-      )
-    ).rejects.toThrow(""Resource of type 'RESOURCE-DOES-NOT-EXIST' not found."")
-  })
-
-  test(""it throws an error for invalid params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const context: GetStaticPropsContext = {
-      locale: ""en"",
-      defaultLocale: ""en"",
-    }
-
-    await expect(
-      client.getResourceCollectionFromContext<DrupalNode>(
-        ""node--recipe"",
-        context,
-        {
-          params: {
-            include: ""invalid_relationship"",
-          },
-        }
-      )
-    ).rejects.toThrow(
-      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
-    )
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    const context: GetStaticPropsContext = {
-      locale: ""en"",
-      defaultLocale: ""en"",
-    }
-
-    await client.getResourceCollectionFromContext(""node--recipe"", context)
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    const context: GetStaticPropsContext = {
-      locale: ""en"",
-      defaultLocale: ""en"",
-    }
-    await client.getResourceCollectionFromContext(""node--recipe"", context, {
-      withAuth: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""getStaticPathsFromContext"", () => {
-  test(""it returns static paths from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const paths = await client.getStaticPathsFromContext(""node--article"", {})
-
-    expect(paths).toMatchSnapshot()
-  })
-
-  test(""it returns static paths from context with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const paths = await client.getStaticPathsFromContext(""node--article"", {
-      locales: [""en"", ""es""],
-      defaultLocale: ""en"",
-    })
-
-    expect(paths).toMatchSnapshot()
-  })
-
-  test(""it returns static paths for multiple resource types from context"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const paths = await client.getStaticPathsFromContext(
-      [""node--article"", ""node--recipe""],
-      {
-        locales: [""en"", ""es""],
-        defaultLocale: ""en"",
-      }
-    )
-
-    expect(paths).toMatchSnapshot()
-  })
-
-  test(""it returns static paths from context with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const paths = await client.getStaticPathsFromContext(
-      ""node--article"",
-      {},
-      {
-        params: {
-          ""filter[promote]"": 1,
-        },
-      }
-    )
-
-    expect(paths).toMatchSnapshot()
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.getStaticPathsFromContext(""node--article"", {
-      locales: [""en"", ""es""],
-      defaultLocale: ""en"",
-    })
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getStaticPathsFromContext(
-      ""node--article"",
-      {
-        locales: [""en"", ""es""],
-        defaultLocale: ""en"",
-      },
-      {
-        withAuth: true,
-      }
-    )
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""buildStaticPathsParamsFromPaths"", () => {
-  test(""it builds static paths from paths"", () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const paths = [""/blog/post/one"", ""/blog/post/two"", ""/blog/post/three""]
-
-    expect(client.buildStaticPathsParamsFromPaths(paths)).toMatchSnapshot()
-
-    expect(
-      client.buildStaticPathsParamsFromPaths(paths, { locale: ""en"" })
-    ).toMatchSnapshot()
-  })
-
-  test(""it builds static paths from paths with pathPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const paths = client.buildStaticPathsParamsFromPaths(
-      [""/blog/post/one"", ""/blog/post/two"", ""/blog/post""],
-      { pathPrefix: ""blog"" }
-    )
-
-    const paths2 = client.buildStaticPathsParamsFromPaths(
-      [""/blog/post/one"", ""/blog/post/two"", ""/blog/post""],
-      { pathPrefix: ""/blog"" }
-    )
-
-    const paths3 = client.buildStaticPathsParamsFromPaths(
-      [""blog/post/one"", ""blog/post/two"", ""blog/post""],
-      { pathPrefix: ""/blog"" }
-    )
-
-    const paths4 = client.buildStaticPathsParamsFromPaths(
-      [""blog/post/one"", ""blog/post/two"", ""blog/post""],
-      { pathPrefix: ""blog"" }
-    )
-
-    expect(paths).toMatchSnapshot()
-
-    expect(paths).toEqual(paths2)
-    expect(paths).toEqual(paths3)
-    expect(paths).toEqual(paths4)
-  })
-})
-
-describe(""buildStaticPathsFromResources"", () => {
-  test(""it builds static paths from resources"", () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const resources: Pick<JsonApiResourceWithPath, ""path"">[] = [
-      {
-        path: {
-          alias: ""blog/post/one"",
-          pid: 1,
-          langcode: ""en"",
-        },
-      },
-      {
-        path: {
-          alias: ""blog/post/two"",
-          pid: 2,
-          langcode: ""en"",
-        },
-      },
-    ]
-
-    expect(client.buildStaticPathsFromResources(resources)).toMatchSnapshot()
-
-    expect(
-      client.buildStaticPathsFromResources(resources, { locale: ""es"" })
-    ).toMatchSnapshot()
-  })
-
-  test(""it builds static paths from resources with pathPrefix"", () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const resources: Pick<JsonApiResourceWithPath, ""path"">[] = [
-      {
-        path: {
-          alias: ""blog/post/one"",
-          pid: 1,
-          langcode: ""en"",
-        },
-      },
-      {
-        path: {
-          alias: ""blog/post/two"",
-          pid: 2,
-          langcode: ""en"",
-        },
-      },
-    ]
-
-    const paths = client.buildStaticPathsFromResources(resources, {
-      pathPrefix: ""blog"",
-    })
-
-    const paths2 = client.buildStaticPathsFromResources(resources, {
-      pathPrefix: ""/blog"",
-    })
-
-    const paths3 = client.buildStaticPathsFromResources(resources, {
-      pathPrefix: ""/blog/post"",
-      locale: ""es"",
-    })
-
-    const paths4 = client.buildStaticPathsFromResources(resources, {
-      pathPrefix: ""blog/post"",
-      locale: ""es"",
-    })
-
-    expect(paths).toMatchSnapshot()
-    expect(paths3).toMatchSnapshot()
-
-    expect(paths).toEqual(paths2)
-    expect(paths3).toEqual(paths4)
-  })
-})
-
-describe(""getMenu"", () => {
-  test(""it fetches menu items for a menu"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const menu = await client.getMenu(""main"")
-
-    expect(menu).toMatchSnapshot()
-  })
-
-  test(""it fetches menu items for a menu with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const menu = await client.getMenu(""main"", {
-      locale: ""es"",
-      defaultLocale: ""en"",
-    })
-
-    expect(menu).toMatchSnapshot()
-  })
-
-  test(""it fetches menu items for a menu with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const menu = await client.getMenu(""main"", {
-      params: {
-        ""fields[menu_link_content--menu_link_content]"": ""title"",
-      },
-    })
-
-    expect(menu).toMatchSnapshot()
-  })
-
-  test(""it throws an error for invalid menu name"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(client.getMenu(""INVALID"")).rejects.toThrow(
-      '404 Not Found\nThe ""menu"" parameter was not converted for the path ""/jsonapi/menu_items/{menu}"" (route name: ""jsonapi_menu_items.menu"")'
-    )
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.getMenu(""main"")
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getMenu(""main"", { withAuth: true })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""getView"", () => {
-  test(""it fetches a view"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const view = await client.getView(""featured_articles--page_1"")
-
-    expect(view).toMatchSnapshot()
-  })
-
-  test(""it fetches a view with params"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const view = await client.getView(""featured_articles--page_1"", {
-      params: {
-        ""fields[node--article]"": ""title"",
-      },
-    })
-
-    expect(view).toMatchSnapshot()
-  })
-
-  test(""it fetches a view with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const view = await client.getView(""featured_articles--page_1"", {
-      locale: ""es"",
-      defaultLocale: ""en"",
-      params: {
-        ""fields[node--article]"": ""title"",
-      },
-    })
-
-    expect(view).toMatchSnapshot()
-  })
-
-  test(""it fetches raw data"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const view = await client.getView(""featured_articles--page_1"", {
-      locale: ""es"",
-      defaultLocale: ""en"",
-      deserialize: false,
-      params: {
-        ""fields[node--article]"": ""title"",
-      },
-    })
-
-    expect(view).toMatchSnapshot()
-  })
-
-  test(""it throws an error for invalid view name"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(client.getView(""INVALID"")).rejects.toThrow(""Not Found"")
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.getView(""featured_articles--page_1"")
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getView(""featured_articles--page_1"", { withAuth: true })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-
-  test(""it fetches a view with links for pagination"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const view = await client.getView(""recipes--page_1"")
-
-    expect(view.links).toHaveProperty(""next"")
-  })
-})
-
-describe(""getSearchIndex"", () => {
-  test(""it fetches a search index"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const search = await client.getSearchIndex(""recipes"", {
-      params: {
-        ""fields[node--recipe]"": ""title"",
-      },
-    })
-
-    expect(search).toMatchSnapshot()
-  })
-
-  test(""it fetches a search index with locale"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const search = await client.getSearchIndex(""recipes"", {
-      locale: ""es"",
-      defaultLocale: ""en"",
-      params: {
-        ""fields[node--recipe]"": ""title"",
-      },
-    })
-
-    expect(search).toMatchSnapshot()
-  })
-
-  test(""it fetches a search index with facets filters"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const search = await client.getSearchIndex<JsonApiSearchApiResponse>(
-      ""recipes"",
-      {
-        deserialize: false,
-        params: {
-          ""filter[difficulty]"": ""easy"",
-          ""fields[node--recipe]"": ""title,field_difficulty"",
-        },
-      }
-    )
-
-    expect(search).toMatchSnapshot()
-    expect(search.meta.facets).not.toBeNull()
-  })
-
-  test(""it fetches raw data from search index"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    const search = await client.getSearchIndex(""recipes"", {
-      deserialize: false,
-      params: {
-        ""filter[difficulty]"": ""easy"",
-        ""fields[node--recipe]"": ""title,field_difficulty"",
-      },
-    })
-
-    expect(search).toMatchSnapshot()
-  })
-
-  test(""it makes un-authenticated requests by default"", async () => {
-    const client = new DrupalClient(BASE_URL)
-    const fetchSpy = jest.spyOn(client, ""fetch"")
-
-    await client.getSearchIndex(""recipes"")
-
-    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
-      withAuth: false,
-    })
-  })
-
-  test(""it throws an error for invalid index"", async () => {
-    const client = new DrupalClient(BASE_URL)
-
-    await expect(client.getSearchIndex(""INVALID-INDEX"")).rejects.toThrow(
-      ""Not Found""
-    )
-  })
-
-  test(""it makes authenticated requests with withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      useDefaultResourceTypeEntry: true,
-      auth: `Bearer sample-token`,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getSearchIndex(""recipes"", {
-      withAuth: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-})
-
-describe(""getAuthFromContextAndOptions"", () => {
-  test(""if NOT in preview and withAuth option is provided, it should use the withAuth option"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-    jest.spyOn(client, ""getAccessToken"").mockImplementation()
-
-    await client.getResourceFromContext(
-      ""node--article"",
-      {
-        preview: false,
-      },
-      {
-        withAuth: true,
-      }
-    )
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-
-    await client.getResourceFromContext(
-      ""node--article"",
-      {
-        preview: false,
-      },
-      {
-        withAuth: {
-          clientId: ""foo"",
-          clientSecret: ""bar"",
-          scope: ""baz"",
-        },
-      }
-    )
-
-    expect(fetchSpy).toHaveBeenLastCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: {
-          clientId: ""foo"",
-          clientSecret: ""bar"",
-          scope: ""baz"",
-        },
-      })
-    )
-  })
-
-  test(""if NOT in preview and no withAuth option provided, it should fallback to the global auth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: false,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: false,
-      })
-    )
-
-    const client2 = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-      withAuth: true,
-    })
-    jest.spyOn(client2, ""getAccessToken"").mockImplementation()
-
-    await client2.getResourceFromContext(""node--article"", {
-      preview: false,
-    })
-
-    expect(fetchSpy).toHaveBeenLastCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: true,
-      })
-    )
-  })
-
-  test(""if in preview, it should NOT use the global auth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-      withAuth: true,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: null,
-      })
-    )
-  })
-
-  test(""if in preview and using the simple_oauth plugin, it should use the scope from context"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""simple_oauth"",
-        scope: ""editor"",
-      },
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: {
-          clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-          clientSecret: ""d92Fm^ds"",
-          scope: ""editor"",
-          url: ""/oauth/token"",
-        },
-      })
-    )
-  })
-
-  test(""if in preview and using the simple_oauth plugin, tt should use the scope from context even with global withAuth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-        scope: ""administrator"",
-      },
-      withAuth: true,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""simple_oauth"",
-        scope: ""editor"",
-      },
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: {
-          clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-          clientSecret: ""d92Fm^ds"",
-          scope: ""editor"",
-          url: ""/oauth/token"",
-        },
-      })
-    )
-  })
-
-  test(""if in preview and using the jwt plugin, it should use the access_token from context"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-      },
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""jwt"",
-        access_token: ""example-token"",
-      },
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: `Bearer example-token`,
-      })
-    )
-  })
-
-  test(""if in preview and using the jwt plugin, it should use the access token from context even with global withAuth"", async () => {
-    const client = new DrupalClient(BASE_URL, {
-      auth: {
-        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-        clientSecret: ""d92Fm^ds"",
-        scope: ""administrator"",
-      },
-      withAuth: true,
-    })
-    const fetchSpy = jest
-      .spyOn(global, ""fetch"")
-      .mockImplementation(
-        jest.fn(() =>
-          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
-        ) as jest.Mock
-      )
-
-    await client.getResourceFromContext(""node--article"", {
-      preview: true,
-      previewData: {
-        plugin: ""jwt"",
-        access_token: ""example-token"",
-      },
-    })
-
-    expect(fetchSpy).toHaveBeenCalledWith(
-      expect.anything(),
-      expect.objectContaining({
-        withAuth: `Bearer example-token`,
-      })
-    )
-  })
-})

---FILE: packages/next-drupal/tests/draft/draft.test.ts---
@@ -0,0 +1,206 @@
+import {
+  afterEach,
+  beforeEach,
+  describe,
+  expect,
+  jest,
+  test,
+} from ""@jest/globals""
+import { cookies, draftMode } from ""next/headers""
+import { redirect } from ""next/navigation""
+import { NextRequest } from ""next/server""
+import {
+  DRAFT_DATA_COOKIE_NAME,
+  DRAFT_MODE_COOKIE_NAME,
+  DrupalClient,
+} from ""../../src""
+import { BASE_URL, spyOnFetch } from ""../utils""
+import {
+  disableDraftMode,
+  enableDraftMode,
+  getDraftData,
+} from ""../../src/draft""
+import { resetNextHeaders } from ""../__mocks__/next/headers""
+import type { ResponseCookie } from ""next/dist/compiled/@edge-runtime/cookies""
+
+jest.mock(""next/headers"")
+jest.mock(""next/navigation"", () => ({
+  redirect: jest.fn(),
+}))
+
+beforeEach(() => {
+  resetNextHeaders()
+})
+
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
+describe(""enableDraftMode()"", () => {
+  const searchParams = new URLSearchParams({
+    slug: ""/example"",
+    resourceVersion: ""id:1"",
+    plugin: ""simple_oauth"",
+    secret: ""very-secret-key"",
+  })
+  const validationPayload = {
+    path: ""/example"",
+    maxAge: 30,
+  }
+  const request = new NextRequest(
+    `https://example.com/api/draft?${searchParams}`
+  )
+  const client = new DrupalClient(BASE_URL)
+  const draftModeCookie: ResponseCookie = {
+    name: DRAFT_MODE_COOKIE_NAME,
+    value: ""some-secret-key"",
+    sameSite: ""lax"",
+  }
+
+  test(""does not enable draft mode if validation fails"", async () => {
+    spyOnFetch({ responseBody: { message: ""fail"" }, status: 500 })
+
+    const response = await enableDraftMode(request, client)
+
+    expect(draftMode().enable).not.toHaveBeenCalled()
+    expect(response).toBeInstanceOf(Response)
+    expect(response.status).toBe(500)
+  })
+
+  test(""enables draft mode"", async () => {
+    spyOnFetch({ responseBody: validationPayload })
+
+    await enableDraftMode(request, client)
+
+    expect(draftMode().enable).toHaveBeenCalled()
+  })
+
+  test(""updates draft mode cookies sameSite flag"", async () => {
+    spyOnFetch({ responseBody: validationPayload })
+
+    // Our mock draftMode().enable does not set a cookie, so we set one.
+    cookies().set(draftModeCookie)
+    expect(cookies().get(DRAFT_MODE_COOKIE_NAME).sameSite).toBe(""lax"")
+    expect(cookies().get(DRAFT_MODE_COOKIE_NAME).secure).toBeFalsy()
+
+    await enableDraftMode(request, client)
+
+    expect(cookies().get(DRAFT_MODE_COOKIE_NAME).sameSite).toBe(""none"")
+    expect(cookies().get(DRAFT_MODE_COOKIE_NAME).secure).toBe(true)
+  })
+
+  test(""sets a draft data cookie"", async () => {
+    spyOnFetch({ responseBody: validationPayload })
+    expect(cookies().get(DRAFT_DATA_COOKIE_NAME)).toBe(undefined)
+
+    await enableDraftMode(request, client)
+
+    const cookie = cookies().get(DRAFT_DATA_COOKIE_NAME)
+    // eslint-disable-next-line @typescript-eslint/no-unused-vars
+    const { secret, plugin, ...data } = Object.fromEntries(
+      searchParams.entries()
+    )
+    expect(cookie).toMatchObject({
+      name: DRAFT_DATA_COOKIE_NAME,
+      sameSite: ""none"",
+      secure: true,
+      value: JSON.stringify(data),
+    })
+  })
+
+  test(""redirects to the slug path"", async () => {
+    spyOnFetch({ responseBody: validationPayload })
+
+    await enableDraftMode(request, client)
+
+    expect(redirect).toHaveBeenCalledWith(searchParams.get(""slug""))
+  })
+})
+
+describe(""disableDraftMode()"", () => {
+  test(""draft data cookie was deleted"", () => {
+    disableDraftMode()
+
+    expect(cookies).toHaveBeenCalledTimes(1)
+    expect(cookies().delete).toHaveBeenCalledWith(DRAFT_DATA_COOKIE_NAME)
+  })
+
+  test(""draft mode was disabled"", () => {
+    // First ensure draft mode is enabled.
+    draftMode().enable()
+    expect(draftMode().isEnabled).toBe(true)
+
+    disableDraftMode()
+    expect(draftMode().disable).toHaveBeenCalledTimes(1)
+    expect(draftMode().isEnabled).toBe(false)
+  })
+
+  test(""returns a response object"", async () => {
+    const response = disableDraftMode()
+
+    expect(response).toBeInstanceOf(Response)
+    expect(response.ok).toBe(true)
+    expect(await response.text()).toBe(""Draft mode is disabled"")
+  })
+})
+
+describe(""getDraftData()"", () => {
+  const draftData = {
+    slug: ""/example"",
+    resourceVersion: ""id:1"",
+  }
+  const draftDataCookie: ResponseCookie = {
+    name: DRAFT_DATA_COOKIE_NAME,
+    value: JSON.stringify(draftData),
+    sameSite: ""none"",
+    secure: true,
+  }
+
+  test(""returns empty object if draft mode disabled"", () => {
+    cookies().set(draftDataCookie)
+
+    const data = getDraftData()
+    expect(draftMode().isEnabled).toBe(false)
+    expect(cookies().has).toHaveBeenCalledTimes(0)
+    expect(cookies().get).toHaveBeenCalledTimes(0)
+    expect(data).toMatchObject({})
+  })
+
+  test(""returns empty object if no draft data cookie"", () => {
+    draftMode().enable()
+    draftMode.mockClear()
+
+    const data = getDraftData()
+    expect(draftMode).toHaveBeenCalledTimes(1)
+    expect(draftMode().isEnabled).toBe(true)
+    expect(cookies().has).toHaveBeenCalledWith(DRAFT_DATA_COOKIE_NAME)
+    expect(cookies().has).toHaveBeenCalledTimes(1)
+    expect(cookies().get).toHaveBeenCalledTimes(0)
+    expect(data).toMatchObject({})
+  })
+
+  test(""returns empty object if no draft data cookie value"", () => {
+    cookies().set({
+      ...draftDataCookie,
+      value: """",
+    })
+    draftMode().enable()
+    draftMode.mockClear()
+
+    const data = getDraftData()
+    expect(draftMode).toHaveBeenCalledTimes(1)
+    expect(draftMode().isEnabled).toBe(true)
+    expect(cookies().has).toHaveBeenCalledWith(DRAFT_DATA_COOKIE_NAME)
+    expect(cookies().has).toHaveBeenCalledTimes(1)
+    expect(cookies().get).toHaveBeenCalledWith(DRAFT_DATA_COOKIE_NAME)
+    expect(cookies().get).toHaveBeenCalledTimes(1)
+    expect(data).toMatchObject({})
+  })
+
+  test(""returns the JSON.parse()d data"", () => {
+    cookies().set(draftDataCookie)
+    draftMode().enable()
+
+    expect(getDraftData()).toMatchObject(draftData)
+  })
+})

---FILE: packages/next-drupal/tests/utils/index.ts---
@@ -0,0 +1,2 @@
+export * from ""./mocks""
+export * from ""./rpc""

---FILE: packages/next-drupal/tests/utils/mocks/data.ts---
@@ -0,0 +1,365 @@
+import type {
+  DrupalClientAuth,
+  DrupalClientAuthAccessToken,
+  DrupalClientAuthClientIdSecret,
+  DrupalClientAuthUsernamePassword,
+} from ""../../../src""
+
+// Run all tests against this env until we configure CI to setup a Drupal instance.
+// TODO: Bootstrap and expose the /drupal env for testing.
+export const BASE_URL = process.env[""DRUPAL_BASE_URL""] as string
+
+const auth = {
+  basicAuth: {
+    username: ""admin"",
+    password: ""example"",
+  } as DrupalClientAuthUsernamePassword,
+  accessToken: {
+    access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"",
+    token_type: ""bearer"",
+    expires_in: 3600,
+  } as DrupalClientAuthAccessToken,
+  clientIdSecret: {
+    clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
+    clientSecret: ""d92Fm^ds"",
+  } as DrupalClientAuthClientIdSecret,
+  function: function authFunction() {
+    return ""custom Authentication header from authFunction""
+  } as DrupalClientAuth,
+  customAuthenticationHeader:
+    ""custom Authentication header from string"" as DrupalClientAuth,
+}
+
+const resources = {
+  file: {
+    jsonapi: {
+      version: ""1.0"",
+      meta: { links: { self: { href: ""http://jsonapi.org/format/1.0/"" } } },
+    },
+    data: {
+      type: ""file--file"",
+      id: ""641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+      links: {
+        self: {
+          href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+        },
+      },
+      attributes: {
+        drupal_internal__fid: 1,
+        langcode: ""en"",
+        filename: ""mediterranean-quiche-umami.jpg"",
+        uri: {
+          value: ""public://mediterranean-quiche-umami.jpg"",
+          url: ""/sites/default/files/mediterranean-quiche-umami.jpg"",
+        },
+        filemime: ""image/jpeg"",
+        filesize: 70160,
+        status: true,
+        created: ""2022-03-21T10:52:42+00:00"",
+        changed: ""2022-03-21T10:52:42+00:00"",
+      },
+      relationships: {
+        uid: {
+          data: null,
+          links: {
+            related: {
+              href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9/uid"",
+            },
+            self: {
+              href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9/relationships/uid"",
+            },
+          },
+        },
+      },
+    },
+    links: {
+      self: {
+        href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+      },
+    },
+  },
+  mediaImage: {
+    jsonapi: {
+      version: ""1.0"",
+      meta: { links: { self: { href: ""http://jsonapi.org/format/1.0/"" } } },
+    },
+    data: {
+      type: ""media--image"",
+      id: ""bbfe9d97-2da2-432b-a22c-0396c08e06ca"",
+      links: {
+        self: {
+          href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca?resourceVersion=id%3A1"",
+        },
+      },
+      attributes: {
+        drupal_internal__mid: 1,
+        drupal_internal__vid: 1,
+        langcode: ""en"",
+        revision_created: ""2022-03-21T10:52:42+00:00"",
+        revision_log_message: null,
+        status: true,
+        name: ""Deep mediterranean quiche"",
+        created: ""2022-03-21T10:52:42+00:00"",
+        changed: ""2022-03-21T10:52:42+00:00"",
+        default_langcode: true,
+        revision_translation_affected: true,
+        path: { alias: null, pid: null, langcode: ""en"" },
+        content_translation_source: ""und"",
+        content_translation_outdated: false,
+      },
+      relationships: {
+        bundle: {
+          data: {
+            type: ""media_type--media_type"",
+            id: ""afec21c2-d0a9-4e0e-8c3a-1cd6d5a8fc92"",
+            meta: { drupal_internal__target_id: ""image"" },
+          },
+          links: {
+            related: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/bundle?resourceVersion=id%3A1"",
+            },
+            self: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/relationships/bundle?resourceVersion=id%3A1"",
+            },
+          },
+        },
+        revision_user: {
+          data: null,
+          links: {
+            related: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/revision_user?resourceVersion=id%3A1"",
+            },
+            self: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/relationships/revision_user?resourceVersion=id%3A1"",
+            },
+          },
+        },
+        uid: {
+          data: {
+            type: ""user--user"",
+            id: ""256a133b-0bd7-4426-a823-b8ce81e0d778"",
+            meta: { drupal_internal__target_id: 0 },
+          },
+          links: {
+            related: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/uid?resourceVersion=id%3A1"",
+            },
+            self: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/relationships/uid?resourceVersion=id%3A1"",
+            },
+          },
+        },
+        thumbnail: {
+          data: {
+            type: ""file--file"",
+            id: ""641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+            meta: {
+              alt: ""A delicious deep layered Mediterranean quiche with basil garnish"",
+              title: null,
+              width: 768,
+              height: 511,
+              drupal_internal__target_id: 1,
+            },
+          },
+          links: {
+            related: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/thumbnail?resourceVersion=id%3A1"",
+            },
+            self: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/relationships/thumbnail?resourceVersion=id%3A1"",
+            },
+          },
+        },
+        field_media_image: {
+          data: {
+            type: ""file--file"",
+            id: ""641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+            meta: {
+              alt: ""A delicious deep layered Mediterranean quiche with basil garnish"",
+              title: null,
+              width: 768,
+              height: 511,
+              drupal_internal__target_id: 1,
+            },
+          },
+          links: {
+            related: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/field_media_image?resourceVersion=id%3A1"",
+            },
+            self: {
+              href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca/relationships/field_media_image?resourceVersion=id%3A1"",
+            },
+          },
+        },
+      },
+    },
+    included: [
+      {
+        type: ""file--file"",
+        id: ""641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+        links: {
+          self: {
+            href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9"",
+          },
+        },
+        attributes: {
+          drupal_internal__fid: 1,
+          langcode: ""en"",
+          filename: ""mediterranean-quiche-umami.jpg"",
+          uri: {
+            value: ""public://mediterranean-quiche-umami.jpg"",
+            url: ""/sites/default/files/mediterranean-quiche-umami.jpg"",
+          },
+          filemime: ""image/jpeg"",
+          filesize: 70160,
+          status: true,
+          created: ""2022-03-21T10:52:42+00:00"",
+          changed: ""2022-03-21T10:52:42+00:00"",
+        },
+        relationships: {
+          uid: {
+            data: null,
+            links: {
+              related: {
+                href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9/uid"",
+              },
+              self: {
+                href: ""https://example.com/en/jsonapi/file/file/641fc6a4-276d-43e9-abbd-1e51bc28ddf9/relationships/uid"",
+              },
+            },
+          },
+        },
+      },
+    ],
+    links: {
+      self: {
+        href: ""https://example.com/en/jsonapi/media/image/bbfe9d97-2da2-432b-a22c-0396c08e06ca?include=field_media_image\u0026resourceVersion=id%3A1"",
+      },
+    },
+  },
+}
+
+const menus = {
+  menuItems: {
+    jsonapi: {
+      version: ""1.0"",
+      meta: {
+        links: {
+          self: {
+            href: ""http://jsonapi.org/format/1.0/"",
+          },
+        },
+      },
+    },
+    data: [
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""standard.front_page"",
+        attributes: {
+          description: """",
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: [],
+          options: [],
+          parent: """",
+          provider: ""demo_umami"",
+          route: {
+            name: ""<front>"",
+            parameters: [],
+          },
+          title: ""Home"",
+          url: ""/en"",
+          weight: ""0"",
+        },
+      },
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""views_view:views.featured_articles.page_1"",
+        attributes: {
+          description: """",
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: {
+            view_id: ""featured_articles"",
+            display_id: ""page_1"",
+          },
+          options: [],
+          parent: """",
+          provider: ""views"",
+          route: {
+            name: ""view.featured_articles.page_1"",
+            parameters: [],
+          },
+          title: ""Articles"",
+          url: ""/en/articles"",
+          weight: ""20"",
+        },
+      },
+      {
+        type: ""menu_link_content--menu_link_content"",
+        id: ""views_view:views.recipes.page_1"",
+        attributes: {
+          description: """",
+          enabled: true,
+          expanded: false,
+          menu_name: ""main"",
+          meta: {
+            view_id: ""recipes"",
+            display_id: ""page_1"",
+          },
+          options: [],
+          parent: """",
+          provider: ""views"",
+          route: {
+            name: ""view.recipes.page_1"",
+            parameters: [],
+          },
+          title: ""Recipes"",
+          url: ""/en/recipes"",
+          weight: ""30"",
+        },
+      },
+    ],
+    links: {
+      self: {
+        href: ""https://next-drupal-test.ddev.site/jsonapi/menu_items/main"",
+      },
+    },
+  },
+  invalidMenu: {
+    jsonapi: {
+      version: ""1.0"",
+      meta: {
+        links: {
+          self: {
+            href: ""http://jsonapi.org/format/1.0/"",
+          },
+        },
+      },
+    },
+    errors: [
+      {
+        title: ""Not Found"",
+        status: ""404"",
+        detail:
+          'The ""menu"" parameter was not converted for the path ""/jsonapi/menu_items/{menu}"" (route name: ""jsonapi_menu_items.menu"")',
+        links: {
+          via: {
+            href: ""https://next-drupal-test.ddev.site/jsonapi/menu_items/INVALID"",
+          },
+          info: {
+            href: ""http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5"",
+          },
+        },
+      },
+    ],
+  },
+}
+
+export const mocks = {
+  auth,
+  resources,
+  menus,
+}

---FILE: packages/next-drupal/tests/utils/mocks/fetch.ts---
@@ -0,0 +1,63 @@
+import { jest } from ""@jest/globals""
+
+interface SpyOnFetchParams {
+  // eslint-disable-next-line @typescript-eslint/no-explicit-any
+  responseBody?: any
+  throwErrorMessage?: string
+  status?: number
+  headers?: Record<string, string>
+}
+
+export function spyOnFetch({
+  responseBody = null,
+  throwErrorMessage = null,
+  status = 200,
+  headers = {},
+}: SpyOnFetchParams = {}) {
+  return jest.spyOn(global, ""fetch"").mockImplementation(
+    fetchMockImplementation({
+      responseBody,
+      throwErrorMessage,
+      status,
+      headers,
+    })
+  )
+}
+
+export function spyOnFetchOnce({
+  responseBody = null,
+  throwErrorMessage = null,
+  status = 200,
+  headers = {},
+}: SpyOnFetchParams) {
+  return jest.spyOn(global, ""fetch"").mockImplementationOnce(
+    fetchMockImplementation({
+      responseBody,
+      throwErrorMessage,
+      status,
+      headers,
+    })
+  )
+}
+
+function fetchMockImplementation({
+  responseBody = null,
+  throwErrorMessage = null,
+  status = 200,
+  headers = {},
+}: SpyOnFetchParams) {
+  if (throwErrorMessage) {
+    return async () => {
+      throw new Error(throwErrorMessage)
+    }
+  }
+
+  return async () =>
+    new Response(JSON.stringify(responseBody || {}), {
+      status,
+      headers: {
+        ""content-type"": ""application/vnd.api+json"",
+        ...headers,
+      },
+    })
+}

---FILE: packages/next-drupal/tests/utils/mocks/index.ts---
@@ -0,0 +1,3 @@
+export * from ""./data""
+export * from ""./fetch""
+export * from ""./logger""

---FILE: packages/next-drupal/tests/utils/mocks/logger.ts---
@@ -0,0 +1,10 @@
+import { Logger } from ""../../../src""
+
+export function mockLogger(): Logger {
+  return {
+    log: jest.fn(),
+    debug: jest.fn(),
+    warn: jest.fn(),
+    error: jest.fn(),
+  }
+}

---FILE: packages/next-drupal/tests/utils/rpc.ts---
@@ -1,8 +1,5 @@
-import { DrupalClient } from ""../src""
-
-// Run all tests against this env until we configure CI to setup a Drupal instance.
-// TODO: Bootstrap and expose the /drupal env for testing.
-export const BASE_URL = process.env[""DRUPAL_BASE_URL""] as string
+import { DrupalClient } from ""../../src""
+import { BASE_URL } from ""./index""
 
 const client = new DrupalClient(BASE_URL, {
   auth: {",False,False,Rendering / Conversion,3
chapter-three,next-drupal,2b7f07f86f997eabdb99e6e700f1cbd4b599f648,Chris Runo,chris.runo@gmail.com,2024-02-20T18:41:33Z,GitHub,noreply@github.com,2024-02-20T18:41:33Z,"docs(www): update graphql starter docs for graphql_compose v2

Fixes #596",www/content/tutorials/graphql/apply-patches.mdx;www/content/tutorials/graphql/enable-modules.mdx;www/content/tutorials/graphql/install-drupal.mdx,False,False,False,False,12,5,17,"---FILE: www/content/tutorials/graphql/apply-patches.mdx---
@@ -21,10 +21,10 @@ At the time of this writing, there are two patches we need to wire everything to
 		// highlight-start
     ""patches"": {
         ""drupal/subrequests"": {
-            ""Get same results on different request"": ""https://www.drupal.org/files/issues/2019-07-18/change_request_type-63049395-09.patch""
+            ""#3049395-47 - Page Cache causes different subrequests to return the same responses"": ""https://www.drupal.org/files/issues/2022-12-06/subrequests-3049395-chnage-request-type-47.patch""
         },
         ""drupal/decoupled_router"": {
-            ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2022-11-30/decouple_router-3111456-resolve-language-issue-58.patch""
+            ""#3111456-59 - Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2022-12-01/decouple_router-3111456-resolve-language-issue-58--get-translation.patch""
         }
     },
 		// highlight-end

---FILE: www/content/tutorials/graphql/enable-modules.mdx---
@@ -6,15 +6,22 @@ group: Quick Start (GraphQL)
 ---
 
 1. Visit `/admin/modules`.
-2. Enable the following modules: **Next.js** and **Next.js GraphQL**.
+2. Enable the following modules: **Next.js**, **Next.js GraphQL**, **GraphQL Compose: Edges**, **GraphQL Compose: Routes**.
+
+## Configure GraphQL Compose
+
+1. Visit `/admin/config/graphql_compose`.
+2. Enable ""GraphQL"", ""Single Query"", ""Edge Query"", & ""Loading by Route"" for the Article content type.
+3. Enable all of the fields for the Article content type.
+4. Do the same for the Basic page content type.
 
 ## Try GraphQL
 
 If you visit `/admin/config/graphql/servers/manage/graphql_compose_server/explorer` on your site, you should see an example server created for you.
 
 You can start testing GraphQL queries. Let's make our first request to fetch the first 5 articles.
 
-Copy and paste the following in the query textbox and click run.
+Copy and paste the following in the query text input and click the Execute Query () button.
 
 ```graphql
 query Articles {

---FILE: www/content/tutorials/graphql/install-drupal.mdx---
@@ -38,5 +38,5 @@ composer require drupal/next
 Run the following command to install GraphQL and GraphQL Compose modules:
 
 ```sh
-composer require 'drupal/graphql:^4.4' 'drupal/graphql_compose:^1.0@beta'
+composer require 'drupal/graphql:^4.6' 'drupal/graphql_compose:^2.0'
 ```",False,False,Documentation / Formatting,4
chapter-three,next-drupal,9f6ae5816da2339e374b91fa7cc026b3ff0d4709,shadcn,m@shadcn.com,2024-02-14T17:13:03Z,GitHub,noreply@github.com,2024-02-14T17:13:03Z,"fix(next-drupal): update TypeScript definition for translatePath and translatePathFromContext

Fixes #359",packages/next-drupal/src/client.ts;packages/next-drupal/tests/client.test.ts,False,False,False,False,10,8,18,"---FILE: packages/next-drupal/src/client.ts---
@@ -894,7 +894,7 @@ export class DrupalClient {
   async translatePath(
     path: string,
     options?: JsonApiWithAuthOptions
-  ): Promise<DrupalTranslatedPath> {
+  ): Promise<DrupalTranslatedPath | null> {
     options = {
       withAuth: this.withAuth,
       ...options,
@@ -927,7 +927,7 @@ export class DrupalClient {
     options?: {
       pathPrefix?: PathPrefix
     } & JsonApiWithAuthOptions
-  ): Promise<DrupalTranslatedPath> {
+  ): Promise<DrupalTranslatedPath | null> {
     options = {
       pathPrefix: ""/"",
       ...options,

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -1445,13 +1445,15 @@ describe(""getResourceFromContext"", () => {
       },
     }
 
-    const recipe = await client.getResourceFromContext(path, context, {
-      params: {
-        ""fields[node--recipe]"": ""title,path,status"",
-      },
-    })
+    if (path) {
+      const recipe = await client.getResourceFromContext(path, context, {
+        params: {
+          ""fields[node--recipe]"": ""title,path,status"",
+        },
+      })
 
-    await expect(recipe).toMatchSnapshot()
+      await expect(recipe).toMatchSnapshot()
+    }
   })
 })
 ",False,False,Environment / Configuration,3
chapter-three,next-drupal,ac704e366273734d354095bdc65c3ee5da92fab8,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-02-14T16:44:34Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-02-14T16:52:14Z,"build(deps-dev): bump tailwindcss from 3.4.0 to 3.4.1

Bumps [tailwindcss](https://github.com/tailwindlabs/tailwindcss) from 3.4.0 to 3.4.1.
- [Release notes](https://github.com/tailwindlabs/tailwindcss/releases)
- [Changelog](https://github.com/tailwindlabs/tailwindcss/blob/master/CHANGELOG.md)
- [Commits](https://github.com/tailwindlabs/tailwindcss/compare/v3.4.0...v3.4.1)

---
updated-dependencies:
- dependency-name: tailwindcss
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,3,3,6,"---FILE: yarn.lock---
@@ -12338,9 +12338,9 @@ synckit@^0.8.6:
     tslib ""^2.6.2""
 
 tailwindcss@^3.0.15, tailwindcss@^3.0.23, tailwindcss@^3.0.24, tailwindcss@^3.3.5:
-  version ""3.4.0""
-  resolved ""https://registry.yarnpkg.com/tailwindcss/-/tailwindcss-3.4.0.tgz#045a9c474e6885ebd0436354e611a76af1c76839""
-  integrity sha512-VigzymniH77knD1dryXbyxR+ePHihHociZbXnLZHUyzf2MMs2ZVqlUrZ3FvpXP8pno9JzmILt1sZPD19M3IxtA==
+  version ""3.4.1""
+  resolved ""https://registry.yarnpkg.com/tailwindcss/-/tailwindcss-3.4.1.tgz#f512ca5d1dd4c9503c7d3d28a968f1ad8f5c839d""
+  integrity sha512-qAYmXRfk3ENzuPBakNK0SRrUDipP8NQnEY6772uDhflcQz5EhRdD7JNZxyrFHVQNCwULPBn6FNPp9brpO7ctcA==
   dependencies:
     ""@alloc/quick-lru"" ""^5.2.0""
     arg ""^5.0.2""",False,False,Dependency / Package,1
chapter-three,next-drupal,e4fd11f29dacf2d4133a82c2c38a32304008d28d,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2024-02-14T16:38:38Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-02-14T16:42:14Z,"build(deps-dev): bump eslint-plugin-prettier from 5.1.0 to 5.1.3

Bumps [eslint-plugin-prettier](https://github.com/prettier/eslint-plugin-prettier) from 5.1.0 to 5.1.3.
- [Release notes](https://github.com/prettier/eslint-plugin-prettier/releases)
- [Changelog](https://github.com/prettier/eslint-plugin-prettier/blob/master/CHANGELOG.md)
- [Commits](https://github.com/prettier/eslint-plugin-prettier/compare/v5.1.0...v5.1.3)

---
updated-dependencies:
- dependency-name: eslint-plugin-prettier
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,15,118,133,"---FILE: yarn.lock---
@@ -2565,17 +2565,10 @@
   resolved ""https://registry.yarnpkg.com/@pkgjs/parseargs/-/parseargs-0.11.0.tgz#a77ea742fab25775145434eb1d2328cf5013ac33""
   integrity sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==
 
-""@pkgr/utils@^2.4.2"":
-  version ""2.4.2""
-  resolved ""https://registry.yarnpkg.com/@pkgr/utils/-/utils-2.4.2.tgz#9e638bbe9a6a6f165580dc943f138fd3309a2cbc""
-  integrity sha512-POgTXhjrTfbTV63DiFXav4lBHiICLKKwDeaKn9Nphwj7WH6m0hMMCaJkMyRWjgtPFyRKRVoMXXjczsTQRDEhYw==
-  dependencies:
-    cross-spawn ""^7.0.3""
-    fast-glob ""^3.3.0""
-    is-glob ""^4.0.3""
-    open ""^9.1.0""
-    picocolors ""^1.0.0""
-    tslib ""^2.6.0""
+""@pkgr/core@^0.1.0"":
+  version ""0.1.1""
+  resolved ""https://registry.yarnpkg.com/@pkgr/core/-/core-0.1.1.tgz#1ec17e2edbec25c8306d424ecfbf13c7de1aaa31""
+  integrity sha512-cq8o4cWH0ibXh9VGi5P20Tu9XF/0fFXl9EUinr9QfTM7a7p0oTA4iJRCQWppXR1Pg8dSM0UCItCkPwsk9qWWYA==
 
 ""@rollup/rollup-android-arm-eabi@4.9.1"":
   version ""4.9.1""
@@ -3874,11 +3867,6 @@ before-after-hook@^2.2.0:
   resolved ""https://registry.yarnpkg.com/before-after-hook/-/before-after-hook-2.2.3.tgz#c51e809c81a4e354084422b9b26bad88249c517c""
   integrity sha512-NzUnlZexiaH/46WDhANlyR2bXRopNg4F/zuSA3OpZnllCUgRaOF2znDioDWrmbNVsuZk6l9pMquQB38cfBZwkQ==
 
-big-integer@^1.6.44:
-  version ""1.6.52""
-  resolved ""https://registry.yarnpkg.com/big-integer/-/big-integer-1.6.52.tgz#60a887f3047614a8e1bffe5d7173490a97dc8c85""
-  integrity sha512-QxD8cf2eVqJOOz63z6JIN9BzvVs/dlySa5HGSBH5xtR8dPteIRQnBxxKqkNTiT6jbDTF6jAfrd4oMcND9RGbQg==
-
 binary-extensions@^2.0.0:
   version ""2.2.0""
   resolved ""https://registry.yarnpkg.com/binary-extensions/-/binary-extensions-2.2.0.tgz#75f502eeaf9ffde42fc98829645be4ea76bd9e2d""
@@ -3930,13 +3918,6 @@ boxen@^4.2.0:
     type-fest ""^0.8.1""
     widest-line ""^3.1.0""
 
-bplist-parser@^0.2.0:
-  version ""0.2.0""
-  resolved ""https://registry.yarnpkg.com/bplist-parser/-/bplist-parser-0.2.0.tgz#43a9d183e5bf9d545200ceac3e712f79ebbe8d0e""
-  integrity sha512-z0M+byMThzQmD9NILRniCUXYsYpjwnlO8N5uCFaCqIOpqRsJCrQL9NK3JsD67CN5a08nF5oIL2bD6loTdHOuKw==
-  dependencies:
-    big-integer ""^1.6.44""
-
 brace-expansion@^1.1.7:
   version ""1.1.11""
   resolved ""https://registry.yarnpkg.com/brace-expansion/-/brace-expansion-1.1.11.tgz#3c7fcbf529d87226f3d2f52b966ff5271eb441dd""
@@ -4018,13 +3999,6 @@ builtins@^5.0.0:
   dependencies:
     semver ""^7.0.0""
 
-bundle-name@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/bundle-name/-/bundle-name-3.0.0.tgz#ba59bcc9ac785fb67ccdbf104a2bf60c099f0e1a""
-  integrity sha512-PKA4BeSvBpQKQ8iPOGCSiell+N8P+Tf1DlwqmYhpe2gAhKPHn8EYOxVT+ShuGmhg8lN8XiSlS80yiExKXrURlw==
-  dependencies:
-    run-applescript ""^5.0.0""
-
 bundle-require@^4.0.0:
   version ""4.0.2""
   resolved ""https://registry.yarnpkg.com/bundle-require/-/bundle-require-4.0.2.tgz#65fc74ff14eabbba36d26c9a6161bd78fff6b29e""
@@ -5013,24 +4987,6 @@ deepmerge@^4.2.2, deepmerge@^4.3.1:
   resolved ""https://registry.yarnpkg.com/deepmerge/-/deepmerge-4.3.1.tgz#44b5f2147cd3b00d4b56137685966f26fd25dd4a""
   integrity sha512-3sUqbMEc77XqpdNO7FRyRog+eW3ph+GYCbj+rK+uYyRMuwsVy0rMiVtPn+QJlKFvWP/1PYpapqYn0Me2knFn+A==
 
-default-browser-id@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/default-browser-id/-/default-browser-id-3.0.0.tgz#bee7bbbef1f4e75d31f98f4d3f1556a14cea790c""
-  integrity sha512-OZ1y3y0SqSICtE8DE4S8YOE9UZOJ8wO16fKWVP5J1Qz42kV9jcnMVFrEE/noXb/ss3Q4pZIH79kxofzyNNtUNA==
-  dependencies:
-    bplist-parser ""^0.2.0""
-    untildify ""^4.0.0""
-
-default-browser@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/default-browser/-/default-browser-4.0.0.tgz#53c9894f8810bf86696de117a6ce9085a3cbc7da""
-  integrity sha512-wX5pXO1+BrhMkSbROFsyxUm0i/cJEScyNhA4PPxc41ICuv05ZZB/MX28s8aZx6xjmatvebIapF6hLEKEcpneUA==
-  dependencies:
-    bundle-name ""^3.0.0""
-    default-browser-id ""^3.0.0""
-    execa ""^7.1.1""
-    titleize ""^3.0.0""
-
 defaults@^1.0.3:
   version ""1.0.4""
   resolved ""https://registry.yarnpkg.com/defaults/-/defaults-1.0.4.tgz#b0b02062c1e2aa62ff5d9528f0f98baa90978d7a""
@@ -5057,11 +5013,6 @@ define-lazy-prop@^2.0.0:
   resolved ""https://registry.yarnpkg.com/define-lazy-prop/-/define-lazy-prop-2.0.0.tgz#3f7ae421129bcaaac9bc74905c98a0009ec9ee7f""
   integrity sha512-Ds09qNh8yw3khSjiJjiUInaGX9xlqZDY7JVryGxdxV7NPeuqQfplOpQ66yJFZut3jLa5zOwkXw1g9EI2uKh4Og==
 
-define-lazy-prop@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/define-lazy-prop/-/define-lazy-prop-3.0.0.tgz#dbb19adfb746d7fc6d734a06b72f4a00d021255f""
-  integrity sha512-N+MeXYoqr3pOgn8xfyRPREN7gHakLYjhsHhWGT3fWAiL4IkAt0iDw14QiiEm2bE30c5XX5q0FtAA3CK5f9/BUg==
-
 define-properties@^1.1.3, define-properties@^1.2.0, define-properties@^1.2.1:
   version ""1.2.1""
   resolved ""https://registry.yarnpkg.com/define-properties/-/define-properties-1.2.1.tgz#10781cc616eb951a80a034bafcaa7377f6af2b6c""
@@ -5694,12 +5645,12 @@ eslint-plugin-jsx-a11y@^6.5.1, eslint-plugin-jsx-a11y@^6.7.1:
     object.fromentries ""^2.0.7""
 
 eslint-plugin-prettier@^5.0.1:
-  version ""5.1.0""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-prettier/-/eslint-plugin-prettier-5.1.0.tgz#f14bb2b18756ad54f1ad3dc4c989cb73dfa326a3""
-  integrity sha512-hQc+2zbnMeXcIkg+pKZtVa+3Yqx4WY7SMkn1PLZ4VbBEU7jJIpVn9347P8BBhTbz6ne85aXvQf30kvexcqBeWw==
+  version ""5.1.3""
+  resolved ""https://registry.yarnpkg.com/eslint-plugin-prettier/-/eslint-plugin-prettier-5.1.3.tgz#17cfade9e732cef32b5f5be53bd4e07afd8e67e1""
+  integrity sha512-C9GCVAs4Eq7ZC/XFQHITLiHJxQngdtraXaM+LoUFoFp/lHNl2Zn8f3WQbe9HvTBBQ9YnKFB0/2Ajdqwo5D1EAw==
   dependencies:
     prettier-linter-helpers ""^1.0.0""
-    synckit ""^0.8.5""
+    synckit ""^0.8.6""
 
 eslint-plugin-react-hooks@^4.5.0, ""eslint-plugin-react-hooks@^4.5.0 || 5.0.0-canary-7118f5dd7-20230705"":
   version ""4.6.0""
@@ -5942,21 +5893,6 @@ execa@^0.7.0:
     signal-exit ""^3.0.0""
     strip-eof ""^1.0.0""
 
-execa@^7.1.1:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/execa/-/execa-7.2.0.tgz#657e75ba984f42a70f38928cedc87d6f2d4fe4e9""
-  integrity sha512-UduyVP7TLB5IcAQl+OzLyLcS/l32W/GLg+AhHJ+ow40FOk2U3SAllPwR44v4vmdFwIWqpdwxxpQbF1n5ta9seA==
-  dependencies:
-    cross-spawn ""^7.0.3""
-    get-stream ""^6.0.1""
-    human-signals ""^4.3.0""
-    is-stream ""^3.0.0""
-    merge-stream ""^2.0.0""
-    npm-run-path ""^5.1.0""
-    onetime ""^6.0.0""
-    signal-exit ""^3.0.7""
-    strip-final-newline ""^3.0.0""
-
 executable@^4.1.1:
   version ""4.1.1""
   resolved ""https://registry.yarnpkg.com/executable/-/executable-4.1.1.tgz#41532bff361d3e57af4d763b70582db18f5d133c""
@@ -6401,7 +6337,7 @@ get-stream@^5.0.0, get-stream@^5.1.0:
   dependencies:
     pump ""^3.0.0""
 
-get-stream@^6.0.0, get-stream@^6.0.1:
+get-stream@^6.0.0:
   version ""6.0.1""
   resolved ""https://registry.yarnpkg.com/get-stream/-/get-stream-6.0.1.tgz#a262d8eef67aced57c2852ad6167526a43cbf7b7""
   integrity sha512-ts6Wi+2j3jQjqi70w5AlN8DFnkSwC+MqmxEzdEALB2qXZYV3X/b1CTfgPLGJNMeAWxdPfU8FO1ms3NUfaHCPYg==
@@ -7078,11 +7014,6 @@ human-signals@^2.1.0:
   resolved ""https://registry.yarnpkg.com/human-signals/-/human-signals-2.1.0.tgz#dc91fcba42e4d06e4abaed33b3e7a3c02f514ea0""
   integrity sha512-B4FFZ6q/T2jhhksgkbEW3HBvWIfDW85snkQgawt07S7J5QXTk6BkNV+0yAeZrM5QpMAdYlocGoljn0sJ/WQkFw==
 
-human-signals@^4.3.0:
-  version ""4.3.1""
-  resolved ""https://registry.yarnpkg.com/human-signals/-/human-signals-4.3.1.tgz#ab7f811e851fca97ffbd2c1fe9a958964de321b2""
-  integrity sha512-nZXjEF2nbo7lIw3mgYjItAfgQXog3OjJogSbKa2CQIIvSGWcKgeJnQlNXip6NglNzYH45nSRiEVimMvYL8DDqQ==
-
 human-signals@^5.0.0:
   version ""5.0.0""
   resolved ""https://registry.yarnpkg.com/human-signals/-/human-signals-5.0.0.tgz#42665a284f9ae0dade3ba41ebc37eb4b852f3a28""
@@ -7435,11 +7366,6 @@ is-docker@^2.0.0, is-docker@^2.1.1:
   resolved ""https://registry.yarnpkg.com/is-docker/-/is-docker-2.2.1.tgz#33eeabe23cfe86f14bde4408a02c0cfb853acdaa""
   integrity sha512-F+i2BKsFrH66iaUFc0woD8sLy8getkwTwtOBjvs56Cx4CgJDeKQeqfz8wAYiSb8JOprWhHH5p77PbmYCvvUuXQ==
 
-is-docker@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/is-docker/-/is-docker-3.0.0.tgz#90093aa3106277d8a77a5910dbae71747e15a200""
-  integrity sha512-eljcgEDlEns/7AXFosB5K/2nCM4P7FQPkGc/DWLy5rmFEWvZayGrik1d9/QIY5nJ4f9YsVvBkA6kJpHn9rISdQ==
-
 is-extendable@^0.1.0:
   version ""0.1.1""
   resolved ""https://registry.yarnpkg.com/is-extendable/-/is-extendable-0.1.1.tgz#62b110e289a471418e3ec36a617d472e301dfc89""
@@ -7503,13 +7429,6 @@ is-hexadecimal@^1.0.0:
   resolved ""https://registry.yarnpkg.com/is-hexadecimal/-/is-hexadecimal-1.0.4.tgz#cc35c97588da4bd49a8eedd6bc4082d44dcb23a7""
   integrity sha512-gyPJuv83bHMpocVYoqof5VDiZveEoGoFL8m3BXNb2VW8Xs+rz9kqO8LOQ5DH6EsuvilT1ApazU0pyl+ytbPtlw==
 
-is-inside-container@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/is-inside-container/-/is-inside-container-1.0.0.tgz#e81fba699662eb31dbdaf26766a61d4814717ea4""
-  integrity sha512-KIYLCCJghfHZxqjYBE7rEy0OBuTd5xCHS7tHVgvCLkx7StIoaxwNW3hCALgEUjFfeRk+MG/Qxmp/vtETEF3tRA==
-  dependencies:
-    is-docker ""^3.0.0""
-
 is-installed-globally@^0.1.0:
   version ""0.1.0""
   resolved ""https://registry.yarnpkg.com/is-installed-globally/-/is-installed-globally-0.1.0.tgz#0dfd98f5a9111716dd535dda6492f67bf3d25a80""
@@ -10229,16 +10148,6 @@ open@^8.4.0:
     is-docker ""^2.1.1""
     is-wsl ""^2.2.0""
 
-open@^9.1.0:
-  version ""9.1.0""
-  resolved ""https://registry.yarnpkg.com/open/-/open-9.1.0.tgz#684934359c90ad25742f5a26151970ff8c6c80b6""
-  integrity sha512-OS+QTnw1/4vrf+9hh1jc1jnYjzSG4ttTBB8UxOwAnInG3Uo4ssetzC1ihqaIHjLJnA5GGlRl6QlZXOTQhRBUvg==
-  dependencies:
-    default-browser ""^4.0.0""
-    define-lazy-prop ""^3.0.0""
-    is-inside-container ""^1.0.0""
-    is-wsl ""^2.2.0""
-
 openid-client@^5.4.0:
   version ""5.6.1""
   resolved ""https://registry.yarnpkg.com/openid-client/-/openid-client-5.6.1.tgz#8f7526a50c290a5e28a7fe21b3ece3107511bc73""
@@ -11574,13 +11483,6 @@ rollup@^4.0.2:
     ""@rollup/rollup-win32-x64-msvc"" ""4.9.1""
     fsevents ""~2.3.2""
 
-run-applescript@^5.0.0:
-  version ""5.0.0""
-  resolved ""https://registry.yarnpkg.com/run-applescript/-/run-applescript-5.0.0.tgz#e11e1c932e055d5c6b40d98374e0268d9b11899c""
-  integrity sha512-XcT5rBksx1QdIhlFOCtgZkB99ZEouFZ1E2Kc2LHqNW13U3/74YGdkQRmThTwxy4QIyookibDKYZOPqX//6BlAg==
-  dependencies:
-    execa ""^5.0.0""
-
 run-async@^2.4.0:
   version ""2.4.1""
   resolved ""https://registry.yarnpkg.com/run-async/-/run-async-2.4.1.tgz#8440eccf99ea3e70bd409d49aab88e10c189a455""
@@ -12427,12 +12329,12 @@ symbol-tree@^3.2.4:
   resolved ""https://registry.yarnpkg.com/symbol-tree/-/symbol-tree-3.2.4.tgz#430637d248ba77e078883951fb9aa0eed7c63fa2""
   integrity sha512-9QNk5KwDF+Bvz+PyObkmSYjI5ksVUYtjW7AU22r2NKcfLJcXp96hkDWU3+XndOsUb+AQ9QhfzfCT2O+CNWT5Tw==
 
-synckit@^0.8.5:
-  version ""0.8.6""
-  resolved ""https://registry.yarnpkg.com/synckit/-/synckit-0.8.6.tgz#b69b7fbce3917c2673cbdc0d87fb324db4a5b409""
-  integrity sha512-laHF2savN6sMeHCjLRkheIU4wo3Zg9Ln5YOjOo7sZ5dVQW8yF5pPE5SIw1dsPhq3TRp1jisKRCdPhfs/1WMqDA==
+synckit@^0.8.6:
+  version ""0.8.8""
+  resolved ""https://registry.yarnpkg.com/synckit/-/synckit-0.8.8.tgz#fe7fe446518e3d3d49f5e429f443cf08b6edfcd7""
+  integrity sha512-HwOKAP7Wc5aRGYdKH+dw0PRRpbO841v2DENBtjnR5HFWoiNByAl7vrx3p0G/rCyYXQsrxqtX48TImFtPcIHSpQ==
   dependencies:
-    ""@pkgr/utils"" ""^2.4.2""
+    ""@pkgr/core"" ""^0.1.0""
     tslib ""^2.6.2""
 
 tailwindcss@^3.0.15, tailwindcss@^3.0.23, tailwindcss@^3.0.24, tailwindcss@^3.3.5:
@@ -12611,11 +12513,6 @@ timed-out@^4.0.0:
   resolved ""https://registry.yarnpkg.com/timed-out/-/timed-out-4.0.1.tgz#f32eacac5a175bea25d7fab565ab3ed8741ef56f""
   integrity sha512-G7r3AhovYtr5YKOWQkta8RKAPb+J9IsO4uVmzjl8AZwfhs8UcUwTiD6gcJYSgOtzyjvQKrKYn41syHbUWMkafA==
 
-titleize@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/titleize/-/titleize-3.0.0.tgz#71c12eb7fdd2558aa8a44b0be83b8a76694acd53""
-  integrity sha512-KxVu8EYHDPBdUYdKZdKtU2aj2XfEx9AfjXxE/Aj0vT06w2icA09Vus1rh6eSu1y01akYg6BjIK/hxyLJINoMLQ==
-
 tmp@^0.0.33:
   version ""0.0.33""
   resolved ""https://registry.yarnpkg.com/tmp/-/tmp-0.0.33.tgz#6d34335889768d21b2bcda0aa277ced3b1bfadf9""
@@ -12783,7 +12680,7 @@ tslib@^1.8.1, tslib@^1.9.0:
   resolved ""https://registry.yarnpkg.com/tslib/-/tslib-1.14.1.tgz#cf2d38bdc34a134bcaf1091c41f6619e2f672d00""
   integrity sha512-Xni35NKzjgMrwevysHTCArtLDpPvye8zV/0E4EyYn43P7/7qvQwPh9BGkHewbMulVntbigmcT7rdX3BNo9wRJg==
 
-tslib@^2.1.0, tslib@^2.3.0, tslib@^2.4.0, tslib@^2.4.1, tslib@^2.6.0, tslib@^2.6.2:
+tslib@^2.1.0, tslib@^2.3.0, tslib@^2.4.0, tslib@^2.4.1, tslib@^2.6.2:
   version ""2.6.2""
   resolved ""https://registry.yarnpkg.com/tslib/-/tslib-2.6.2.tgz#703ac29425e7b37cd6fd456e92404d46d1f3e4ae""
   integrity sha512-AEYxH93jGFPn/a2iVAwW87VuUIkR1FVUKB77NwMF7nBTDkDrrT/Hpt/IrCJ0QXhW27jTBDcf5ZY7w6RiqTMw2Q==",False,False,Implementation / Logic,3
chapter-three,next-drupal,dde673d1952da918e2fb5a2e05a49ddb2408356b,Bojan Bogdanovic,info@bojanbogdanovic.nl,2024-02-14T16:36:10Z,GitHub,noreply@github.com,2024-02-14T16:36:10Z,"feat(next): remove scope from preview URL generation and validation process

Fixes #635

Co-authored-by: Bojan Bogdanovic <info@designfreaks.nl>",modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php;modules/next/tests/src/Kernel/Controller/NextPreviewUrlControllerTest.php;modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php;packages/next-drupal/tests/client.test.ts,False,False,False,False,33,121,154,"---FILE: modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php---
@@ -66,7 +66,16 @@ public function __construct(array $configuration, $plugin_id, $plugin_definition
    * {@inheritdoc}
    */
   public static function create(ContainerInterface $container, array $configuration, $plugin_id, $plugin_definition) {
-    return new static($configuration, $plugin_id, $plugin_definition, $container->get('current_user'), $container->get('datetime.time'), $container->get('next.preview_secret_generator'), $container->get('entity_type.manager'), $container->get('module_handler'));
+    return new static(
+      $configuration,
+      $plugin_id,
+      $plugin_definition,
+      $container->get('current_user'),
+      $container->get('datetime.time'),
+      $container->get('next.preview_secret_generator'),
+      $container->get('entity_type.manager'),
+      $container->get('module_handler')
+    );
   }
 
   /**
@@ -119,18 +128,9 @@ public function generate(NextSiteInterface $next_site, EntityInterface $entity,
     $query = [];
     $query['slug'] = $slug = $entity->toUrl()->toString();
 
-    // Send the current user roles as scope.
-    $scopes = $this->getScopesForCurrentUser();
-
-    if (!count($scopes)) {
-      return NULL;
-    }
-
-    $query['scope'] = $scope = implode(' ', $scopes);
-
     // Create a secret based on the timestamp, slug, scope and resource version.
     $query['timestamp'] = $timestamp = $this->time->getRequestTime();
-    $query['secret'] = $this->previewSecretGenerator->generate($timestamp . $slug . $scope . $resource_version);
+    $query['secret'] = $this->previewSecretGenerator->generate($timestamp . $slug . $resource_version);
 
     return Url::fromUri($next_site->getPreviewUrl(), [
       'query' => $query,
@@ -159,66 +159,19 @@ public function validate(Request $request) {
       throw new InvalidPreviewUrlRequest(""The provided secret has expired."");
     }
 
-    if (empty($body['scope'])) {
-      throw new InvalidPreviewUrlRequest(""Field 'scope' is missing"");
-    }
-
     // Validate the secret.
     if (empty($body['secret'])) {
       throw new InvalidPreviewUrlRequest(""Field 'secret' is missing"");
     }
 
-    if ($body['secret'] !== $this->previewSecretGenerator->generate($body['timestamp'] . $body['slug'] . $body['scope'] . $body['resourceVersion'])) {
+    if ($body['secret'] !== $this->previewSecretGenerator->generate($body['timestamp'] . $body['slug'] . $body['resourceVersion'])) {
       throw new InvalidPreviewUrlRequest(""The provided secret is invalid."");
     }
 
     return [
-      'scope' => $body['scope'],
+      'path' => $body['slug'],
+      'maxAge' => (int) $this->configuration['secret_expiration'],
     ];
   }
 
-  /**
-   * Returns scope for the current user.
-   *
-   * @return array|mixed
-   *   An array of roles as scopes.
-   *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   */
-  protected function getScopesForCurrentUser(): array {
-    $roles = $this->currentUser->getRoles(TRUE);
-    $admin_role = $this->getAdminRole();
-
-    // Return the admin role for administrators.
-    if ((int) $this->currentUser->id() === 1 || in_array($admin_role, $roles)) {
-      return [$admin_role];
-    }
-
-    return $roles;
-  }
-
-  /**
-   * Returns an array of admin roles.
-   *
-   * @return string|null
-   *   The admin role.
-   *
-   * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
-   * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
-   */
-  protected function getAdminRole(): ?string {
-    $admin_roles = $this->entityTypeManager->getStorage('user_role')
-      ->getQuery()
-      ->accessCheck(FALSE)
-      ->condition('is_admin', TRUE)
-      ->execute();
-
-    if (!$admin_roles) {
-      return NULL;
-    }
-
-    return reset($admin_roles);
-  }
-
 }

---FILE: modules/next/tests/src/Kernel/Controller/NextPreviewUrlControllerTest.php---
@@ -71,7 +71,10 @@ public function testValidate() {
 
     $controller = NextPreviewUrlController::create($this->container);
     $response = $controller->validate($request);
-    $this->assertSame(['scope' => $user->getRoles(TRUE)[0]], Json::decode($response->getContent()));
+    $this->assertSame([
+      'path' => $page->toUrl()->toString(),
+      'maxAge' => $this->config('next.settings')->get('preview_url_generator_configuration.secret_expiration'),
+    ], Json::decode($response->getContent()));
   }
 
 }

---FILE: modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php---
@@ -34,6 +34,13 @@ class SimpleOauthPreviewUrlGeneratorTest extends KernelTestBase {
    */
   protected $nextSite;
 
+  /**
+   * The next settings manager.
+   *
+   * @var \Drupal\next\NextSettingsManagerInterface
+   */
+  protected $nextSettingsManager;
+
   /**
    * {@inheritdoc}
    */
@@ -46,6 +53,8 @@ protected function setUp(): void {
     $this->installSchema('system', ['sequences']);
     $this->installSchema('node', ['node_access']);
 
+    $this->nextSettingsManager = $this->container->get('next.settings.manager');
+
     // Create NextSite entities.
     $this->nextSite = NextSite::create([
       'label' => 'Blog',
@@ -91,44 +100,11 @@ public function testGenerate() {
     $this->assertNotEmpty($query['timestamp']);
     $this->assertNotEmpty($query['secret']);
     $this->assertSame($query['plugin'], 'simple_oauth');
-    $this->assertContains($query['scope'], $user->getRoles());
 
     // Test the secret.
     /** @var \Drupal\next\PreviewSecretGeneratorInterface $secret_generator */
     $secret_generator = \Drupal::service('next.preview_secret_generator');
-    $this->assertSame($query['secret'], $secret_generator->generate($query['timestamp'] . $query['slug'] . $query['scope'] . $query['resourceVersion']));
-  }
-
-  /**
-   * @covers ::getScopesForCurrentUser
-   * @covers ::getAdminRole
-   */
-  public function testCurrentUserScopes() {
-    /** @var \Drupal\next\NextSettingsManagerInterface $next_settings_manager */
-    $next_settings_manager = $this->container->get('next.settings.manager');
-    /** @var \Drupal\next\Plugin\Next\PreviewUrlGenerator\SimpleOauth $preview_url_generator */
-    $preview_url_generator = $next_settings_manager->getPreviewUrlGenerator();
-
-    $page = $this->createNode(['type' => 'page']);
-
-    // Log in as anonymous user.
-    $this->setCurrentUser(User::load(0));
-    $url = $preview_url_generator->generate($this->nextSite, $page);
-    $this->assertNull($url);
-
-    // Log in as user 1.
-    $admin_role = $this->createAdminRole();
-    $this->setCurrentUser(User::load(1));
-    $url = $preview_url_generator->generate($this->nextSite, $page);
-    $query = $url->getOption('query');
-    $this->assertSame($query['scope'], $admin_role);
-
-    // Log in as admin user.
-    $admin_user = $this->createUser([], NULL, TRUE);
-    $this->setCurrentUser($admin_user);
-    $url = $preview_url_generator->generate($this->nextSite, $page);
-    $query = $url->getOption('query');
-    $this->assertSame($query['scope'], $admin_user->getRoles(TRUE)[0]);
+    $this->assertSame($query['secret'], $secret_generator->generate($query['timestamp'] . $query['slug'] . $query['resourceVersion']));
   }
 
   /**
@@ -137,10 +113,7 @@ public function testCurrentUserScopes() {
    */
   public function testValidateForInvalidBody($body, $message, $is_valid = FALSE) {
     $request = Request::create('/', 'POST', [], [], [], [], Json::encode($body));
-
-    /** @var \Drupal\next\NextSettingsManagerInterface $next_settings_manager */
-    $next_settings_manager = $this->container->get('next.settings.manager');
-    $preview_url_generator = $next_settings_manager->getPreviewUrlGenerator();
+    $preview_url_generator = $this->nextSettingsManager->getPreviewUrlGenerator();
 
     if (!$is_valid) {
       $this->expectExceptionMessage($message);
@@ -159,15 +132,9 @@ public function testValidateSecret() {
     $query = $preview_url->getOption('query');
 
     $request = Request::create('/', 'POST', [], [], [], [], Json::encode($query));
+    $preview_url_generator = $this->nextSettingsManager->getPreviewUrlGenerator();
 
-    /** @var \Drupal\next\NextSettingsManagerInterface $next_settings_manager */
-    $next_settings_manager = $this->container->get('next.settings.manager');
-    $preview_url_generator = $next_settings_manager->getPreviewUrlGenerator();
-
-    $response = $preview_url_generator->validate($request);
-    $role = $user->getRoles(TRUE)[0];
-    $this->assertSame(['scope' => $role], $response);
-
+    $preview_url_generator->validate($request);
     $this->expectExceptionMessage('The provided secret is invalid.');
     $query = $preview_url->getOption('query');
     $query['timestamp'] = strtotime('+60seconds');
@@ -185,12 +152,6 @@ public function testValidateSecret() {
     $query['resourceVersion'] = 'rel:23';
     $request = Request::create('/', 'POST', [], [], [], [], Json::encode($query));
     $preview_url_generator->validate($request);
-
-    $this->expectExceptionMessage('The provided secret is invalid.');
-    $query = $preview_url->getOption('query');
-    $query['scope'] = 'editor';
-    $request = Request::create('/', 'POST', [], [], [], [], Json::encode($query));
-    $preview_url_generator->validate($request);
   }
 
   /**
@@ -203,23 +164,17 @@ public function providerValidateForInvalidBody() {
     return [
       [[], ""Field 'slug' is missing""],
       [['slug' => '/node/1'], ""Field 'timestamp' is missing""],
-      [
-        ['slug' => '/node/1', 'timestamp' => strtotime('now')],
-        ""Field 'scope' is missing"",
-      ],
       [
         [
           'slug' => '/node/1',
           'timestamp' => strtotime('now'),
-          'scope' => 'llama',
         ],
         ""Field 'secret' is missing"",
       ],
       [
         [
           'slug' => '/node/1',
           'timestamp' => strtotime('-60 seconds'),
-          'scope' => 'llama',
           'secret' => 'secret',
         ],
         ""The provided secret has expired."",
@@ -228,7 +183,6 @@ public function providerValidateForInvalidBody() {
         [
           'slug' => '/node/1',
           'timestamp' => strtotime('60 seconds'),
-          'scope' => 'llama',
           'secret' => 'secret',
         ],
         """",

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -10,6 +10,8 @@ import type {
 } from ""../src/types""
 import { BASE_URL } from ""./utils""
 
+jest.setTimeout(10000)
+
 afterEach(() => {
   jest.restoreAllMocks()
 })",False,False,Data / Input Handling,3
chapter-three,next-drupal,a4f8d840038f2ab6f7a6e733b48240ecade55266,JohnAlbin,virtually.johnalbin@gmail.com,2024-01-25T18:00:53Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-01-30T22:04:38Z,"feat(next-drupal)!: add draft mode to pages router

Issue #502

BREAKING CHANGE:
The options to the DrupalClient.preview() method were previously ignored. The
options are now passed to the NextApiResponse.setDraftMode() method and their
TypeScript definition have now changed to match the options parameter of the
setDraftMode method.",packages/next-drupal/src/client.ts;packages/next-drupal/src/types.ts,False,False,False,False,52,29,81,"---FILE: packages/next-drupal/src/client.ts---
@@ -34,7 +34,6 @@ import type {
   Locale,
   PathAlias,
   PathPrefix,
-  PreviewOptions,
 } from ""./types""
 
 const DEFAULT_API_PREFIX = ""/jsonapi""
@@ -1082,56 +1081,87 @@ export class DrupalClient {
   async preview(
     request: NextApiRequest,
     response: NextApiResponse,
-    options?: PreviewOptions
+    options?: Parameters<NextApiResponse[""setDraftMode""]>[0]
   ) {
-    const { slug, resourceVersion, plugin } = request.query
+    const { slug, resourceVersion, plugin, secret, scope, ...draftData } =
+      request.query
+    const useDraftMode = options?.enable
 
     try {
       // Always clear preview data to handle different scopes.
       response.clearPreviewData()
 
       // Validate the preview url.
       const result = await this.validateDraftUrl(
-        new URL(request.url).searchParams
+        new URL(request.url, `http://${request.headers.host}`).searchParams
       )
 
+      const validationPayload = await result.json()
+      const previewData = {
+        resourceVersion,
+        plugin,
+        ...validationPayload,
+      }
+
       if (!result.ok) {
+        this.debug(`Draft url validation error: ${validationPayload.message}`)
         response.statusCode = result.status
-
-        return response.json(await result.json())
+        return response.json(validationPayload)
       }
 
-      const validationPayload = await result.json()
+      // Optionally turn on draft mode.
+      if (useDraftMode) {
+        response.setDraftMode(options)
+      }
 
-      response.setPreviewData({
-        resourceVersion,
-        plugin,
-        ...validationPayload,
-      })
+      // Turns on preview mode and adds preview data to Next.js' static context.
+      response.setPreviewData(previewData)
 
       // Fix issue with cookie.
       // See https://github.com/vercel/next.js/discussions/32238.
       // See https://github.com/vercel/next.js/blob/d895a50abbc8f91726daa2d7ebc22c58f58aabbb/packages/next/server/api-utils/node.ts#L504.
-      if (this.forceIframeSameSiteCookie) {
-        const previous = response.getHeader(""Set-Cookie"") as string[]
-        previous.forEach((cookie, index) => {
-          previous[index] = cookie.replace(
-            ""SameSite=Lax"",
-            ""SameSite=None;Secure""
-          )
-        })
-        response.setHeader(`Set-Cookie`, previous)
+      const cookies = (response.getHeader(""Set-Cookie"") as string[]).map(
+        (cookie) => cookie.replace(""SameSite=Lax"", ""SameSite=None; Secure"")
+      )
+      if (useDraftMode) {
+        // Adds preview data for use in app router pages.
+        cookies.push(
+          `${DRAFT_DATA_COOKIE_NAME}=${encodeURIComponent(
+            JSON.stringify({ slug, resourceVersion, ...draftData })
+          )}; Path=/; HttpOnly; SameSite=None; Secure`
+        )
       }
+      response.setHeader(""Set-Cookie"", cookies)
 
-      // We can safely redirect to the slug since this has been validated on the server.
+      // We can safely redirect to the slug since this has been validated on the
+      // server.
       response.writeHead(307, { Location: slug })
 
+      this.debug(`${useDraftMode ? ""Draft"" : ""Preview""} mode enabled.`)
+
       return response.end()
     } catch (error) {
+      this.debug(`Preview failed: ${error.message}`)
       return response.status(422).end()
     }
   }
 
+  async previewDisable(request: NextApiRequest, response: NextApiResponse) {
+    // Disable both preview and draft modes.
+    response.clearPreviewData()
+    response.setDraftMode({ enable: false })
+
+    // Delete the draft data cookie.
+    const cookies = response.getHeader(""Set-Cookie"") as string[]
+    cookies.push(
+      `${DRAFT_DATA_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; SameSite=None; Secure`
+    )
+    response.setHeader(""Set-Cookie"", cookies)
+
+    response.writeHead(307, { Location: ""/"" })
+    response.end()
+  }
+
   async getMenu<T = DrupalMenuLinkContent>(
     name: string,
     options?: JsonApiWithLocaleOptions &

---FILE: packages/next-drupal/src/types.ts---
@@ -410,13 +410,6 @@ export interface JsonApiResourceWithPath extends JsonApiResource {
   path: PathAlias
 }
 
-export interface PreviewOptions {
-  errorMessages?: {
-    secret?: string
-    slug?: string
-  }
-}
-
 export type GetResourcePreviewUrlOptions = JsonApiWithLocaleOptions & {
   isVersionable?: boolean
 }",False,False,Implementation / Logic,3
chapter-three,next-drupal,7a62a3921ca36291b5a5eeb7db942c006e0645e0,JohnAlbin,virtually.johnalbin@gmail.com,2024-01-25T15:26:00Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-01-30T22:04:38Z,"feat(next-drupal): add draft mode for app router pages

Issue #502",modules/next/next.post_update.php;modules/next/next.routing.yml;packages/next-drupal/jest.config.cjs;packages/next-drupal/package.json;packages/next-drupal/src/client.ts;packages/next-drupal/src/draft.ts;packages/next-drupal/tsup.config.ts,False,False,False,False,153,16,169,"---FILE: modules/next/next.post_update.php---
@@ -0,0 +1,15 @@
+<?php
+
+/**
+ * @file
+ * Post update functions for Next.
+ *
+ * All empty post-update hooks ensure the cache is cleared.
+ * @see https://www.drupal.org/node/2960601
+ */
+
+/**
+ * Add new route for validating draft URLs.
+ */
+function next_post_update_add_draft_route() {
+}

---FILE: modules/next/next.routing.yml---
@@ -8,6 +8,15 @@ next.settings:
   options:
     _admin_route: TRUE
 
+next.validate_draft_url:
+  path: '/next/draft-url'
+  defaults:
+    _controller: 'Drupal\next\Controller\NextPreviewUrlController::validate'
+  methods: [POST]
+  requirements:
+    _access: 'TRUE'
+    _format: 'json'
+
 next.validate_preview_url:
   path: '/next/preview-url'
   defaults:

---FILE: packages/next-drupal/jest.config.cjs---
@@ -18,10 +18,10 @@ module.exports = {
   coverageThreshold: {
     global: {
       // @TODO Make these thresholds strict once #608 is completed.
-      statements: 55, // 57.38,
-      branches: 80, // 83.85,
-      functions: 75, // 76.36,
-      lines: 55, // 57.38,
+      statements: 50, // 55.1,
+      branches: 80, // 84.16,
+      functions: 70, // 72.41,
+      lines: 50, // 55.1,
     },
   },
 }

---FILE: packages/next-drupal/package.json---
@@ -22,6 +22,16 @@
         ""default"": ""./dist/index.cjs""
       }
     },
+    ""./draft"": {
+      ""import"": {
+        ""types"": ""./dist/draft.d.ts"",
+        ""default"": ""./dist/draft.js""
+      },
+      ""require"": {
+        ""types"": ""./dist/draft.d.cts"",
+        ""default"": ""./dist/draft.cjs""
+      }
+    },
     ""./navigation"": {
       ""import"": {
         ""types"": ""./dist/navigation.d.ts"",
@@ -66,7 +76,7 @@
   },
   ""dependencies"": {
     ""jsona"": ""^1.12.1"",
-    ""next"": ""^12.2.0 || ^13 || ^14"",
+    ""next"": ""^13.4 || ^14"",
     ""node-cache"": ""^5.1.2"",
     ""qs"": ""^6.11.2"",
     ""react"": ""^17.0.2 || ^18"",

---FILE: packages/next-drupal/src/client.ts---
@@ -40,6 +40,9 @@ import type {
 const DEFAULT_API_PREFIX = ""/jsonapi""
 const DEFAULT_FRONT_PAGE = ""/home""
 const DEFAULT_WITH_AUTH = false
+export const DRAFT_DATA_COOKIE_NAME = ""draftData""
+// See https://vercel.com/docs/workflow-collaboration/draft-mode
+export const DRAFT_MODE_COOKIE_NAME = ""__prerender_bypass""
 
 // From simple_oauth.
 const DEFAULT_AUTH_URL = ""/oauth/token""
@@ -1044,9 +1047,41 @@ export class DrupalClient {
     return href
   }
 
+  async validateDraftUrl(searchParams: URLSearchParams): Promise<Response> {
+    const slug = searchParams.get(""slug"")
+
+    this.debug(`Fetching draft url validation for ${slug}.`)
+
+    // Fetch the headless CMS to check if the provided `slug` exists
+    let response: Response
+    try {
+      // Validate the draft url.
+      const validateUrl = this.buildUrl(""/next/draft-url"").toString()
+      response = await this.fetch(validateUrl, {
+        method: ""POST"",
+        headers: {
+          ""Content-Type"": ""application/json"",
+        },
+        body: JSON.stringify(Object.fromEntries(searchParams.entries())),
+      })
+    } catch (error) {
+      response = new Response(JSON.stringify({ message: error.message }), {
+        status: 401,
+      })
+    }
+
+    this.debug(
+      response.status !== 200
+        ? `Could not validate slug, ${slug}`
+        : `Validated slug, ${slug}`
+    )
+
+    return response
+  }
+
   async preview(
-    request?: NextApiRequest,
-    response?: NextApiResponse,
+    request: NextApiRequest,
+    response: NextApiResponse,
     options?: PreviewOptions
   ) {
     const { slug, resourceVersion, plugin } = request.query
@@ -1056,14 +1091,9 @@ export class DrupalClient {
       response.clearPreviewData()
 
       // Validate the preview url.
-      const validateUrl = this.buildUrl(""/next/preview-url"")
-      const result = await this.fetch(validateUrl.toString(), {
-        method: ""POST"",
-        headers: {
-          ""Content-Type"": ""application/json"",
-        },
-        body: JSON.stringify(request.query),
-      })
+      const result = await this.validateDraftUrl(
+        new URL(request.url).searchParams
+      )
 
       if (!result.ok) {
         response.statusCode = result.status

---FILE: packages/next-drupal/src/draft.ts---
@@ -0,0 +1,73 @@
+import { cookies, draftMode } from ""next/headers""
+import { redirect } from ""next/navigation""
+import { DRAFT_DATA_COOKIE_NAME, DRAFT_MODE_COOKIE_NAME } from ""./client""
+import type { NextRequest } from ""next/server""
+import type { DrupalClient } from ""./client""
+
+export async function enableDraftMode(
+  request: NextRequest,
+  drupal: DrupalClient
+): Promise<Response | never> {
+  // Validate the draft request.
+  const response = await drupal.validateDraftUrl(request.nextUrl.searchParams)
+
+  // If validation fails, don't enable draft mode.
+  if (!response.ok) {
+    return response
+  }
+
+  const searchParams = request.nextUrl.searchParams
+  const slug = searchParams.get(""slug"")
+
+  // Enable Draft Mode by setting the cookie
+  draftMode().enable()
+
+  // Override the default SameSite=lax.
+  // See https://github.com/vercel/next.js/issues/49927
+  const draftModeCookie = cookies().get(DRAFT_MODE_COOKIE_NAME)
+  if (draftModeCookie) {
+    cookies().set({
+      ...draftModeCookie,
+      sameSite: ""none"",
+      secure: true,
+    })
+  }
+
+  // Send Drupal's data to the draft-mode page.
+  const { secret, scope, plugin, ...draftData } = Object.fromEntries(
+    searchParams.entries()
+  )
+  cookies().set({
+    ...draftModeCookie,
+    name: DRAFT_DATA_COOKIE_NAME,
+    sameSite: ""none"",
+    secure: true,
+    value: JSON.stringify(draftData),
+  })
+
+  // Redirect to the path from the fetched post. We can safely redirect to the
+  // slug since this has been validated on the server.
+  redirect(slug)
+}
+
+export function disableDraftMode() {
+  cookies().delete(DRAFT_DATA_COOKIE_NAME)
+  draftMode().disable()
+
+  return new Response(""Draft mode is disabled"")
+}
+
+export interface DraftData {
+  slug?: string
+  resourceVersion?: string
+}
+
+export function getDraftData() {
+  let data: DraftData = {}
+
+  if (draftMode().isEnabled && cookies().has(DRAFT_DATA_COOKIE_NAME)) {
+    data = JSON.parse(cookies().get(DRAFT_DATA_COOKIE_NAME)?.value || ""{}"")
+  }
+
+  return data
+}

---FILE: packages/next-drupal/tsup.config.ts---
@@ -1,7 +1,7 @@
 import { defineConfig } from ""tsup""
 
 export const tsup = defineConfig({
-  entry: [""src/index.ts"", ""src/navigation.ts""],
+  entry: [""src/index.ts"", ""src/draft.ts"", ""src/navigation.ts""],
   // Enable experimental code splitting support in CommonJS.
   // splitting: true,
   // Use Rollup for tree shaking.",False,False,Implementation / Logic,6
chapter-three,next-drupal,11e108a10bbaa69ac34a26b4462acbf744512633,JohnAlbin,virtually.johnalbin@gmail.com,2024-01-17T15:36:40Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-01-30T22:04:38Z,"feat(next): update Next.js settings to add draft mode

Issue #502",modules/next/composer.json;modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php;modules/next/next.info.yml;modules/next/src/Controller/NextSiteEntityController.php;modules/next/src/Form/NextEntityTypeConfigForm.php;modules/next/src/Form/NextSettingsForm.php;modules/next/src/Form/NextSiteForm.php;modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php,False,False,False,False,25,25,50,"---FILE: modules/next/composer.json---
@@ -1,6 +1,6 @@
 {
   ""name"": ""drupal/next"",
-  ""description"": ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
+  ""description"": ""Next.js + Drupal for Incremental Static Regeneration and Draft mode."",
   ""type"": ""drupal-module"",
   ""homepage"": ""http://drupal.org/project/next"",
   ""license"": ""GPL-2.0-or-later"",

---FILE: modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php---
@@ -103,8 +103,8 @@ public function defaultConfiguration() {
    */
   public function buildConfigurationForm(array $form, FormStateInterface $form_state) {
     $form['secret_expiration'] = [
-      '#title' => $this->t('Preview secret expiration time'),
-      '#description' => $this->t('The value, in seconds, to be used as expiration time for the preview secret. <strong>It is recommended to use short-lived secrets for increased security.</strong>'),
+      '#title' => $this->t('Secret expiration time'),
+      '#description' => $this->t('The value, in seconds, to be used as expiration time for the validation secret. <strong>It is recommended to use short-lived secrets for increased security.</strong>'),
       '#type' => 'number',
       '#required' => TRUE,
       '#default_value' => $this->configuration['secret_expiration'],

---FILE: modules/next/next.info.yml---
@@ -1,5 +1,5 @@
 name: Next.js
-description: Next.js + Drupal for Incremental Static Regeneration and Preview mode.
+description: Next.js + Drupal for Incremental Static Regeneration and Draft mode.
 type: module
 core_version_requirement: ^9 || ^10
 package: Web services

---FILE: modules/next/src/Controller/NextSiteEntityController.php---
@@ -64,7 +64,7 @@ public function environmentVariables(NextSiteInterface $next_site) {
 
     if ($secret = $next_site->getPreviewSecret()) {
       $variables += [
-        'preview_variables' => '# Required for Preview Mode',
+        'preview_variables' => '# Required for Draft Mode',
         'DRUPAL_PREVIEW_SECRET' => $secret,
       ];
     }

---FILE: modules/next/src/Form/NextEntityTypeConfigForm.php---
@@ -119,16 +119,16 @@ public function form(array $form, FormStateInterface $form_state) {
         '#title' => $this->t('Settings'),
       ];
 
-      $form['preview_mode'] = [
-        '#title' => $this->t('Preview Mode'),
-        '#description' => $this->t('Configure preview mode the entity type.'),
+      $form['draft_mode'] = [
+        '#title' => $this->t('Draft Mode'),
+        '#description' => $this->t('Configure draft mode for this entity type.'),
         '#type' => 'details',
         '#group' => 'settings',
       ];
 
-      $form['preview_mode']['site_resolver'] = [
+      $form['draft_mode']['site_resolver'] = [
         '#title' => $this->t('Plugin'),
-        '#description' => $this->t('Select a plugin to use for resolving the preview site for this entity type.'),
+        '#description' => $this->t('Select a plugin to use when validating the draft url for this entity type.'),
         '#type' => 'select',
         '#options' => array_merge(['' => $this->t('None')], array_column($this->siteResolverManager->getDefinitions(), 'label', 'id')),
         '#default_value' => $entity->getSiteResolver() ? $entity->getSiteResolver()->getId() : NULL,
@@ -142,7 +142,7 @@ public function form(array $form, FormStateInterface $form_state) {
         ],
       ];
 
-      $form['preview_mode']['site_resolver_settings_container'] = [
+      $form['draft_mode']['site_resolver_settings_container'] = [
         '#type' => 'container',
         '#prefix' => '<div id=""site-resolver-settings"">',
         '#suffix' => '</div>',
@@ -152,7 +152,7 @@ public function form(array $form, FormStateInterface $form_state) {
       if ($site_resolver instanceof ConfigurableSiteResolverInterface) {
         $form['configuration'] = [];
         $subform_state = SubformState::createForSubform($form['configuration'], $form, $form_state);
-        $form['preview_mode']['site_resolver_settings_container']['configuration'] = $site_resolver->buildConfigurationForm($form['configuration'], $subform_state);
+        $form['draft_mode']['site_resolver_settings_container']['configuration'] = $site_resolver->buildConfigurationForm($form['configuration'], $subform_state);
       }
 
       $form['revalidation'] = [
@@ -223,7 +223,7 @@ public function submitSiteResolver(array $form, FormStateInterface $form_state)
    * Handles switching the site resolver selector.
    */
   public function ajaxReplaceSiteResolverSettingsForm($form, FormStateInterface $form_state) {
-    return $form['preview_mode']['site_resolver_settings_container'];
+    return $form['draft_mode']['site_resolver_settings_container'];
   }
 
   /**

---FILE: modules/next/src/Form/NextSettingsForm.php---
@@ -87,14 +87,14 @@ public function buildForm(array $form, FormStateInterface $form_state) {
     ];
 
     $form['preview_url_generator_container'] = [
-      '#title' => $this->t('Preview URL'),
+      '#title' => $this->t('Draft Mode'),
       '#type' => 'details',
       '#group' => 'settings',
     ];
 
     $form['preview_url_generator_container']['preview_url_generator'] = [
       '#title' => $this->t('Plugin'),
-      '#description' => $this->t('Select a plugin to use for the preview URL generator.'),
+      '#description' => $this->t('Select a plugin to use for the draft validation generator.'),
       '#type' => 'select',
       '#options' => array_column($this->previewUrlGeneratorManager->getDefinitions(), 'label', 'id'),
       '#default_value' => $config->get('preview_url_generator'),

---FILE: modules/next/src/Form/NextSiteForm.php---
@@ -51,32 +51,32 @@ public function form(array $form, FormStateInterface $form_state) {
     ];
 
     $form['preview'] = [
-      '#title' => $this->t('Preview Mode'),
-      '#description' => $this->t('Preview mode allows editors to preview content on the site. You can read more on the <a href="":uri"" target=""_blank"">Next.js documentation</a>.', [
-        ':uri' => 'https://nextjs.org/docs/advanced-features/preview-mode',
+      '#title' => $this->t('Draft Mode'),
+      '#description' => $this->t('Draft mode (or the deprecated Preview mode) allows editors to preview content on the site. You can read more on the <a href="":uri"" target=""_blank"">Next.js documentation</a>.', [
+        ':uri' => 'https://nextjs.org/docs/app/building-your-application/configuring/draft-mode',
       ]),
       '#type' => 'details',
       '#group' => 'settings',
     ];
 
     $form['preview']['preview_url'] = [
       '#type' => 'url',
-      '#title' => $this->t('Preview URL'),
-      '#description' => $this->t('Enter the preview URL. Example: <em>https://example.com/api/preview</em>.'),
+      '#title' => $this->t('Draft URL (or Preview URL)'),
+      '#description' => $this->t('Enter the draft URL or preview URL. Example: <em>https://example.com/api/draft</em> or <em>https://example.com/api/preview</em>.'),
       '#default_value' => $entity->getPreviewUrl(),
     ];
 
     $form['preview']['preview_secret'] = [
       '#type' => 'textfield',
-      '#title' => $this->t('Preview secret'),
-      '#description' => $this->t('Enter a secret for the site preview. This is the same value used for <em>DRUPAL_PREVIEW_SECRET</em>.'),
+      '#title' => $this->t('Secret key'),
+      '#description' => $this->t('Enter a secret for the site draft/preview. This must be unique for each Next.js site'),
       '#default_value' => $entity->getPreviewSecret(),
     ];
 
     $form['revalidation'] = [
       '#title' => $this->t('On-demand Revalidation'),
       '#description' => $this->t('On-demand revalidation updates your pages when content is updated on your Drupal site. You can read more on the <a href="":uri"" target=""_blank"">Next.js documentation</a>.', [
-        ':uri' => 'https://nextjs.org/docs/advanced-features/preview-mode',
+        ':uri' => 'https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#revalidating-data',
       ]),
       '#type' => 'details',
       '#group' => 'settings',

---FILE: modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php---
@@ -83,8 +83,8 @@ public function defaultConfiguration() {
    */
   public function buildConfigurationForm(array $form, FormStateInterface $form_state) {
     $form['secret_expiration'] = [
-      '#title' => $this->t('Preview secret expiration time'),
-      '#description' => $this->t('The value, in seconds, to be used as expiration time for the preview secret. <strong>It is recommended to use short-lived secrets for increased security.</strong>'),
+      '#title' => $this->t('Secret expiration time'),
+      '#description' => $this->t('The value, in seconds, to be used as expiration time for the validation secret. <strong>It is recommended to use short-lived secrets for increased security.</strong>'),
       '#type' => 'number',
       '#required' => TRUE,
       '#default_value' => $this->configuration['secret_expiration'],",False,False,Dependency / Package,4
chapter-three,next-drupal,e0fc4bd6697c11803539b5faef68a0e0e897d653,JohnAlbin,virtually.johnalbin@gmail.com,2024-01-28T20:15:42Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-01-29T23:04:55Z,"feat(next-drupal)!: add public debug() method to DrupalClient

Fixes #668

BREAKING CHANGE:
DrupalClient previously had a debug property that indicated if debugging was
enabled. This property has been removed and replaced with a debug() method that
accepts a string and logs it as a debug message if debugging is enabled.",packages/next-drupal/src/client.ts;packages/next-drupal/src/logger.ts;packages/next-drupal/tests/client.test.ts,False,False,False,False,48,42,90,"---FILE: packages/next-drupal/src/client.ts---
@@ -77,10 +77,10 @@ function isClientIdSecretAuth(
 export class DrupalClient {
   baseUrl: BaseUrl
 
-  debug: DrupalClientOptions[""debug""]
-
   frontPage: DrupalClientOptions[""frontPage""]
 
+  private isDebugEnabled: DrupalClientOptions[""debug""]
+
   private serializer: DrupalClientOptions[""serializer""]
 
   private cache: DrupalClientOptions[""cache""]
@@ -148,7 +148,7 @@ export class DrupalClient {
     this.apiPrefix = apiPrefix
     this.serializer = serializer
     this.frontPage = frontPage
-    this.debug = debug
+    this.isDebugEnabled = !!debug
     this.useDefaultResourceTypeEntry = useDefaultResourceTypeEntry
     this.fetcher = fetcher
     this.auth = auth
@@ -166,7 +166,7 @@ export class DrupalClient {
       this.throwJsonApiErrors = false
     }
 
-    this._debug(""Debug mode is on."")
+    this.debug(""Debug mode is on."")
   }
 
   set apiPrefix(apiPrefix: DrupalClientOptions[""apiPrefix""]) {
@@ -228,7 +228,7 @@ export class DrupalClient {
     // Using the auth set on the client.
     // TODO: Abstract this to a re-usable.
     if (init?.withAuth) {
-      this._debug(`Using authenticated request.`)
+      this.debug(`Using authenticated request.`)
 
       if (init.withAuth === true) {
         if (typeof this._auth === ""undefined"") {
@@ -240,15 +240,15 @@ export class DrupalClient {
         // By default, if withAuth is set to true, we use the auth configured
         // in the client constructor.
         if (typeof this._auth === ""function"") {
-          this._debug(`Using custom auth callback.`)
+          this.debug(`Using custom auth callback.`)
 
           init[""headers""][""Authorization""] = this._auth()
         } else if (typeof this._auth === ""string"") {
-          this._debug(`Using custom authorization header.`)
+          this.debug(`Using custom authorization header.`)
 
           init[""headers""][""Authorization""] = this._auth
         } else if (typeof this._auth === ""object"") {
-          this._debug(`Using custom auth credentials.`)
+          this.debug(`Using custom auth credentials.`)
 
           if (isBasicAuth(this._auth)) {
             const basic = Buffer.from(
@@ -258,7 +258,7 @@ export class DrupalClient {
             init[""headers""][""Authorization""] = `Basic ${basic}`
           } else if (isClientIdSecretAuth(this._auth)) {
             // Use the built-in client_credentials grant.
-            this._debug(`Using default auth (client_credentials).`)
+            this.debug(`Using default auth (client_credentials).`)
 
             // Fetch an access token and add it to the request.
             // Access token can be fetched from cache or using a custom auth method.
@@ -272,15 +272,15 @@ export class DrupalClient {
           }
         }
       } else if (typeof init.withAuth === ""string"") {
-        this._debug(`Using custom authorization header.`)
+        this.debug(`Using custom authorization header.`)
 
         init[""headers""][""Authorization""] = init.withAuth
       } else if (typeof init.withAuth === ""function"") {
-        this._debug(`Using custom authorization callback.`)
+        this.debug(`Using custom authorization callback.`)
 
         init[""headers""][""Authorization""] = init.withAuth()
       } else if (isBasicAuth(init.withAuth)) {
-        this._debug(`Using basic authorization header`)
+        this.debug(`Using basic authorization header.`)
 
         const basic = Buffer.from(
           `${init.withAuth.username}:${init.withAuth.password}`
@@ -301,12 +301,12 @@ export class DrupalClient {
     }
 
     if (this.fetcher) {
-      this._debug(`Using custom fetcher.`)
+      this.debug(`Using custom fetcher, fetching: ${input}`)
 
       return await this.fetcher(input, init)
     }
 
-    this._debug(`Using default fetch (polyfilled by Next.js).`)
+    this.debug(`Using default fetch, fetching: ${input}`)
 
     return await fetch(input, init)
   }
@@ -329,8 +329,7 @@ export class DrupalClient {
 
     const url = this.buildUrl(apiPath, options?.params)
 
-    this._debug(`Creating resource of type ${type}.`)
-    this._debug(url.toString())
+    this.debug(`Creating resource of type ${type}.`)
 
     // Add type to body.
     body.data.type = type
@@ -373,8 +372,7 @@ export class DrupalClient {
       options?.params
     )
 
-    this._debug(`Creating file resource for media of type ${type}.`)
-    this._debug(url.toString())
+    this.debug(`Creating file resource for media of type ${type}.`)
 
     const response = await this.fetch(url.toString(), {
       method: ""POST"",
@@ -415,8 +413,7 @@ export class DrupalClient {
 
     const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
 
-    this._debug(`Updating resource of type ${type} with id ${uuid}.`)
-    this._debug(url.toString())
+    this.debug(`Updating resource of type ${type} with id ${uuid}.`)
 
     // Update body.
     body.data.type = type
@@ -455,8 +452,7 @@ export class DrupalClient {
 
     const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
 
-    this._debug(`Deleting resource of type ${type} with id ${uuid}.`)
-    this._debug(url.toString())
+    this.debug(`Deleting resource of type ${type} with id ${uuid}.`)
 
     const response = await this.fetch(url.toString(), {
       method: ""DELETE"",
@@ -489,7 +485,7 @@ export class DrupalClient {
       const cached = (await this.cache.get(options.cacheKey)) as string
 
       if (cached) {
-        this._debug(`Returning cached resource ${type} with id ${uuid}`)
+        this.debug(`Returning cached resource ${type} with id ${uuid}.`)
 
         const json = JSON.parse(cached)
 
@@ -504,8 +500,7 @@ export class DrupalClient {
 
     const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
 
-    this._debug(`Fetching resource ${type} with id ${uuid}.`)
-    this._debug(url.toString())
+    this.debug(`Fetching resource ${type} with id ${uuid}.`)
 
     const response = await this.fetch(url.toString(), {
       withAuth: options.withAuth,
@@ -687,6 +682,8 @@ export class DrupalClient {
       _format: ""json"",
     })
 
+    this.debug(`Fetching resource by path, ${path}.`)
+
     const response = await this.fetch(url.toString(), {
       method: ""POST"",
       credentials: ""include"",
@@ -739,8 +736,7 @@ export class DrupalClient {
       ...options?.params,
     })
 
-    this._debug(`Fetching resource collection of type ${type}`)
-    this._debug(url.toString())
+    this.debug(`Fetching resource collection of type ${type}.`)
 
     const response = await this.fetch(url.toString(), {
       withAuth: options.withAuth,
@@ -910,6 +906,8 @@ export class DrupalClient {
       path,
     })
 
+    this.debug(`Fetching translated path, ${path}.`)
+
     const response = await this.fetch(url.toString(), {
       withAuth: options.withAuth,
     })
@@ -990,6 +988,8 @@ export class DrupalClient {
     )
 
     try {
+      this.debug(`Fetching JSON:API index.`)
+
       const response = await this.fetch(url.toString(), {
         // As per https://www.drupal.org/node/2984034 /jsonapi is public.
         withAuth: false,
@@ -1123,7 +1123,7 @@ export class DrupalClient {
       const cached = (await this.cache.get(options.cacheKey)) as string
 
       if (cached) {
-        this._debug(`Returning cached menu items for ${name}`)
+        this.debug(`Returning cached menu items for ${name}.`)
         return JSON.parse(cached)
       }
     }
@@ -1138,8 +1138,7 @@ export class DrupalClient {
       options.params
     )
 
-    this._debug(`Fetching menu items for ${name}.`)
-    this._debug(url.toString())
+    this.debug(`Fetching menu items for ${name}.`)
 
     const response = await this.fetch(url.toString(), {
       withAuth: options.withAuth,
@@ -1212,6 +1211,8 @@ export class DrupalClient {
       options.params
     )
 
+    this.debug(`Fetching view, ${viewId}.${displayId}.`)
+
     const response = await this.fetch(url.toString(), {
       withAuth: options.withAuth,
     })
@@ -1252,6 +1253,8 @@ export class DrupalClient {
       options.params
     )
 
+    this.debug(`Fetching search index, ${name}.`)
+
     const response = await this.fetch(url.toString(), {
       withAuth: options.withAuth,
     })
@@ -1330,11 +1333,11 @@ export class DrupalClient {
       this._token &&
       Date.now() < this.tokenExpiresOn
     ) {
-      this._debug(`Using existing access token.`)
+      this.debug(`Using existing access token.`)
       return this._token
     }
 
-    this._debug(`Fetching new access token.`)
+    this.debug(`Fetching new access token.`)
 
     const basic = Buffer.from(`${clientId}:${clientSecret}`).toString(""base64"")
 
@@ -1343,7 +1346,7 @@ export class DrupalClient {
     if (opts?.scope) {
       body = `${body}&scope=${opts.scope}`
 
-      this._debug(`Using scope: ${opts.scope}`)
+      this.debug(`Using scope: ${opts.scope}`)
     }
 
     const response = await this.fetch(url.toString(), {
@@ -1362,8 +1365,6 @@ export class DrupalClient {
 
     const result: AccessToken = await response.json()
 
-    this._debug(result)
-
     this.token = result
 
     this.accessTokenScope = opts?.scope
@@ -1411,8 +1412,8 @@ export class DrupalClient {
     return message
   }
 
-  private _debug(message) {
-    !!this.debug && this.logger.debug(message)
+  debug(message) {
+    this.isDebugEnabled && this.logger.debug(message)
   }
 
   // Error handling.

---FILE: packages/next-drupal/src/logger.ts---
@@ -1,17 +1,22 @@
 import type { Logger } from ""./types""
 
+export const LOG_MESSAGE_PREFIX = ""[next-drupal][log]:""
+export const DEBUG_MESSAGE_PREFIX = ""[next-drupal][debug]:""
+export const WARN_MESSAGE_PREFIX = ""[next-drupal][warn]:""
+export const ERROR_MESSAGE_PREFIX = ""[next-drupal][error]:""
+
 // Default logger. Uses console.
 export const logger: Logger = {
   log(message) {
-    console.log(`[next-drupal][log]:`, message)
+    console.log(LOG_MESSAGE_PREFIX, message)
   },
   debug(message) {
-    console.debug(`[next-drupal][debug]:`, message)
+    console.debug(DEBUG_MESSAGE_PREFIX, message)
   },
   warn(message) {
-    console.warn(`[next-drupal][debug]:`, message)
+    console.warn(WARN_MESSAGE_PREFIX, message)
   },
   error(message) {
-    console.error(`[next-drupal][error]:`, message)
+    console.error(ERROR_MESSAGE_PREFIX, message)
   },
 }

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -59,7 +59,7 @@ describe(""DrupalClient"", () => {
       ""[next-drupal][debug]:"",
       ""Debug mode is on.""
     )
-    expect(client.debug).toBe(true)
+    expect(client.isDebugEnabled).toBe(true)
   })
 })
 ",False,False,Implementation / Logic,3
chapter-three,next-drupal,61f723b8a8d5e6a609b52ca10b2ae7ba662e1f89,JohnAlbin,virtually.johnalbin@gmail.com,2024-01-25T15:28:26Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2024-01-29T23:04:55Z,chore(format): fix code formatting,packages/next-drupal/src/client.ts;packages/next-drupal/src/utils.ts,False,False,False,False,10,14,24,"---FILE: packages/next-drupal/src/client.ts---
@@ -215,7 +215,6 @@ export class DrupalClient {
     this.tokenExpiresOn = Date.now() + token.expires_in * 1000
   }
 
-  /* eslint-disable @typescript-eslint/no-explicit-any */
   async fetch(input: RequestInfo, init?: FetchOptions): Promise<Response> {
     init = {
       ...init,
@@ -268,9 +267,8 @@ export class DrupalClient {
               init[""headers""][""Authorization""] = `Bearer ${token.access_token}`
             }
           } else if (isAccessTokenAuth(this._auth)) {
-            init[""headers""][
-              ""Authorization""
-            ] = `${this._auth.token_type} ${this._auth.access_token}`
+            init[""headers""][""Authorization""] =
+              `${this._auth.token_type} ${this._auth.access_token}`
           }
         }
       } else if (typeof init.withAuth === ""string"") {
@@ -297,9 +295,8 @@ export class DrupalClient {
           init[""headers""][""Authorization""] = `Bearer ${token.access_token}`
         }
       } else if (isAccessTokenAuth(init.withAuth)) {
-        init[""headers""][
-          ""Authorization""
-        ] = `${init.withAuth.token_type} ${init.withAuth.access_token}`
+        init[""headers""][""Authorization""] =
+          `${init.withAuth.token_type} ${init.withAuth.access_token}`
       }
     }
 
@@ -1419,8 +1416,8 @@ export class DrupalClient {
   }
 
   // Error handling.
-  // If throwErrors is enable, we show errors in the Next.js overlay.
-  // Otherwise we log the errors even if debugging is turned off.
+  // If throwErrors is enabled, we show errors in the Next.js overlay.
+  // Otherwise, we log the errors even if debugging is turned off.
   // In production, errors are always logged never thrown.
   private throwError(error: Error) {
     if (!this.throwJsonApiErrors) {

---FILE: packages/next-drupal/src/utils.ts---
@@ -89,9 +89,8 @@ export async function buildHeaders({
   // This reduces the number of OAuth call to the Drupal server.
   // Intentionally marked as unstable for now.
   if (process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN) {
-    headers[
-      ""Authorization""
-    ] = `Bearer ${process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN}`
+    headers[""Authorization""] =
+      `Bearer ${process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN}`
 
     return headers
   }
@@ -122,8 +121,8 @@ export function getPathFromContext(
   return !slug
     ? process.env.DRUPAL_FRONT_PAGE
     : prefix
-    ? `${prefix}/${slug}`
-    : slug
+      ? `${prefix}/${slug}`
+      : slug
 }
 
 export function syncDrupalPreviewRoutes(path) {",False,False,Documentation / Formatting,1
chapter-three,next-drupal,c31741c23521ec8f00f05f5cdbe8fc890180a821,JohnAlbin,virtually.johnalbin@gmail.com,2023-12-18T16:30:23Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-12-20T17:08:18Z,"ci(next): add Drupal 10.2.x to CI test matrix

Issue #542",.github/workflows/next.yml,False,False,False,False,1,1,2,"---FILE: .github/workflows/next.yml---
@@ -21,7 +21,7 @@ jobs:
         drupal:
           - ""10.0.x""
           - ""10.1.x""
-          - ""10.2.x@RC""
+          - ""10.2.x""
         exclude:
           - drupal: ""10.0.x""
             php: ""8.3""",False,False,Data / Input Handling,3
chapter-three,next-drupal,056d8ffeaf6bd882404b418796247dfd7be041ea,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-12-14T18:12:47Z,GitHub,noreply@github.com,2023-12-14T18:12:47Z,"ci(next): add Drupal 10.2 to CI test matrix

Fixes #542

Co-authored-by: Matt Glaman <matt.glaman@acquia.com>",.github/workflows/next.yml;modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php,False,False,False,False,16,9,25,"---FILE: .github/workflows/next.yml---
@@ -13,13 +13,19 @@ jobs:
     strategy:
       matrix:
         # Supported PHP versions: https://www.drupal.org/docs/getting-started/system-requirements/php-requirements
-        php: [""8.1"", ""8.2"", ""8.3""]
+        php:
+          - ""8.1""
+          - ""8.2""
+          - ""8.3""
         # Supported Drupal versions: https://www.drupal.org/project/drupal
-        drupal: [""10.0"", ""10.1""]
+        drupal:
+          - ""10.0.x""
+          - ""10.1.x""
+          - ""10.2.x@RC""
         exclude:
-          - drupal: ""10.0""
+          - drupal: ""10.0.x""
             php: ""8.3""
-          - drupal: ""10.1""
+          - drupal: ""10.1.x""
             php: ""8.3""
     name: Drupal ${{ matrix.drupal }} - PHP ${{ matrix.php }}
     services:
@@ -53,7 +59,7 @@ jobs:
         run: echo ""::add-matcher::${{ runner.tool_cache }}/phpunit.json""
       - name: Setup Drupal
         run: |
-          COMPOSER_MEMORY_LIMIT=-1 composer create-project drupal/recommended-project:${{ matrix.drupal }}.x ~/drupal --no-interaction --no-install
+          COMPOSER_MEMORY_LIMIT=-1 composer create-project drupal/recommended-project:${{ matrix.drupal }} ~/drupal --no-interaction --no-install
           cd ~/drupal
           composer config extra.enable-patching true
           composer config extra.compile-mode all

---FILE: modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php---
@@ -24,15 +24,16 @@ class EntityResourceTest extends KernelTestBase {
    * {@inheritdoc}
    */
   protected static $modules = [
+    'field',
+    'file',
     'filter',
+    'jsonapi',
     'next',
     'node',
-    'field',
-    'system',
-    'user',
-    'jsonapi',
     'path',
     'serialization',
+    'system',
+    'user',
   ];
 
   /**",False,False,Rendering / Conversion,3
chapter-three,next-drupal,3561226661346a85b0eea6fc09bbbb503cf0c822,JohnAlbin,virtually.johnalbin@gmail.com,2023-12-02T19:47:10Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-12-13T18:42:15Z,"feat: upgrade graphql-starter to Next.js v14

Issue #601",starters/graphql-starter/.env.example;starters/graphql-starter/.eslintrc.json;starters/graphql-starter/.gitignore;starters/graphql-starter/.nvmrc;starters/graphql-starter/.prettierignore;starters/graphql-starter/.prettierrc.json;starters/graphql-starter/components/Layout.tsx;starters/graphql-starter/components/PreviewAlert.tsx;starters/graphql-starter/components/drupal/Article.tsx;starters/graphql-starter/components/drupal/ArticleTeaser.tsx;starters/graphql-starter/components/drupal/BasicPage.tsx;starters/graphql-starter/components/preview-alert.tsx;starters/graphql-starter/lib/drupal.ts;starters/graphql-starter/next-env.d.ts;starters/graphql-starter/next.config.js;starters/graphql-starter/package.json;starters/graphql-starter/pages/[...slug].tsx;starters/graphql-starter/pages/_app.tsx;starters/graphql-starter/pages/_document.tsx;starters/graphql-starter/pages/api/exit-preview.ts;starters/graphql-starter/pages/api/preview.ts;starters/graphql-starter/pages/api/revalidate.ts;starters/graphql-starter/pages/index.tsx;starters/graphql-starter/tailwind.config.js;starters/graphql-starter/tailwind.config.ts;starters/graphql-starter/tsconfig.json;starters/graphql-starter/types/index.d.ts,False,False,False,False,266,211,477,"---FILE: starters/graphql-starter/.env.example---
@@ -1,10 +1,15 @@
 # See https://next-drupal.org/docs/environment-variables
-NEXT_PUBLIC_DRUPAL_BASE_URL=https://dev.next-drupal.org
-NEXT_IMAGE_DOMAIN=dev.next-drupal.org
+
+# Required
+NEXT_PUBLIC_DRUPAL_BASE_URL=https://site.example.com
+NEXT_IMAGE_DOMAIN=site.example.com
 
 # Authentication
-DRUPAL_CLIENT_ID=
-DRUPAL_CLIENT_SECRET=
+DRUPAL_CLIENT_ID=Retrieve this from /admin/config/services/consumer
+DRUPAL_CLIENT_SECRET=Retrieve this from /admin/config/services/consumer
+
+# Required for Preview Mode
+DRUPAL_PREVIEW_SECRET=Retrieve this from /admin/config/services/next
 
 # Required for On-demand Revalidation
-DRUPAL_REVALIDATE_SECRET=secret
\ No newline at end of file
+DRUPAL_REVALIDATE_SECRET=Retrieve this from /admin/config/services/next

---FILE: starters/graphql-starter/.eslintrc.json---
@@ -1,4 +1,4 @@
 {
-  ""extends"": ""next"",
+  ""extends"": ""next/core-web-vitals"",
   ""root"": true
 }

---FILE: starters/graphql-starter/.gitignore---
@@ -4,14 +4,14 @@
 /node_modules
 /.pnp
 .pnp.js
+.yarn/install-state.gz
 
 # testing
 /coverage
 
 # next.js
 /.next/
 /out/
-.next
 
 # production
 /build
@@ -20,19 +20,21 @@
 .DS_Store
 *.pem
 
+# IDE files
+/.idea
+/.vscode
+
 # debug
 npm-debug.log*
 yarn-debug.log*
 yarn-error.log*
-lerna-debug.log*
 
 # local env files
-.env.local
-.env.development.local
-.env.test.local
-.env.production.local
+.env*.local
 
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+# typescript
+*.tsbuildinfo
+next-env.d.ts

---FILE: starters/graphql-starter/.nvmrc---
@@ -0,0 +1 @@
+v20

---FILE: starters/graphql-starter/.prettierignore---
@@ -0,0 +1,18 @@
+# Ignore everything.
+/*
+
+# Format most files in the root directory.
+!/*.js
+!/*.ts
+!/*.md
+!/*.json
+# But ignore some.
+/package.json
+/package-lock.json
+/CHANGELOG.md
+
+# Don't ignore these nested directories.
+!/app
+!/components
+!/lib
+!/pages

---FILE: starters/graphql-starter/.prettierrc.json---
@@ -0,0 +1,4 @@
+{
+  ""semi"": false,
+  ""trailingComma"": ""es5""
+}

---FILE: starters/graphql-starter/components/Layout.tsx---
@@ -1,8 +1,8 @@
 import Link from ""next/link""
+import { PreviewAlert } from ""@/components/PreviewAlert""
+import type { ReactNode } from ""react""
 
-import { PreviewAlert } from ""components/preview-alert""
-
-export function Layout({ children }) {
+export function Layout({ children }: { children: ReactNode }) {
   return (
     <>
       <PreviewAlert />

---FILE: starters/graphql-starter/components/PreviewAlert.tsx---
@@ -0,0 +1,30 @@
+import { useEffect, useState } from ""react""
+import { useRouter } from ""next/router""
+
+export function PreviewAlert() {
+  const router = useRouter()
+  const isPreview = router.isPreview
+  const [showPreviewAlert, setShowPreviewAlert] = useState<boolean>(false)
+
+  useEffect(() => {
+    setShowPreviewAlert(isPreview && window.top === window.self)
+  }, [isPreview])
+
+  if (!showPreviewAlert) {
+    return null
+  }
+
+  return (
+    <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
+      <p className=""mb-0"">
+        This page is a preview.{"" ""}
+        <button
+          className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
+          onClick={() => router.push(""/api/exit-preview"")}
+        >
+          Exit preview mode
+        </button>
+      </p>
+    </div>
+  )
+}

---FILE: starters/graphql-starter/components/drupal/Article.tsx---
@@ -1,13 +1,12 @@
 import Image from ""next/image""
+import { formatDate } from ""@/lib/utils""
+import type { NodeArticle } from ""@/types""
 
-import { formatDate } from ""lib/utils""
-import { Article } from ""types""
-
-interface NodeArticleProps {
-  node: Article
+interface ArticleProps {
+  node: NodeArticle
 }
 
-export function NodeArticle({ node, ...props }: NodeArticleProps) {
+export function Article({ node, ...props }: ArticleProps) {
   return (
     <article {...props}>
       <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>
@@ -21,18 +20,19 @@ export function NodeArticle({ node, ...props }: NodeArticleProps) {
         <span> - {formatDate(node.created)}</span>
       </div>
       {node.image && (
-        <figure className=""my-4"">
+        <figure>
           <Image
             src={node.image.url}
             width={768}
-            height={480}
-            alt={node.title}
+            height={400}
+            alt=""""
+            priority
           />
         </figure>
       )}
       {node.body?.processed && (
         <div
-          dangerouslySetInnerHTML={{ __html: node.body.processed }}
+          dangerouslySetInnerHTML={{ __html: node.body?.processed }}
           className=""mt-6 font-serif text-xl leading-loose prose""
         />
       )}

---FILE: starters/graphql-starter/components/drupal/ArticleTeaser.tsx---
@@ -1,17 +1,16 @@
 import Image from ""next/image""
 import Link from ""next/link""
+import { formatDate } from ""@/lib/utils""
+import type { NodeArticle } from ""@/types""
 
-import { formatDate } from ""lib/utils""
-import { Article } from ""types""
-
-interface NodeArticleTeaserProps {
-  node: Partial<Article>
+interface ArticleTeaserProps {
+  node: Partial<NodeArticle>
 }
 
-export function NodeArticleTeaser({ node, ...props }: NodeArticleTeaserProps) {
+export function ArticleTeaser({ node, ...props }: ArticleTeaserProps) {
   return (
     <article {...props}>
-      <Link href={node.path} className=""no-underline hover:text-blue-600"">
+      <Link href={node.path || """"} className=""no-underline hover:text-blue-600"">
         <h2 className=""mb-4 text-4xl font-bold"">{node.title}</h2>
       </Link>
       <div className=""mb-4 text-gray-600"">
@@ -21,20 +20,15 @@ export function NodeArticleTeaser({ node, ...props }: NodeArticleTeaserProps) {
             <span className=""font-semibold"">{node.author.displayName}</span>
           </span>
         ) : null}
-        <span> - {formatDate(node.created)}</span>
+        {node.created && <span> - {formatDate(node.created)}</span>}
       </div>
       {node.image && (
         <figure className=""my-4"">
-          <Image
-            src={node.image.url}
-            width={768}
-            height={480}
-            alt={node.title}
-          />
+          <Image src={node.image.url} width={768} height={480} alt="""" />
         </figure>
       )}
       <Link
-        href={node.path}
+        href={node.path || """"}
         className=""inline-flex items-center px-6 py-2 border border-gray-600 rounded-full hover:bg-gray-100""
       >
         Read article

---FILE: starters/graphql-starter/components/drupal/BasicPage.tsx---
@@ -1,10 +1,10 @@
-import { Page } from ""types""
+import type { NodePage } from ""@/types""
 
-interface NodeBasicPageProps {
-  node: Page
+interface BasicPageProps {
+  node: NodePage
 }
 
-export function NodeBasicPage({ node, ...props }: NodeBasicPageProps) {
+export function BasicPage({ node, ...props }: BasicPageProps) {
   return (
     <article {...props}>
       <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>

---FILE: starters/graphql-starter/components/preview-alert.tsx---
@@ -1,28 +0,0 @@
-import * as React from ""react""
-import { useRouter } from ""next/router""
-
-export function PreviewAlert() {
-  const { isPreview } = useRouter()
-  const [showPreviewAlert, setShowPreviewAlert] = React.useState<boolean>(false)
-
-  React.useEffect(() => {
-    setShowPreviewAlert(isPreview && window.top === window.self)
-  }, [isPreview])
-
-  if (!showPreviewAlert) {
-    return null
-  }
-
-  return (
-    <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
-      <p className=""mb-0"">
-        This page is a preview.{"" ""}
-        {/* eslint-disable @next/next/no-html-link-for-pages */}
-        <a href=""/api/exit-preview"" className=""text-white underline"">
-          Click here
-        </a>{"" ""}
-        to exit preview mode.
-      </p>
-    </div>
-  )
-}

---FILE: starters/graphql-starter/lib/drupal.ts---
@@ -1,15 +1,17 @@
 import { DrupalClient } from ""next-drupal""
 
-export const drupal = new DrupalClient(
-  process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
-  {
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
-    auth: {
-      clientId: process.env.DRUPAL_CLIENT_ID,
-      clientSecret: process.env.DRUPAL_CLIENT_SECRET,
-    },
-  }
-)
+const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
+const clientId = process.env.DRUPAL_CLIENT_ID || """"
+const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
+const previewSecret = process.env.DRUPAL_PREVIEW_SECRET
+
+export const drupal = new DrupalClient(baseUrl, {
+  auth: {
+    clientId,
+    clientSecret,
+  },
+  previewSecret,
+})
 
 export const graphqlEndpoint = drupal.buildUrl(""/graphql"")
 

---FILE: starters/graphql-starter/next-env.d.ts---
@@ -1,5 +0,0 @@
-/// <reference types=""next"" />
-/// <reference types=""next/image-types/global"" />
-
-// NOTE: This file should not be edited
-// see https://nextjs.org/docs/basic-features/typescript for more information.

---FILE: starters/graphql-starter/next.config.js---
@@ -1,7 +1,15 @@
 /** @type {import('next').NextConfig} */
 const nextConfig = {
+  reactStrictMode: true,
   images: {
-    domains: [process.env.NEXT_IMAGE_DOMAIN],
+    remotePatterns: [
+      {
+        // protocol: 'https',
+        hostname: process.env.NEXT_IMAGE_DOMAIN,
+        // port: '',
+        // pathname: '/sites/default/files/**',
+      },
+    ],
   },
 }
 

---FILE: starters/graphql-starter/package.json---
@@ -8,25 +8,27 @@
     ""build"": ""next build"",
     ""start"": ""next start"",
     ""preview"": ""next build && next start"",
-    ""lint"": ""next lint""
+    ""lint"": ""next lint"",
+    ""format"": ""prettier --write ."",
+    ""format:check"": ""prettier --check .""
   },
   ""dependencies"": {
-    ""@tailwindcss/typography"": ""^0.5.8"",
-    ""next"": ""^13 || ^14"",
+    ""next"": ""^14"",
     ""next-drupal"": ""^1.6.0"",
     ""react"": ""^18.2.0"",
-    ""react-dom"": ""^18.2.0"",
-    ""sharp"": ""^0.31.2""
+    ""react-dom"": ""^18.2.0""
   },
   ""devDependencies"": {
-    ""@types/node"": ""^18.11.10"",
-    ""@types/react"": ""^18.0.26"",
-    ""@types/react-dom"": ""^18.0.9"",
-    ""autoprefixer"": ""^10.4.13"",
-    ""eslint"": ""^8.28.0"",
-    ""eslint-config-next"": ""^13.0.6"",
-    ""postcss"": ""^8.4.19"",
-    ""tailwindcss"": ""^3.2.4"",
-    ""typescript"": ""^5.2.2""
+    ""@tailwindcss/typography"": ""^0.5.10"",
+    ""@types/node"": ""^20.10.0"",
+    ""@types/react"": ""^18.2.39"",
+    ""@types/react-dom"": ""^18.2.17"",
+    ""autoprefixer"": ""^10.4.16"",
+    ""eslint"": ""^8.54.0"",
+    ""eslint-config-next"": ""^14.0.3"",
+    ""postcss"": ""^8.4.31"",
+    ""prettier"": ""^3.1.0"",
+    ""tailwindcss"": ""^3.3.5"",
+    ""typescript"": ""^5.3.2""
   }
 }

---FILE: starters/graphql-starter/pages/[...slug].tsx---
@@ -1,34 +1,18 @@
-import { GetStaticPathsResult, GetStaticPropsResult } from ""next""
 import Head from ""next/head""
+import { Article } from ""@/components/drupal/Article""
+import { BasicPage } from ""@/components/drupal/BasicPage""
+import { Layout } from ""@/components/Layout""
+import { drupal, query } from ""@/lib/drupal""
+import type {
+  GetStaticPaths,
+  GetStaticProps,
+  InferGetStaticPropsType,
+} from ""next""
+import type { NodeArticle, NodePage, NodesPath } from ""@/types""
 
-import { Article, NodesPath, Page } from ""types""
-import { drupal, query } from ""lib/drupal""
-import { NodeArticle } from ""components/node--article""
-import { NodeBasicPage } from ""components/node--basic-page""
-import { Layout } from ""components/layout""
-
-interface NodePageProps {
-  resource: Article | Page
-}
-
-export default function NodePage({ resource }: NodePageProps) {
-  if (!resource) return null
-
-  return (
-    <Layout>
-      <Head>
-        <title>{resource.title}</title>
-        <meta name=""description"" content=""A Next.js site powered by Drupal."" />
-      </Head>
-      {resource.__typename === ""NodePage"" && <NodeBasicPage node={resource} />}
-      {resource.__typename === ""NodeArticle"" && <NodeArticle node={resource} />}
-    </Layout>
-  )
-}
-
-export async function getStaticPaths(context): Promise<GetStaticPathsResult> {
+export const getStaticPaths = (async (context) => {
   // Fetch the paths for the first 50 articles and pages.
-  // We'll fallback to on-demand generation for the rest.
+  // We'll fall back to on-demand generation for the rest.
   const data = await query<{
     nodeArticles: NodesPath
     nodePages: NodesPath
@@ -49,28 +33,27 @@ export async function getStaticPaths(context): Promise<GetStaticPathsResult> {
 
   // Build static paths.
   const paths = drupal.buildStaticPathsParamsFromPaths(
-    [...data?.nodeArticles?.nodes, ...data?.nodePages?.nodes].map(
-      ({ path }) => path
-    )
+    [
+      ...(data?.nodeArticles?.nodes as []),
+      ...(data?.nodePages?.nodes as []),
+    ].map(({ path }) => path)
   )
 
   return {
     paths,
     fallback: ""blocking"",
   }
-}
+}) satisfies GetStaticPaths
 
-export async function getStaticProps(
-  context
-): Promise<GetStaticPropsResult<NodePageProps>> {
+export const getStaticProps = (async (context) => {
   if (!context?.params?.slug) {
     return {
       notFound: true,
     }
   }
 
   const data = await query<{
-    nodeByPath: Article
+    nodeByPath: NodeArticle | NodePage
   }>({
     query: `query ($path: String!){
       nodeByPath(path: $path) {
@@ -124,4 +107,27 @@ export async function getStaticProps(
       resource,
     },
   }
+}) satisfies GetStaticProps<{
+  resource: NodeArticle | NodePage
+}>
+
+export default function Page({
+  resource,
+}: InferGetStaticPropsType<typeof getStaticProps>) {
+  if (!resource) return null
+
+  return (
+    <Layout>
+      <Head>
+        <title>{resource.title}</title>
+        <meta
+          name=""description""
+          content=""A Next.js site powered by Drupal.""
+          key=""description""
+        />
+      </Head>
+      {resource.__typename === ""NodePage"" && <BasicPage node={resource} />}
+      {resource.__typename === ""NodeArticle"" && <Article node={resource} />}
+    </Layout>
+  )
 }

---FILE: starters/graphql-starter/pages/_app.tsx---
@@ -1,6 +1,5 @@
-import { AppProps } from ""next/app""
-
-import ""styles/globals.css""
+import ""@/styles/globals.css""
+import type { AppProps } from ""next/app""
 
 export default function App({ Component, pageProps }: AppProps) {
   return <Component {...pageProps} />

---FILE: starters/graphql-starter/pages/_document.tsx---
@@ -0,0 +1,13 @@
+import { Html, Head, Main, NextScript } from ""next/document""
+
+export default function Document() {
+  return (
+    <Html lang=""en"">
+      <Head />
+      <body>
+        <Main />
+        <NextScript />
+      </body>
+    </Html>
+  )
+}

---FILE: starters/graphql-starter/pages/api/exit-preview.ts---
@@ -1,6 +1,9 @@
-import { NextApiResponse } from ""next""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
-export default async function exit(_, response: NextApiResponse) {
+export default async function exit(
+  _: NextApiRequest,
+  response: NextApiResponse
+) {
   response.clearPreviewData()
   response.writeHead(307, { Location: ""/"" })
   response.end()

---FILE: starters/graphql-starter/pages/api/preview.ts---
@@ -1,10 +1,9 @@
-import { NextApiRequest, NextApiResponse } from ""next""
-
-import { drupal } from ""lib/drupal""
+import { drupal } from ""@/lib/drupal""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function handler(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  return await drupal.preview(request, response)
+  await drupal.preview(request, response)
 }

---FILE: starters/graphql-starter/pages/api/revalidate.ts---
@@ -1,4 +1,4 @@
-import { NextApiRequest, NextApiResponse } from ""next""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function handler(
   request: NextApiRequest,
@@ -23,7 +23,7 @@ export default async function handler(
     return response.json({})
   } catch (error) {
     return response.status(404).json({
-      message: error.message,
+      message: (error as Error).message,
     })
   }
 }

---FILE: starters/graphql-starter/pages/index.tsx---
@@ -1,49 +1,15 @@
 import Head from ""next/head""
-import { GetStaticPropsResult } from ""next""
+import { ArticleTeaser } from ""@/components/drupal/ArticleTeaser""
+import { Layout } from ""@/components/Layout""
+import { query } from ""@/lib/drupal""
+import type { InferGetStaticPropsType, GetStaticProps } from ""next""
+import type { NodeArticle } from ""@/types""
 
-import { query } from ""lib/drupal""
-import { Layout } from ""components/layout""
-import { NodeArticleTeaser } from ""components/node--article--teaser""
-import { Article } from ""types""
-
-interface IndexPageProps {
-  nodes: Article[]
-}
-
-export default function IndexPage({ nodes }: IndexPageProps) {
-  return (
-    <Layout>
-      <Head>
-        <title>Next.js for Drupal</title>
-        <meta
-          name=""description""
-          content=""A Next.js site powered by a Drupal backend.""
-        />
-      </Head>
-      <div>
-        <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
-        {nodes?.length ? (
-          nodes.map((node) => (
-            <div key={node.id}>
-              <NodeArticleTeaser node={node} />
-              <hr className=""my-20"" />
-            </div>
-          ))
-        ) : (
-          <p className=""py-4"">No nodes found</p>
-        )}
-      </div>
-    </Layout>
-  )
-}
-
-export async function getStaticProps(
-  context
-): Promise<GetStaticPropsResult<IndexPageProps>> {
+export const getStaticProps = (async (context) => {
   // Fetch the first 10 articles.
   const data = await query<{
     nodeArticles: {
-      nodes: Article[]
+      nodes: NodeArticle[]
     }
   }>({
     query: `
@@ -76,4 +42,34 @@ export async function getStaticProps(
       nodes: data?.nodeArticles?.nodes ?? [],
     },
   }
+}) satisfies GetStaticProps<{
+  nodes: NodeArticle[]
+}>
+
+export default function Home({
+  nodes,
+}: InferGetStaticPropsType<typeof getStaticProps>) {
+  return (
+    <Layout>
+      <Head>
+        <title>Next.js for Drupal</title>
+        <meta
+          name=""description""
+          content=""A Next.js site powered by a Drupal backend.""
+          key=""description""
+        />
+      </Head>
+      <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
+      {nodes?.length ? (
+        nodes.map((node) => (
+          <div key={node.id}>
+            <ArticleTeaser node={node} />
+            <hr className=""my-20"" />
+          </div>
+        ))
+      ) : (
+        <p className=""py-4"">No nodes found</p>
+      )}
+    </Layout>
+  )
 }

---FILE: starters/graphql-starter/tailwind.config.js---
@@ -1,14 +0,0 @@
-module.exports = {
-  mode: ""jit"",
-  content: [
-    ""./pages/**/*.{js,ts,jsx,tsx}"",
-    ""./components/**/*.{js,ts,jsx,tsx}"",
-  ],
-  theme: {
-    extend: {},
-  },
-  variants: {
-    extend: {},
-  },
-  plugins: [require(""@tailwindcss/typography"")],
-}

---FILE: starters/graphql-starter/tailwind.config.ts---
@@ -0,0 +1,18 @@
+import type { Config } from ""tailwindcss""
+
+const config: Config = {
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx,mdx}"",
+    ""./components/**/*.{js,ts,jsx,tsx,mdx}"",
+    ""./app/**/*.{js,ts,jsx,tsx,mdx}"",
+  ],
+  theme: {
+    extend: {},
+  },
+  variants: {
+    extend: {},
+  },
+  plugins: [require(""@tailwindcss/typography"")],
+}
+
+export default config

---FILE: starters/graphql-starter/tsconfig.json---
@@ -4,17 +4,19 @@
     ""lib"": [""dom"", ""dom.iterable"", ""esnext""],
     ""allowJs"": true,
     ""skipLibCheck"": true,
-    ""strict"": false,
+    ""strict"": true,
     ""forceConsistentCasingInFileNames"": true,
     ""noEmit"": true,
     ""esModuleInterop"": true,
     ""module"": ""esnext"",
-    ""moduleResolution"": ""node"",
+    ""moduleResolution"": ""bundler"",
     ""resolveJsonModule"": true,
     ""isolatedModules"": true,
     ""jsx"": ""preserve"",
-    ""baseUrl"": ""./"",
-    ""incremental"": true
+    ""incremental"": true,
+    ""paths"": {
+      ""@/*"": [""./*""]
+    }
   },
   ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
   ""exclude"": [""node_modules""]

---FILE: starters/graphql-starter/types/index.d.ts---
@@ -18,7 +18,7 @@ export type Author = {
   displayName: string
 }
 
-export type Page = {
+export type NodePage = {
   __typename: ""NodePage""
   id: string
   status: boolean
@@ -29,7 +29,7 @@ export type Page = {
   }
 }
 
-export type Article = {
+export type NodeArticle = {
   __typename: ""NodeArticle""
   id: string
   status: boolean",False,False,Documentation / Formatting,3
chapter-three,next-drupal,13dac2515a0845dc7bbd588e04944e246d88d64f,JohnAlbin,virtually.johnalbin@gmail.com,2023-11-29T09:13:22Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-12-13T18:42:15Z,"feat: upgrade basic-starter to Next.js v14

Issue #601",starters/.gitignore;starters/basic-starter/.env.example;starters/basic-starter/.eslintrc.json;starters/basic-starter/.gitignore;starters/basic-starter/.nvmrc;starters/basic-starter/.prettierignore;starters/basic-starter/.prettierrc.json;starters/basic-starter/components/Layout.tsx;starters/basic-starter/components/PreviewAlert.tsx;starters/basic-starter/components/drupal/Article.tsx;starters/basic-starter/components/drupal/ArticleTeaser.tsx;starters/basic-starter/components/drupal/BasicPage.tsx;starters/basic-starter/components/preview-alert.tsx;starters/basic-starter/lib/drupal.ts;starters/basic-starter/next-env.d.ts;starters/basic-starter/next.config.js;starters/basic-starter/package.json;starters/basic-starter/pages/[...slug].tsx;starters/basic-starter/pages/_app.tsx;starters/basic-starter/pages/_document.tsx;starters/basic-starter/pages/api/exit-preview.ts;starters/basic-starter/pages/api/preview.ts;starters/basic-starter/pages/api/revalidate.ts;starters/basic-starter/pages/index.tsx;starters/basic-starter/tailwind.config.js;starters/basic-starter/tailwind.config.ts;starters/basic-starter/tsconfig.json;starters/basic-starter/yarn.lock;starters/graphql-starter/yarn.lock,False,False,False,False,254,4544,4798,"---FILE: starters/.gitignore---
@@ -0,0 +1,4 @@
+# Starters should never have a lock file.
+package-lock.json
+pnpm-lock.yaml
+yarn.lock

---FILE: starters/basic-starter/.env.example---
@@ -1,6 +1,15 @@
 # See https://next-drupal.org/docs/environment-variables
-NEXT_PUBLIC_DRUPAL_BASE_URL=https://dev.next-drupal.org
-NEXT_IMAGE_DOMAIN=dev.next-drupal.org
+
+# Required
+NEXT_PUBLIC_DRUPAL_BASE_URL=https://site.example.com
+NEXT_IMAGE_DOMAIN=site.example.com
+
+# Authentication
+DRUPAL_CLIENT_ID=Retrieve this from /admin/config/services/consumer
+DRUPAL_CLIENT_SECRET=Retrieve this from /admin/config/services/consumer
+
+# Required for Preview Mode
+DRUPAL_PREVIEW_SECRET=Retrieve this from /admin/config/services/next
 
 # Required for On-demand Revalidation
-DRUPAL_REVALIDATE_SECRET=secret
\ No newline at end of file
+DRUPAL_REVALIDATE_SECRET=Retrieve this from /admin/config/services/next

---FILE: starters/basic-starter/.eslintrc.json---
@@ -1,4 +1,4 @@
 {
-  ""extends"": ""next"",
+  ""extends"": ""next/core-web-vitals"",
   ""root"": true
 }

---FILE: starters/basic-starter/.gitignore---
@@ -4,14 +4,14 @@
 /node_modules
 /.pnp
 .pnp.js
+.yarn/install-state.gz
 
 # testing
 /coverage
 
 # next.js
 /.next/
 /out/
-.next
 
 # production
 /build
@@ -20,19 +20,21 @@
 .DS_Store
 *.pem
 
+# IDE files
+/.idea
+/.vscode
+
 # debug
 npm-debug.log*
 yarn-debug.log*
 yarn-error.log*
-lerna-debug.log*
 
 # local env files
-.env.local
-.env.development.local
-.env.test.local
-.env.production.local
+.env*.local
 
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+# typescript
+*.tsbuildinfo
+next-env.d.ts

---FILE: starters/basic-starter/.nvmrc---
@@ -0,0 +1 @@
+v20

---FILE: starters/basic-starter/.prettierignore---
@@ -0,0 +1,18 @@
+# Ignore everything.
+/*
+
+# Format most files in the root directory.
+!/*.js
+!/*.ts
+!/*.md
+!/*.json
+# But ignore some.
+/package.json
+/package-lock.json
+/CHANGELOG.md
+
+# Don't ignore these nested directories.
+!/app
+!/components
+!/lib
+!/pages

---FILE: starters/basic-starter/.prettierrc.json---
@@ -0,0 +1,4 @@
+{
+  ""semi"": false,
+  ""trailingComma"": ""es5""
+}

---FILE: starters/basic-starter/components/Layout.tsx---
@@ -1,8 +1,8 @@
 import Link from ""next/link""
+import { PreviewAlert } from ""@/components/PreviewAlert""
+import type { ReactNode } from ""react""
 
-import { PreviewAlert } from ""components/preview-alert""
-
-export function Layout({ children }) {
+export function Layout({ children }: { children: ReactNode }) {
   return (
     <>
       <PreviewAlert />

---FILE: starters/basic-starter/components/PreviewAlert.tsx---
@@ -0,0 +1,30 @@
+import { useEffect, useState } from ""react""
+import { useRouter } from ""next/router""
+
+export function PreviewAlert() {
+  const router = useRouter()
+  const isPreview = router.isPreview
+  const [showPreviewAlert, setShowPreviewAlert] = useState<boolean>(false)
+
+  useEffect(() => {
+    setShowPreviewAlert(isPreview && window.top === window.self)
+  }, [isPreview])
+
+  if (!showPreviewAlert) {
+    return null
+  }
+
+  return (
+    <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
+      <p className=""mb-0"">
+        This page is a preview.{"" ""}
+        <button
+          className=""inline-block ml-3 rounded border px-1.5 hover:bg-white hover:text-black active:bg-gray-200 active:text-gray-500""
+          onClick={() => router.push(""/api/exit-preview"")}
+        >
+          Exit preview mode
+        </button>
+      </p>
+    </div>
+  )
+}

---FILE: starters/basic-starter/components/drupal/Article.tsx---
@@ -1,13 +1,12 @@
 import Image from ""next/image""
-import { DrupalNode } from ""next-drupal""
+import { absoluteUrl, formatDate } from ""@/lib/utils""
+import type { DrupalNode } from ""next-drupal""
 
-import { absoluteUrl, formatDate } from ""lib/utils""
-
-interface NodeArticleProps {
+interface ArticleProps {
   node: DrupalNode
 }
 
-export function NodeArticle({ node, ...props }: NodeArticleProps) {
+export function Article({ node, ...props }: ArticleProps) {
   return (
     <article {...props}>
       <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>
@@ -26,7 +25,7 @@ export function NodeArticle({ node, ...props }: NodeArticleProps) {
             src={absoluteUrl(node.field_image.uri.url)}
             width={768}
             height={400}
-            alt={node.field_image.resourceIdObjMeta.alt}
+            alt={node.field_image.resourceIdObjMeta.alt || """"}
             priority
           />
           {node.field_image.resourceIdObjMeta.title && (

---FILE: starters/basic-starter/components/drupal/ArticleTeaser.tsx---
@@ -1,14 +1,13 @@
 import Image from ""next/image""
 import Link from ""next/link""
-import { DrupalNode } from ""next-drupal""
+import { absoluteUrl, formatDate } from ""@/lib/utils""
+import type { DrupalNode } from ""next-drupal""
 
-import { absoluteUrl, formatDate } from ""lib/utils""
-
-interface NodeArticleTeaserProps {
+interface ArticleTeaserProps {
   node: DrupalNode
 }
 
-export function NodeArticleTeaser({ node, ...props }: NodeArticleTeaserProps) {
+export function ArticleTeaser({ node, ...props }: ArticleTeaserProps) {
   return (
     <article {...props}>
       <Link href={node.path.alias} className=""no-underline hover:text-blue-600"">

---FILE: starters/basic-starter/components/drupal/BasicPage.tsx---
@@ -1,10 +1,10 @@
-import { DrupalNode } from ""next-drupal""
+import type { DrupalNode } from ""next-drupal""
 
-interface NodeBasicPageProps {
+interface BasicPageProps {
   node: DrupalNode
 }
 
-export function NodeBasicPage({ node, ...props }: NodeBasicPageProps) {
+export function BasicPage({ node, ...props }: BasicPageProps) {
   return (
     <article {...props}>
       <h1 className=""mb-4 text-6xl font-black leading-tight"">{node.title}</h1>

---FILE: starters/basic-starter/components/preview-alert.tsx---
@@ -1,28 +0,0 @@
-import * as React from ""react""
-import { useRouter } from ""next/router""
-
-export function PreviewAlert() {
-  const { isPreview } = useRouter()
-  const [showPreviewAlert, setShowPreviewAlert] = React.useState<boolean>(false)
-
-  React.useEffect(() => {
-    setShowPreviewAlert(isPreview && window.top === window.self)
-  }, [isPreview])
-
-  if (!showPreviewAlert) {
-    return null
-  }
-
-  return (
-    <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
-      <p className=""mb-0"">
-        This page is a preview.{"" ""}
-        {/* eslint-disable @next/next/no-html-link-for-pages */}
-        <a href=""/api/exit-preview"" className=""text-white underline"">
-          Click here
-        </a>{"" ""}
-        to exit preview mode.
-      </p>
-    </div>
-  )
-}

---FILE: starters/basic-starter/lib/drupal.ts---
@@ -1,8 +1,14 @@
 import { DrupalClient } from ""next-drupal""
 
-export const drupal = new DrupalClient(
-  process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
-  {
-    previewSecret: process.env.DRUPAL_PREVIEW_SECRET,
-  }
-)
+const baseUrl: string = process.env.NEXT_PUBLIC_DRUPAL_BASE_URL || """"
+const clientId = process.env.DRUPAL_CLIENT_ID || """"
+const clientSecret = process.env.DRUPAL_CLIENT_SECRET || """"
+const previewSecret = process.env.DRUPAL_PREVIEW_SECRET
+
+export const drupal = new DrupalClient(baseUrl, {
+  auth: {
+    clientId,
+    clientSecret,
+  },
+  previewSecret,
+})

---FILE: starters/basic-starter/next-env.d.ts---
@@ -1,5 +0,0 @@
-/// <reference types=""next"" />
-/// <reference types=""next/image-types/global"" />
-
-// NOTE: This file should not be edited
-// see https://nextjs.org/docs/basic-features/typescript for more information.

---FILE: starters/basic-starter/next.config.js---
@@ -1,7 +1,15 @@
 /** @type {import('next').NextConfig} */
 const nextConfig = {
+  reactStrictMode: true,
   images: {
-    domains: [process.env.NEXT_IMAGE_DOMAIN],
+    remotePatterns: [
+      {
+        // protocol: 'https',
+        hostname: process.env.NEXT_IMAGE_DOMAIN,
+        // port: '',
+        // pathname: '/sites/default/files/**',
+      },
+    ],
   },
 }
 

---FILE: starters/basic-starter/package.json---
@@ -8,25 +8,27 @@
     ""build"": ""next build"",
     ""start"": ""next start"",
     ""preview"": ""next build && next start"",
-    ""lint"": ""next lint""
+    ""lint"": ""next lint"",
+    ""format"": ""prettier --write ."",
+    ""format:check"": ""prettier --check .""
   },
   ""dependencies"": {
-    ""@tailwindcss/typography"": ""^0.5.8"",
-    ""next"": ""^13 || ^14"",
+    ""next"": ""^14"",
     ""next-drupal"": ""^1.6.0"",
     ""react"": ""^18.2.0"",
-    ""react-dom"": ""^18.2.0"",
-    ""sharp"": ""^0.31.2""
+    ""react-dom"": ""^18.2.0""
   },
   ""devDependencies"": {
-    ""@types/node"": ""^18.11.10"",
-    ""@types/react"": ""^18.0.26"",
-    ""@types/react-dom"": ""^18.0.9"",
-    ""autoprefixer"": ""^10.4.13"",
-    ""eslint"": ""^8.28.0"",
-    ""eslint-config-next"": ""^13.0.6"",
-    ""postcss"": ""^8.4.19"",
-    ""tailwindcss"": ""^3.2.4"",
-    ""typescript"": ""^5.2.2""
+    ""@tailwindcss/typography"": ""^0.5.10"",
+    ""@types/node"": ""^20.10.0"",
+    ""@types/react"": ""^18.2.39"",
+    ""@types/react-dom"": ""^18.2.17"",
+    ""autoprefixer"": ""^10.4.16"",
+    ""eslint"": ""^8.54.0"",
+    ""eslint-config-next"": ""^14.0.3"",
+    ""postcss"": ""^8.4.31"",
+    ""prettier"": ""^3.1.0"",
+    ""tailwindcss"": ""^3.3.5"",
+    ""typescript"": ""^5.3.2""
   }
 }

---FILE: starters/basic-starter/pages/[...slug].tsx---
@@ -1,43 +1,25 @@
-import { GetStaticPathsResult, GetStaticPropsResult } from ""next""
 import Head from ""next/head""
-import { DrupalNode } from ""next-drupal""
-
-import { drupal } from ""lib/drupal""
-import { NodeArticle } from ""components/node--article""
-import { NodeBasicPage } from ""components/node--basic-page""
-import { Layout } from ""components/layout""
+import { Article } from ""@/components/drupal/Article""
+import { BasicPage } from ""@/components/drupal/BasicPage""
+import { Layout } from ""@/components/Layout""
+import { drupal } from ""@/lib/drupal""
+import type {
+  GetStaticPaths,
+  GetStaticProps,
+  InferGetStaticPropsType,
+} from ""next""
+import type { DrupalNode } from ""next-drupal""
 
 const RESOURCE_TYPES = [""node--page"", ""node--article""]
 
-interface NodePageProps {
-  resource: DrupalNode
-}
-
-export default function NodePage({ resource }: NodePageProps) {
-  if (!resource) return null
-
-  return (
-    <Layout>
-      <Head>
-        <title>{resource.title}</title>
-        <meta name=""description"" content=""A Next.js site powered by Drupal."" />
-      </Head>
-      {resource.type === ""node--page"" && <NodeBasicPage node={resource} />}
-      {resource.type === ""node--article"" && <NodeArticle node={resource} />}
-    </Layout>
-  )
-}
-
-export async function getStaticPaths(context): Promise<GetStaticPathsResult> {
+export const getStaticPaths = (async (context) => {
   return {
     paths: await drupal.getStaticPathsFromContext(RESOURCE_TYPES, context),
     fallback: ""blocking"",
   }
-}
+}) satisfies GetStaticPaths
 
-export async function getStaticProps(
-  context
-): Promise<GetStaticPropsResult<NodePageProps>> {
+export const getStaticProps = (async (context) => {
   const path = await drupal.translatePathFromContext(context)
 
   if (!path) {
@@ -46,7 +28,7 @@ export async function getStaticProps(
     }
   }
 
-  const type = path.jsonapi.resourceName
+  const type = path?.jsonapi?.resourceName
 
   let params = {}
   if (type === ""node--article"") {
@@ -68,7 +50,7 @@ export async function getStaticProps(
   // We throw an error to tell revalidation to skip this for now.
   // Revalidation can try again on next request.
   if (!resource) {
-    throw new Error(`Failed to fetch resource: ${path.jsonapi.individual}`)
+    throw new Error(`Failed to fetch resource: ${path?.jsonapi?.individual}`)
   }
 
   // If we're not in preview mode and the resource is not published,
@@ -84,4 +66,27 @@ export async function getStaticProps(
       resource,
     },
   }
+}) satisfies GetStaticProps<{
+  resource: DrupalNode
+}>
+
+export default function NodePage({
+  resource,
+}: InferGetStaticPropsType<typeof getStaticProps>) {
+  if (!resource) return null
+
+  return (
+    <Layout>
+      <Head>
+        <title>{resource.title}</title>
+        <meta
+          name=""description""
+          content=""A Next.js site powered by Drupal.""
+          key=""description""
+        />
+      </Head>
+      {resource.type === ""node--page"" && <BasicPage node={resource} />}
+      {resource.type === ""node--article"" && <Article node={resource} />}
+    </Layout>
+  )
 }

---FILE: starters/basic-starter/pages/_app.tsx---
@@ -1,6 +1,5 @@
-import { AppProps } from ""next/app""
-
-import ""styles/globals.css""
+import ""@/styles/globals.css""
+import type { AppProps } from ""next/app""
 
 export default function App({ Component, pageProps }: AppProps) {
   return <Component {...pageProps} />

---FILE: starters/basic-starter/pages/_document.tsx---
@@ -0,0 +1,13 @@
+import { Html, Head, Main, NextScript } from ""next/document""
+
+export default function Document() {
+  return (
+    <Html lang=""en"">
+      <Head />
+      <body>
+        <Main />
+        <NextScript />
+      </body>
+    </Html>
+  )
+}

---FILE: starters/basic-starter/pages/api/exit-preview.ts---
@@ -1,6 +1,9 @@
-import { NextApiResponse } from ""next""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
-export default async function exit(_, response: NextApiResponse) {
+export default async function exit(
+  _: NextApiRequest,
+  response: NextApiResponse
+) {
   response.clearPreviewData()
   response.writeHead(307, { Location: ""/"" })
   response.end()

---FILE: starters/basic-starter/pages/api/preview.ts---
@@ -1,10 +1,9 @@
-import { NextApiRequest, NextApiResponse } from ""next""
-
-import { drupal } from ""lib/drupal""
+import { drupal } from ""@/lib/drupal""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function handler(
   request: NextApiRequest,
   response: NextApiResponse
 ) {
-  return await drupal.preview(request, response)
+  await drupal.preview(request, response)
 }

---FILE: starters/basic-starter/pages/api/revalidate.ts---
@@ -1,4 +1,4 @@
-import { NextApiRequest, NextApiResponse } from ""next""
+import type { NextApiRequest, NextApiResponse } from ""next""
 
 export default async function handler(
   request: NextApiRequest,
@@ -23,7 +23,7 @@ export default async function handler(
     return response.json({})
   } catch (error) {
     return response.status(404).json({
-      message: error.message,
+      message: (error as Error).message,
     })
   }
 }

---FILE: starters/basic-starter/pages/index.tsx---
@@ -1,45 +1,11 @@
 import Head from ""next/head""
-import { GetStaticPropsResult } from ""next""
-import { DrupalNode } from ""next-drupal""
+import { ArticleTeaser } from ""@/components/drupal/ArticleTeaser""
+import { Layout } from ""@/components/Layout""
+import { drupal } from ""@/lib/drupal""
+import type { InferGetStaticPropsType, GetStaticProps } from ""next""
+import type { DrupalNode } from ""next-drupal""
 
-import { drupal } from ""lib/drupal""
-import { Layout } from ""components/layout""
-import { NodeArticleTeaser } from ""components/node--article--teaser""
-
-interface IndexPageProps {
-  nodes: DrupalNode[]
-}
-
-export default function IndexPage({ nodes }: IndexPageProps) {
-  return (
-    <Layout>
-      <Head>
-        <title>Next.js for Drupal</title>
-        <meta
-          name=""description""
-          content=""A Next.js site powered by a Drupal backend.""
-        />
-      </Head>
-      <div>
-        <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
-        {nodes?.length ? (
-          nodes.map((node) => (
-            <div key={node.id}>
-              <NodeArticleTeaser node={node} />
-              <hr className=""my-20"" />
-            </div>
-          ))
-        ) : (
-          <p className=""py-4"">No nodes found</p>
-        )}
-      </div>
-    </Layout>
-  )
-}
-
-export async function getStaticProps(
-  context
-): Promise<GetStaticPropsResult<IndexPageProps>> {
+export const getStaticProps = (async (context) => {
   const nodes = await drupal.getResourceCollectionFromContext<DrupalNode[]>(
     ""node--article"",
     context,
@@ -58,4 +24,34 @@ export async function getStaticProps(
       nodes,
     },
   }
+}) satisfies GetStaticProps<{
+  nodes: DrupalNode[]
+}>
+
+export default function Home({
+  nodes,
+}: InferGetStaticPropsType<typeof getStaticProps>) {
+  return (
+    <Layout>
+      <Head>
+        <title>Next.js for Drupal</title>
+        <meta
+          name=""description""
+          content=""A Next.js site powered by a Drupal backend.""
+          key=""description""
+        />
+      </Head>
+      <h1 className=""mb-10 text-6xl font-black"">Latest Articles.</h1>
+      {nodes?.length ? (
+        nodes.map((node) => (
+          <div key={node.id}>
+            <ArticleTeaser node={node} />
+            <hr className=""my-20"" />
+          </div>
+        ))
+      ) : (
+        <p className=""py-4"">No nodes found</p>
+      )}
+    </Layout>
+  )
 }

---FILE: starters/basic-starter/tailwind.config.js---
@@ -1,14 +0,0 @@
-module.exports = {
-  mode: ""jit"",
-  content: [
-    ""./pages/**/*.{js,ts,jsx,tsx}"",
-    ""./components/**/*.{js,ts,jsx,tsx}"",
-  ],
-  theme: {
-    extend: {},
-  },
-  variants: {
-    extend: {},
-  },
-  plugins: [require(""@tailwindcss/typography"")],
-}

---FILE: starters/basic-starter/tailwind.config.ts---
@@ -0,0 +1,18 @@
+import type { Config } from ""tailwindcss""
+
+const config: Config = {
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx,mdx}"",
+    ""./components/**/*.{js,ts,jsx,tsx,mdx}"",
+    ""./app/**/*.{js,ts,jsx,tsx,mdx}"",
+  ],
+  theme: {
+    extend: {},
+  },
+  variants: {
+    extend: {},
+  },
+  plugins: [require(""@tailwindcss/typography"")],
+}
+
+export default config

---FILE: starters/basic-starter/tsconfig.json---
@@ -4,17 +4,19 @@
     ""lib"": [""dom"", ""dom.iterable"", ""esnext""],
     ""allowJs"": true,
     ""skipLibCheck"": true,
-    ""strict"": false,
+    ""strict"": true,
     ""forceConsistentCasingInFileNames"": true,
     ""noEmit"": true,
     ""esModuleInterop"": true,
     ""module"": ""esnext"",
-    ""moduleResolution"": ""node"",
+    ""moduleResolution"": ""bundler"",
     ""resolveJsonModule"": true,
     ""isolatedModules"": true,
     ""jsx"": ""preserve"",
-    ""baseUrl"": ""./"",
-    ""incremental"": true
+    ""incremental"": true,
+    ""paths"": {
+      ""@/*"": [""./*""]
+    }
   },
   ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
   ""exclude"": [""node_modules""]

---FILE: starters/basic-starter/yarn.lock---
@@ -1,2180 +0,0 @@
-# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
-# yarn lockfile v1
-
-
-""@babel/code-frame@^7.0.0"":
-  version ""7.16.0""
-  resolved ""https://registry.yarnpkg.com/@babel/code-frame/-/code-frame-7.16.0.tgz#0dfc80309beec8411e65e706461c408b0bb9b431""
-  integrity sha512-IF4EOMEV+bfYwOmNxGzSnjR2EmQod7f1UXOpZM3l4i4o4QNwzjtJAu/HxdjHq0aYBvdqMuQEY1eg0nqW9ZPORA==
-  dependencies:
-    ""@babel/highlight"" ""^7.16.0""
-
-""@babel/helper-validator-identifier@^7.15.7"":
-  version ""7.15.7""
-  resolved ""https://registry.yarnpkg.com/@babel/helper-validator-identifier/-/helper-validator-identifier-7.15.7.tgz#220df993bfe904a4a6b02ab4f3385a5ebf6e2389""
-  integrity sha512-K4JvCtQqad9OY2+yTU8w+E82ywk/fe+ELNlt1G8z3bVGlZfn/hOcQQsUhGhW/N+tb3fxK800wLtKOE/aM0m72w==
-
-""@babel/highlight@^7.16.0"":
-  version ""7.16.0""
-  resolved ""https://registry.yarnpkg.com/@babel/highlight/-/highlight-7.16.0.tgz#6ceb32b2ca4b8f5f361fb7fd821e3fddf4a1725a""
-  integrity sha512-t8MH41kUQylBtu2+4IQA3atqevA2lRgqA2wyVB/YiWmsDSuylZZuXOUy9ric30hfzauEFfdsuk/eXTRrGrfd0g==
-  dependencies:
-    ""@babel/helper-validator-identifier"" ""^7.15.7""
-    chalk ""^2.0.0""
-    js-tokens ""^4.0.0""
-
-""@babel/runtime-corejs3@^7.10.2"":
-  version ""7.16.3""
-  resolved ""https://registry.yarnpkg.com/@babel/runtime-corejs3/-/runtime-corejs3-7.16.3.tgz#1e25de4fa994c57c18e5fdda6cc810dac70f5590""
-  integrity sha512-IAdDC7T0+wEB4y2gbIL0uOXEYpiZEeuFUTVbdGq+UwCcF35T/tS8KrmMomEwEc5wBbyfH3PJVpTSUqrhPDXFcQ==
-  dependencies:
-    core-js-pure ""^3.19.0""
-    regenerator-runtime ""^0.13.4""
-
-""@babel/runtime@^7.10.2"", ""@babel/runtime@^7.16.3"":
-  version ""7.16.3""
-  resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.16.3.tgz#b86f0db02a04187a3c17caa77de69840165d42d5""
-  integrity sha512-WBwekcqacdY2e9AF/Q7WLFUWmdJGJTkbjqTjoMDgXkVZ3ZRUvOPsLb5KdwISoQVsbP+DQzVZW4Zhci0DvpbNTQ==
-  dependencies:
-    regenerator-runtime ""^0.13.4""
-
-""@eslint/eslintrc@^1.2.1"":
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/@eslint/eslintrc/-/eslintrc-1.2.1.tgz#8b5e1c49f4077235516bc9ec7d41378c0f69b8c6""
-  integrity sha512-bxvbYnBPN1Gibwyp6NrpnFzA3YtRL3BBAyEAFVIpNTm2Rn4Vy87GA5M4aSn3InRrlsbX5N0GW7XIx+U4SAEKdQ==
-  dependencies:
-    ajv ""^6.12.4""
-    debug ""^4.3.2""
-    espree ""^9.3.1""
-    globals ""^13.9.0""
-    ignore ""^5.2.0""
-    import-fresh ""^3.2.1""
-    js-yaml ""^4.1.0""
-    minimatch ""^3.0.4""
-    strip-json-comments ""^3.1.1""
-
-""@humanwhocodes/config-array@^0.9.2"":
-  version ""0.9.5""
-  resolved ""https://registry.yarnpkg.com/@humanwhocodes/config-array/-/config-array-0.9.5.tgz#2cbaf9a89460da24b5ca6531b8bbfc23e1df50c7""
-  integrity sha512-ObyMyWxZiCu/yTisA7uzx81s40xR2fD5Cg/2Kq7G02ajkNubJf6BopgDTmDyc3U7sXpNKM8cYOw7s7Tyr+DnCw==
-  dependencies:
-    ""@humanwhocodes/object-schema"" ""^1.2.1""
-    debug ""^4.1.1""
-    minimatch ""^3.0.4""
-
-""@humanwhocodes/object-schema@^1.2.1"":
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/@humanwhocodes/object-schema/-/object-schema-1.2.1.tgz#b520529ec21d8e5945a1851dfd1c32e94e39ff45""
-  integrity sha512-ZnQMnLV4e7hDlUvw8H+U8ASL02SS2Gn6+9Ac3wGGLIe7+je2AeAOxPY+izIPJDfFDb7eDjev0Us8MO1iFRN8hA==
-
-""@next/env@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/env/-/env-12.1.4.tgz#5af629b43075281ecd7f87938802b7cf5b67e94b""
-  integrity sha512-7gQwotJDKnfMxxXd8xJ2vsX5AzyDxO3zou0+QOXX8/unypA6icw5+wf6A62yKZ6qQ4UZHHxS68pb6UV+wNneXg==
-
-""@next/eslint-plugin-next@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/eslint-plugin-next/-/eslint-plugin-next-12.1.4.tgz#9c52637af8eecab24dac3f2e5098376f6fc2dff4""
-  integrity sha512-BRy565KVK6Cdy8LHaHTiwctLqBu/RT84RLpESug70BDJzBlV8QBvODyx/j7wGhvYqp9kvstM05lyb6JaTkSCcQ==
-  dependencies:
-    glob ""7.1.7""
-
-""@next/swc-android-arm-eabi@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-android-arm-eabi/-/swc-android-arm-eabi-12.1.4.tgz#c3dae178b7c15ad627d2e9b8dfb38caecb5c4ac7""
-  integrity sha512-FJg/6a3s2YrUaqZ+/DJZzeZqfxbbWrynQMT1C5wlIEq9aDLXCFpPM/PiOyJh0ahxc0XPmi6uo38Poq+GJTuKWw==
-
-""@next/swc-android-arm64@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-android-arm64/-/swc-android-arm64-12.1.4.tgz#f320d60639e19ecffa1f9034829f2d95502a9a51""
-  integrity sha512-LXraazvQQFBgxIg3Htny6G5V5he9EK7oS4jWtMdTGIikmD/OGByOv8ZjLuVLZLtVm3UIvaAiGtlQSLecxJoJDw==
-
-""@next/swc-darwin-arm64@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-12.1.4.tgz#fd578278312613eddcf3aee26910100509941b63""
-  integrity sha512-SSST/dBymecllZxcqTCcSTCu5o1NKk9I+xcvhn/O9nH6GWjgvGgGkNqLbCarCa0jJ1ukvlBA138FagyrmZ/4rQ==
-
-""@next/swc-darwin-x64@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-12.1.4.tgz#ace5f80d8c8348efe194f6d7074c6213c52b3944""
-  integrity sha512-p1lwdX0TVjaoDXQVuAkjtxVBbCL/urgxiMCBwuPDO7TikpXtSRivi+mIzBj5q7ypgICFmIAOW3TyupXeoPRAnA==
-
-""@next/swc-linux-arm-gnueabihf@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm-gnueabihf/-/swc-linux-arm-gnueabihf-12.1.4.tgz#2bf2c83863635f19c71c226a2df936e001cce29c""
-  integrity sha512-67PZlgkCn3TDxacdVft0xqDCL7Io1/C4xbAs0+oSQ0xzp6OzN2RNpuKjHJrJgKd0DsE1XZ9sCP27Qv0591yfyg==
-
-""@next/swc-linux-arm64-gnu@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-12.1.4.tgz#d577190f641c9b4b463719dd6b8953b6ba9be8d9""
-  integrity sha512-OnOWixhhw7aU22TQdQLYrgpgFq0oA1wGgnjAiHJ+St7MLj82KTDyM9UcymAMbGYy6nG/TFOOHdTmRMtCRNOw0g==
-
-""@next/swc-linux-arm64-musl@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-12.1.4.tgz#e70ffe70393d8f9242deecdb282ce5a8fd588b14""
-  integrity sha512-UoRMzPZnsAavdWtVylYxH8DNC7Uy0i6RrvNwT4PyQVdfANBn2omsUkcH5lgS2O7oaz0nAYLk1vqyZDO7+tJotA==
-
-""@next/swc-linux-x64-gnu@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-12.1.4.tgz#91498a130387fb1961902f2bee55863f8e910cff""
-  integrity sha512-nM+MA/frxlTLUKLJKorctdI20/ugfHRjVEEkcLp/58LGG7slNaP1E5d5dRA1yX6ISjPcQAkywas5VlGCg+uTvA==
-
-""@next/swc-linux-x64-musl@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-12.1.4.tgz#78057b03c148c121553d41521ad38f6c732762ff""
-  integrity sha512-GoRHxkuW4u4yKw734B9SzxJwVdyEJosaZ62P7ifOwcujTxhgBt3y76V2nNUrsSuopcKI2ZTDjaa+2wd5zyeXbA==
-
-""@next/swc-win32-arm64-msvc@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-12.1.4.tgz#05bbaabacac23b8edf6caa99eb86b17550a09051""
-  integrity sha512-6TQkQze0ievXwHJcVUrIULwCYVe3ccX6T0JgZ1SiMeXpHxISN7VJF/O8uSCw1JvXZYZ6ud0CJ7nfC5HXivgfPg==
-
-""@next/swc-win32-ia32-msvc@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-12.1.4.tgz#8fd2fb48f04a2802e51fc320878bf6b411c1c866""
-  integrity sha512-CsbX/IXuZ5VSmWCpSetG2HD6VO5FTsO39WNp2IR2Ut/uom9XtLDJAZqjQEnbUTLGHuwDKFjrIO3LkhtROXLE/g==
-
-""@next/swc-win32-x64-msvc@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-12.1.4.tgz#a72ed44c9b1f850986a30fe36c59e01f8a79b5f3""
-  integrity sha512-JtYuWzKXKLDMgE/xTcFtCm1MiCIRaAc5XYZfYX3n/ZWSI1SJS/GMm+Su0SAHJgRFavJh6U/p998YwO/iGTIgqQ==
-
-""@nodelib/fs.scandir@2.1.4"":
-  version ""2.1.4""
-  resolved ""https://registry.yarnpkg.com/@nodelib/fs.scandir/-/fs.scandir-2.1.4.tgz#d4b3549a5db5de2683e0c1071ab4f140904bbf69""
-  integrity sha512-33g3pMJk3bg5nXbL/+CY6I2eJDzZAni49PfJnL5fghPTggPvBd/pFNSgJsdAgWptuFu7qq/ERvOYFlhvsLTCKA==
-  dependencies:
-    ""@nodelib/fs.stat"" ""2.0.4""
-    run-parallel ""^1.1.9""
-
-""@nodelib/fs.stat@2.0.4"", ""@nodelib/fs.stat@^2.0.2"":
-  version ""2.0.4""
-  resolved ""https://registry.yarnpkg.com/@nodelib/fs.stat/-/fs.stat-2.0.4.tgz#a3f2dd61bab43b8db8fa108a121cfffe4c676655""
-  integrity sha512-IYlHJA0clt2+Vg7bccq+TzRdJvv19c2INqBSsoOLp1je7xjtr7J26+WXR72MCdvU9q1qTzIWDfhMf+DRvQJK4Q==
-
-""@nodelib/fs.walk@^1.2.3"":
-  version ""1.2.6""
-  resolved ""https://registry.yarnpkg.com/@nodelib/fs.walk/-/fs.walk-1.2.6.tgz#cce9396b30aa5afe9e3756608f5831adcb53d063""
-  integrity sha512-8Broas6vTtW4GIXTAHDoE32hnN2M5ykgCpWGbuXHQ15vEMqr23pB76e/GZcYsZCHALv50ktd24qhEyKr6wBtow==
-  dependencies:
-    ""@nodelib/fs.scandir"" ""2.1.4""
-    fastq ""^1.6.0""
-
-""@rushstack/eslint-patch@1.0.8"":
-  version ""1.0.8""
-  resolved ""https://registry.yarnpkg.com/@rushstack/eslint-patch/-/eslint-patch-1.0.8.tgz#be3e914e84eacf16dbebd311c0d0b44aa1174c64""
-  integrity sha512-ZK5v4bJwgXldAUA8r3q9YKfCwOqoHTK/ZqRjSeRXQrBXWouoPnS4MQtgC4AXGiiBuUu5wxrRgTlv0ktmM4P1Aw==
-
-""@tailwindcss/typography@^0.5.2"":
-  version ""0.5.2""
-  resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.5.2.tgz#24b069dab24d7a2467d01aca0dd432cb4b29f0ee""
-  integrity sha512-coq8DBABRPFcVhVIk6IbKyyHUt7YTEC/C992tatFB+yEx5WGBQrCgsSFjxHUr8AWXphWckadVJbominEduYBqw==
-  dependencies:
-    lodash.castarray ""^4.4.0""
-    lodash.isplainobject ""^4.0.6""
-    lodash.merge ""^4.6.2""
-
-""@types/json5@^0.0.29"":
-  version ""0.0.29""
-  resolved ""https://registry.yarnpkg.com/@types/json5/-/json5-0.0.29.tgz#ee28707ae94e11d2b827bcbe5270bcea7f3e71ee""
-  integrity sha1-7ihweulOEdK4J7y+UnC86n8+ce4=
-
-""@types/node@^17.0.23"":
-  version ""17.0.23""
-  resolved ""https://registry.yarnpkg.com/@types/node/-/node-17.0.23.tgz#3b41a6e643589ac6442bdbd7a4a3ded62f33f7da""
-  integrity sha512-UxDxWn7dl97rKVeVS61vErvw086aCYhDLyvRQZ5Rk65rZKepaFdm53GeqXaKBuOhED4e9uWq34IC3TdSdJJ2Gw==
-
-""@types/parse-json@^4.0.0"":
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/@types/parse-json/-/parse-json-4.0.0.tgz#2f8bb441434d163b35fb8ffdccd7138927ffb8c0""
-  integrity sha512-//oorEZjL6sbPcKUaCdIGlIUeH26mgzimjBB77G6XRgnDl/L5wOnpyBGRe/Mmf5CVW3PwEBE1NjiMZ/ssFh4wA==
-
-""@types/prop-types@*"":
-  version ""15.7.3""
-  resolved ""https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.3.tgz#2ab0d5da2e5815f94b0b9d4b95d1e5f243ab2ca7""
-  integrity sha512-KfRL3PuHmqQLOG+2tGpRO26Ctg+Cq1E01D2DMriKEATHgWLfeNDmq9e29Q9WIky0dQ3NPkd1mzYH8Lm936Z9qw==
-
-""@types/react@^17.0.43"":
-  version ""17.0.44""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.44.tgz#c3714bd34dd551ab20b8015d9d0dbec812a51ec7""
-  integrity sha512-Ye0nlw09GeMp2Suh8qoOv0odfgCoowfM/9MG6WeRD60Gq9wS90bdkdRtYbRkNhXOpG4H+YXGvj4wOWhAC0LJ1g==
-  dependencies:
-    ""@types/prop-types"" ""*""
-    ""@types/scheduler"" ""*""
-    csstype ""^3.0.2""
-
-""@types/scheduler@*"":
-  version ""0.16.1""
-  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.1.tgz#18845205e86ff0038517aab7a18a62a6b9f71275""
-  integrity sha512-EaCxbanVeyxDRTQBkdLb3Bvl/HK7PBK6UJjsSixB0iHKoWxE5uu2Q/DgtpOhPIojN0Zl1whvOd7PoHs2P0s5eA==
-
-""@typescript-eslint/parser@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/parser/-/parser-5.10.1.tgz#4ce9633cc33fc70bc13786cb793c1a76fe5ad6bd""
-  integrity sha512-GReo3tjNBwR5RnRO0K2wDIDN31cM3MmDtgyQ85oAxAmC5K3j/g85IjP+cDfcqDsDDBf1HNKQAD0WqOYL8jXqUA==
-  dependencies:
-    ""@typescript-eslint/scope-manager"" ""5.10.1""
-    ""@typescript-eslint/types"" ""5.10.1""
-    ""@typescript-eslint/typescript-estree"" ""5.10.1""
-    debug ""^4.3.2""
-
-""@typescript-eslint/scope-manager@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/scope-manager/-/scope-manager-5.10.1.tgz#f0539c73804d2423506db2475352a4dec36cd809""
-  integrity sha512-Lyvi559Gvpn94k7+ElXNMEnXu/iundV5uFmCUNnftbFrUbAJ1WBoaGgkbOBm07jVZa682oaBU37ao/NGGX4ZDg==
-  dependencies:
-    ""@typescript-eslint/types"" ""5.10.1""
-    ""@typescript-eslint/visitor-keys"" ""5.10.1""
-
-""@typescript-eslint/types@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/types/-/types-5.10.1.tgz#dca9bd4cb8c067fc85304a31f38ec4766ba2d1ea""
-  integrity sha512-ZvxQ2QMy49bIIBpTqFiOenucqUyjTQ0WNLhBM6X1fh1NNlYAC6Kxsx8bRTY3jdYsYg44a0Z/uEgQkohbR0H87Q==
-
-""@typescript-eslint/typescript-estree@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/typescript-estree/-/typescript-estree-5.10.1.tgz#b268e67be0553f8790ba3fe87113282977adda15""
-  integrity sha512-PwIGnH7jIueXv4opcwEbVGDATjGPO1dx9RkUl5LlHDSe+FXxPwFL5W/qYd5/NHr7f6lo/vvTrAzd0KlQtRusJQ==
-  dependencies:
-    ""@typescript-eslint/types"" ""5.10.1""
-    ""@typescript-eslint/visitor-keys"" ""5.10.1""
-    debug ""^4.3.2""
-    globby ""^11.0.4""
-    is-glob ""^4.0.3""
-    semver ""^7.3.5""
-    tsutils ""^3.21.0""
-
-""@typescript-eslint/visitor-keys@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/visitor-keys/-/visitor-keys-5.10.1.tgz#29102de692f59d7d34ecc457ed59ab5fc558010b""
-  integrity sha512-NjQ0Xinhy9IL979tpoTRuLKxMc0zJC7QVSdeerXs2/QvOy2yRkzX5dRb10X5woNUdJgU8G3nYRDlI33sq1K4YQ==
-  dependencies:
-    ""@typescript-eslint/types"" ""5.10.1""
-    eslint-visitor-keys ""^3.0.0""
-
-acorn-jsx@^5.3.1:
-  version ""5.3.2""
-  resolved ""https://registry.yarnpkg.com/acorn-jsx/-/acorn-jsx-5.3.2.tgz#7ed5bb55908b3b2f1bc55c6af1653bada7f07937""
-  integrity sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==
-
-acorn-node@^1.6.1:
-  version ""1.8.2""
-  resolved ""https://registry.yarnpkg.com/acorn-node/-/acorn-node-1.8.2.tgz#114c95d64539e53dede23de8b9d96df7c7ae2af8""
-  integrity sha512-8mt+fslDufLYntIoPAaIMUe/lrbrehIiwmR3t2k9LljIzoigEPF27eLk2hy8zSGzmR/ogr7zbRKINMo1u0yh5A==
-  dependencies:
-    acorn ""^7.0.0""
-    acorn-walk ""^7.0.0""
-    xtend ""^4.0.2""
-
-acorn-walk@^7.0.0:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/acorn-walk/-/acorn-walk-7.2.0.tgz#0de889a601203909b0fbe07b8938dc21d2e967bc""
-  integrity sha512-OPdCF6GsMIP+Az+aWfAAOEt2/+iVDKE7oy6lJ098aoe59oAmK76qV6Gw60SbZ8jHuG2wH058GF4pLFbYamYrVA==
-
-acorn@^7.0.0:
-  version ""7.4.1""
-  resolved ""https://registry.yarnpkg.com/acorn/-/acorn-7.4.1.tgz#feaed255973d2e77555b83dbc08851a6c63520fa""
-  integrity sha512-nQyp0o1/mNdbTO1PO6kHkwSrmgZ0MT/jCCpNiwbUjGoRN4dlBhqJtoQuCnEOKzgTVwg0ZWiCoQy6SxMebQVh8A==
-
-acorn@^8.7.0:
-  version ""8.7.0""
-  resolved ""https://registry.yarnpkg.com/acorn/-/acorn-8.7.0.tgz#90951fde0f8f09df93549481e5fc141445b791cf""
-  integrity sha512-V/LGr1APy+PXIwKebEWrkZPwoeoF+w1jiOBUmuxuiUIaOHtob8Qc9BTrYo7VuI5fR8tqsy+buA2WFooR5olqvQ==
-
-ajv@^6.10.0, ajv@^6.12.4:
-  version ""6.12.6""
-  resolved ""https://registry.yarnpkg.com/ajv/-/ajv-6.12.6.tgz#baf5a62e802b07d977034586f8c3baf5adf26df4""
-  integrity sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==
-  dependencies:
-    fast-deep-equal ""^3.1.1""
-    fast-json-stable-stringify ""^2.0.0""
-    json-schema-traverse ""^0.4.1""
-    uri-js ""^4.2.2""
-
-ansi-regex@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/ansi-regex/-/ansi-regex-5.0.1.tgz#082cb2c89c9fe8659a311a53bd6a4dc5301db304""
-  integrity sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==
-
-ansi-styles@^3.2.1:
-  version ""3.2.1""
-  resolved ""https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-3.2.1.tgz#41fbb20243e50b12be0f04b8dedbf07520ce841d""
-  integrity sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA==
-  dependencies:
-    color-convert ""^1.9.0""
-
-ansi-styles@^4.1.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-4.3.0.tgz#edd803628ae71c04c85ae7a0906edad34b648937""
-  integrity sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==
-  dependencies:
-    color-convert ""^2.0.1""
-
-anymatch@~3.1.2:
-  version ""3.1.2""
-  resolved ""https://registry.yarnpkg.com/anymatch/-/anymatch-3.1.2.tgz#c0557c096af32f106198f4f4e2a383537e378716""
-  integrity sha512-P43ePfOAIupkguHUycrc4qJ9kz8ZiuOUijaETwX7THt0Y/GNK7v0aa8rY816xWjZ7rJdA5XdMcpVFTKMq+RvWg==
-  dependencies:
-    normalize-path ""^3.0.0""
-    picomatch ""^2.0.4""
-
-arg@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/arg/-/arg-5.0.1.tgz#eb0c9a8f77786cad2af8ff2b862899842d7b6adb""
-  integrity sha512-e0hDa9H2Z9AwFkk2qDlwhoMYE4eToKarchkQHovNdLTCYMHZHeRjI71crOh+dio4K6u1IcwubQqo79Ga4CyAQA==
-
-argparse@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/argparse/-/argparse-2.0.1.tgz#246f50f3ca78a3240f6c997e8a9bd1eac49e4b38""
-  integrity sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==
-
-aria-query@^4.2.2:
-  version ""4.2.2""
-  resolved ""https://registry.yarnpkg.com/aria-query/-/aria-query-4.2.2.tgz#0d2ca6c9aceb56b8977e9fed6aed7e15bbd2f83b""
-  integrity sha512-o/HelwhuKpTj/frsOsbNLNgnNGVIFsVP/SW2BSF14gVl7kAfMOJ6/8wUAUvG1R1NHKrfG+2sHZTu0yauT1qBrA==
-  dependencies:
-    ""@babel/runtime"" ""^7.10.2""
-    ""@babel/runtime-corejs3"" ""^7.10.2""
-
-array-includes@^3.1.3, array-includes@^3.1.4:
-  version ""3.1.4""
-  resolved ""https://registry.yarnpkg.com/array-includes/-/array-includes-3.1.4.tgz#f5b493162c760f3539631f005ba2bb46acb45ba9""
-  integrity sha512-ZTNSQkmWumEbiHO2GF4GmWxYVTiQyJy2XOTa15sdQSrvKn7l+180egQMqlrMOUMCyLMD7pmyQe4mMDUT6Behrw==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-    get-intrinsic ""^1.1.1""
-    is-string ""^1.0.7""
-
-array-union@^2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/array-union/-/array-union-2.1.0.tgz#b798420adbeb1de828d84acd8a2e23d3efe85e8d""
-  integrity sha512-HGyxoOTYUyCM6stUe6EJgnd4EoewAI7zMdfqO+kGjnlZmBDz/cR5pf8r/cR4Wq60sL/p0IkcjUEEPwS3GFrIyw==
-
-array.prototype.flat@^1.2.5:
-  version ""1.2.5""
-  resolved ""https://registry.yarnpkg.com/array.prototype.flat/-/array.prototype.flat-1.2.5.tgz#07e0975d84bbc7c48cd1879d609e682598d33e13""
-  integrity sha512-KaYU+S+ndVqyUnignHftkwc58o3uVU1jzczILJ1tN2YaIZpFIKBiP/x/j97E5MVPsaCloPbqWLB/8qCTVvT2qg==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.0""
-
-array.prototype.flatmap@^1.2.5:
-  version ""1.2.5""
-  resolved ""https://registry.yarnpkg.com/array.prototype.flatmap/-/array.prototype.flatmap-1.2.5.tgz#908dc82d8a406930fdf38598d51e7411d18d4446""
-  integrity sha512-08u6rVyi1Lj7oqWbS9nUxliETrtIROT4XGTA4D/LWGten6E3ocm7cy9SIrmNHOL5XVbVuckUp3X6Xyg8/zpvHA==
-  dependencies:
-    call-bind ""^1.0.0""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.0""
-
-ast-types-flow@^0.0.7:
-  version ""0.0.7""
-  resolved ""https://registry.yarnpkg.com/ast-types-flow/-/ast-types-flow-0.0.7.tgz#f70b735c6bca1a5c9c22d982c3e39e7feba3bdad""
-  integrity sha1-9wtzXGvKGlycItmCw+Oef+ujva0=
-
-autoprefixer@^10.4.4:
-  version ""10.4.4""
-  resolved ""https://registry.yarnpkg.com/autoprefixer/-/autoprefixer-10.4.4.tgz#3e85a245b32da876a893d3ac2ea19f01e7ea5a1e""
-  integrity sha512-Tm8JxsB286VweiZ5F0anmbyGiNI3v3wGv3mz9W+cxEDYB/6jbnj6GM9H9mK3wIL8ftgl+C07Lcwb8PG5PCCPzA==
-  dependencies:
-    browserslist ""^4.20.2""
-    caniuse-lite ""^1.0.30001317""
-    fraction.js ""^4.2.0""
-    normalize-range ""^0.1.2""
-    picocolors ""^1.0.0""
-    postcss-value-parser ""^4.2.0""
-
-axe-core@^4.3.5:
-  version ""4.3.5""
-  resolved ""https://registry.yarnpkg.com/axe-core/-/axe-core-4.3.5.tgz#78d6911ba317a8262bfee292aeafcc1e04b49cc5""
-  integrity sha512-WKTW1+xAzhMS5dJsxWkliixlO/PqC4VhmO9T4juNYcaTg9jzWiJsou6m5pxWYGfigWbwzJWeFY6z47a+4neRXA==
-
-axobject-query@^2.2.0:
-  version ""2.2.0""
-  resolved ""https://registry.yarnpkg.com/axobject-query/-/axobject-query-2.2.0.tgz#943d47e10c0b704aa42275e20edf3722648989be""
-  integrity sha512-Td525n+iPOOyUQIeBfcASuG6uJsDOITl7Mds5gFyerkWiX7qhUTdYUBlSgNMyVqtSJqwpt1kXGLdUt6SykLMRA==
-
-balanced-match@^1.0.0:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/balanced-match/-/balanced-match-1.0.2.tgz#e83e3a7e3f300b34cb9d87f615fa0cbf357690ee""
-  integrity sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==
-
-binary-extensions@^2.0.0:
-  version ""2.2.0""
-  resolved ""https://registry.yarnpkg.com/binary-extensions/-/binary-extensions-2.2.0.tgz#75f502eeaf9ffde42fc98829645be4ea76bd9e2d""
-  integrity sha512-jDctJ/IVQbZoJykoeHbhXpOlNBqGNcwXJKJog42E5HDPUwQTSdjCHdihjj0DlnheQ7blbT6dHOafNAiS8ooQKA==
-
-brace-expansion@^1.1.7:
-  version ""1.1.11""
-  resolved ""https://registry.yarnpkg.com/brace-expansion/-/brace-expansion-1.1.11.tgz#3c7fcbf529d87226f3d2f52b966ff5271eb441dd""
-  integrity sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==
-  dependencies:
-    balanced-match ""^1.0.0""
-    concat-map ""0.0.1""
-
-braces@^3.0.1, braces@~3.0.2:
-  version ""3.0.2""
-  resolved ""https://registry.yarnpkg.com/braces/-/braces-3.0.2.tgz#3454e1a462ee8d599e236df336cd9ea4f8afe107""
-  integrity sha512-b8um+L1RzM3WDSzvhm6gIz1yfTbBt6YTlcEKAvsmqCZZFw46z626lVj9j1yEPW33H5H+lBQpZMP1k8l+78Ha0A==
-  dependencies:
-    fill-range ""^7.0.1""
-
-browserslist@^4.20.2:
-  version ""4.20.2""
-  resolved ""https://registry.yarnpkg.com/browserslist/-/browserslist-4.20.2.tgz#567b41508757ecd904dab4d1c646c612cd3d4f88""
-  integrity sha512-CQOBCqp/9pDvDbx3xfMi+86pr4KXIf2FDkTTdeuYw8OxS9t898LA1Khq57gtufFILXpfgsSx5woNgsBgvGjpsA==
-  dependencies:
-    caniuse-lite ""^1.0.30001317""
-    electron-to-chromium ""^1.4.84""
-    escalade ""^3.1.1""
-    node-releases ""^2.0.2""
-    picocolors ""^1.0.0""
-
-call-bind@^1.0.0, call-bind@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/call-bind/-/call-bind-1.0.2.tgz#b1d4e89e688119c3c9a903ad30abb2f6a919be3c""
-  integrity sha512-7O+FbCihrB5WGbFYesctwmTKae6rOiIzmz1icreWJ+0aA7LJfuqhEso2T9ncpcFtzMQtzXf2QGGueWJGTYsqrA==
-  dependencies:
-    function-bind ""^1.1.1""
-    get-intrinsic ""^1.0.2""
-
-callsites@^3.0.0:
-  version ""3.1.0""
-  resolved ""https://registry.yarnpkg.com/callsites/-/callsites-3.1.0.tgz#b3630abd8943432f54b3f0519238e33cd7df2f73""
-  integrity sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==
-
-camelcase-css@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/camelcase-css/-/camelcase-css-2.0.1.tgz#ee978f6947914cc30c6b44741b6ed1df7f043fd5""
-  integrity sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==
-
-caniuse-lite@^1.0.30001283, caniuse-lite@^1.0.30001317:
-  version ""1.0.30001327""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001327.tgz#c1546d7d7bb66506f0ccdad6a7d07fc6d668c858""
-  integrity sha512-1/Cg4jlD9qjZzhbzkzEaAC2JHsP0WrOc8Rd/3a3LuajGzGWR/hD7TVyvq99VqmTy99eVh8Zkmdq213OgvgXx7w==
-
-chalk@^2.0.0:
-  version ""2.4.2""
-  resolved ""https://registry.yarnpkg.com/chalk/-/chalk-2.4.2.tgz#cd42541677a54333cf541a49108c1432b44c9424""
-  integrity sha512-Mti+f9lpJNcwF4tWV8/OrTTtF1gZi+f8FqlyAdouralcFWFQWF2+NgCHShjkCb+IFBLq9buZwE1xckQU4peSuQ==
-  dependencies:
-    ansi-styles ""^3.2.1""
-    escape-string-regexp ""^1.0.5""
-    supports-color ""^5.3.0""
-
-chalk@^4.0.0, chalk@^4.1.2:
-  version ""4.1.2""
-  resolved ""https://registry.yarnpkg.com/chalk/-/chalk-4.1.2.tgz#aac4e2b7734a740867aeb16bf02aad556a1e7a01""
-  integrity sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==
-  dependencies:
-    ansi-styles ""^4.1.0""
-    supports-color ""^7.1.0""
-
-chokidar@^3.5.3:
-  version ""3.5.3""
-  resolved ""https://registry.yarnpkg.com/chokidar/-/chokidar-3.5.3.tgz#1cf37c8707b932bd1af1ae22c0432e2acd1903bd""
-  integrity sha512-Dr3sfKRP6oTcjf2JmUmFJfeVMvXBdegxB0iVQ5eb2V10uFJUCAS8OByZdVAyVb8xXNz3GjjTgj9kLWsZTqE6kw==
-  dependencies:
-    anymatch ""~3.1.2""
-    braces ""~3.0.2""
-    glob-parent ""~5.1.2""
-    is-binary-path ""~2.1.0""
-    is-glob ""~4.0.1""
-    normalize-path ""~3.0.0""
-    readdirp ""~3.6.0""
-  optionalDependencies:
-    fsevents ""~2.3.2""
-
-clone@2.x:
-  version ""2.1.2""
-  resolved ""https://registry.yarnpkg.com/clone/-/clone-2.1.2.tgz#1b7f4b9f591f1e8f83670401600345a02887435f""
-  integrity sha1-G39Ln1kfHo+DZwQBYANFoCiHQ18=
-
-color-convert@^1.9.0:
-  version ""1.9.3""
-  resolved ""https://registry.yarnpkg.com/color-convert/-/color-convert-1.9.3.tgz#bb71850690e1f136567de629d2d5471deda4c1e8""
-  integrity sha512-QfAUtd+vFdAtFQcC8CCyYt1fYWxSqAiK2cSD6zDB8N3cpsEBAvRxp9zOGg6G/SHHJYAT88/az/IuDGALsNVbGg==
-  dependencies:
-    color-name ""1.1.3""
-
-color-convert@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/color-convert/-/color-convert-2.0.1.tgz#72d3a68d598c9bdb3af2ad1e84f21d896abd4de3""
-  integrity sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==
-  dependencies:
-    color-name ""~1.1.4""
-
-color-name@1.1.3:
-  version ""1.1.3""
-  resolved ""https://registry.yarnpkg.com/color-name/-/color-name-1.1.3.tgz#a7d0558bd89c42f795dd42328f740831ca53bc25""
-  integrity sha1-p9BVi9icQveV3UIyj3QIMcpTvCU=
-
-color-name@^1.1.4, color-name@~1.1.4:
-  version ""1.1.4""
-  resolved ""https://registry.yarnpkg.com/color-name/-/color-name-1.1.4.tgz#c2a09a87acbde69543de6f63fa3995c826c536a2""
-  integrity sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==
-
-concat-map@0.0.1:
-  version ""0.0.1""
-  resolved ""https://registry.yarnpkg.com/concat-map/-/concat-map-0.0.1.tgz#d8a96bd77fd68df7793a73036a3ba0d5405d477b""
-  integrity sha1-2Klr13/Wjfd5OnMDajug1UBdR3s=
-
-core-js-pure@^3.19.0:
-  version ""3.19.3""
-  resolved ""https://registry.yarnpkg.com/core-js-pure/-/core-js-pure-3.19.3.tgz#c69b2b36b58927317824994b532ec3f0f7e49607""
-  integrity sha512-N3JruInmCyt7EJj5mAq3csCgGYgiSqu7p7TQp2KOztr180/OAIxyIvL1FCjzgmQk/t3Yniua50Fsak7FShI9lA==
-
-cosmiconfig@^7.0.1:
-  version ""7.0.1""
-  resolved ""https://registry.yarnpkg.com/cosmiconfig/-/cosmiconfig-7.0.1.tgz#714d756522cace867867ccb4474c5d01bbae5d6d""
-  integrity sha512-a1YWNUV2HwGimB7dU2s1wUMurNKjpx60HxBB6xUM8Re+2s1g1IIfJvFR0/iCF+XHdE0GMTKTuLR32UQff4TEyQ==
-  dependencies:
-    ""@types/parse-json"" ""^4.0.0""
-    import-fresh ""^3.2.1""
-    parse-json ""^5.0.0""
-    path-type ""^4.0.0""
-    yaml ""^1.10.0""
-
-cross-spawn@^7.0.2:
-  version ""7.0.3""
-  resolved ""https://registry.yarnpkg.com/cross-spawn/-/cross-spawn-7.0.3.tgz#f73a85b9d5d41d045551c177e2882d4ac85728a6""
-  integrity sha512-iRDPJKUPVEND7dHPO8rkbOnPpyDygcDFtWjpeWNCgy8WP2rXcxXL8TskReQl6OrB2G7+UJrags1q15Fudc7G6w==
-  dependencies:
-    path-key ""^3.1.0""
-    shebang-command ""^2.0.0""
-    which ""^2.0.1""
-
-cssesc@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/cssesc/-/cssesc-3.0.0.tgz#37741919903b868565e1c09ea747445cd18983ee""
-  integrity sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==
-
-csstype@^3.0.2:
-  version ""3.0.8""
-  resolved ""https://registry.yarnpkg.com/csstype/-/csstype-3.0.8.tgz#d2266a792729fb227cd216fb572f43728e1ad340""
-  integrity sha512-jXKhWqXPmlUeoQnF/EhTtTl4C9SnrxSH/jZUih3jmO6lBKr99rP3/+FmrMj4EFpOXzMtXHAZkd3x0E6h6Fgflw==
-
-damerau-levenshtein@^1.0.7:
-  version ""1.0.7""
-  resolved ""https://registry.yarnpkg.com/damerau-levenshtein/-/damerau-levenshtein-1.0.7.tgz#64368003512a1a6992593741a09a9d31a836f55d""
-  integrity sha512-VvdQIPGdWP0SqFXghj79Wf/5LArmreyMsGLa6FG6iC4t3j7j5s71TrwWmT/4akbDQIqjfACkLZmjXhA7g2oUZw==
-
-debug@^2.6.9:
-  version ""2.6.9""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-2.6.9.tgz#5d128515df134ff327e90a4c93f4e077a536341f""
-  integrity sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==
-  dependencies:
-    ms ""2.0.0""
-
-debug@^3.2.7:
-  version ""3.2.7""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-3.2.7.tgz#72580b7e9145fb39b6676f9c5e5fb100b934179a""
-  integrity sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==
-  dependencies:
-    ms ""^2.1.1""
-
-debug@^4.1.1:
-  version ""4.3.3""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-4.3.3.tgz#04266e0b70a98d4462e6e288e38259213332b664""
-  integrity sha512-/zxw5+vh1Tfv+4Qn7a5nsbcJKPaSvCDhojn6FEl9vupwK2VCSDtEiEtqr8DFtzYFOdz63LBkxec7DYuc2jon6Q==
-  dependencies:
-    ms ""2.1.2""
-
-debug@^4.3.2:
-  version ""4.3.4""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-4.3.4.tgz#1319f6579357f2338d3337d2cdd4914bb5dcc865""
-  integrity sha512-PRWFHuSU3eDtQJPvnNY7Jcket1j0t5OuOsFzPPzsekD52Zl8qUfFIPEiswXqIvHWGVHOgX+7G/vCNNhehwxfkQ==
-  dependencies:
-    ms ""2.1.2""
-
-deep-is@^0.1.3:
-  version ""0.1.4""
-  resolved ""https://registry.yarnpkg.com/deep-is/-/deep-is-0.1.4.tgz#a6f2dce612fadd2ef1f519b73551f17e85199831""
-  integrity sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==
-
-define-properties@^1.1.3:
-  version ""1.1.3""
-  resolved ""https://registry.yarnpkg.com/define-properties/-/define-properties-1.1.3.tgz#cf88da6cbee26fe6db7094f61d870cbd84cee9f1""
-  integrity sha512-3MqfYKj2lLzdMSf8ZIZE/V+Zuy+BgD6f164e8K2w7dgnpKArBDerGYpM46IYYcjnkdPNMjPk9A6VFB8+3SKlXQ==
-  dependencies:
-    object-keys ""^1.0.12""
-
-defined@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/defined/-/defined-1.0.0.tgz#c98d9bcef75674188e110969151199e39b1fa693""
-  integrity sha1-yY2bzvdWdBiOEQlpFRGZ45sfppM=
-
-detective@^5.2.0:
-  version ""5.2.0""
-  resolved ""https://registry.yarnpkg.com/detective/-/detective-5.2.0.tgz#feb2a77e85b904ecdea459ad897cc90a99bd2a7b""
-  integrity sha512-6SsIx+nUUbuK0EthKjv0zrdnajCCXVYGmbYYiYjFVpzcjwEs/JMDZ8tPRG29J/HhN56t3GJp2cGSWDRjjot8Pg==
-  dependencies:
-    acorn-node ""^1.6.1""
-    defined ""^1.0.0""
-    minimist ""^1.1.1""
-
-didyoumean@^1.2.2:
-  version ""1.2.2""
-  resolved ""https://registry.yarnpkg.com/didyoumean/-/didyoumean-1.2.2.tgz#989346ffe9e839b4555ecf5666edea0d3e8ad037""
-  integrity sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==
-
-dir-glob@^3.0.1:
-  version ""3.0.1""
-  resolved ""https://registry.yarnpkg.com/dir-glob/-/dir-glob-3.0.1.tgz#56dbf73d992a4a93ba1584f4534063fd2e41717f""
-  integrity sha512-WkrWp9GR4KXfKGYzOLmTuGVi1UWFfws377n9cc55/tb6DuqyF6pcQ5AbiHEshaDpY9v6oaSr2XCDidGmMwdzIA==
-  dependencies:
-    path-type ""^4.0.0""
-
-dlv@^1.1.3:
-  version ""1.1.3""
-  resolved ""https://registry.yarnpkg.com/dlv/-/dlv-1.1.3.tgz#5c198a8a11453596e751494d49874bc7732f2e79""
-  integrity sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==
-
-doctrine@^2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/doctrine/-/doctrine-2.1.0.tgz#5cd01fc101621b42c4cd7f5d1a66243716d3f39d""
-  integrity sha512-35mSku4ZXK0vfCuHEDAwt55dg2jNajHZ1odvF+8SSr82EsZY4QmXfuWso8oEd8zRhVObSN18aM0CjSdoBX7zIw==
-  dependencies:
-    esutils ""^2.0.2""
-
-doctrine@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/doctrine/-/doctrine-3.0.0.tgz#addebead72a6574db783639dc87a121773973961""
-  integrity sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==
-  dependencies:
-    esutils ""^2.0.2""
-
-electron-to-chromium@^1.4.84:
-  version ""1.4.106""
-  resolved ""https://registry.yarnpkg.com/electron-to-chromium/-/electron-to-chromium-1.4.106.tgz#e7a3bfa9d745dd9b9e597616cb17283cc349781a""
-  integrity sha512-ZYfpVLULm67K7CaaGP7DmjyeMY4naxsbTy+syVVxT6QHI1Ww8XbJjmr9fDckrhq44WzCrcC5kH3zGpdusxwwqg==
-
-emoji-regex@^9.2.2:
-  version ""9.2.2""
-  resolved ""https://registry.yarnpkg.com/emoji-regex/-/emoji-regex-9.2.2.tgz#840c8803b0d8047f4ff0cf963176b32d4ef3ed72""
-  integrity sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==
-
-error-ex@^1.3.1:
-  version ""1.3.2""
-  resolved ""https://registry.yarnpkg.com/error-ex/-/error-ex-1.3.2.tgz#b4ac40648107fdcdcfae242f428bea8a14d4f1bf""
-  integrity sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==
-  dependencies:
-    is-arrayish ""^0.2.1""
-
-es-abstract@^1.19.0, es-abstract@^1.19.1:
-  version ""1.19.1""
-  resolved ""https://registry.yarnpkg.com/es-abstract/-/es-abstract-1.19.1.tgz#d4885796876916959de78edaa0df456627115ec3""
-  integrity sha512-2vJ6tjA/UfqLm2MPs7jxVybLoB8i1t1Jd9R3kISld20sIxPcTbLuggQOUxeWeAvIUkduv/CfMjuh4WmiXr2v9w==
-  dependencies:
-    call-bind ""^1.0.2""
-    es-to-primitive ""^1.2.1""
-    function-bind ""^1.1.1""
-    get-intrinsic ""^1.1.1""
-    get-symbol-description ""^1.0.0""
-    has ""^1.0.3""
-    has-symbols ""^1.0.2""
-    internal-slot ""^1.0.3""
-    is-callable ""^1.2.4""
-    is-negative-zero ""^2.0.1""
-    is-regex ""^1.1.4""
-    is-shared-array-buffer ""^1.0.1""
-    is-string ""^1.0.7""
-    is-weakref ""^1.0.1""
-    object-inspect ""^1.11.0""
-    object-keys ""^1.1.1""
-    object.assign ""^4.1.2""
-    string.prototype.trimend ""^1.0.4""
-    string.prototype.trimstart ""^1.0.4""
-    unbox-primitive ""^1.0.1""
-
-es-to-primitive@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/es-to-primitive/-/es-to-primitive-1.2.1.tgz#e55cd4c9cdc188bcefb03b366c736323fc5c898a""
-  integrity sha512-QCOllgZJtaUo9miYBcLChTUaHNjJF3PYs1VidD7AwiEj1kYxKeQTctLAezAOH5ZKRH0g2IgPn6KwB4IT8iRpvA==
-  dependencies:
-    is-callable ""^1.1.4""
-    is-date-object ""^1.0.1""
-    is-symbol ""^1.0.2""
-
-escalade@^3.1.1:
-  version ""3.1.1""
-  resolved ""https://registry.yarnpkg.com/escalade/-/escalade-3.1.1.tgz#d8cfdc7000965c5a0174b4a82eaa5c0552742e40""
-  integrity sha512-k0er2gUkLf8O0zKJiAhmkTnJlTvINGv7ygDNPbeIsX/TJjGJZHuh9B2UxbsaEkmlEo9MfhrSzmhIlhRlI2GXnw==
-
-escape-string-regexp@^1.0.5:
-  version ""1.0.5""
-  resolved ""https://registry.yarnpkg.com/escape-string-regexp/-/escape-string-regexp-1.0.5.tgz#1b61c0562190a8dff6ae3bb2cf0200ca130b86d4""
-  integrity sha1-G2HAViGQqN/2rjuyzwIAyhMLhtQ=
-
-escape-string-regexp@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz#14ba83a5d373e3d311e5afca29cf5bfad965bf34""
-  integrity sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==
-
-eslint-config-next@^12.1.4:
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/eslint-config-next/-/eslint-config-next-12.1.4.tgz#939ea2ff33034763300bf1e62482cea91212d274""
-  integrity sha512-Uj0jrVjoQbg9qerxRjSHoOOv3PEzoZxpb8G9LYct25fsflP8xIiUq0l4WEu2KSB5owuLv5hie7wSMqPEsHj+bQ==
-  dependencies:
-    ""@next/eslint-plugin-next"" ""12.1.4""
-    ""@rushstack/eslint-patch"" ""1.0.8""
-    ""@typescript-eslint/parser"" ""5.10.1""
-    eslint-import-resolver-node ""0.3.4""
-    eslint-import-resolver-typescript ""2.4.0""
-    eslint-plugin-import ""2.25.2""
-    eslint-plugin-jsx-a11y ""6.5.1""
-    eslint-plugin-react ""7.29.1""
-    eslint-plugin-react-hooks ""4.3.0""
-
-eslint-import-resolver-node@0.3.4:
-  version ""0.3.4""
-  resolved ""https://registry.yarnpkg.com/eslint-import-resolver-node/-/eslint-import-resolver-node-0.3.4.tgz#85ffa81942c25012d8231096ddf679c03042c717""
-  integrity sha512-ogtf+5AB/O+nM6DIeBUNr2fuT7ot9Qg/1harBfBtaP13ekEWFQEEMP94BCB7zaNW3gyY+8SHYF00rnqYwXKWOA==
-  dependencies:
-    debug ""^2.6.9""
-    resolve ""^1.13.1""
-
-eslint-import-resolver-node@^0.3.6:
-  version ""0.3.6""
-  resolved ""https://registry.yarnpkg.com/eslint-import-resolver-node/-/eslint-import-resolver-node-0.3.6.tgz#4048b958395da89668252001dbd9eca6b83bacbd""
-  integrity sha512-0En0w03NRVMn9Uiyn8YRPDKvWjxCWkslUEhGNTdGx15RvPJYQ+lbOlqrlNI2vEAs4pDYK4f/HN2TbDmk5TP0iw==
-  dependencies:
-    debug ""^3.2.7""
-    resolve ""^1.20.0""
-
-eslint-import-resolver-typescript@2.4.0:
-  version ""2.4.0""
-  resolved ""https://registry.yarnpkg.com/eslint-import-resolver-typescript/-/eslint-import-resolver-typescript-2.4.0.tgz#ec1e7063ebe807f0362a7320543aaed6fe1100e1""
-  integrity sha512-useJKURidCcldRLCNKWemr1fFQL1SzB3G4a0li6lFGvlc5xGe1hY343bvG07cbpCzPuM/lK19FIJB3XGFSkplA==
-  dependencies:
-    debug ""^4.1.1""
-    glob ""^7.1.6""
-    is-glob ""^4.0.1""
-    resolve ""^1.17.0""
-    tsconfig-paths ""^3.9.0""
-
-eslint-module-utils@^2.7.0:
-  version ""2.7.3""
-  resolved ""https://registry.yarnpkg.com/eslint-module-utils/-/eslint-module-utils-2.7.3.tgz#ad7e3a10552fdd0642e1e55292781bd6e34876ee""
-  integrity sha512-088JEC7O3lDZM9xGe0RerkOMd0EjFl+Yvd1jPWIkMT5u3H9+HC34mWWPnqPrN13gieT9pBOO+Qt07Nb/6TresQ==
-  dependencies:
-    debug ""^3.2.7""
-    find-up ""^2.1.0""
-
-eslint-plugin-import@2.25.2:
-  version ""2.25.2""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-import/-/eslint-plugin-import-2.25.2.tgz#b3b9160efddb702fc1636659e71ba1d10adbe9e9""
-  integrity sha512-qCwQr9TYfoBHOFcVGKY9C9unq05uOxxdklmBXLVvcwo68y5Hta6/GzCZEMx2zQiu0woKNEER0LE7ZgaOfBU14g==
-  dependencies:
-    array-includes ""^3.1.4""
-    array.prototype.flat ""^1.2.5""
-    debug ""^2.6.9""
-    doctrine ""^2.1.0""
-    eslint-import-resolver-node ""^0.3.6""
-    eslint-module-utils ""^2.7.0""
-    has ""^1.0.3""
-    is-core-module ""^2.7.0""
-    is-glob ""^4.0.3""
-    minimatch ""^3.0.4""
-    object.values ""^1.1.5""
-    resolve ""^1.20.0""
-    tsconfig-paths ""^3.11.0""
-
-eslint-plugin-jsx-a11y@6.5.1:
-  version ""6.5.1""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-jsx-a11y/-/eslint-plugin-jsx-a11y-6.5.1.tgz#cdbf2df901040ca140b6ec14715c988889c2a6d8""
-  integrity sha512-sVCFKX9fllURnXT2JwLN5Qgo24Ug5NF6dxhkmxsMEUZhXRcGg+X3e1JbJ84YePQKBl5E0ZjAH5Q4rkdcGY99+g==
-  dependencies:
-    ""@babel/runtime"" ""^7.16.3""
-    aria-query ""^4.2.2""
-    array-includes ""^3.1.4""
-    ast-types-flow ""^0.0.7""
-    axe-core ""^4.3.5""
-    axobject-query ""^2.2.0""
-    damerau-levenshtein ""^1.0.7""
-    emoji-regex ""^9.2.2""
-    has ""^1.0.3""
-    jsx-ast-utils ""^3.2.1""
-    language-tags ""^1.0.5""
-    minimatch ""^3.0.4""
-
-eslint-plugin-react-hooks@4.3.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-react-hooks/-/eslint-plugin-react-hooks-4.3.0.tgz#318dbf312e06fab1c835a4abef00121751ac1172""
-  integrity sha512-XslZy0LnMn+84NEG9jSGR6eGqaZB3133L8xewQo3fQagbQuGt7a63gf+P1NGKZavEYEC3UXaWEAA/AqDkuN6xA==
-
-eslint-plugin-react@7.29.1:
-  version ""7.29.1""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-react/-/eslint-plugin-react-7.29.1.tgz#6c40bc83142bb63d132a1b3565e2ea655411f800""
-  integrity sha512-WtzRpHMhsOX05ZrkyaaqmLl2uXGqmYooCfBxftJKlkYdsltiufGgfU7uuoHwR2lBam2Kh/EIVID4aU9e3kbCMA==
-  dependencies:
-    array-includes ""^3.1.4""
-    array.prototype.flatmap ""^1.2.5""
-    doctrine ""^2.1.0""
-    estraverse ""^5.3.0""
-    jsx-ast-utils ""^2.4.1 || ^3.0.0""
-    minimatch ""^3.1.2""
-    object.entries ""^1.1.5""
-    object.fromentries ""^2.0.5""
-    object.hasown ""^1.1.0""
-    object.values ""^1.1.5""
-    prop-types ""^15.8.1""
-    resolve ""^2.0.0-next.3""
-    semver ""^6.3.0""
-    string.prototype.matchall ""^4.0.6""
-
-eslint-scope@^7.1.1:
-  version ""7.1.1""
-  resolved ""https://registry.yarnpkg.com/eslint-scope/-/eslint-scope-7.1.1.tgz#fff34894c2f65e5226d3041ac480b4513a163642""
-  integrity sha512-QKQM/UXpIiHcLqJ5AOyIW7XZmzjkzQXYE54n1++wb0u9V/abW3l9uQnxX8Z5Xd18xyKIMTUAyQ0k1e8pz6LUrw==
-  dependencies:
-    esrecurse ""^4.3.0""
-    estraverse ""^5.2.0""
-
-eslint-utils@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/eslint-utils/-/eslint-utils-3.0.0.tgz#8aebaface7345bb33559db0a1f13a1d2d48c3672""
-  integrity sha512-uuQC43IGctw68pJA1RgbQS8/NP7rch6Cwd4j3ZBtgo4/8Flj4eGE7ZYSZRN3iq5pVUv6GPdW5Z1RFleo84uLDA==
-  dependencies:
-    eslint-visitor-keys ""^2.0.0""
-
-eslint-visitor-keys@^2.0.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/eslint-visitor-keys/-/eslint-visitor-keys-2.1.0.tgz#f65328259305927392c938ed44eb0a5c9b2bd303""
-  integrity sha512-0rSmRBzXgDzIsD6mGdJgevzgezI534Cer5L/vyMX0kHzT/jiB43jRhd9YUlMGYLQy2zprNmoT8qasCGtY+QaKw==
-
-eslint-visitor-keys@^3.0.0, eslint-visitor-keys@^3.3.0:
-  version ""3.3.0""
-  resolved ""https://registry.yarnpkg.com/eslint-visitor-keys/-/eslint-visitor-keys-3.3.0.tgz#f6480fa6b1f30efe2d1968aa8ac745b862469826""
-  integrity sha512-mQ+suqKJVyeuwGYHAdjMFqjCyfl8+Ldnxuyp3ldiMBFKkvytrXUZWaiPCEav8qDHKty44bD+qV1IP4T+w+xXRA==
-
-eslint@^8.12.0:
-  version ""8.12.0""
-  resolved ""https://registry.yarnpkg.com/eslint/-/eslint-8.12.0.tgz#c7a5bd1cfa09079aae64c9076c07eada66a46e8e""
-  integrity sha512-it1oBL9alZg1S8UycLm5YDMAkIhtH6FtAzuZs6YvoGVldWjbS08BkAdb/ymP9LlAyq8koANu32U7Ib/w+UNh8Q==
-  dependencies:
-    ""@eslint/eslintrc"" ""^1.2.1""
-    ""@humanwhocodes/config-array"" ""^0.9.2""
-    ajv ""^6.10.0""
-    chalk ""^4.0.0""
-    cross-spawn ""^7.0.2""
-    debug ""^4.3.2""
-    doctrine ""^3.0.0""
-    escape-string-regexp ""^4.0.0""
-    eslint-scope ""^7.1.1""
-    eslint-utils ""^3.0.0""
-    eslint-visitor-keys ""^3.3.0""
-    espree ""^9.3.1""
-    esquery ""^1.4.0""
-    esutils ""^2.0.2""
-    fast-deep-equal ""^3.1.3""
-    file-entry-cache ""^6.0.1""
-    functional-red-black-tree ""^1.0.1""
-    glob-parent ""^6.0.1""
-    globals ""^13.6.0""
-    ignore ""^5.2.0""
-    import-fresh ""^3.0.0""
-    imurmurhash ""^0.1.4""
-    is-glob ""^4.0.0""
-    js-yaml ""^4.1.0""
-    json-stable-stringify-without-jsonify ""^1.0.1""
-    levn ""^0.4.1""
-    lodash.merge ""^4.6.2""
-    minimatch ""^3.0.4""
-    natural-compare ""^1.4.0""
-    optionator ""^0.9.1""
-    regexpp ""^3.2.0""
-    strip-ansi ""^6.0.1""
-    strip-json-comments ""^3.1.0""
-    text-table ""^0.2.0""
-    v8-compile-cache ""^2.0.3""
-
-espree@^9.3.1:
-  version ""9.3.1""
-  resolved ""https://registry.yarnpkg.com/espree/-/espree-9.3.1.tgz#8793b4bc27ea4c778c19908e0719e7b8f4115bcd""
-  integrity sha512-bvdyLmJMfwkV3NCRl5ZhJf22zBFo1y8bYh3VYb+bfzqNB4Je68P2sSuXyuFquzWLebHpNd2/d5uv7yoP9ISnGQ==
-  dependencies:
-    acorn ""^8.7.0""
-    acorn-jsx ""^5.3.1""
-    eslint-visitor-keys ""^3.3.0""
-
-esquery@^1.4.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/esquery/-/esquery-1.4.0.tgz#2148ffc38b82e8c7057dfed48425b3e61f0f24a5""
-  integrity sha512-cCDispWt5vHHtwMY2YrAQ4ibFkAL8RbH5YGBnZBc90MolvvfkkQcJro/aZiAQUlQ3qgrYS6D6v8Gc5G5CQsc9w==
-  dependencies:
-    estraverse ""^5.1.0""
-
-esrecurse@^4.3.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/esrecurse/-/esrecurse-4.3.0.tgz#7ad7964d679abb28bee72cec63758b1c5d2c9921""
-  integrity sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==
-  dependencies:
-    estraverse ""^5.2.0""
-
-estraverse@^5.1.0, estraverse@^5.2.0, estraverse@^5.3.0:
-  version ""5.3.0""
-  resolved ""https://registry.yarnpkg.com/estraverse/-/estraverse-5.3.0.tgz#2eea5290702f26ab8fe5370370ff86c965d21123""
-  integrity sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==
-
-esutils@^2.0.2:
-  version ""2.0.3""
-  resolved ""https://registry.yarnpkg.com/esutils/-/esutils-2.0.3.tgz#74d2eb4de0b8da1293711910d50775b9b710ef64""
-  integrity sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==
-
-fast-deep-equal@^3.1.1, fast-deep-equal@^3.1.3:
-  version ""3.1.3""
-  resolved ""https://registry.yarnpkg.com/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz#3a7d56b559d6cbc3eb512325244e619a65c6c525""
-  integrity sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==
-
-fast-glob@^3.2.11, fast-glob@^3.2.9:
-  version ""3.2.11""
-  resolved ""https://registry.yarnpkg.com/fast-glob/-/fast-glob-3.2.11.tgz#a1172ad95ceb8a16e20caa5c5e56480e5129c1d9""
-  integrity sha512-xrO3+1bxSo3ZVHAnqzyuewYT6aMFHRAd4Kcs92MAonjwQZLsK9d0SF1IyQ3k5PoirxTW0Oe/RqFgMQ6TcNE5Ew==
-  dependencies:
-    ""@nodelib/fs.stat"" ""^2.0.2""
-    ""@nodelib/fs.walk"" ""^1.2.3""
-    glob-parent ""^5.1.2""
-    merge2 ""^1.3.0""
-    micromatch ""^4.0.4""
-
-fast-json-stable-stringify@^2.0.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz#874bf69c6f404c2b5d99c481341399fd55892633""
-  integrity sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==
-
-fast-levenshtein@^2.0.6:
-  version ""2.0.6""
-  resolved ""https://registry.yarnpkg.com/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz#3d8a5c66883a16a30ca8643e851f19baa7797917""
-  integrity sha1-PYpcZog6FqMMqGQ+hR8Zuqd5eRc=
-
-fastq@^1.6.0:
-  version ""1.11.0""
-  resolved ""https://registry.yarnpkg.com/fastq/-/fastq-1.11.0.tgz#bb9fb955a07130a918eb63c1f5161cc32a5d0858""
-  integrity sha512-7Eczs8gIPDrVzT+EksYBcupqMyxSHXXrHOLRRxU2/DicV8789MRBRR8+Hc2uWzUupOs4YS4JzBmBxjjCVBxD/g==
-  dependencies:
-    reusify ""^1.0.4""
-
-file-entry-cache@^6.0.1:
-  version ""6.0.1""
-  resolved ""https://registry.yarnpkg.com/file-entry-cache/-/file-entry-cache-6.0.1.tgz#211b2dd9659cb0394b073e7323ac3c933d522027""
-  integrity sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==
-  dependencies:
-    flat-cache ""^3.0.4""
-
-fill-range@^7.0.1:
-  version ""7.0.1""
-  resolved ""https://registry.yarnpkg.com/fill-range/-/fill-range-7.0.1.tgz#1919a6a7c75fe38b2c7c77e5198535da9acdda40""
-  integrity sha512-qOo9F+dMUmC2Lcb4BbVvnKJxTPjCm+RRpe4gDuGrzkL7mEVl/djYSu2OdQ2Pa302N4oqkSg9ir6jaLWJ2USVpQ==
-  dependencies:
-    to-regex-range ""^5.0.1""
-
-find-up@^2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/find-up/-/find-up-2.1.0.tgz#45d1b7e506c717ddd482775a2b77920a3c0c57a7""
-  integrity sha1-RdG35QbHF93UgndaK3eSCjwMV6c=
-  dependencies:
-    locate-path ""^2.0.0""
-
-flat-cache@^3.0.4:
-  version ""3.0.4""
-  resolved ""https://registry.yarnpkg.com/flat-cache/-/flat-cache-3.0.4.tgz#61b0338302b2fe9f957dcc32fc2a87f1c3048b11""
-  integrity sha512-dm9s5Pw7Jc0GvMYbshN6zchCA9RgQlzzEZX3vylR9IqFfS8XciblUXOKfW6SiuJ0e13eDYZoZV5wdrev7P3Nwg==
-  dependencies:
-    flatted ""^3.1.0""
-    rimraf ""^3.0.2""
-
-flatted@^3.1.0:
-  version ""3.2.4""
-  resolved ""https://registry.yarnpkg.com/flatted/-/flatted-3.2.4.tgz#28d9969ea90661b5134259f312ab6aa7929ac5e2""
-  integrity sha512-8/sOawo8tJ4QOBX8YlQBMxL8+RLZfxMQOif9o0KUKTNTjMYElWPE0r/m5VNFxTRd0NSw8qSy8dajrwX4RYI1Hw==
-
-fraction.js@^4.2.0:
-  version ""4.2.0""
-  resolved ""https://registry.yarnpkg.com/fraction.js/-/fraction.js-4.2.0.tgz#448e5109a313a3527f5a3ab2119ec4cf0e0e2950""
-  integrity sha512-MhLuK+2gUcnZe8ZHlaaINnQLl0xRIGRfcGk2yl8xoQAfHrSsL3rYu6FCmBdkdbhc9EPlwyGHewaRsvwRMJtAlA==
-
-fs.realpath@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/fs.realpath/-/fs.realpath-1.0.0.tgz#1504ad2523158caa40db4a2787cb01411994ea4f""
-  integrity sha1-FQStJSMVjKpA20onh8sBQRmU6k8=
-
-fsevents@~2.3.2:
-  version ""2.3.2""
-  resolved ""https://registry.yarnpkg.com/fsevents/-/fsevents-2.3.2.tgz#8a526f78b8fdf4623b709e0b975c52c24c02fd1a""
-  integrity sha512-xiqMQR4xAeHTuB9uWm+fFRcIOgKBMiOBP+eXiyT7jsgVCq1bkVygt00oASowB7EdtpOHaaPgKt812P9ab+DDKA==
-
-function-bind@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/function-bind/-/function-bind-1.1.1.tgz#a56899d3ea3c9bab874bb9773b7c5ede92f4895d""
-  integrity sha512-yIovAzMX49sF8Yl58fSCWJ5svSLuaibPxXQJFLmBObTuCr0Mf1KiPopGM9NiFjiYBCbfaa2Fh6breQ6ANVTI0A==
-
-functional-red-black-tree@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/functional-red-black-tree/-/functional-red-black-tree-1.0.1.tgz#1b0ab3bd553b2a0d6399d29c0e3ea0b252078327""
-  integrity sha1-GwqzvVU7Kg1jmdKcDj6gslIHgyc=
-
-get-intrinsic@^1.0.2, get-intrinsic@^1.1.0, get-intrinsic@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/get-intrinsic/-/get-intrinsic-1.1.1.tgz#15f59f376f855c446963948f0d24cd3637b4abc6""
-  integrity sha512-kWZrnVM42QCiEA2Ig1bG8zjoIMOgxWwYCEeNdwY6Tv/cOSeGpcoX4pXHfKUxNKVoArnrEr2e9srnAxxGIraS9Q==
-  dependencies:
-    function-bind ""^1.1.1""
-    has ""^1.0.3""
-    has-symbols ""^1.0.1""
-
-get-symbol-description@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/get-symbol-description/-/get-symbol-description-1.0.0.tgz#7fdb81c900101fbd564dd5f1a30af5aadc1e58d6""
-  integrity sha512-2EmdH1YvIQiZpltCNgkuiUnyukzxM/R6NDJX31Ke3BG1Nq5b0S2PhX59UKi9vZpPDQVdqn+1IcaAwnzTT5vCjw==
-  dependencies:
-    call-bind ""^1.0.2""
-    get-intrinsic ""^1.1.1""
-
-glob-parent@^5.1.2, glob-parent@~5.1.2:
-  version ""5.1.2""
-  resolved ""https://registry.yarnpkg.com/glob-parent/-/glob-parent-5.1.2.tgz#869832c58034fe68a4093c17dc15e8340d8401c4""
-  integrity sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==
-  dependencies:
-    is-glob ""^4.0.1""
-
-glob-parent@^6.0.1, glob-parent@^6.0.2:
-  version ""6.0.2""
-  resolved ""https://registry.yarnpkg.com/glob-parent/-/glob-parent-6.0.2.tgz#6d237d99083950c79290f24c7642a3de9a28f9e3""
-  integrity sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==
-  dependencies:
-    is-glob ""^4.0.3""
-
-glob@7.1.7:
-  version ""7.1.7""
-  resolved ""https://registry.yarnpkg.com/glob/-/glob-7.1.7.tgz#3b193e9233f01d42d0b3f78294bbeeb418f94a90""
-  integrity sha512-OvD9ENzPLbegENnYP5UUfJIirTg4+XwMWGaQfQTY0JenxNvvIKP3U3/tAQSPIu/lHxXYSZmpXlUHeqAIdKzBLQ==
-  dependencies:
-    fs.realpath ""^1.0.0""
-    inflight ""^1.0.4""
-    inherits ""2""
-    minimatch ""^3.0.4""
-    once ""^1.3.0""
-    path-is-absolute ""^1.0.0""
-
-glob@^7.1.3, glob@^7.1.6:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/glob/-/glob-7.2.0.tgz#d15535af7732e02e948f4c41628bd910293f6023""
-  integrity sha512-lmLf6gtyrPq8tTjSmrO94wBeQbFR3HbLHbuyD69wuyQkImp2hWqMGB47OX65FBkPffO641IP9jWa1z4ivqG26Q==
-  dependencies:
-    fs.realpath ""^1.0.0""
-    inflight ""^1.0.4""
-    inherits ""2""
-    minimatch ""^3.0.4""
-    once ""^1.3.0""
-    path-is-absolute ""^1.0.0""
-
-globals@^13.6.0, globals@^13.9.0:
-  version ""13.12.0""
-  resolved ""https://registry.yarnpkg.com/globals/-/globals-13.12.0.tgz#4d733760304230a0082ed96e21e5c565f898089e""
-  integrity sha512-uS8X6lSKN2JumVoXrbUz+uG4BYG+eiawqm3qFcT7ammfbUHeCBoJMlHcec/S3krSk73/AE/f0szYFmgAA3kYZg==
-  dependencies:
-    type-fest ""^0.20.2""
-
-globby@^11.0.4:
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/globby/-/globby-11.1.0.tgz#bd4be98bb042f83d796f7e3811991fbe82a0d34b""
-  integrity sha512-jhIXaOzy1sb8IyocaruWSn1TjmnBVs8Ayhcy83rmxNJ8q2uWKCAj3CnJY+KpGSXCueAPc0i05kVvVKtP1t9S3g==
-  dependencies:
-    array-union ""^2.1.0""
-    dir-glob ""^3.0.1""
-    fast-glob ""^3.2.9""
-    ignore ""^5.2.0""
-    merge2 ""^1.4.1""
-    slash ""^3.0.0""
-
-has-bigints@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/has-bigints/-/has-bigints-1.0.1.tgz#64fe6acb020673e3b78db035a5af69aa9d07b113""
-  integrity sha512-LSBS2LjbNBTf6287JEbEzvJgftkF5qFkmCo9hDRpAzKhUOlJ+hx8dd4USs00SgsUNwc4617J9ki5YtEClM2ffA==
-
-has-flag@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/has-flag/-/has-flag-3.0.0.tgz#b5d454dc2199ae225699f3467e5a07f3b955bafd""
-  integrity sha1-tdRU3CGZriJWmfNGfloH87lVuv0=
-
-has-flag@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/has-flag/-/has-flag-4.0.0.tgz#944771fd9c81c81265c4d6941860da06bb59479b""
-  integrity sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==
-
-has-symbols@^1.0.1, has-symbols@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/has-symbols/-/has-symbols-1.0.2.tgz#165d3070c00309752a1236a479331e3ac56f1423""
-  integrity sha512-chXa79rL/UC2KlX17jo3vRGz0azaWEx5tGqZg5pO3NUyEJVB17dMruQlzCCOfUvElghKcm5194+BCRvi2Rv/Gw==
-
-has-tostringtag@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/has-tostringtag/-/has-tostringtag-1.0.0.tgz#7e133818a7d394734f941e73c3d3f9291e658b25""
-  integrity sha512-kFjcSNhnlGV1kyoGk7OXKSawH5JOb/LzUc5w9B02hOTO0dfFRjbHQKvg1d6cf3HbeUmtU9VbbV3qzZ2Teh97WQ==
-  dependencies:
-    has-symbols ""^1.0.2""
-
-has@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/has/-/has-1.0.3.tgz#722d7cbfc1f6aa8241f16dd814e011e1f41e8796""
-  integrity sha512-f2dvO0VU6Oej7RkWJGrehjbzMAjFp5/VKPp5tTpWIV4JHHZK1/BxbFRtf/siA2SWTe09caDmVtYYzWEIbBS4zw==
-  dependencies:
-    function-bind ""^1.1.1""
-
-ignore@^5.2.0:
-  version ""5.2.0""
-  resolved ""https://registry.yarnpkg.com/ignore/-/ignore-5.2.0.tgz#6d3bac8fa7fe0d45d9f9be7bac2fc279577e345a""
-  integrity sha512-CmxgYGiEPCLhfLnpPp1MoRmifwEIOgjcHXxOBjv7mY96c+eWScsOP9c112ZyLdWHi0FxHjI+4uVhKYp/gcdRmQ==
-
-import-cwd@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/import-cwd/-/import-cwd-3.0.0.tgz#20845547718015126ea9b3676b7592fb8bd4cf92""
-  integrity sha512-4pnzH16plW+hgvRECbDWpQl3cqtvSofHWh44met7ESfZ8UZOWWddm8hEyDTqREJ9RbYHY8gi8DqmaelApoOGMg==
-  dependencies:
-    import-from ""^3.0.0""
-
-import-fresh@^3.0.0, import-fresh@^3.2.1:
-  version ""3.3.0""
-  resolved ""https://registry.yarnpkg.com/import-fresh/-/import-fresh-3.3.0.tgz#37162c25fcb9ebaa2e6e53d5b4d88ce17d9e0c2b""
-  integrity sha512-veYYhQa+D1QBKznvhUHxb8faxlrwUnxseDAbAp457E0wLNio2bOSKnjYDhMj+YiAq61xrMGhQk9iXVk5FzgQMw==
-  dependencies:
-    parent-module ""^1.0.0""
-    resolve-from ""^4.0.0""
-
-import-from@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/import-from/-/import-from-3.0.0.tgz#055cfec38cd5a27d8057ca51376d7d3bf0891966""
-  integrity sha512-CiuXOFFSzkU5x/CR0+z7T91Iht4CXgfCxVOFRhh2Zyhg5wOpWvvDLQUsWl+gcN+QscYBjez8hDCt85O7RLDttQ==
-  dependencies:
-    resolve-from ""^5.0.0""
-
-imurmurhash@^0.1.4:
-  version ""0.1.4""
-  resolved ""https://registry.yarnpkg.com/imurmurhash/-/imurmurhash-0.1.4.tgz#9218b9b2b928a238b13dc4fb6b6d576f231453ea""
-  integrity sha1-khi5srkoojixPcT7a21XbyMUU+o=
-
-inflight@^1.0.4:
-  version ""1.0.6""
-  resolved ""https://registry.yarnpkg.com/inflight/-/inflight-1.0.6.tgz#49bd6331d7d02d0c09bc910a1075ba8165b56df9""
-  integrity sha1-Sb1jMdfQLQwJvJEKEHW6gWW1bfk=
-  dependencies:
-    once ""^1.3.0""
-    wrappy ""1""
-
-inherits@2:
-  version ""2.0.4""
-  resolved ""https://registry.yarnpkg.com/inherits/-/inherits-2.0.4.tgz#0fa2c64f932917c3433a0ded55363aae37416b7c""
-  integrity sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==
-
-internal-slot@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/internal-slot/-/internal-slot-1.0.3.tgz#7347e307deeea2faac2ac6205d4bc7d34967f59c""
-  integrity sha512-O0DB1JC/sPyZl7cIo78n5dR7eUSwwpYPiXRhTzNxZVAMUuB8vlnRFyLxdrVToks6XPLVnFfbzaVd5WLjhgg+vA==
-  dependencies:
-    get-intrinsic ""^1.1.0""
-    has ""^1.0.3""
-    side-channel ""^1.0.4""
-
-is-arrayish@^0.2.1:
-  version ""0.2.1""
-  resolved ""https://registry.yarnpkg.com/is-arrayish/-/is-arrayish-0.2.1.tgz#77c99840527aa8ecb1a8ba697b80645a7a926a9d""
-  integrity sha1-d8mYQFJ6qOyxqLppe4BkWnqSap0=
-
-is-bigint@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/is-bigint/-/is-bigint-1.0.1.tgz#6923051dfcbc764278540b9ce0e6b3213aa5ebc2""
-  integrity sha512-J0ELF4yHFxHy0cmSxZuheDOz2luOdVvqjwmEcj8H/L1JHeuEDSDbeRP+Dk9kFVk5RTFzbucJ2Kb9F7ixY2QaCg==
-
-is-binary-path@~2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/is-binary-path/-/is-binary-path-2.1.0.tgz#ea1f7f3b80f064236e83470f86c09c254fb45b09""
-  integrity sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==
-  dependencies:
-    binary-extensions ""^2.0.0""
-
-is-boolean-object@^1.1.0:
-  version ""1.1.0""
-  resolved ""https://registry.yarnpkg.com/is-boolean-object/-/is-boolean-object-1.1.0.tgz#e2aaad3a3a8fca34c28f6eee135b156ed2587ff0""
-  integrity sha512-a7Uprx8UtD+HWdyYwnD1+ExtTgqQtD2k/1yJgtXP6wnMm8byhkoTZRl+95LLThpzNZJ5aEvi46cdH+ayMFRwmA==
-  dependencies:
-    call-bind ""^1.0.0""
-
-is-callable@^1.1.4:
-  version ""1.2.3""
-  resolved ""https://registry.yarnpkg.com/is-callable/-/is-callable-1.2.3.tgz#8b1e0500b73a1d76c70487636f368e519de8db8e""
-  integrity sha512-J1DcMe8UYTBSrKezuIUTUwjXsho29693unXM2YhJUTR2txK/eG47bvNa/wipPFmZFgr/N6f1GA66dv0mEyTIyQ==
-
-is-callable@^1.2.4:
-  version ""1.2.4""
-  resolved ""https://registry.yarnpkg.com/is-callable/-/is-callable-1.2.4.tgz#47301d58dd0259407865547853df6d61fe471945""
-  integrity sha512-nsuwtxZfMX67Oryl9LCQ+upnC0Z0BgpwntpS89m1H/TLF0zNfzfLMV/9Wa/6MZsj0acpEjAO0KF1xT6ZdLl95w==
-
-is-core-module@^2.2.0:
-  version ""2.3.0""
-  resolved ""https://registry.yarnpkg.com/is-core-module/-/is-core-module-2.3.0.tgz#d341652e3408bca69c4671b79a0954a3d349f887""
-  integrity sha512-xSphU2KG9867tsYdLD4RWQ1VqdFl4HTO9Thf3I/3dLEfr0dbPTWKsuCKrgqMljg4nPE+Gq0VCnzT3gr0CyBmsw==
-  dependencies:
-    has ""^1.0.3""
-
-is-core-module@^2.7.0, is-core-module@^2.8.1:
-  version ""2.8.1""
-  resolved ""https://registry.yarnpkg.com/is-core-module/-/is-core-module-2.8.1.tgz#f59fdfca701d5879d0a6b100a40aa1560ce27211""
-  integrity sha512-SdNCUs284hr40hFTFP6l0IfZ/RSrMXF3qgoRHd3/79unUTvrFO/JoXwkGm+5J/Oe3E/b5GsnG330uUNgRpu1PA==
-  dependencies:
-    has ""^1.0.3""
-
-is-date-object@^1.0.1:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/is-date-object/-/is-date-object-1.0.2.tgz#bda736f2cd8fd06d32844e7743bfa7494c3bfd7e""
-  integrity sha512-USlDT524woQ08aoZFzh3/Z6ch9Y/EWXEHQ/AaRN0SkKq4t2Jw2R2339tSXmwuVoY7LLlBCbOIlx2myP/L5zk0g==
-
-is-extglob@^2.1.1:
-  version ""2.1.1""
-  resolved ""https://registry.yarnpkg.com/is-extglob/-/is-extglob-2.1.1.tgz#a88c02535791f02ed37c76a1b9ea9773c833f8c2""
-  integrity sha1-qIwCU1eR8C7TfHahueqXc8gz+MI=
-
-is-glob@^4.0.0, is-glob@^4.0.3:
-  version ""4.0.3""
-  resolved ""https://registry.yarnpkg.com/is-glob/-/is-glob-4.0.3.tgz#64f61e42cbbb2eec2071a9dac0b28ba1e65d5084""
-  integrity sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==
-  dependencies:
-    is-extglob ""^2.1.1""
-
-is-glob@^4.0.1, is-glob@~4.0.1:
-  version ""4.0.1""
-  resolved ""https://registry.yarnpkg.com/is-glob/-/is-glob-4.0.1.tgz#7567dbe9f2f5e2467bc77ab83c4a29482407a5dc""
-  integrity sha512-5G0tKtBTFImOqDnLB2hG6Bp2qcKEFduo4tZu9MT/H6NQv/ghhy30o55ufafxJ/LdH79LLs2Kfrn85TLKyA7BUg==
-  dependencies:
-    is-extglob ""^2.1.1""
-
-is-negative-zero@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/is-negative-zero/-/is-negative-zero-2.0.1.tgz#3de746c18dda2319241a53675908d8f766f11c24""
-  integrity sha512-2z6JzQvZRa9A2Y7xC6dQQm4FSTSTNWjKIYYTt4246eMTJmIo0Q+ZyOsU66X8lxK1AbB92dFeglPLrhwpeRKO6w==
-
-is-number-object@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/is-number-object/-/is-number-object-1.0.4.tgz#36ac95e741cf18b283fc1ddf5e83da798e3ec197""
-  integrity sha512-zohwelOAur+5uXtk8O3GPQ1eAcu4ZX3UwxQhUlfFFMNpUd83gXgjbhJh6HmB6LUNV/ieOLQuDwJO3dWJosUeMw==
-
-is-number@^7.0.0:
-  version ""7.0.0""
-  resolved ""https://registry.yarnpkg.com/is-number/-/is-number-7.0.0.tgz#7535345b896734d5f80c4d06c50955527a14f12b""
-  integrity sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==
-
-is-regex@^1.1.4:
-  version ""1.1.4""
-  resolved ""https://registry.yarnpkg.com/is-regex/-/is-regex-1.1.4.tgz#eef5663cd59fa4c0ae339505323df6854bb15958""
-  integrity sha512-kvRdxDsxZjhzUX07ZnLydzS1TU/TJlTUHHY4YLL87e37oUA49DfkLqgy+VjFocowy29cKvcSiu+kIv728jTTVg==
-  dependencies:
-    call-bind ""^1.0.2""
-    has-tostringtag ""^1.0.0""
-
-is-shared-array-buffer@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/is-shared-array-buffer/-/is-shared-array-buffer-1.0.1.tgz#97b0c85fbdacb59c9c446fe653b82cf2b5b7cfe6""
-  integrity sha512-IU0NmyknYZN0rChcKhRO1X8LYz5Isj/Fsqh8NJOSf+N/hCOTwy29F32Ik7a+QszE63IdvmwdTPDd6cZ5pg4cwA==
-
-is-string@^1.0.5:
-  version ""1.0.5""
-  resolved ""https://registry.yarnpkg.com/is-string/-/is-string-1.0.5.tgz#40493ed198ef3ff477b8c7f92f644ec82a5cd3a6""
-  integrity sha512-buY6VNRjhQMiF1qWDouloZlQbRhDPCebwxSjxMjxgemYT46YMd2NR0/H+fBhEfWX4A/w9TBJ+ol+okqJKFE6vQ==
-
-is-string@^1.0.7:
-  version ""1.0.7""
-  resolved ""https://registry.yarnpkg.com/is-string/-/is-string-1.0.7.tgz#0dd12bf2006f255bb58f695110eff7491eebc0fd""
-  integrity sha512-tE2UXzivje6ofPW7l23cjDOMa09gb7xlAqG6jG5ej6uPV32TlWP3NKPigtaGeHNu9fohccRYvIiZMfOOnOYUtg==
-  dependencies:
-    has-tostringtag ""^1.0.0""
-
-is-symbol@^1.0.2, is-symbol@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/is-symbol/-/is-symbol-1.0.3.tgz#38e1014b9e6329be0de9d24a414fd7441ec61937""
-  integrity sha512-OwijhaRSgqvhm/0ZdAcXNZt9lYdKFpcRDT5ULUuYXPoT794UNOdU+gpT6Rzo7b4V2HUl/op6GqY894AZwv9faQ==
-  dependencies:
-    has-symbols ""^1.0.1""
-
-is-weakref@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/is-weakref/-/is-weakref-1.0.1.tgz#842dba4ec17fa9ac9850df2d6efbc1737274f2a2""
-  integrity sha512-b2jKc2pQZjaeFYWEf7ScFj+Be1I+PXmlu572Q8coTXZ+LD/QQZ7ShPMst8h16riVgyXTQwUsFEl74mDvc/3MHQ==
-  dependencies:
-    call-bind ""^1.0.0""
-
-isexe@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/isexe/-/isexe-2.0.0.tgz#e8fbf374dc556ff8947a10dcb0572d633f2cfa10""
-  integrity sha1-6PvzdNxVb/iUehDcsFctYz8s+hA=
-
-""js-tokens@^3.0.0 || ^4.0.0"", js-tokens@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/js-tokens/-/js-tokens-4.0.0.tgz#19203fb59991df98e3a287050d4647cdeaf32499""
-  integrity sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==
-
-js-yaml@^4.1.0:
-  version ""4.1.0""
-  resolved ""https://registry.yarnpkg.com/js-yaml/-/js-yaml-4.1.0.tgz#c1fb65f8f5017901cdd2c951864ba18458a10602""
-  integrity sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==
-  dependencies:
-    argparse ""^2.0.1""
-
-json-parse-even-better-errors@^2.3.0:
-  version ""2.3.1""
-  resolved ""https://registry.yarnpkg.com/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz#7c47805a94319928e05777405dc12e1f7a4ee02d""
-  integrity sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==
-
-json-schema-traverse@^0.4.1:
-  version ""0.4.1""
-  resolved ""https://registry.yarnpkg.com/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz#69f6a87d9513ab8bb8fe63bdb0979c448e684660""
-  integrity sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==
-
-json-stable-stringify-without-jsonify@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz#9db7b59496ad3f3cfef30a75142d2d930ad72651""
-  integrity sha1-nbe1lJatPzz+8wp1FC0tkwrXJlE=
-
-json5@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/json5/-/json5-1.0.1.tgz#779fb0018604fa854eacbf6252180d83543e3dbe""
-  integrity sha512-aKS4WQjPenRxiQsC93MNfjx+nbF4PAdYzmd/1JIj8HYzqfbu86beTuNgXDzPknWk0n0uARlyewZo4s++ES36Ow==
-  dependencies:
-    minimist ""^1.2.0""
-
-jsona@^1.8.0:
-  version ""1.9.2""
-  resolved ""https://registry.yarnpkg.com/jsona/-/jsona-1.9.2.tgz#6da69c7fe5846166b98a5b6d967cdbcfd781b044""
-  integrity sha512-+af2mw8JbVUBNVFymWhovX8OV02xBKYTt8oST4HOmyfrLMfdWpatSrhvdldUTTcByzbWb4tgPbaZXaAV5yAbfg==
-
-""jsx-ast-utils@^2.4.1 || ^3.0.0"", jsx-ast-utils@^3.2.1:
-  version ""3.2.1""
-  resolved ""https://registry.yarnpkg.com/jsx-ast-utils/-/jsx-ast-utils-3.2.1.tgz#720b97bfe7d901b927d87c3773637ae8ea48781b""
-  integrity sha512-uP5vu8xfy2F9A6LGC22KO7e2/vGTS1MhP+18f++ZNlf0Ohaxbc9nIEwHAsejlJKyzfZzU5UIhe5ItYkitcZnZA==
-  dependencies:
-    array-includes ""^3.1.3""
-    object.assign ""^4.1.2""
-
-language-subtag-registry@~0.3.2:
-  version ""0.3.21""
-  resolved ""https://registry.yarnpkg.com/language-subtag-registry/-/language-subtag-registry-0.3.21.tgz#04ac218bea46f04cb039084602c6da9e788dd45a""
-  integrity sha512-L0IqwlIXjilBVVYKFT37X9Ih11Um5NEl9cbJIuU/SwP/zEEAbBPOnEeeuxVMf45ydWQRDQN3Nqc96OgbH1K+Pg==
-
-language-tags@^1.0.5:
-  version ""1.0.5""
-  resolved ""https://registry.yarnpkg.com/language-tags/-/language-tags-1.0.5.tgz#d321dbc4da30ba8bf3024e040fa5c14661f9193a""
-  integrity sha1-0yHbxNowuovzAk4ED6XBRmH5GTo=
-  dependencies:
-    language-subtag-registry ""~0.3.2""
-
-levn@^0.4.1:
-  version ""0.4.1""
-  resolved ""https://registry.yarnpkg.com/levn/-/levn-0.4.1.tgz#ae4562c007473b932a6200d403268dd2fffc6ade""
-  integrity sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==
-  dependencies:
-    prelude-ls ""^1.2.1""
-    type-check ""~0.4.0""
-
-lilconfig@^2.0.3:
-  version ""2.0.4""
-  resolved ""https://registry.yarnpkg.com/lilconfig/-/lilconfig-2.0.4.tgz#f4507d043d7058b380b6a8f5cb7bcd4b34cee082""
-  integrity sha512-bfTIN7lEsiooCocSISTWXkiWJkRqtL9wYtYy+8EK3Y41qh3mpwPU0ycTOgjdY9ErwXCc8QyrQp82bdL0Xkm9yA==
-
-lines-and-columns@^1.1.6:
-  version ""1.2.4""
-  resolved ""https://registry.yarnpkg.com/lines-and-columns/-/lines-and-columns-1.2.4.tgz#eca284f75d2965079309dc0ad9255abb2ebc1632""
-  integrity sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==
-
-locate-path@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/locate-path/-/locate-path-2.0.0.tgz#2b568b265eec944c6d9c0de9c3dbbbca0354cd8e""
-  integrity sha1-K1aLJl7slExtnA3pw9u7ygNUzY4=
-  dependencies:
-    p-locate ""^2.0.0""
-    path-exists ""^3.0.0""
-
-lodash.castarray@^4.4.0:
-  version ""4.4.0""
-  resolved ""https://registry.yarnpkg.com/lodash.castarray/-/lodash.castarray-4.4.0.tgz#c02513515e309daddd4c24c60cfddcf5976d9115""
-  integrity sha1-wCUTUV4wna3dTCTGDP3c9ZdtkRU=
-
-lodash.isplainobject@^4.0.6:
-  version ""4.0.6""
-  resolved ""https://registry.yarnpkg.com/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz#7c526a52d89b45c45cc690b88163be0497f550cb""
-  integrity sha1-fFJqUtibRcRcxpC4gWO+BJf1UMs=
-
-lodash.merge@^4.6.2:
-  version ""4.6.2""
-  resolved ""https://registry.yarnpkg.com/lodash.merge/-/lodash.merge-4.6.2.tgz#558aa53b43b661e1925a0afdfa36a9a1085fe57a""
-  integrity sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==
-
-loose-envify@^1.1.0, loose-envify@^1.4.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/loose-envify/-/loose-envify-1.4.0.tgz#71ee51fa7be4caec1a63839f7e682d8132d30caf""
-  integrity sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==
-  dependencies:
-    js-tokens ""^3.0.0 || ^4.0.0""
-
-lru-cache@^6.0.0:
-  version ""6.0.0""
-  resolved ""https://registry.yarnpkg.com/lru-cache/-/lru-cache-6.0.0.tgz#6d6fe6570ebd96aaf90fcad1dafa3b2566db3a94""
-  integrity sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==
-  dependencies:
-    yallist ""^4.0.0""
-
-merge2@^1.3.0, merge2@^1.4.1:
-  version ""1.4.1""
-  resolved ""https://registry.yarnpkg.com/merge2/-/merge2-1.4.1.tgz#4368892f885e907455a6fd7dc55c0c9d404990ae""
-  integrity sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==
-
-micromatch@^4.0.4:
-  version ""4.0.4""
-  resolved ""https://registry.yarnpkg.com/micromatch/-/micromatch-4.0.4.tgz#896d519dfe9db25fce94ceb7a500919bf881ebf9""
-  integrity sha512-pRmzw/XUcwXGpD9aI9q/0XOwLNygjETJ8y0ao0wdqprrzDa4YnxLcz7fQRZr8voh8V10kGhABbNcHVk5wHgWwg==
-  dependencies:
-    braces ""^3.0.1""
-    picomatch ""^2.2.3""
-
-minimatch@^3.0.4:
-  version ""3.0.4""
-  resolved ""https://registry.yarnpkg.com/minimatch/-/minimatch-3.0.4.tgz#5166e286457f03306064be5497e8dbb0c3d32083""
-  integrity sha512-yJHVQEhyqPLUTgt9B83PXu6W3rx4MvvHvSUvToogpwoGDOUQ+yDrR0HRot+yOCdCO7u4hX3pWft6kWBBcqh0UA==
-  dependencies:
-    brace-expansion ""^1.1.7""
-
-minimatch@^3.1.2:
-  version ""3.1.2""
-  resolved ""https://registry.yarnpkg.com/minimatch/-/minimatch-3.1.2.tgz#19cd194bfd3e428f049a70817c038d89ab4be35b""
-  integrity sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==
-  dependencies:
-    brace-expansion ""^1.1.7""
-
-minimist@^1.1.1, minimist@^1.2.0:
-  version ""1.2.6""
-  resolved ""https://registry.yarnpkg.com/minimist/-/minimist-1.2.6.tgz#8637a5b759ea0d6e98702cfb3a9283323c93af44""
-  integrity sha512-Jsjnk4bw3YJqYzbdyBiNsPWHPfO++UGG749Cxs6peCu5Xg4nrena6OVxOYxrQTqww0Jmwt+Ref8rggumkTLz9Q==
-
-ms@2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/ms/-/ms-2.0.0.tgz#5608aeadfc00be6c2901df5f9861788de0d597c8""
-  integrity sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=
-
-ms@2.1.2:
-  version ""2.1.2""
-  resolved ""https://registry.yarnpkg.com/ms/-/ms-2.1.2.tgz#d09d1f357b443f493382a8eb3ccd183872ae6009""
-  integrity sha512-sGkPx+VjMtmA6MX27oA4FBFELFCZZ4S4XqeGOXCv68tT+jb3vk/RyaKWP0PTKyWtmLSM0b+adUTEvbs1PEaH2w==
-
-ms@^2.1.1:
-  version ""2.1.3""
-  resolved ""https://registry.yarnpkg.com/ms/-/ms-2.1.3.tgz#574c8138ce1d2b5861f0b44579dbadd60c6615b2""
-  integrity sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==
-
-nanoid@^3.1.30:
-  version ""3.1.30""
-  resolved ""https://registry.yarnpkg.com/nanoid/-/nanoid-3.1.30.tgz#63f93cc548d2a113dc5dfbc63bfa09e2b9b64362""
-  integrity sha512-zJpuPDwOv8D2zq2WRoMe1HsfZthVewpel9CAvTfc/2mBD1uUT/agc5f7GHGWXlYkFvi1mVxe4IjvP2HNrop7nQ==
-
-nanoid@^3.3.1:
-  version ""3.3.2""
-  resolved ""https://registry.yarnpkg.com/nanoid/-/nanoid-3.3.2.tgz#c89622fafb4381cd221421c69ec58547a1eec557""
-  integrity sha512-CuHBogktKwpm5g2sRgv83jEy2ijFzBwMoYA60orPDR7ynsLijJDqgsi4RDGj3OJpy3Ieb+LYwiRmIOGyytgITA==
-
-natural-compare@^1.4.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/natural-compare/-/natural-compare-1.4.0.tgz#4abebfeed7541f2c27acfb29bdbbd15c8d5ba4f7""
-  integrity sha1-Sr6/7tdUHywnrPspvbvRXI1bpPc=
-
-next-drupal@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/next-drupal/-/next-drupal-1.2.1.tgz#e5a6ae347d1bfb95c19b9b87c5acb3f38ed69def""
-  integrity sha512-XG/WajhlMyeLnwKHhIBhIxp7kPUgFkGqHuhOj4KWUIuTeunrMeWS85YGrsz/bPnfJDduA6Njo3ZzUj7pauQLJQ==
-  dependencies:
-    jsona ""^1.8.0""
-    node-cache ""^5.1.2""
-    qs ""^6.10.1""
-
-next@^12.1.4:
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/next/-/next-12.1.4.tgz#597a9bdec7aec778b442c4f6d41afd2c64a54b23""
-  integrity sha512-DA4g97BM4Z0nKtDvCTm58RxdvoQyYzeg0AeVbh0N4Y/D8ELrNu47lQeEgRGF8hV4eQ+Sal90zxrJQQG/mPQ8CQ==
-  dependencies:
-    ""@next/env"" ""12.1.4""
-    caniuse-lite ""^1.0.30001283""
-    postcss ""8.4.5""
-    styled-jsx ""5.0.1""
-  optionalDependencies:
-    ""@next/swc-android-arm-eabi"" ""12.1.4""
-    ""@next/swc-android-arm64"" ""12.1.4""
-    ""@next/swc-darwin-arm64"" ""12.1.4""
-    ""@next/swc-darwin-x64"" ""12.1.4""
-    ""@next/swc-linux-arm-gnueabihf"" ""12.1.4""
-    ""@next/swc-linux-arm64-gnu"" ""12.1.4""
-    ""@next/swc-linux-arm64-musl"" ""12.1.4""
-    ""@next/swc-linux-x64-gnu"" ""12.1.4""
-    ""@next/swc-linux-x64-musl"" ""12.1.4""
-    ""@next/swc-win32-arm64-msvc"" ""12.1.4""
-    ""@next/swc-win32-ia32-msvc"" ""12.1.4""
-    ""@next/swc-win32-x64-msvc"" ""12.1.4""
-
-node-cache@^5.1.2:
-  version ""5.1.2""
-  resolved ""https://registry.yarnpkg.com/node-cache/-/node-cache-5.1.2.tgz#f264dc2ccad0a780e76253a694e9fd0ed19c398d""
-  integrity sha512-t1QzWwnk4sjLWaQAS8CHgOJ+RAfmHpxFWmc36IWTiWHQfs0w5JDMBS1b1ZxQteo0vVVuWJvIUKHDkkeK7vIGCg==
-  dependencies:
-    clone ""2.x""
-
-node-releases@^2.0.2:
-  version ""2.0.2""
-  resolved ""https://registry.yarnpkg.com/node-releases/-/node-releases-2.0.2.tgz#7139fe71e2f4f11b47d4d2986aaf8c48699e0c01""
-  integrity sha512-XxYDdcQ6eKqp/YjI+tb2C5WM2LgjnZrfYg4vgQt49EK268b6gYCHsBLrK2qvJo4FmCtqmKezb0WZFK4fkrZNsg==
-
-normalize-path@^3.0.0, normalize-path@~3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/normalize-path/-/normalize-path-3.0.0.tgz#0dcd69ff23a1c9b11fd0978316644a0388216a65""
-  integrity sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==
-
-normalize-range@^0.1.2:
-  version ""0.1.2""
-  resolved ""https://registry.yarnpkg.com/normalize-range/-/normalize-range-0.1.2.tgz#2d10c06bdfd312ea9777695a4d28439456b75942""
-  integrity sha1-LRDAa9/TEuqXd2laTShDlFa3WUI=
-
-object-assign@^4.1.1:
-  version ""4.1.1""
-  resolved ""https://registry.yarnpkg.com/object-assign/-/object-assign-4.1.1.tgz#2109adc7965887cfc05cbbd442cac8bfbb360863""
-  integrity sha1-IQmtx5ZYh8/AXLvUQsrIv7s2CGM=
-
-object-hash@^2.2.0:
-  version ""2.2.0""
-  resolved ""https://registry.yarnpkg.com/object-hash/-/object-hash-2.2.0.tgz#5ad518581eefc443bd763472b8ff2e9c2c0d54a5""
-  integrity sha512-gScRMn0bS5fH+IuwyIFgnh9zBdo4DV+6GhygmWM9HyNJSgS0hScp1f5vjtm7oIIOiT9trXrShAkLFSc2IqKNgw==
-
-object-inspect@^1.11.0:
-  version ""1.11.1""
-  resolved ""https://registry.yarnpkg.com/object-inspect/-/object-inspect-1.11.1.tgz#d4bd7d7de54b9a75599f59a00bd698c1f1c6549b""
-  integrity sha512-If7BjFlpkzzBeV1cqgT3OSWT3azyoxDGajR+iGnFBfVV2EWyDyWaZZW2ERDjUaY2QM8i5jI3Sj7mhsM4DDAqWA==
-
-object-inspect@^1.9.0:
-  version ""1.10.2""
-  resolved ""https://registry.yarnpkg.com/object-inspect/-/object-inspect-1.10.2.tgz#b6385a3e2b7cae0b5eafcf90cddf85d128767f30""
-  integrity sha512-gz58rdPpadwztRrPjZE9DZLOABUpTGdcANUgOwBFO1C+HZZhePoP83M65WGDmbpwFYJSWqavbl4SgDn4k8RYTA==
-
-object-keys@^1.0.12, object-keys@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/object-keys/-/object-keys-1.1.1.tgz#1c47f272df277f3b1daf061677d9c82e2322c60e""
-  integrity sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==
-
-object.assign@^4.1.2:
-  version ""4.1.2""
-  resolved ""https://registry.yarnpkg.com/object.assign/-/object.assign-4.1.2.tgz#0ed54a342eceb37b38ff76eb831a0e788cb63940""
-  integrity sha512-ixT2L5THXsApyiUPYKmW+2EHpXXe5Ii3M+f4e+aJFAHao5amFRW6J0OO6c/LU8Be47utCx2GL89hxGB6XSmKuQ==
-  dependencies:
-    call-bind ""^1.0.0""
-    define-properties ""^1.1.3""
-    has-symbols ""^1.0.1""
-    object-keys ""^1.1.1""
-
-object.entries@^1.1.5:
-  version ""1.1.5""
-  resolved ""https://registry.yarnpkg.com/object.entries/-/object.entries-1.1.5.tgz#e1acdd17c4de2cd96d5a08487cfb9db84d881861""
-  integrity sha512-TyxmjUoZggd4OrrU1W66FMDG6CuqJxsFvymeyXI51+vQLN67zYfZseptRge703kKQdo4uccgAKebXFcRCzk4+g==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-object.fromentries@^2.0.5:
-  version ""2.0.5""
-  resolved ""https://registry.yarnpkg.com/object.fromentries/-/object.fromentries-2.0.5.tgz#7b37b205109c21e741e605727fe8b0ad5fa08251""
-  integrity sha512-CAyG5mWQRRiBU57Re4FKoTBjXfDoNwdFVH2Y1tS9PqCsfUTymAohOkEMSG3aRNKmv4lV3O7p1et7c187q6bynw==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-object.hasown@^1.1.0:
-  version ""1.1.0""
-  resolved ""https://registry.yarnpkg.com/object.hasown/-/object.hasown-1.1.0.tgz#7232ed266f34d197d15cac5880232f7a4790afe5""
-  integrity sha512-MhjYRfj3GBlhSkDHo6QmvgjRLXQ2zndabdf3nX0yTyZK9rPfxb6uRpAac8HXNLy1GpqWtZ81Qh4v3uOls2sRAg==
-  dependencies:
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-object.values@^1.1.5:
-  version ""1.1.5""
-  resolved ""https://registry.yarnpkg.com/object.values/-/object.values-1.1.5.tgz#959f63e3ce9ef108720333082131e4a459b716ac""
-  integrity sha512-QUZRW0ilQ3PnPpbNtgdNV1PDbEqLIiSFB3l+EnGtBQ/8SUTLj1PZwtQHABZtLgwpJZTSZhuGLOGk57Drx2IvYg==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-once@^1.3.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/once/-/once-1.4.0.tgz#583b1aa775961d4b113ac17d9c50baef9dd76bd1""
-  integrity sha1-WDsap3WWHUsROsF9nFC6753Xa9E=
-  dependencies:
-    wrappy ""1""
-
-optionator@^0.9.1:
-  version ""0.9.1""
-  resolved ""https://registry.yarnpkg.com/optionator/-/optionator-0.9.1.tgz#4f236a6373dae0566a6d43e1326674f50c291499""
-  integrity sha512-74RlY5FCnhq4jRxVUPKDaRwrVNXMqsGsiW6AJw4XK8hmtm10wC0ypZBLw5IIp85NZMr91+qd1RvvENwg7jjRFw==
-  dependencies:
-    deep-is ""^0.1.3""
-    fast-levenshtein ""^2.0.6""
-    levn ""^0.4.1""
-    prelude-ls ""^1.2.1""
-    type-check ""^0.4.0""
-    word-wrap ""^1.2.3""
-
-p-limit@^1.1.0:
-  version ""1.3.0""
-  resolved ""https://registry.yarnpkg.com/p-limit/-/p-limit-1.3.0.tgz#b86bd5f0c25690911c7590fcbfc2010d54b3ccb8""
-  integrity sha512-vvcXsLAJ9Dr5rQOPk7toZQZJApBl2K4J6dANSsEuh6QI41JYcsS/qhTGa9ErIUUgK3WNQoJYvylxvjqmiqEA9Q==
-  dependencies:
-    p-try ""^1.0.0""
-
-p-locate@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/p-locate/-/p-locate-2.0.0.tgz#20a0103b222a70c8fd39cc2e580680f3dde5ec43""
-  integrity sha1-IKAQOyIqcMj9OcwuWAaA893l7EM=
-  dependencies:
-    p-limit ""^1.1.0""
-
-p-try@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/p-try/-/p-try-1.0.0.tgz#cbc79cdbaf8fd4228e13f621f2b1a237c1b207b3""
-  integrity sha1-y8ec26+P1CKOE/Yh8rGiN8GyB7M=
-
-parent-module@^1.0.0:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/parent-module/-/parent-module-1.0.1.tgz#691d2709e78c79fae3a156622452d00762caaaa2""
-  integrity sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==
-  dependencies:
-    callsites ""^3.0.0""
-
-parse-json@^5.0.0:
-  version ""5.2.0""
-  resolved ""https://registry.yarnpkg.com/parse-json/-/parse-json-5.2.0.tgz#c76fc66dee54231c962b22bcc8a72cf2f99753cd""
-  integrity sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==
-  dependencies:
-    ""@babel/code-frame"" ""^7.0.0""
-    error-ex ""^1.3.1""
-    json-parse-even-better-errors ""^2.3.0""
-    lines-and-columns ""^1.1.6""
-
-path-exists@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/path-exists/-/path-exists-3.0.0.tgz#ce0ebeaa5f78cb18925ea7d810d7b59b010fd515""
-  integrity sha1-zg6+ql94yxiSXqfYENe1mwEP1RU=
-
-path-is-absolute@^1.0.0:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/path-is-absolute/-/path-is-absolute-1.0.1.tgz#174b9268735534ffbc7ace6bf53a5a9e1b5c5f5f""
-  integrity sha1-F0uSaHNVNP+8es5r9TpanhtcX18=
-
-path-key@^3.1.0:
-  version ""3.1.1""
-  resolved ""https://registry.yarnpkg.com/path-key/-/path-key-3.1.1.tgz#581f6ade658cbba65a0d3380de7753295054f375""
-  integrity sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==
-
-path-parse@^1.0.6:
-  version ""1.0.6""
-  resolved ""https://registry.yarnpkg.com/path-parse/-/path-parse-1.0.6.tgz#d62dbb5679405d72c4737ec58600e9ddcf06d24c""
-  integrity sha512-GSmOT2EbHrINBf9SR7CDELwlJ8AENk3Qn7OikK4nFYAu3Ote2+JYNVvkpAEQm3/TLNEJFD/xZJjzyxg3KBWOzw==
-
-path-parse@^1.0.7:
-  version ""1.0.7""
-  resolved ""https://registry.yarnpkg.com/path-parse/-/path-parse-1.0.7.tgz#fbc114b60ca42b30d9daf5858e4bd68bbedb6735""
-  integrity sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==
-
-path-type@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/path-type/-/path-type-4.0.0.tgz#84ed01c0a7ba380afe09d90a8c180dcd9d03043b""
-  integrity sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==
-
-picocolors@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/picocolors/-/picocolors-1.0.0.tgz#cb5bdc74ff3f51892236eaf79d68bc44564ab81c""
-  integrity sha512-1fygroTLlHu66zi26VoTDv8yRgm0Fccecssto+MhsZ0D/DGW2sm8E8AjW7NU5VVTRt5GxbeZ5qBuJr+HyLYkjQ==
-
-picomatch@^2.0.4, picomatch@^2.2.1, picomatch@^2.2.3:
-  version ""2.2.3""
-  resolved ""https://registry.yarnpkg.com/picomatch/-/picomatch-2.2.3.tgz#465547f359ccc206d3c48e46a1bcb89bf7ee619d""
-  integrity sha512-KpELjfwcCDUb9PeigTs2mBJzXUPzAuP2oPcA989He8Rte0+YUAjw1JVedDhuTKPkHjSYzMN3npC9luThGYEKdg==
-
-postcss-js@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/postcss-js/-/postcss-js-4.0.0.tgz#31db79889531b80dc7bc9b0ad283e418dce0ac00""
-  integrity sha512-77QESFBwgX4irogGVPgQ5s07vLvFqWr228qZY+w6lW599cRlK/HmnlivnnVUxkjHnCu4J16PDMHcH+e+2HbvTQ==
-  dependencies:
-    camelcase-css ""^2.0.1""
-
-postcss-load-config@^3.1.0:
-  version ""3.1.0""
-  resolved ""https://registry.yarnpkg.com/postcss-load-config/-/postcss-load-config-3.1.0.tgz#d39c47091c4aec37f50272373a6a648ef5e97829""
-  integrity sha512-ipM8Ds01ZUophjDTQYSVP70slFSYg3T0/zyfII5vzhN6V57YSxMgG5syXuwi5VtS8wSf3iL30v0uBdoIVx4Q0g==
-  dependencies:
-    import-cwd ""^3.0.0""
-    lilconfig ""^2.0.3""
-    yaml ""^1.10.2""
-
-postcss-nested@5.0.6:
-  version ""5.0.6""
-  resolved ""https://registry.yarnpkg.com/postcss-nested/-/postcss-nested-5.0.6.tgz#466343f7fc8d3d46af3e7dba3fcd47d052a945bc""
-  integrity sha512-rKqm2Fk0KbA8Vt3AdGN0FB9OBOMDVajMG6ZCf/GoHgdxUJ4sBFp0A/uMIRm+MJUdo33YXEtjqIz8u7DAp8B7DA==
-  dependencies:
-    postcss-selector-parser ""^6.0.6""
-
-postcss-selector-parser@^6.0.6:
-  version ""6.0.7""
-  resolved ""https://registry.yarnpkg.com/postcss-selector-parser/-/postcss-selector-parser-6.0.7.tgz#48404830a635113a71fd79397de8209ed05a66fc""
-  integrity sha512-U+b/Deoi4I/UmE6KOVPpnhS7I7AYdKbhGcat+qTQ27gycvaACvNEw11ba6RrkwVmDVRW7sigWgLj4/KbbJjeDA==
-  dependencies:
-    cssesc ""^3.0.0""
-    util-deprecate ""^1.0.2""
-
-postcss-selector-parser@^6.0.9:
-  version ""6.0.10""
-  resolved ""https://registry.yarnpkg.com/postcss-selector-parser/-/postcss-selector-parser-6.0.10.tgz#79b61e2c0d1bfc2602d549e11d0876256f8df88d""
-  integrity sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==
-  dependencies:
-    cssesc ""^3.0.0""
-    util-deprecate ""^1.0.2""
-
-postcss-value-parser@^4.2.0:
-  version ""4.2.0""
-  resolved ""https://registry.yarnpkg.com/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz#723c09920836ba6d3e5af019f92bc0971c02e514""
-  integrity sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==
-
-postcss@8.4.5:
-  version ""8.4.5""
-  resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.5.tgz#bae665764dfd4c6fcc24dc0fdf7e7aa00cc77f95""
-  integrity sha512-jBDboWM8qpaqwkMwItqTQTiFikhs/67OYVvblFFTM7MrZjt6yMKd6r2kgXizEbTTljacm4NldIlZnhbjr84QYg==
-  dependencies:
-    nanoid ""^3.1.30""
-    picocolors ""^1.0.0""
-    source-map-js ""^1.0.1""
-
-postcss@^8.4.12, postcss@^8.4.6:
-  version ""8.4.12""
-  resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.12.tgz#1e7de78733b28970fa4743f7da6f3763648b1905""
-  integrity sha512-lg6eITwYe9v6Hr5CncVbK70SoioNQIq81nsaG86ev5hAidQvmOeETBqs7jm43K2F5/Ley3ytDtriImV6TpNiSg==
-  dependencies:
-    nanoid ""^3.3.1""
-    picocolors ""^1.0.0""
-    source-map-js ""^1.0.2""
-
-prelude-ls@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/prelude-ls/-/prelude-ls-1.2.1.tgz#debc6489d7a6e6b0e7611888cec880337d316396""
-  integrity sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==
-
-prop-types@^15.8.1:
-  version ""15.8.1""
-  resolved ""https://registry.yarnpkg.com/prop-types/-/prop-types-15.8.1.tgz#67d87bf1a694f48435cf332c24af10214a3140b5""
-  integrity sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==
-  dependencies:
-    loose-envify ""^1.4.0""
-    object-assign ""^4.1.1""
-    react-is ""^16.13.1""
-
-punycode@^2.1.0:
-  version ""2.1.1""
-  resolved ""https://registry.yarnpkg.com/punycode/-/punycode-2.1.1.tgz#b58b010ac40c22c5657616c8d2c2c02c7bf479ec""
-  integrity sha512-XRsRjdf+j5ml+y/6GKHPZbrF/8p2Yga0JPtdqTIY2Xe5ohJPD9saDJJLPvp9+NSBprVvevdXZybnj2cv8OEd0A==
-
-qs@^6.10.1:
-  version ""6.10.2""
-  resolved ""https://registry.yarnpkg.com/qs/-/qs-6.10.2.tgz#c1431bea37fc5b24c5bdbafa20f16bdf2a4b9ffe""
-  integrity sha512-mSIdjzqznWgfd4pMii7sHtaYF8rx8861hBO80SraY5GT0XQibWZWJSid0avzHGkDIZLImux2S5mXO0Hfct2QCw==
-  dependencies:
-    side-channel ""^1.0.4""
-
-queue-microtask@^1.2.2:
-  version ""1.2.3""
-  resolved ""https://registry.yarnpkg.com/queue-microtask/-/queue-microtask-1.2.3.tgz#4929228bbc724dfac43e0efb058caf7b6cfb6243""
-  integrity sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==
-
-quick-lru@^5.1.1:
-  version ""5.1.1""
-  resolved ""https://registry.yarnpkg.com/quick-lru/-/quick-lru-5.1.1.tgz#366493e6b3e42a3a6885e2e99d18f80fb7a8c932""
-  integrity sha512-WuyALRjWPDGtt/wzJiadO5AXY+8hZ80hVpe6MyivgraREW751X3SbhRvG3eLKOYN+8VEvqLcf3wdnt44Z4S4SA==
-
-react-dom@^17.0.2:
-  version ""17.0.2""
-  resolved ""https://registry.yarnpkg.com/react-dom/-/react-dom-17.0.2.tgz#ecffb6845e3ad8dbfcdc498f0d0a939736502c23""
-  integrity sha512-s4h96KtLDUQlsENhMn1ar8t2bEa+q/YAtj8pPPdIjPDGBDIVNsrD9aXNWqspUe6AzKCIG0C1HZZLqLV7qpOBGA==
-  dependencies:
-    loose-envify ""^1.1.0""
-    object-assign ""^4.1.1""
-    scheduler ""^0.20.2""
-
-react-is@^16.13.1:
-  version ""16.13.1""
-  resolved ""https://registry.yarnpkg.com/react-is/-/react-is-16.13.1.tgz#789729a4dc36de2999dc156dd6c1d9c18cea56a4""
-  integrity sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==
-
-react@^17.0.2:
-  version ""17.0.2""
-  resolved ""https://registry.yarnpkg.com/react/-/react-17.0.2.tgz#d0b5cc516d29eb3eee383f75b62864cfb6800037""
-  integrity sha512-gnhPt75i/dq/z3/6q/0asP78D0u592D5L1pd7M8P+dck6Fu/jJeL6iVVK23fptSUZj8Vjf++7wXA8UNclGQcbA==
-  dependencies:
-    loose-envify ""^1.1.0""
-    object-assign ""^4.1.1""
-
-readdirp@~3.6.0:
-  version ""3.6.0""
-  resolved ""https://registry.yarnpkg.com/readdirp/-/readdirp-3.6.0.tgz#74a370bd857116e245b29cc97340cd431a02a6c7""
-  integrity sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==
-  dependencies:
-    picomatch ""^2.2.1""
-
-regenerator-runtime@^0.13.4:
-  version ""0.13.7""
-  resolved ""https://registry.yarnpkg.com/regenerator-runtime/-/regenerator-runtime-0.13.7.tgz#cac2dacc8a1ea675feaabaeb8ae833898ae46f55""
-  integrity sha512-a54FxoJDIr27pgf7IgeQGxmqUNYrcV338lf/6gH456HZ/PhX+5BcwHXG9ajESmwe6WRO0tAzRUrRmNONWgkrew==
-
-regexp.prototype.flags@^1.3.1:
-  version ""1.3.1""
-  resolved ""https://registry.yarnpkg.com/regexp.prototype.flags/-/regexp.prototype.flags-1.3.1.tgz#7ef352ae8d159e758c0eadca6f8fcb4eef07be26""
-  integrity sha512-JiBdRBq91WlY7uRJ0ds7R+dU02i6LKi8r3BuQhNXn+kmeLN+EfHhfjqMRis1zJxnlu88hq/4dx0P2OP3APRTOA==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-
-regexpp@^3.2.0:
-  version ""3.2.0""
-  resolved ""https://registry.yarnpkg.com/regexpp/-/regexpp-3.2.0.tgz#0425a2768d8f23bad70ca4b90461fa2f1213e1b2""
-  integrity sha512-pq2bWo9mVD43nbts2wGv17XLiNLya+GklZ8kaDLV2Z08gDCsGpnKn9BFMepvWuHCbyVvY7J5o5+BVvoQbmlJLg==
-
-resolve-from@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/resolve-from/-/resolve-from-4.0.0.tgz#4abcd852ad32dd7baabfe9b40e00a36db5f392e6""
-  integrity sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==
-
-resolve-from@^5.0.0:
-  version ""5.0.0""
-  resolved ""https://registry.yarnpkg.com/resolve-from/-/resolve-from-5.0.0.tgz#c35225843df8f776df21c57557bc087e9dfdfc69""
-  integrity sha512-qYg9KP24dD5qka9J47d0aVky0N+b4fTU89LN9iDnjB5waksiC49rvMB0PrUJQGoTmH50XPiqOvAjDfaijGxYZw==
-
-resolve@^1.13.1, resolve@^1.17.0, resolve@^1.22.0:
-  version ""1.22.0""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-1.22.0.tgz#5e0b8c67c15df57a89bdbabe603a002f21731198""
-  integrity sha512-Hhtrw0nLeSrFQ7phPp4OOcVjLPIeMnRlr5mcnVuMe7M/7eBn98A3hmFRLoFo3DLZkivSYwhRUJTyPyWAk56WLw==
-  dependencies:
-    is-core-module ""^2.8.1""
-    path-parse ""^1.0.7""
-    supports-preserve-symlinks-flag ""^1.0.0""
-
-resolve@^1.20.0:
-  version ""1.20.0""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-1.20.0.tgz#629a013fb3f70755d6f0b7935cc1c2c5378b1975""
-  integrity sha512-wENBPt4ySzg4ybFQW2TT1zMQucPK95HSh/nq2CFTZVOGut2+pQvSsgtda4d26YrYcr067wjbmzOG8byDPBX63A==
-  dependencies:
-    is-core-module ""^2.2.0""
-    path-parse ""^1.0.6""
-
-resolve@^2.0.0-next.3:
-  version ""2.0.0-next.3""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-2.0.0-next.3.tgz#d41016293d4a8586a39ca5d9b5f15cbea1f55e46""
-  integrity sha512-W8LucSynKUIDu9ylraa7ueVZ7hc0uAgJBxVsQSKOXOyle8a93qXhcz+XAXZ8bIq2d6i4Ehddn6Evt+0/UwKk6Q==
-  dependencies:
-    is-core-module ""^2.2.0""
-    path-parse ""^1.0.6""
-
-reusify@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/reusify/-/reusify-1.0.4.tgz#90da382b1e126efc02146e90845a88db12925d76""
-  integrity sha512-U9nH88a3fc/ekCF1l0/UP1IosiuIjyTh7hBvXVMHYgVcfGvt897Xguj2UOLDeI5BG2m7/uwyaLVT6fbtCwTyzw==
-
-rimraf@^3.0.2:
-  version ""3.0.2""
-  resolved ""https://registry.yarnpkg.com/rimraf/-/rimraf-3.0.2.tgz#f1a5402ba6220ad52cc1282bac1ae3aa49fd061a""
-  integrity sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==
-  dependencies:
-    glob ""^7.1.3""
-
-run-parallel@^1.1.9:
-  version ""1.2.0""
-  resolved ""https://registry.yarnpkg.com/run-parallel/-/run-parallel-1.2.0.tgz#66d1368da7bdf921eb9d95bd1a9229e7f21a43ee""
-  integrity sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==
-  dependencies:
-    queue-microtask ""^1.2.2""
-
-scheduler@^0.20.2:
-  version ""0.20.2""
-  resolved ""https://registry.yarnpkg.com/scheduler/-/scheduler-0.20.2.tgz#4baee39436e34aa93b4874bddcbf0fe8b8b50e91""
-  integrity sha512-2eWfGgAqqWFGqtdMmcL5zCMK1U8KlXv8SQFGglL3CEtd0aDVDWgeF/YoCmvln55m5zSk3J/20hTaSBeSObsQDQ==
-  dependencies:
-    loose-envify ""^1.1.0""
-    object-assign ""^4.1.1""
-
-semver@^6.3.0:
-  version ""6.3.0""
-  resolved ""https://registry.yarnpkg.com/semver/-/semver-6.3.0.tgz#ee0a64c8af5e8ceea67687b133761e1becbd1d3d""
-  integrity sha512-b39TBaTSfV6yBrapU89p5fKekE2m/NwnDocOVruQFS1/veMgdzuPcnOM34M6CwxW8jH/lxEa5rBoDeUwu5HHTw==
-
-semver@^7.3.5:
-  version ""7.3.5""
-  resolved ""https://registry.yarnpkg.com/semver/-/semver-7.3.5.tgz#0b621c879348d8998e4b0e4be94b3f12e6018ef7""
-  integrity sha512-PoeGJYh8HK4BTO/a9Tf6ZG3veo/A7ZVsYrSA6J8ny9nb3B1VrpkuN+z9OE5wfE5p6H4LchYZsegiQgbJD94ZFQ==
-  dependencies:
-    lru-cache ""^6.0.0""
-
-shebang-command@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/shebang-command/-/shebang-command-2.0.0.tgz#ccd0af4f8835fbdc265b82461aaf0c36663f34ea""
-  integrity sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==
-  dependencies:
-    shebang-regex ""^3.0.0""
-
-shebang-regex@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/shebang-regex/-/shebang-regex-3.0.0.tgz#ae16f1644d873ecad843b0307b143362d4c42172""
-  integrity sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==
-
-side-channel@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/side-channel/-/side-channel-1.0.4.tgz#efce5c8fdc104ee751b25c58d4290011fa5ea2cf""
-  integrity sha512-q5XPytqFEIKHkGdiMIrY10mvLRvnQh42/+GoBlFW3b2LXLE2xxJpZFdm94we0BaoV3RwJyGqg5wS7epxTv0Zvw==
-  dependencies:
-    call-bind ""^1.0.0""
-    get-intrinsic ""^1.0.2""
-    object-inspect ""^1.9.0""
-
-slash@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/slash/-/slash-3.0.0.tgz#6539be870c165adbd5240220dbe361f1bc4d4634""
-  integrity sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q==
-
-source-map-js@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/source-map-js/-/source-map-js-1.0.1.tgz#a1741c131e3c77d048252adfa24e23b908670caf""
-  integrity sha512-4+TN2b3tqOCd/kaGRJ/sTYA0tR0mdXx26ipdolxcwtJVqEnqNYvlCAt1q3ypy4QMlYus+Zh34RNtYLoq2oQ4IA==
-
-source-map-js@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/source-map-js/-/source-map-js-1.0.2.tgz#adbc361d9c62df380125e7f161f71c826f1e490c""
-  integrity sha512-R0XvVJ9WusLiqTCEiGCmICCMplcCkIwwR11mOSD9CR5u+IXYdiseeEuXCVAjS54zqwkLcPNnmU4OeJ6tUrWhDw==
-
-string.prototype.matchall@^4.0.6:
-  version ""4.0.6""
-  resolved ""https://registry.yarnpkg.com/string.prototype.matchall/-/string.prototype.matchall-4.0.6.tgz#5abb5dabc94c7b0ea2380f65ba610b3a544b15fa""
-  integrity sha512-6WgDX8HmQqvEd7J+G6VtAahhsQIssiZ8zl7zKh1VDMFyL3hRTJP4FTNA3RbIp2TOQ9AYNDcc7e3fH0Qbup+DBg==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-    get-intrinsic ""^1.1.1""
-    has-symbols ""^1.0.2""
-    internal-slot ""^1.0.3""
-    regexp.prototype.flags ""^1.3.1""
-    side-channel ""^1.0.4""
-
-string.prototype.trimend@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/string.prototype.trimend/-/string.prototype.trimend-1.0.4.tgz#e75ae90c2942c63504686c18b287b4a0b1a45f80""
-  integrity sha512-y9xCjw1P23Awk8EvTpcyL2NIr1j7wJ39f+k6lvRnSMz+mz9CGz9NYPelDk42kOz6+ql8xjfK8oYzy3jAP5QU5A==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-
-string.prototype.trimstart@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/string.prototype.trimstart/-/string.prototype.trimstart-1.0.4.tgz#b36399af4ab2999b4c9c648bd7a3fb2bb26feeed""
-  integrity sha512-jh6e984OBfvxS50tdY2nRZnoC5/mLFKOREQfw8t5yytkoUsJRNxvI/E39qu1sD0OtWI3OC0XgKSmcWwziwYuZw==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-
-strip-ansi@^6.0.1:
-  version ""6.0.1""
-  resolved ""https://registry.yarnpkg.com/strip-ansi/-/strip-ansi-6.0.1.tgz#9e26c63d30f53443e9489495b2105d37b67a85d9""
-  integrity sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==
-  dependencies:
-    ansi-regex ""^5.0.1""
-
-strip-bom@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/strip-bom/-/strip-bom-3.0.0.tgz#2334c18e9c759f7bdd56fdef7e9ae3d588e68ed3""
-  integrity sha1-IzTBjpx1n3vdVv3vfprj1YjmjtM=
-
-strip-json-comments@^3.1.0, strip-json-comments@^3.1.1:
-  version ""3.1.1""
-  resolved ""https://registry.yarnpkg.com/strip-json-comments/-/strip-json-comments-3.1.1.tgz#31f1281b3832630434831c310c01cccda8cbe006""
-  integrity sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==
-
-styled-jsx@5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/styled-jsx/-/styled-jsx-5.0.1.tgz#78fecbbad2bf95ce6cd981a08918ce4696f5fc80""
-  integrity sha512-+PIZ/6Uk40mphiQJJI1202b+/dYeTVd9ZnMPR80pgiWbjIwvN2zIp4r9et0BgqBuShh48I0gttPlAXA7WVvBxw==
-
-supports-color@^5.3.0:
-  version ""5.5.0""
-  resolved ""https://registry.yarnpkg.com/supports-color/-/supports-color-5.5.0.tgz#e2e69a44ac8772f78a1ec0b35b689df6530efc8f""
-  integrity sha512-QjVjwdXIt408MIiAqCX4oUKsgU2EqAGzs2Ppkm4aQYbjm+ZEWEcW4SfFNTr4uMNZma0ey4f5lgLrkB0aX0QMow==
-  dependencies:
-    has-flag ""^3.0.0""
-
-supports-color@^7.1.0:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/supports-color/-/supports-color-7.2.0.tgz#1b7dcdcb32b8138801b3e478ba6a51caa89648da""
-  integrity sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==
-  dependencies:
-    has-flag ""^4.0.0""
-
-supports-preserve-symlinks-flag@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz#6eda4bd344a3c94aea376d4cc31bc77311039e09""
-  integrity sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==
-
-tailwindcss@^3.0.23:
-  version ""3.0.23""
-  resolved ""https://registry.yarnpkg.com/tailwindcss/-/tailwindcss-3.0.23.tgz#c620521d53a289650872a66adfcb4129d2200d10""
-  integrity sha512-+OZOV9ubyQ6oI2BXEhzw4HrqvgcARY38xv3zKcjnWtMIZstEsXdI9xftd1iB7+RbOnj2HOEzkA0OyB5BaSxPQA==
-  dependencies:
-    arg ""^5.0.1""
-    chalk ""^4.1.2""
-    chokidar ""^3.5.3""
-    color-name ""^1.1.4""
-    cosmiconfig ""^7.0.1""
-    detective ""^5.2.0""
-    didyoumean ""^1.2.2""
-    dlv ""^1.1.3""
-    fast-glob ""^3.2.11""
-    glob-parent ""^6.0.2""
-    is-glob ""^4.0.3""
-    normalize-path ""^3.0.0""
-    object-hash ""^2.2.0""
-    postcss ""^8.4.6""
-    postcss-js ""^4.0.0""
-    postcss-load-config ""^3.1.0""
-    postcss-nested ""5.0.6""
-    postcss-selector-parser ""^6.0.9""
-    postcss-value-parser ""^4.2.0""
-    quick-lru ""^5.1.1""
-    resolve ""^1.22.0""
-
-text-table@^0.2.0:
-  version ""0.2.0""
-  resolved ""https://registry.yarnpkg.com/text-table/-/text-table-0.2.0.tgz#7f5ee823ae805207c00af2df4a84ec3fcfa570b4""
-  integrity sha1-f17oI66AUgfACvLfSoTsP8+lcLQ=
-
-to-regex-range@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/to-regex-range/-/to-regex-range-5.0.1.tgz#1648c44aae7c8d988a326018ed72f5b4dd0392e4""
-  integrity sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==
-  dependencies:
-    is-number ""^7.0.0""
-
-tsconfig-paths@^3.11.0, tsconfig-paths@^3.9.0:
-  version ""3.12.0""
-  resolved ""https://registry.yarnpkg.com/tsconfig-paths/-/tsconfig-paths-3.12.0.tgz#19769aca6ee8f6a1a341e38c8fa45dd9fb18899b""
-  integrity sha512-e5adrnOYT6zqVnWqZu7i/BQ3BnhzvGbjEjejFXO20lKIKpwTaupkCPgEfv4GZK1IBciJUEhYs3J3p75FdaTFVg==
-  dependencies:
-    ""@types/json5"" ""^0.0.29""
-    json5 ""^1.0.1""
-    minimist ""^1.2.0""
-    strip-bom ""^3.0.0""
-
-tslib@^1.8.1:
-  version ""1.14.1""
-  resolved ""https://registry.yarnpkg.com/tslib/-/tslib-1.14.1.tgz#cf2d38bdc34a134bcaf1091c41f6619e2f672d00""
-  integrity sha512-Xni35NKzjgMrwevysHTCArtLDpPvye8zV/0E4EyYn43P7/7qvQwPh9BGkHewbMulVntbigmcT7rdX3BNo9wRJg==
-
-tsutils@^3.21.0:
-  version ""3.21.0""
-  resolved ""https://registry.yarnpkg.com/tsutils/-/tsutils-3.21.0.tgz#b48717d394cea6c1e096983eed58e9d61715b623""
-  integrity sha512-mHKK3iUXL+3UF6xL5k0PEhKRUBKPBCv/+RkEOpjRWxxx27KKRBmmA60A9pgOUvMi8GKhRMPEmjBRPzs2W7O1OA==
-  dependencies:
-    tslib ""^1.8.1""
-
-type-check@^0.4.0, type-check@~0.4.0:
-  version ""0.4.0""
-  resolved ""https://registry.yarnpkg.com/type-check/-/type-check-0.4.0.tgz#07b8203bfa7056c0657050e3ccd2c37730bab8f1""
-  integrity sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==
-  dependencies:
-    prelude-ls ""^1.2.1""
-
-type-fest@^0.20.2:
-  version ""0.20.2""
-  resolved ""https://registry.yarnpkg.com/type-fest/-/type-fest-0.20.2.tgz#1bf207f4b28f91583666cb5fbd327887301cd5f4""
-  integrity sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==
-
-typescript@^4.6.3:
-  version ""4.6.3""
-  resolved ""https://registry.yarnpkg.com/typescript/-/typescript-4.6.3.tgz#eefeafa6afdd31d725584c67a0eaba80f6fc6c6c""
-  integrity sha512-yNIatDa5iaofVozS/uQJEl3JRWLKKGJKh6Yaiv0GLGSuhpFJe7P3SbHZ8/yjAHRQwKRoA6YZqlfjXWmVzoVSMw==
-
-unbox-primitive@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/unbox-primitive/-/unbox-primitive-1.0.1.tgz#085e215625ec3162574dc8859abee78a59b14471""
-  integrity sha512-tZU/3NqK3dA5gpE1KtyiJUrEB0lxnGkMFHptJ7q6ewdZ8s12QrODwNbhIJStmJkd1QDXa1NRA8aF2A1zk/Ypyw==
-  dependencies:
-    function-bind ""^1.1.1""
-    has-bigints ""^1.0.1""
-    has-symbols ""^1.0.2""
-    which-boxed-primitive ""^1.0.2""
-
-uri-js@^4.2.2:
-  version ""4.4.1""
-  resolved ""https://registry.yarnpkg.com/uri-js/-/uri-js-4.4.1.tgz#9b1a52595225859e55f669d928f88c6c57f2a77e""
-  integrity sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==
-  dependencies:
-    punycode ""^2.1.0""
-
-util-deprecate@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/util-deprecate/-/util-deprecate-1.0.2.tgz#450d4dc9fa70de732762fbd2d4a28981419a0ccf""
-  integrity sha1-RQ1Nyfpw3nMnYvvS1KKJgUGaDM8=
-
-v8-compile-cache@^2.0.3:
-  version ""2.3.0""
-  resolved ""https://registry.yarnpkg.com/v8-compile-cache/-/v8-compile-cache-2.3.0.tgz#2de19618c66dc247dcfb6f99338035d8245a2cee""
-  integrity sha512-l8lCEmLcLYZh4nbunNZvQCJc5pv7+RCwa8q/LdUx8u7lsWvPDKmpodJAJNwkAhJC//dFY48KuIEmjtd4RViDrA==
-
-which-boxed-primitive@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/which-boxed-primitive/-/which-boxed-primitive-1.0.2.tgz#13757bc89b209b049fe5d86430e21cf40a89a8e6""
-  integrity sha512-bwZdv0AKLpplFY2KZRX6TvyuN7ojjr7lwkg6ml0roIy9YeuSr7JS372qlNW18UQYzgYK9ziGcerWqZOmEn9VNg==
-  dependencies:
-    is-bigint ""^1.0.1""
-    is-boolean-object ""^1.1.0""
-    is-number-object ""^1.0.4""
-    is-string ""^1.0.5""
-    is-symbol ""^1.0.3""
-
-which@^2.0.1:
-  version ""2.0.2""
-  resolved ""https://registry.yarnpkg.com/which/-/which-2.0.2.tgz#7c6a8dd0a636a0327e10b59c9286eee93f3f51b1""
-  integrity sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==
-  dependencies:
-    isexe ""^2.0.0""
-
-word-wrap@^1.2.3:
-  version ""1.2.3""
-  resolved ""https://registry.yarnpkg.com/word-wrap/-/word-wrap-1.2.3.tgz#610636f6b1f703891bd34771ccb17fb93b47079c""
-  integrity sha512-Hz/mrNwitNRh/HUAtM/VT/5VH+ygD6DV7mYKZAtHOrbs8U7lvPS6xf7EJKMF0uW1KJCl0H701g3ZGus+muE5vQ==
-
-wrappy@1:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/wrappy/-/wrappy-1.0.2.tgz#b5243d8f3ec1aa35f1364605bc0d1036e30ab69f""
-  integrity sha1-tSQ9jz7BqjXxNkYFvA0QNuMKtp8=
-
-xtend@^4.0.2:
-  version ""4.0.2""
-  resolved ""https://registry.yarnpkg.com/xtend/-/xtend-4.0.2.tgz#bb72779f5fa465186b1f438f674fa347fdb5db54""
-  integrity sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==
-
-yallist@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/yallist/-/yallist-4.0.0.tgz#9bb92790d9c0effec63be73519e11a35019a3a72""
-  integrity sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==
-
-yaml@^1.10.0, yaml@^1.10.2:
-  version ""1.10.2""
-  resolved ""https://registry.yarnpkg.com/yaml/-/yaml-1.10.2.tgz#2301c5ffbf12b467de8da2333a459e29e7920e4b""
-  integrity sha512-r3vXyErRCYJ7wg28yvBY5VSoAF8ZvlcW9/BwUzEtUsjvX/DKs24dIkuwjtuprwJJHsbyUbLApepYTR1BN4uHrg==

---FILE: starters/graphql-starter/yarn.lock---
@@ -1,2180 +0,0 @@
-# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
-# yarn lockfile v1
-
-
-""@babel/code-frame@^7.0.0"":
-  version ""7.16.0""
-  resolved ""https://registry.yarnpkg.com/@babel/code-frame/-/code-frame-7.16.0.tgz#0dfc80309beec8411e65e706461c408b0bb9b431""
-  integrity sha512-IF4EOMEV+bfYwOmNxGzSnjR2EmQod7f1UXOpZM3l4i4o4QNwzjtJAu/HxdjHq0aYBvdqMuQEY1eg0nqW9ZPORA==
-  dependencies:
-    ""@babel/highlight"" ""^7.16.0""
-
-""@babel/helper-validator-identifier@^7.15.7"":
-  version ""7.15.7""
-  resolved ""https://registry.yarnpkg.com/@babel/helper-validator-identifier/-/helper-validator-identifier-7.15.7.tgz#220df993bfe904a4a6b02ab4f3385a5ebf6e2389""
-  integrity sha512-K4JvCtQqad9OY2+yTU8w+E82ywk/fe+ELNlt1G8z3bVGlZfn/hOcQQsUhGhW/N+tb3fxK800wLtKOE/aM0m72w==
-
-""@babel/highlight@^7.16.0"":
-  version ""7.16.0""
-  resolved ""https://registry.yarnpkg.com/@babel/highlight/-/highlight-7.16.0.tgz#6ceb32b2ca4b8f5f361fb7fd821e3fddf4a1725a""
-  integrity sha512-t8MH41kUQylBtu2+4IQA3atqevA2lRgqA2wyVB/YiWmsDSuylZZuXOUy9ric30hfzauEFfdsuk/eXTRrGrfd0g==
-  dependencies:
-    ""@babel/helper-validator-identifier"" ""^7.15.7""
-    chalk ""^2.0.0""
-    js-tokens ""^4.0.0""
-
-""@babel/runtime-corejs3@^7.10.2"":
-  version ""7.16.3""
-  resolved ""https://registry.yarnpkg.com/@babel/runtime-corejs3/-/runtime-corejs3-7.16.3.tgz#1e25de4fa994c57c18e5fdda6cc810dac70f5590""
-  integrity sha512-IAdDC7T0+wEB4y2gbIL0uOXEYpiZEeuFUTVbdGq+UwCcF35T/tS8KrmMomEwEc5wBbyfH3PJVpTSUqrhPDXFcQ==
-  dependencies:
-    core-js-pure ""^3.19.0""
-    regenerator-runtime ""^0.13.4""
-
-""@babel/runtime@^7.10.2"", ""@babel/runtime@^7.16.3"":
-  version ""7.16.3""
-  resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.16.3.tgz#b86f0db02a04187a3c17caa77de69840165d42d5""
-  integrity sha512-WBwekcqacdY2e9AF/Q7WLFUWmdJGJTkbjqTjoMDgXkVZ3ZRUvOPsLb5KdwISoQVsbP+DQzVZW4Zhci0DvpbNTQ==
-  dependencies:
-    regenerator-runtime ""^0.13.4""
-
-""@eslint/eslintrc@^1.2.1"":
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/@eslint/eslintrc/-/eslintrc-1.2.1.tgz#8b5e1c49f4077235516bc9ec7d41378c0f69b8c6""
-  integrity sha512-bxvbYnBPN1Gibwyp6NrpnFzA3YtRL3BBAyEAFVIpNTm2Rn4Vy87GA5M4aSn3InRrlsbX5N0GW7XIx+U4SAEKdQ==
-  dependencies:
-    ajv ""^6.12.4""
-    debug ""^4.3.2""
-    espree ""^9.3.1""
-    globals ""^13.9.0""
-    ignore ""^5.2.0""
-    import-fresh ""^3.2.1""
-    js-yaml ""^4.1.0""
-    minimatch ""^3.0.4""
-    strip-json-comments ""^3.1.1""
-
-""@humanwhocodes/config-array@^0.9.2"":
-  version ""0.9.5""
-  resolved ""https://registry.yarnpkg.com/@humanwhocodes/config-array/-/config-array-0.9.5.tgz#2cbaf9a89460da24b5ca6531b8bbfc23e1df50c7""
-  integrity sha512-ObyMyWxZiCu/yTisA7uzx81s40xR2fD5Cg/2Kq7G02ajkNubJf6BopgDTmDyc3U7sXpNKM8cYOw7s7Tyr+DnCw==
-  dependencies:
-    ""@humanwhocodes/object-schema"" ""^1.2.1""
-    debug ""^4.1.1""
-    minimatch ""^3.0.4""
-
-""@humanwhocodes/object-schema@^1.2.1"":
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/@humanwhocodes/object-schema/-/object-schema-1.2.1.tgz#b520529ec21d8e5945a1851dfd1c32e94e39ff45""
-  integrity sha512-ZnQMnLV4e7hDlUvw8H+U8ASL02SS2Gn6+9Ac3wGGLIe7+je2AeAOxPY+izIPJDfFDb7eDjev0Us8MO1iFRN8hA==
-
-""@next/env@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/env/-/env-12.1.4.tgz#5af629b43075281ecd7f87938802b7cf5b67e94b""
-  integrity sha512-7gQwotJDKnfMxxXd8xJ2vsX5AzyDxO3zou0+QOXX8/unypA6icw5+wf6A62yKZ6qQ4UZHHxS68pb6UV+wNneXg==
-
-""@next/eslint-plugin-next@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/eslint-plugin-next/-/eslint-plugin-next-12.1.4.tgz#9c52637af8eecab24dac3f2e5098376f6fc2dff4""
-  integrity sha512-BRy565KVK6Cdy8LHaHTiwctLqBu/RT84RLpESug70BDJzBlV8QBvODyx/j7wGhvYqp9kvstM05lyb6JaTkSCcQ==
-  dependencies:
-    glob ""7.1.7""
-
-""@next/swc-android-arm-eabi@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-android-arm-eabi/-/swc-android-arm-eabi-12.1.4.tgz#c3dae178b7c15ad627d2e9b8dfb38caecb5c4ac7""
-  integrity sha512-FJg/6a3s2YrUaqZ+/DJZzeZqfxbbWrynQMT1C5wlIEq9aDLXCFpPM/PiOyJh0ahxc0XPmi6uo38Poq+GJTuKWw==
-
-""@next/swc-android-arm64@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-android-arm64/-/swc-android-arm64-12.1.4.tgz#f320d60639e19ecffa1f9034829f2d95502a9a51""
-  integrity sha512-LXraazvQQFBgxIg3Htny6G5V5he9EK7oS4jWtMdTGIikmD/OGByOv8ZjLuVLZLtVm3UIvaAiGtlQSLecxJoJDw==
-
-""@next/swc-darwin-arm64@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-12.1.4.tgz#fd578278312613eddcf3aee26910100509941b63""
-  integrity sha512-SSST/dBymecllZxcqTCcSTCu5o1NKk9I+xcvhn/O9nH6GWjgvGgGkNqLbCarCa0jJ1ukvlBA138FagyrmZ/4rQ==
-
-""@next/swc-darwin-x64@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-12.1.4.tgz#ace5f80d8c8348efe194f6d7074c6213c52b3944""
-  integrity sha512-p1lwdX0TVjaoDXQVuAkjtxVBbCL/urgxiMCBwuPDO7TikpXtSRivi+mIzBj5q7ypgICFmIAOW3TyupXeoPRAnA==
-
-""@next/swc-linux-arm-gnueabihf@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm-gnueabihf/-/swc-linux-arm-gnueabihf-12.1.4.tgz#2bf2c83863635f19c71c226a2df936e001cce29c""
-  integrity sha512-67PZlgkCn3TDxacdVft0xqDCL7Io1/C4xbAs0+oSQ0xzp6OzN2RNpuKjHJrJgKd0DsE1XZ9sCP27Qv0591yfyg==
-
-""@next/swc-linux-arm64-gnu@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-12.1.4.tgz#d577190f641c9b4b463719dd6b8953b6ba9be8d9""
-  integrity sha512-OnOWixhhw7aU22TQdQLYrgpgFq0oA1wGgnjAiHJ+St7MLj82KTDyM9UcymAMbGYy6nG/TFOOHdTmRMtCRNOw0g==
-
-""@next/swc-linux-arm64-musl@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-12.1.4.tgz#e70ffe70393d8f9242deecdb282ce5a8fd588b14""
-  integrity sha512-UoRMzPZnsAavdWtVylYxH8DNC7Uy0i6RrvNwT4PyQVdfANBn2omsUkcH5lgS2O7oaz0nAYLk1vqyZDO7+tJotA==
-
-""@next/swc-linux-x64-gnu@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-12.1.4.tgz#91498a130387fb1961902f2bee55863f8e910cff""
-  integrity sha512-nM+MA/frxlTLUKLJKorctdI20/ugfHRjVEEkcLp/58LGG7slNaP1E5d5dRA1yX6ISjPcQAkywas5VlGCg+uTvA==
-
-""@next/swc-linux-x64-musl@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-12.1.4.tgz#78057b03c148c121553d41521ad38f6c732762ff""
-  integrity sha512-GoRHxkuW4u4yKw734B9SzxJwVdyEJosaZ62P7ifOwcujTxhgBt3y76V2nNUrsSuopcKI2ZTDjaa+2wd5zyeXbA==
-
-""@next/swc-win32-arm64-msvc@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-12.1.4.tgz#05bbaabacac23b8edf6caa99eb86b17550a09051""
-  integrity sha512-6TQkQze0ievXwHJcVUrIULwCYVe3ccX6T0JgZ1SiMeXpHxISN7VJF/O8uSCw1JvXZYZ6ud0CJ7nfC5HXivgfPg==
-
-""@next/swc-win32-ia32-msvc@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-12.1.4.tgz#8fd2fb48f04a2802e51fc320878bf6b411c1c866""
-  integrity sha512-CsbX/IXuZ5VSmWCpSetG2HD6VO5FTsO39WNp2IR2Ut/uom9XtLDJAZqjQEnbUTLGHuwDKFjrIO3LkhtROXLE/g==
-
-""@next/swc-win32-x64-msvc@12.1.4"":
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-12.1.4.tgz#a72ed44c9b1f850986a30fe36c59e01f8a79b5f3""
-  integrity sha512-JtYuWzKXKLDMgE/xTcFtCm1MiCIRaAc5XYZfYX3n/ZWSI1SJS/GMm+Su0SAHJgRFavJh6U/p998YwO/iGTIgqQ==
-
-""@nodelib/fs.scandir@2.1.4"":
-  version ""2.1.4""
-  resolved ""https://registry.yarnpkg.com/@nodelib/fs.scandir/-/fs.scandir-2.1.4.tgz#d4b3549a5db5de2683e0c1071ab4f140904bbf69""
-  integrity sha512-33g3pMJk3bg5nXbL/+CY6I2eJDzZAni49PfJnL5fghPTggPvBd/pFNSgJsdAgWptuFu7qq/ERvOYFlhvsLTCKA==
-  dependencies:
-    ""@nodelib/fs.stat"" ""2.0.4""
-    run-parallel ""^1.1.9""
-
-""@nodelib/fs.stat@2.0.4"", ""@nodelib/fs.stat@^2.0.2"":
-  version ""2.0.4""
-  resolved ""https://registry.yarnpkg.com/@nodelib/fs.stat/-/fs.stat-2.0.4.tgz#a3f2dd61bab43b8db8fa108a121cfffe4c676655""
-  integrity sha512-IYlHJA0clt2+Vg7bccq+TzRdJvv19c2INqBSsoOLp1je7xjtr7J26+WXR72MCdvU9q1qTzIWDfhMf+DRvQJK4Q==
-
-""@nodelib/fs.walk@^1.2.3"":
-  version ""1.2.6""
-  resolved ""https://registry.yarnpkg.com/@nodelib/fs.walk/-/fs.walk-1.2.6.tgz#cce9396b30aa5afe9e3756608f5831adcb53d063""
-  integrity sha512-8Broas6vTtW4GIXTAHDoE32hnN2M5ykgCpWGbuXHQ15vEMqr23pB76e/GZcYsZCHALv50ktd24qhEyKr6wBtow==
-  dependencies:
-    ""@nodelib/fs.scandir"" ""2.1.4""
-    fastq ""^1.6.0""
-
-""@rushstack/eslint-patch@1.0.8"":
-  version ""1.0.8""
-  resolved ""https://registry.yarnpkg.com/@rushstack/eslint-patch/-/eslint-patch-1.0.8.tgz#be3e914e84eacf16dbebd311c0d0b44aa1174c64""
-  integrity sha512-ZK5v4bJwgXldAUA8r3q9YKfCwOqoHTK/ZqRjSeRXQrBXWouoPnS4MQtgC4AXGiiBuUu5wxrRgTlv0ktmM4P1Aw==
-
-""@tailwindcss/typography@^0.5.2"":
-  version ""0.5.2""
-  resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.5.2.tgz#24b069dab24d7a2467d01aca0dd432cb4b29f0ee""
-  integrity sha512-coq8DBABRPFcVhVIk6IbKyyHUt7YTEC/C992tatFB+yEx5WGBQrCgsSFjxHUr8AWXphWckadVJbominEduYBqw==
-  dependencies:
-    lodash.castarray ""^4.4.0""
-    lodash.isplainobject ""^4.0.6""
-    lodash.merge ""^4.6.2""
-
-""@types/json5@^0.0.29"":
-  version ""0.0.29""
-  resolved ""https://registry.yarnpkg.com/@types/json5/-/json5-0.0.29.tgz#ee28707ae94e11d2b827bcbe5270bcea7f3e71ee""
-  integrity sha1-7ihweulOEdK4J7y+UnC86n8+ce4=
-
-""@types/node@^17.0.23"":
-  version ""17.0.23""
-  resolved ""https://registry.yarnpkg.com/@types/node/-/node-17.0.23.tgz#3b41a6e643589ac6442bdbd7a4a3ded62f33f7da""
-  integrity sha512-UxDxWn7dl97rKVeVS61vErvw086aCYhDLyvRQZ5Rk65rZKepaFdm53GeqXaKBuOhED4e9uWq34IC3TdSdJJ2Gw==
-
-""@types/parse-json@^4.0.0"":
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/@types/parse-json/-/parse-json-4.0.0.tgz#2f8bb441434d163b35fb8ffdccd7138927ffb8c0""
-  integrity sha512-//oorEZjL6sbPcKUaCdIGlIUeH26mgzimjBB77G6XRgnDl/L5wOnpyBGRe/Mmf5CVW3PwEBE1NjiMZ/ssFh4wA==
-
-""@types/prop-types@*"":
-  version ""15.7.3""
-  resolved ""https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.3.tgz#2ab0d5da2e5815f94b0b9d4b95d1e5f243ab2ca7""
-  integrity sha512-KfRL3PuHmqQLOG+2tGpRO26Ctg+Cq1E01D2DMriKEATHgWLfeNDmq9e29Q9WIky0dQ3NPkd1mzYH8Lm936Z9qw==
-
-""@types/react@^17.0.43"":
-  version ""17.0.44""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.44.tgz#c3714bd34dd551ab20b8015d9d0dbec812a51ec7""
-  integrity sha512-Ye0nlw09GeMp2Suh8qoOv0odfgCoowfM/9MG6WeRD60Gq9wS90bdkdRtYbRkNhXOpG4H+YXGvj4wOWhAC0LJ1g==
-  dependencies:
-    ""@types/prop-types"" ""*""
-    ""@types/scheduler"" ""*""
-    csstype ""^3.0.2""
-
-""@types/scheduler@*"":
-  version ""0.16.1""
-  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.1.tgz#18845205e86ff0038517aab7a18a62a6b9f71275""
-  integrity sha512-EaCxbanVeyxDRTQBkdLb3Bvl/HK7PBK6UJjsSixB0iHKoWxE5uu2Q/DgtpOhPIojN0Zl1whvOd7PoHs2P0s5eA==
-
-""@typescript-eslint/parser@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/parser/-/parser-5.10.1.tgz#4ce9633cc33fc70bc13786cb793c1a76fe5ad6bd""
-  integrity sha512-GReo3tjNBwR5RnRO0K2wDIDN31cM3MmDtgyQ85oAxAmC5K3j/g85IjP+cDfcqDsDDBf1HNKQAD0WqOYL8jXqUA==
-  dependencies:
-    ""@typescript-eslint/scope-manager"" ""5.10.1""
-    ""@typescript-eslint/types"" ""5.10.1""
-    ""@typescript-eslint/typescript-estree"" ""5.10.1""
-    debug ""^4.3.2""
-
-""@typescript-eslint/scope-manager@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/scope-manager/-/scope-manager-5.10.1.tgz#f0539c73804d2423506db2475352a4dec36cd809""
-  integrity sha512-Lyvi559Gvpn94k7+ElXNMEnXu/iundV5uFmCUNnftbFrUbAJ1WBoaGgkbOBm07jVZa682oaBU37ao/NGGX4ZDg==
-  dependencies:
-    ""@typescript-eslint/types"" ""5.10.1""
-    ""@typescript-eslint/visitor-keys"" ""5.10.1""
-
-""@typescript-eslint/types@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/types/-/types-5.10.1.tgz#dca9bd4cb8c067fc85304a31f38ec4766ba2d1ea""
-  integrity sha512-ZvxQ2QMy49bIIBpTqFiOenucqUyjTQ0WNLhBM6X1fh1NNlYAC6Kxsx8bRTY3jdYsYg44a0Z/uEgQkohbR0H87Q==
-
-""@typescript-eslint/typescript-estree@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/typescript-estree/-/typescript-estree-5.10.1.tgz#b268e67be0553f8790ba3fe87113282977adda15""
-  integrity sha512-PwIGnH7jIueXv4opcwEbVGDATjGPO1dx9RkUl5LlHDSe+FXxPwFL5W/qYd5/NHr7f6lo/vvTrAzd0KlQtRusJQ==
-  dependencies:
-    ""@typescript-eslint/types"" ""5.10.1""
-    ""@typescript-eslint/visitor-keys"" ""5.10.1""
-    debug ""^4.3.2""
-    globby ""^11.0.4""
-    is-glob ""^4.0.3""
-    semver ""^7.3.5""
-    tsutils ""^3.21.0""
-
-""@typescript-eslint/visitor-keys@5.10.1"":
-  version ""5.10.1""
-  resolved ""https://registry.yarnpkg.com/@typescript-eslint/visitor-keys/-/visitor-keys-5.10.1.tgz#29102de692f59d7d34ecc457ed59ab5fc558010b""
-  integrity sha512-NjQ0Xinhy9IL979tpoTRuLKxMc0zJC7QVSdeerXs2/QvOy2yRkzX5dRb10X5woNUdJgU8G3nYRDlI33sq1K4YQ==
-  dependencies:
-    ""@typescript-eslint/types"" ""5.10.1""
-    eslint-visitor-keys ""^3.0.0""
-
-acorn-jsx@^5.3.1:
-  version ""5.3.2""
-  resolved ""https://registry.yarnpkg.com/acorn-jsx/-/acorn-jsx-5.3.2.tgz#7ed5bb55908b3b2f1bc55c6af1653bada7f07937""
-  integrity sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==
-
-acorn-node@^1.6.1:
-  version ""1.8.2""
-  resolved ""https://registry.yarnpkg.com/acorn-node/-/acorn-node-1.8.2.tgz#114c95d64539e53dede23de8b9d96df7c7ae2af8""
-  integrity sha512-8mt+fslDufLYntIoPAaIMUe/lrbrehIiwmR3t2k9LljIzoigEPF27eLk2hy8zSGzmR/ogr7zbRKINMo1u0yh5A==
-  dependencies:
-    acorn ""^7.0.0""
-    acorn-walk ""^7.0.0""
-    xtend ""^4.0.2""
-
-acorn-walk@^7.0.0:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/acorn-walk/-/acorn-walk-7.2.0.tgz#0de889a601203909b0fbe07b8938dc21d2e967bc""
-  integrity sha512-OPdCF6GsMIP+Az+aWfAAOEt2/+iVDKE7oy6lJ098aoe59oAmK76qV6Gw60SbZ8jHuG2wH058GF4pLFbYamYrVA==
-
-acorn@^7.0.0:
-  version ""7.4.1""
-  resolved ""https://registry.yarnpkg.com/acorn/-/acorn-7.4.1.tgz#feaed255973d2e77555b83dbc08851a6c63520fa""
-  integrity sha512-nQyp0o1/mNdbTO1PO6kHkwSrmgZ0MT/jCCpNiwbUjGoRN4dlBhqJtoQuCnEOKzgTVwg0ZWiCoQy6SxMebQVh8A==
-
-acorn@^8.7.0:
-  version ""8.7.0""
-  resolved ""https://registry.yarnpkg.com/acorn/-/acorn-8.7.0.tgz#90951fde0f8f09df93549481e5fc141445b791cf""
-  integrity sha512-V/LGr1APy+PXIwKebEWrkZPwoeoF+w1jiOBUmuxuiUIaOHtob8Qc9BTrYo7VuI5fR8tqsy+buA2WFooR5olqvQ==
-
-ajv@^6.10.0, ajv@^6.12.4:
-  version ""6.12.6""
-  resolved ""https://registry.yarnpkg.com/ajv/-/ajv-6.12.6.tgz#baf5a62e802b07d977034586f8c3baf5adf26df4""
-  integrity sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==
-  dependencies:
-    fast-deep-equal ""^3.1.1""
-    fast-json-stable-stringify ""^2.0.0""
-    json-schema-traverse ""^0.4.1""
-    uri-js ""^4.2.2""
-
-ansi-regex@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/ansi-regex/-/ansi-regex-5.0.1.tgz#082cb2c89c9fe8659a311a53bd6a4dc5301db304""
-  integrity sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==
-
-ansi-styles@^3.2.1:
-  version ""3.2.1""
-  resolved ""https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-3.2.1.tgz#41fbb20243e50b12be0f04b8dedbf07520ce841d""
-  integrity sha512-VT0ZI6kZRdTh8YyJw3SMbYm/u+NqfsAxEpWO0Pf9sq8/e94WxxOpPKx9FR1FlyCtOVDNOQ+8ntlqFxiRc+r5qA==
-  dependencies:
-    color-convert ""^1.9.0""
-
-ansi-styles@^4.1.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/ansi-styles/-/ansi-styles-4.3.0.tgz#edd803628ae71c04c85ae7a0906edad34b648937""
-  integrity sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==
-  dependencies:
-    color-convert ""^2.0.1""
-
-anymatch@~3.1.2:
-  version ""3.1.2""
-  resolved ""https://registry.yarnpkg.com/anymatch/-/anymatch-3.1.2.tgz#c0557c096af32f106198f4f4e2a383537e378716""
-  integrity sha512-P43ePfOAIupkguHUycrc4qJ9kz8ZiuOUijaETwX7THt0Y/GNK7v0aa8rY816xWjZ7rJdA5XdMcpVFTKMq+RvWg==
-  dependencies:
-    normalize-path ""^3.0.0""
-    picomatch ""^2.0.4""
-
-arg@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/arg/-/arg-5.0.1.tgz#eb0c9a8f77786cad2af8ff2b862899842d7b6adb""
-  integrity sha512-e0hDa9H2Z9AwFkk2qDlwhoMYE4eToKarchkQHovNdLTCYMHZHeRjI71crOh+dio4K6u1IcwubQqo79Ga4CyAQA==
-
-argparse@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/argparse/-/argparse-2.0.1.tgz#246f50f3ca78a3240f6c997e8a9bd1eac49e4b38""
-  integrity sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==
-
-aria-query@^4.2.2:
-  version ""4.2.2""
-  resolved ""https://registry.yarnpkg.com/aria-query/-/aria-query-4.2.2.tgz#0d2ca6c9aceb56b8977e9fed6aed7e15bbd2f83b""
-  integrity sha512-o/HelwhuKpTj/frsOsbNLNgnNGVIFsVP/SW2BSF14gVl7kAfMOJ6/8wUAUvG1R1NHKrfG+2sHZTu0yauT1qBrA==
-  dependencies:
-    ""@babel/runtime"" ""^7.10.2""
-    ""@babel/runtime-corejs3"" ""^7.10.2""
-
-array-includes@^3.1.3, array-includes@^3.1.4:
-  version ""3.1.4""
-  resolved ""https://registry.yarnpkg.com/array-includes/-/array-includes-3.1.4.tgz#f5b493162c760f3539631f005ba2bb46acb45ba9""
-  integrity sha512-ZTNSQkmWumEbiHO2GF4GmWxYVTiQyJy2XOTa15sdQSrvKn7l+180egQMqlrMOUMCyLMD7pmyQe4mMDUT6Behrw==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-    get-intrinsic ""^1.1.1""
-    is-string ""^1.0.7""
-
-array-union@^2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/array-union/-/array-union-2.1.0.tgz#b798420adbeb1de828d84acd8a2e23d3efe85e8d""
-  integrity sha512-HGyxoOTYUyCM6stUe6EJgnd4EoewAI7zMdfqO+kGjnlZmBDz/cR5pf8r/cR4Wq60sL/p0IkcjUEEPwS3GFrIyw==
-
-array.prototype.flat@^1.2.5:
-  version ""1.2.5""
-  resolved ""https://registry.yarnpkg.com/array.prototype.flat/-/array.prototype.flat-1.2.5.tgz#07e0975d84bbc7c48cd1879d609e682598d33e13""
-  integrity sha512-KaYU+S+ndVqyUnignHftkwc58o3uVU1jzczILJ1tN2YaIZpFIKBiP/x/j97E5MVPsaCloPbqWLB/8qCTVvT2qg==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.0""
-
-array.prototype.flatmap@^1.2.5:
-  version ""1.2.5""
-  resolved ""https://registry.yarnpkg.com/array.prototype.flatmap/-/array.prototype.flatmap-1.2.5.tgz#908dc82d8a406930fdf38598d51e7411d18d4446""
-  integrity sha512-08u6rVyi1Lj7oqWbS9nUxliETrtIROT4XGTA4D/LWGten6E3ocm7cy9SIrmNHOL5XVbVuckUp3X6Xyg8/zpvHA==
-  dependencies:
-    call-bind ""^1.0.0""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.0""
-
-ast-types-flow@^0.0.7:
-  version ""0.0.7""
-  resolved ""https://registry.yarnpkg.com/ast-types-flow/-/ast-types-flow-0.0.7.tgz#f70b735c6bca1a5c9c22d982c3e39e7feba3bdad""
-  integrity sha1-9wtzXGvKGlycItmCw+Oef+ujva0=
-
-autoprefixer@^10.4.4:
-  version ""10.4.4""
-  resolved ""https://registry.yarnpkg.com/autoprefixer/-/autoprefixer-10.4.4.tgz#3e85a245b32da876a893d3ac2ea19f01e7ea5a1e""
-  integrity sha512-Tm8JxsB286VweiZ5F0anmbyGiNI3v3wGv3mz9W+cxEDYB/6jbnj6GM9H9mK3wIL8ftgl+C07Lcwb8PG5PCCPzA==
-  dependencies:
-    browserslist ""^4.20.2""
-    caniuse-lite ""^1.0.30001317""
-    fraction.js ""^4.2.0""
-    normalize-range ""^0.1.2""
-    picocolors ""^1.0.0""
-    postcss-value-parser ""^4.2.0""
-
-axe-core@^4.3.5:
-  version ""4.3.5""
-  resolved ""https://registry.yarnpkg.com/axe-core/-/axe-core-4.3.5.tgz#78d6911ba317a8262bfee292aeafcc1e04b49cc5""
-  integrity sha512-WKTW1+xAzhMS5dJsxWkliixlO/PqC4VhmO9T4juNYcaTg9jzWiJsou6m5pxWYGfigWbwzJWeFY6z47a+4neRXA==
-
-axobject-query@^2.2.0:
-  version ""2.2.0""
-  resolved ""https://registry.yarnpkg.com/axobject-query/-/axobject-query-2.2.0.tgz#943d47e10c0b704aa42275e20edf3722648989be""
-  integrity sha512-Td525n+iPOOyUQIeBfcASuG6uJsDOITl7Mds5gFyerkWiX7qhUTdYUBlSgNMyVqtSJqwpt1kXGLdUt6SykLMRA==
-
-balanced-match@^1.0.0:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/balanced-match/-/balanced-match-1.0.2.tgz#e83e3a7e3f300b34cb9d87f615fa0cbf357690ee""
-  integrity sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==
-
-binary-extensions@^2.0.0:
-  version ""2.2.0""
-  resolved ""https://registry.yarnpkg.com/binary-extensions/-/binary-extensions-2.2.0.tgz#75f502eeaf9ffde42fc98829645be4ea76bd9e2d""
-  integrity sha512-jDctJ/IVQbZoJykoeHbhXpOlNBqGNcwXJKJog42E5HDPUwQTSdjCHdihjj0DlnheQ7blbT6dHOafNAiS8ooQKA==
-
-brace-expansion@^1.1.7:
-  version ""1.1.11""
-  resolved ""https://registry.yarnpkg.com/brace-expansion/-/brace-expansion-1.1.11.tgz#3c7fcbf529d87226f3d2f52b966ff5271eb441dd""
-  integrity sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==
-  dependencies:
-    balanced-match ""^1.0.0""
-    concat-map ""0.0.1""
-
-braces@^3.0.1, braces@~3.0.2:
-  version ""3.0.2""
-  resolved ""https://registry.yarnpkg.com/braces/-/braces-3.0.2.tgz#3454e1a462ee8d599e236df336cd9ea4f8afe107""
-  integrity sha512-b8um+L1RzM3WDSzvhm6gIz1yfTbBt6YTlcEKAvsmqCZZFw46z626lVj9j1yEPW33H5H+lBQpZMP1k8l+78Ha0A==
-  dependencies:
-    fill-range ""^7.0.1""
-
-browserslist@^4.20.2:
-  version ""4.20.2""
-  resolved ""https://registry.yarnpkg.com/browserslist/-/browserslist-4.20.2.tgz#567b41508757ecd904dab4d1c646c612cd3d4f88""
-  integrity sha512-CQOBCqp/9pDvDbx3xfMi+86pr4KXIf2FDkTTdeuYw8OxS9t898LA1Khq57gtufFILXpfgsSx5woNgsBgvGjpsA==
-  dependencies:
-    caniuse-lite ""^1.0.30001317""
-    electron-to-chromium ""^1.4.84""
-    escalade ""^3.1.1""
-    node-releases ""^2.0.2""
-    picocolors ""^1.0.0""
-
-call-bind@^1.0.0, call-bind@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/call-bind/-/call-bind-1.0.2.tgz#b1d4e89e688119c3c9a903ad30abb2f6a919be3c""
-  integrity sha512-7O+FbCihrB5WGbFYesctwmTKae6rOiIzmz1icreWJ+0aA7LJfuqhEso2T9ncpcFtzMQtzXf2QGGueWJGTYsqrA==
-  dependencies:
-    function-bind ""^1.1.1""
-    get-intrinsic ""^1.0.2""
-
-callsites@^3.0.0:
-  version ""3.1.0""
-  resolved ""https://registry.yarnpkg.com/callsites/-/callsites-3.1.0.tgz#b3630abd8943432f54b3f0519238e33cd7df2f73""
-  integrity sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==
-
-camelcase-css@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/camelcase-css/-/camelcase-css-2.0.1.tgz#ee978f6947914cc30c6b44741b6ed1df7f043fd5""
-  integrity sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==
-
-caniuse-lite@^1.0.30001283, caniuse-lite@^1.0.30001317:
-  version ""1.0.30001327""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001327.tgz#c1546d7d7bb66506f0ccdad6a7d07fc6d668c858""
-  integrity sha512-1/Cg4jlD9qjZzhbzkzEaAC2JHsP0WrOc8Rd/3a3LuajGzGWR/hD7TVyvq99VqmTy99eVh8Zkmdq213OgvgXx7w==
-
-chalk@^2.0.0:
-  version ""2.4.2""
-  resolved ""https://registry.yarnpkg.com/chalk/-/chalk-2.4.2.tgz#cd42541677a54333cf541a49108c1432b44c9424""
-  integrity sha512-Mti+f9lpJNcwF4tWV8/OrTTtF1gZi+f8FqlyAdouralcFWFQWF2+NgCHShjkCb+IFBLq9buZwE1xckQU4peSuQ==
-  dependencies:
-    ansi-styles ""^3.2.1""
-    escape-string-regexp ""^1.0.5""
-    supports-color ""^5.3.0""
-
-chalk@^4.0.0, chalk@^4.1.2:
-  version ""4.1.2""
-  resolved ""https://registry.yarnpkg.com/chalk/-/chalk-4.1.2.tgz#aac4e2b7734a740867aeb16bf02aad556a1e7a01""
-  integrity sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==
-  dependencies:
-    ansi-styles ""^4.1.0""
-    supports-color ""^7.1.0""
-
-chokidar@^3.5.3:
-  version ""3.5.3""
-  resolved ""https://registry.yarnpkg.com/chokidar/-/chokidar-3.5.3.tgz#1cf37c8707b932bd1af1ae22c0432e2acd1903bd""
-  integrity sha512-Dr3sfKRP6oTcjf2JmUmFJfeVMvXBdegxB0iVQ5eb2V10uFJUCAS8OByZdVAyVb8xXNz3GjjTgj9kLWsZTqE6kw==
-  dependencies:
-    anymatch ""~3.1.2""
-    braces ""~3.0.2""
-    glob-parent ""~5.1.2""
-    is-binary-path ""~2.1.0""
-    is-glob ""~4.0.1""
-    normalize-path ""~3.0.0""
-    readdirp ""~3.6.0""
-  optionalDependencies:
-    fsevents ""~2.3.2""
-
-clone@2.x:
-  version ""2.1.2""
-  resolved ""https://registry.yarnpkg.com/clone/-/clone-2.1.2.tgz#1b7f4b9f591f1e8f83670401600345a02887435f""
-  integrity sha1-G39Ln1kfHo+DZwQBYANFoCiHQ18=
-
-color-convert@^1.9.0:
-  version ""1.9.3""
-  resolved ""https://registry.yarnpkg.com/color-convert/-/color-convert-1.9.3.tgz#bb71850690e1f136567de629d2d5471deda4c1e8""
-  integrity sha512-QfAUtd+vFdAtFQcC8CCyYt1fYWxSqAiK2cSD6zDB8N3cpsEBAvRxp9zOGg6G/SHHJYAT88/az/IuDGALsNVbGg==
-  dependencies:
-    color-name ""1.1.3""
-
-color-convert@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/color-convert/-/color-convert-2.0.1.tgz#72d3a68d598c9bdb3af2ad1e84f21d896abd4de3""
-  integrity sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==
-  dependencies:
-    color-name ""~1.1.4""
-
-color-name@1.1.3:
-  version ""1.1.3""
-  resolved ""https://registry.yarnpkg.com/color-name/-/color-name-1.1.3.tgz#a7d0558bd89c42f795dd42328f740831ca53bc25""
-  integrity sha1-p9BVi9icQveV3UIyj3QIMcpTvCU=
-
-color-name@^1.1.4, color-name@~1.1.4:
-  version ""1.1.4""
-  resolved ""https://registry.yarnpkg.com/color-name/-/color-name-1.1.4.tgz#c2a09a87acbde69543de6f63fa3995c826c536a2""
-  integrity sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==
-
-concat-map@0.0.1:
-  version ""0.0.1""
-  resolved ""https://registry.yarnpkg.com/concat-map/-/concat-map-0.0.1.tgz#d8a96bd77fd68df7793a73036a3ba0d5405d477b""
-  integrity sha1-2Klr13/Wjfd5OnMDajug1UBdR3s=
-
-core-js-pure@^3.19.0:
-  version ""3.19.3""
-  resolved ""https://registry.yarnpkg.com/core-js-pure/-/core-js-pure-3.19.3.tgz#c69b2b36b58927317824994b532ec3f0f7e49607""
-  integrity sha512-N3JruInmCyt7EJj5mAq3csCgGYgiSqu7p7TQp2KOztr180/OAIxyIvL1FCjzgmQk/t3Yniua50Fsak7FShI9lA==
-
-cosmiconfig@^7.0.1:
-  version ""7.0.1""
-  resolved ""https://registry.yarnpkg.com/cosmiconfig/-/cosmiconfig-7.0.1.tgz#714d756522cace867867ccb4474c5d01bbae5d6d""
-  integrity sha512-a1YWNUV2HwGimB7dU2s1wUMurNKjpx60HxBB6xUM8Re+2s1g1IIfJvFR0/iCF+XHdE0GMTKTuLR32UQff4TEyQ==
-  dependencies:
-    ""@types/parse-json"" ""^4.0.0""
-    import-fresh ""^3.2.1""
-    parse-json ""^5.0.0""
-    path-type ""^4.0.0""
-    yaml ""^1.10.0""
-
-cross-spawn@^7.0.2:
-  version ""7.0.3""
-  resolved ""https://registry.yarnpkg.com/cross-spawn/-/cross-spawn-7.0.3.tgz#f73a85b9d5d41d045551c177e2882d4ac85728a6""
-  integrity sha512-iRDPJKUPVEND7dHPO8rkbOnPpyDygcDFtWjpeWNCgy8WP2rXcxXL8TskReQl6OrB2G7+UJrags1q15Fudc7G6w==
-  dependencies:
-    path-key ""^3.1.0""
-    shebang-command ""^2.0.0""
-    which ""^2.0.1""
-
-cssesc@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/cssesc/-/cssesc-3.0.0.tgz#37741919903b868565e1c09ea747445cd18983ee""
-  integrity sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==
-
-csstype@^3.0.2:
-  version ""3.0.8""
-  resolved ""https://registry.yarnpkg.com/csstype/-/csstype-3.0.8.tgz#d2266a792729fb227cd216fb572f43728e1ad340""
-  integrity sha512-jXKhWqXPmlUeoQnF/EhTtTl4C9SnrxSH/jZUih3jmO6lBKr99rP3/+FmrMj4EFpOXzMtXHAZkd3x0E6h6Fgflw==
-
-damerau-levenshtein@^1.0.7:
-  version ""1.0.7""
-  resolved ""https://registry.yarnpkg.com/damerau-levenshtein/-/damerau-levenshtein-1.0.7.tgz#64368003512a1a6992593741a09a9d31a836f55d""
-  integrity sha512-VvdQIPGdWP0SqFXghj79Wf/5LArmreyMsGLa6FG6iC4t3j7j5s71TrwWmT/4akbDQIqjfACkLZmjXhA7g2oUZw==
-
-debug@^2.6.9:
-  version ""2.6.9""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-2.6.9.tgz#5d128515df134ff327e90a4c93f4e077a536341f""
-  integrity sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==
-  dependencies:
-    ms ""2.0.0""
-
-debug@^3.2.7:
-  version ""3.2.7""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-3.2.7.tgz#72580b7e9145fb39b6676f9c5e5fb100b934179a""
-  integrity sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ==
-  dependencies:
-    ms ""^2.1.1""
-
-debug@^4.1.1:
-  version ""4.3.3""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-4.3.3.tgz#04266e0b70a98d4462e6e288e38259213332b664""
-  integrity sha512-/zxw5+vh1Tfv+4Qn7a5nsbcJKPaSvCDhojn6FEl9vupwK2VCSDtEiEtqr8DFtzYFOdz63LBkxec7DYuc2jon6Q==
-  dependencies:
-    ms ""2.1.2""
-
-debug@^4.3.2:
-  version ""4.3.4""
-  resolved ""https://registry.yarnpkg.com/debug/-/debug-4.3.4.tgz#1319f6579357f2338d3337d2cdd4914bb5dcc865""
-  integrity sha512-PRWFHuSU3eDtQJPvnNY7Jcket1j0t5OuOsFzPPzsekD52Zl8qUfFIPEiswXqIvHWGVHOgX+7G/vCNNhehwxfkQ==
-  dependencies:
-    ms ""2.1.2""
-
-deep-is@^0.1.3:
-  version ""0.1.4""
-  resolved ""https://registry.yarnpkg.com/deep-is/-/deep-is-0.1.4.tgz#a6f2dce612fadd2ef1f519b73551f17e85199831""
-  integrity sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==
-
-define-properties@^1.1.3:
-  version ""1.1.3""
-  resolved ""https://registry.yarnpkg.com/define-properties/-/define-properties-1.1.3.tgz#cf88da6cbee26fe6db7094f61d870cbd84cee9f1""
-  integrity sha512-3MqfYKj2lLzdMSf8ZIZE/V+Zuy+BgD6f164e8K2w7dgnpKArBDerGYpM46IYYcjnkdPNMjPk9A6VFB8+3SKlXQ==
-  dependencies:
-    object-keys ""^1.0.12""
-
-defined@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/defined/-/defined-1.0.0.tgz#c98d9bcef75674188e110969151199e39b1fa693""
-  integrity sha1-yY2bzvdWdBiOEQlpFRGZ45sfppM=
-
-detective@^5.2.0:
-  version ""5.2.0""
-  resolved ""https://registry.yarnpkg.com/detective/-/detective-5.2.0.tgz#feb2a77e85b904ecdea459ad897cc90a99bd2a7b""
-  integrity sha512-6SsIx+nUUbuK0EthKjv0zrdnajCCXVYGmbYYiYjFVpzcjwEs/JMDZ8tPRG29J/HhN56t3GJp2cGSWDRjjot8Pg==
-  dependencies:
-    acorn-node ""^1.6.1""
-    defined ""^1.0.0""
-    minimist ""^1.1.1""
-
-didyoumean@^1.2.2:
-  version ""1.2.2""
-  resolved ""https://registry.yarnpkg.com/didyoumean/-/didyoumean-1.2.2.tgz#989346ffe9e839b4555ecf5666edea0d3e8ad037""
-  integrity sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==
-
-dir-glob@^3.0.1:
-  version ""3.0.1""
-  resolved ""https://registry.yarnpkg.com/dir-glob/-/dir-glob-3.0.1.tgz#56dbf73d992a4a93ba1584f4534063fd2e41717f""
-  integrity sha512-WkrWp9GR4KXfKGYzOLmTuGVi1UWFfws377n9cc55/tb6DuqyF6pcQ5AbiHEshaDpY9v6oaSr2XCDidGmMwdzIA==
-  dependencies:
-    path-type ""^4.0.0""
-
-dlv@^1.1.3:
-  version ""1.1.3""
-  resolved ""https://registry.yarnpkg.com/dlv/-/dlv-1.1.3.tgz#5c198a8a11453596e751494d49874bc7732f2e79""
-  integrity sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==
-
-doctrine@^2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/doctrine/-/doctrine-2.1.0.tgz#5cd01fc101621b42c4cd7f5d1a66243716d3f39d""
-  integrity sha512-35mSku4ZXK0vfCuHEDAwt55dg2jNajHZ1odvF+8SSr82EsZY4QmXfuWso8oEd8zRhVObSN18aM0CjSdoBX7zIw==
-  dependencies:
-    esutils ""^2.0.2""
-
-doctrine@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/doctrine/-/doctrine-3.0.0.tgz#addebead72a6574db783639dc87a121773973961""
-  integrity sha512-yS+Q5i3hBf7GBkd4KG8a7eBNNWNGLTaEwwYWUijIYM7zrlYDM0BFXHjjPWlWZ1Rg7UaddZeIDmi9jF3HmqiQ2w==
-  dependencies:
-    esutils ""^2.0.2""
-
-electron-to-chromium@^1.4.84:
-  version ""1.4.106""
-  resolved ""https://registry.yarnpkg.com/electron-to-chromium/-/electron-to-chromium-1.4.106.tgz#e7a3bfa9d745dd9b9e597616cb17283cc349781a""
-  integrity sha512-ZYfpVLULm67K7CaaGP7DmjyeMY4naxsbTy+syVVxT6QHI1Ww8XbJjmr9fDckrhq44WzCrcC5kH3zGpdusxwwqg==
-
-emoji-regex@^9.2.2:
-  version ""9.2.2""
-  resolved ""https://registry.yarnpkg.com/emoji-regex/-/emoji-regex-9.2.2.tgz#840c8803b0d8047f4ff0cf963176b32d4ef3ed72""
-  integrity sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==
-
-error-ex@^1.3.1:
-  version ""1.3.2""
-  resolved ""https://registry.yarnpkg.com/error-ex/-/error-ex-1.3.2.tgz#b4ac40648107fdcdcfae242f428bea8a14d4f1bf""
-  integrity sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==
-  dependencies:
-    is-arrayish ""^0.2.1""
-
-es-abstract@^1.19.0, es-abstract@^1.19.1:
-  version ""1.19.1""
-  resolved ""https://registry.yarnpkg.com/es-abstract/-/es-abstract-1.19.1.tgz#d4885796876916959de78edaa0df456627115ec3""
-  integrity sha512-2vJ6tjA/UfqLm2MPs7jxVybLoB8i1t1Jd9R3kISld20sIxPcTbLuggQOUxeWeAvIUkduv/CfMjuh4WmiXr2v9w==
-  dependencies:
-    call-bind ""^1.0.2""
-    es-to-primitive ""^1.2.1""
-    function-bind ""^1.1.1""
-    get-intrinsic ""^1.1.1""
-    get-symbol-description ""^1.0.0""
-    has ""^1.0.3""
-    has-symbols ""^1.0.2""
-    internal-slot ""^1.0.3""
-    is-callable ""^1.2.4""
-    is-negative-zero ""^2.0.1""
-    is-regex ""^1.1.4""
-    is-shared-array-buffer ""^1.0.1""
-    is-string ""^1.0.7""
-    is-weakref ""^1.0.1""
-    object-inspect ""^1.11.0""
-    object-keys ""^1.1.1""
-    object.assign ""^4.1.2""
-    string.prototype.trimend ""^1.0.4""
-    string.prototype.trimstart ""^1.0.4""
-    unbox-primitive ""^1.0.1""
-
-es-to-primitive@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/es-to-primitive/-/es-to-primitive-1.2.1.tgz#e55cd4c9cdc188bcefb03b366c736323fc5c898a""
-  integrity sha512-QCOllgZJtaUo9miYBcLChTUaHNjJF3PYs1VidD7AwiEj1kYxKeQTctLAezAOH5ZKRH0g2IgPn6KwB4IT8iRpvA==
-  dependencies:
-    is-callable ""^1.1.4""
-    is-date-object ""^1.0.1""
-    is-symbol ""^1.0.2""
-
-escalade@^3.1.1:
-  version ""3.1.1""
-  resolved ""https://registry.yarnpkg.com/escalade/-/escalade-3.1.1.tgz#d8cfdc7000965c5a0174b4a82eaa5c0552742e40""
-  integrity sha512-k0er2gUkLf8O0zKJiAhmkTnJlTvINGv7ygDNPbeIsX/TJjGJZHuh9B2UxbsaEkmlEo9MfhrSzmhIlhRlI2GXnw==
-
-escape-string-regexp@^1.0.5:
-  version ""1.0.5""
-  resolved ""https://registry.yarnpkg.com/escape-string-regexp/-/escape-string-regexp-1.0.5.tgz#1b61c0562190a8dff6ae3bb2cf0200ca130b86d4""
-  integrity sha1-G2HAViGQqN/2rjuyzwIAyhMLhtQ=
-
-escape-string-regexp@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz#14ba83a5d373e3d311e5afca29cf5bfad965bf34""
-  integrity sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==
-
-eslint-config-next@^12.1.4:
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/eslint-config-next/-/eslint-config-next-12.1.4.tgz#939ea2ff33034763300bf1e62482cea91212d274""
-  integrity sha512-Uj0jrVjoQbg9qerxRjSHoOOv3PEzoZxpb8G9LYct25fsflP8xIiUq0l4WEu2KSB5owuLv5hie7wSMqPEsHj+bQ==
-  dependencies:
-    ""@next/eslint-plugin-next"" ""12.1.4""
-    ""@rushstack/eslint-patch"" ""1.0.8""
-    ""@typescript-eslint/parser"" ""5.10.1""
-    eslint-import-resolver-node ""0.3.4""
-    eslint-import-resolver-typescript ""2.4.0""
-    eslint-plugin-import ""2.25.2""
-    eslint-plugin-jsx-a11y ""6.5.1""
-    eslint-plugin-react ""7.29.1""
-    eslint-plugin-react-hooks ""4.3.0""
-
-eslint-import-resolver-node@0.3.4:
-  version ""0.3.4""
-  resolved ""https://registry.yarnpkg.com/eslint-import-resolver-node/-/eslint-import-resolver-node-0.3.4.tgz#85ffa81942c25012d8231096ddf679c03042c717""
-  integrity sha512-ogtf+5AB/O+nM6DIeBUNr2fuT7ot9Qg/1harBfBtaP13ekEWFQEEMP94BCB7zaNW3gyY+8SHYF00rnqYwXKWOA==
-  dependencies:
-    debug ""^2.6.9""
-    resolve ""^1.13.1""
-
-eslint-import-resolver-node@^0.3.6:
-  version ""0.3.6""
-  resolved ""https://registry.yarnpkg.com/eslint-import-resolver-node/-/eslint-import-resolver-node-0.3.6.tgz#4048b958395da89668252001dbd9eca6b83bacbd""
-  integrity sha512-0En0w03NRVMn9Uiyn8YRPDKvWjxCWkslUEhGNTdGx15RvPJYQ+lbOlqrlNI2vEAs4pDYK4f/HN2TbDmk5TP0iw==
-  dependencies:
-    debug ""^3.2.7""
-    resolve ""^1.20.0""
-
-eslint-import-resolver-typescript@2.4.0:
-  version ""2.4.0""
-  resolved ""https://registry.yarnpkg.com/eslint-import-resolver-typescript/-/eslint-import-resolver-typescript-2.4.0.tgz#ec1e7063ebe807f0362a7320543aaed6fe1100e1""
-  integrity sha512-useJKURidCcldRLCNKWemr1fFQL1SzB3G4a0li6lFGvlc5xGe1hY343bvG07cbpCzPuM/lK19FIJB3XGFSkplA==
-  dependencies:
-    debug ""^4.1.1""
-    glob ""^7.1.6""
-    is-glob ""^4.0.1""
-    resolve ""^1.17.0""
-    tsconfig-paths ""^3.9.0""
-
-eslint-module-utils@^2.7.0:
-  version ""2.7.3""
-  resolved ""https://registry.yarnpkg.com/eslint-module-utils/-/eslint-module-utils-2.7.3.tgz#ad7e3a10552fdd0642e1e55292781bd6e34876ee""
-  integrity sha512-088JEC7O3lDZM9xGe0RerkOMd0EjFl+Yvd1jPWIkMT5u3H9+HC34mWWPnqPrN13gieT9pBOO+Qt07Nb/6TresQ==
-  dependencies:
-    debug ""^3.2.7""
-    find-up ""^2.1.0""
-
-eslint-plugin-import@2.25.2:
-  version ""2.25.2""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-import/-/eslint-plugin-import-2.25.2.tgz#b3b9160efddb702fc1636659e71ba1d10adbe9e9""
-  integrity sha512-qCwQr9TYfoBHOFcVGKY9C9unq05uOxxdklmBXLVvcwo68y5Hta6/GzCZEMx2zQiu0woKNEER0LE7ZgaOfBU14g==
-  dependencies:
-    array-includes ""^3.1.4""
-    array.prototype.flat ""^1.2.5""
-    debug ""^2.6.9""
-    doctrine ""^2.1.0""
-    eslint-import-resolver-node ""^0.3.6""
-    eslint-module-utils ""^2.7.0""
-    has ""^1.0.3""
-    is-core-module ""^2.7.0""
-    is-glob ""^4.0.3""
-    minimatch ""^3.0.4""
-    object.values ""^1.1.5""
-    resolve ""^1.20.0""
-    tsconfig-paths ""^3.11.0""
-
-eslint-plugin-jsx-a11y@6.5.1:
-  version ""6.5.1""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-jsx-a11y/-/eslint-plugin-jsx-a11y-6.5.1.tgz#cdbf2df901040ca140b6ec14715c988889c2a6d8""
-  integrity sha512-sVCFKX9fllURnXT2JwLN5Qgo24Ug5NF6dxhkmxsMEUZhXRcGg+X3e1JbJ84YePQKBl5E0ZjAH5Q4rkdcGY99+g==
-  dependencies:
-    ""@babel/runtime"" ""^7.16.3""
-    aria-query ""^4.2.2""
-    array-includes ""^3.1.4""
-    ast-types-flow ""^0.0.7""
-    axe-core ""^4.3.5""
-    axobject-query ""^2.2.0""
-    damerau-levenshtein ""^1.0.7""
-    emoji-regex ""^9.2.2""
-    has ""^1.0.3""
-    jsx-ast-utils ""^3.2.1""
-    language-tags ""^1.0.5""
-    minimatch ""^3.0.4""
-
-eslint-plugin-react-hooks@4.3.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-react-hooks/-/eslint-plugin-react-hooks-4.3.0.tgz#318dbf312e06fab1c835a4abef00121751ac1172""
-  integrity sha512-XslZy0LnMn+84NEG9jSGR6eGqaZB3133L8xewQo3fQagbQuGt7a63gf+P1NGKZavEYEC3UXaWEAA/AqDkuN6xA==
-
-eslint-plugin-react@7.29.1:
-  version ""7.29.1""
-  resolved ""https://registry.yarnpkg.com/eslint-plugin-react/-/eslint-plugin-react-7.29.1.tgz#6c40bc83142bb63d132a1b3565e2ea655411f800""
-  integrity sha512-WtzRpHMhsOX05ZrkyaaqmLl2uXGqmYooCfBxftJKlkYdsltiufGgfU7uuoHwR2lBam2Kh/EIVID4aU9e3kbCMA==
-  dependencies:
-    array-includes ""^3.1.4""
-    array.prototype.flatmap ""^1.2.5""
-    doctrine ""^2.1.0""
-    estraverse ""^5.3.0""
-    jsx-ast-utils ""^2.4.1 || ^3.0.0""
-    minimatch ""^3.1.2""
-    object.entries ""^1.1.5""
-    object.fromentries ""^2.0.5""
-    object.hasown ""^1.1.0""
-    object.values ""^1.1.5""
-    prop-types ""^15.8.1""
-    resolve ""^2.0.0-next.3""
-    semver ""^6.3.0""
-    string.prototype.matchall ""^4.0.6""
-
-eslint-scope@^7.1.1:
-  version ""7.1.1""
-  resolved ""https://registry.yarnpkg.com/eslint-scope/-/eslint-scope-7.1.1.tgz#fff34894c2f65e5226d3041ac480b4513a163642""
-  integrity sha512-QKQM/UXpIiHcLqJ5AOyIW7XZmzjkzQXYE54n1++wb0u9V/abW3l9uQnxX8Z5Xd18xyKIMTUAyQ0k1e8pz6LUrw==
-  dependencies:
-    esrecurse ""^4.3.0""
-    estraverse ""^5.2.0""
-
-eslint-utils@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/eslint-utils/-/eslint-utils-3.0.0.tgz#8aebaface7345bb33559db0a1f13a1d2d48c3672""
-  integrity sha512-uuQC43IGctw68pJA1RgbQS8/NP7rch6Cwd4j3ZBtgo4/8Flj4eGE7ZYSZRN3iq5pVUv6GPdW5Z1RFleo84uLDA==
-  dependencies:
-    eslint-visitor-keys ""^2.0.0""
-
-eslint-visitor-keys@^2.0.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/eslint-visitor-keys/-/eslint-visitor-keys-2.1.0.tgz#f65328259305927392c938ed44eb0a5c9b2bd303""
-  integrity sha512-0rSmRBzXgDzIsD6mGdJgevzgezI534Cer5L/vyMX0kHzT/jiB43jRhd9YUlMGYLQy2zprNmoT8qasCGtY+QaKw==
-
-eslint-visitor-keys@^3.0.0, eslint-visitor-keys@^3.3.0:
-  version ""3.3.0""
-  resolved ""https://registry.yarnpkg.com/eslint-visitor-keys/-/eslint-visitor-keys-3.3.0.tgz#f6480fa6b1f30efe2d1968aa8ac745b862469826""
-  integrity sha512-mQ+suqKJVyeuwGYHAdjMFqjCyfl8+Ldnxuyp3ldiMBFKkvytrXUZWaiPCEav8qDHKty44bD+qV1IP4T+w+xXRA==
-
-eslint@^8.12.0:
-  version ""8.12.0""
-  resolved ""https://registry.yarnpkg.com/eslint/-/eslint-8.12.0.tgz#c7a5bd1cfa09079aae64c9076c07eada66a46e8e""
-  integrity sha512-it1oBL9alZg1S8UycLm5YDMAkIhtH6FtAzuZs6YvoGVldWjbS08BkAdb/ymP9LlAyq8koANu32U7Ib/w+UNh8Q==
-  dependencies:
-    ""@eslint/eslintrc"" ""^1.2.1""
-    ""@humanwhocodes/config-array"" ""^0.9.2""
-    ajv ""^6.10.0""
-    chalk ""^4.0.0""
-    cross-spawn ""^7.0.2""
-    debug ""^4.3.2""
-    doctrine ""^3.0.0""
-    escape-string-regexp ""^4.0.0""
-    eslint-scope ""^7.1.1""
-    eslint-utils ""^3.0.0""
-    eslint-visitor-keys ""^3.3.0""
-    espree ""^9.3.1""
-    esquery ""^1.4.0""
-    esutils ""^2.0.2""
-    fast-deep-equal ""^3.1.3""
-    file-entry-cache ""^6.0.1""
-    functional-red-black-tree ""^1.0.1""
-    glob-parent ""^6.0.1""
-    globals ""^13.6.0""
-    ignore ""^5.2.0""
-    import-fresh ""^3.0.0""
-    imurmurhash ""^0.1.4""
-    is-glob ""^4.0.0""
-    js-yaml ""^4.1.0""
-    json-stable-stringify-without-jsonify ""^1.0.1""
-    levn ""^0.4.1""
-    lodash.merge ""^4.6.2""
-    minimatch ""^3.0.4""
-    natural-compare ""^1.4.0""
-    optionator ""^0.9.1""
-    regexpp ""^3.2.0""
-    strip-ansi ""^6.0.1""
-    strip-json-comments ""^3.1.0""
-    text-table ""^0.2.0""
-    v8-compile-cache ""^2.0.3""
-
-espree@^9.3.1:
-  version ""9.3.1""
-  resolved ""https://registry.yarnpkg.com/espree/-/espree-9.3.1.tgz#8793b4bc27ea4c778c19908e0719e7b8f4115bcd""
-  integrity sha512-bvdyLmJMfwkV3NCRl5ZhJf22zBFo1y8bYh3VYb+bfzqNB4Je68P2sSuXyuFquzWLebHpNd2/d5uv7yoP9ISnGQ==
-  dependencies:
-    acorn ""^8.7.0""
-    acorn-jsx ""^5.3.1""
-    eslint-visitor-keys ""^3.3.0""
-
-esquery@^1.4.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/esquery/-/esquery-1.4.0.tgz#2148ffc38b82e8c7057dfed48425b3e61f0f24a5""
-  integrity sha512-cCDispWt5vHHtwMY2YrAQ4ibFkAL8RbH5YGBnZBc90MolvvfkkQcJro/aZiAQUlQ3qgrYS6D6v8Gc5G5CQsc9w==
-  dependencies:
-    estraverse ""^5.1.0""
-
-esrecurse@^4.3.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/esrecurse/-/esrecurse-4.3.0.tgz#7ad7964d679abb28bee72cec63758b1c5d2c9921""
-  integrity sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==
-  dependencies:
-    estraverse ""^5.2.0""
-
-estraverse@^5.1.0, estraverse@^5.2.0, estraverse@^5.3.0:
-  version ""5.3.0""
-  resolved ""https://registry.yarnpkg.com/estraverse/-/estraverse-5.3.0.tgz#2eea5290702f26ab8fe5370370ff86c965d21123""
-  integrity sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==
-
-esutils@^2.0.2:
-  version ""2.0.3""
-  resolved ""https://registry.yarnpkg.com/esutils/-/esutils-2.0.3.tgz#74d2eb4de0b8da1293711910d50775b9b710ef64""
-  integrity sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==
-
-fast-deep-equal@^3.1.1, fast-deep-equal@^3.1.3:
-  version ""3.1.3""
-  resolved ""https://registry.yarnpkg.com/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz#3a7d56b559d6cbc3eb512325244e619a65c6c525""
-  integrity sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==
-
-fast-glob@^3.2.11, fast-glob@^3.2.9:
-  version ""3.2.11""
-  resolved ""https://registry.yarnpkg.com/fast-glob/-/fast-glob-3.2.11.tgz#a1172ad95ceb8a16e20caa5c5e56480e5129c1d9""
-  integrity sha512-xrO3+1bxSo3ZVHAnqzyuewYT6aMFHRAd4Kcs92MAonjwQZLsK9d0SF1IyQ3k5PoirxTW0Oe/RqFgMQ6TcNE5Ew==
-  dependencies:
-    ""@nodelib/fs.stat"" ""^2.0.2""
-    ""@nodelib/fs.walk"" ""^1.2.3""
-    glob-parent ""^5.1.2""
-    merge2 ""^1.3.0""
-    micromatch ""^4.0.4""
-
-fast-json-stable-stringify@^2.0.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz#874bf69c6f404c2b5d99c481341399fd55892633""
-  integrity sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==
-
-fast-levenshtein@^2.0.6:
-  version ""2.0.6""
-  resolved ""https://registry.yarnpkg.com/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz#3d8a5c66883a16a30ca8643e851f19baa7797917""
-  integrity sha1-PYpcZog6FqMMqGQ+hR8Zuqd5eRc=
-
-fastq@^1.6.0:
-  version ""1.11.0""
-  resolved ""https://registry.yarnpkg.com/fastq/-/fastq-1.11.0.tgz#bb9fb955a07130a918eb63c1f5161cc32a5d0858""
-  integrity sha512-7Eczs8gIPDrVzT+EksYBcupqMyxSHXXrHOLRRxU2/DicV8789MRBRR8+Hc2uWzUupOs4YS4JzBmBxjjCVBxD/g==
-  dependencies:
-    reusify ""^1.0.4""
-
-file-entry-cache@^6.0.1:
-  version ""6.0.1""
-  resolved ""https://registry.yarnpkg.com/file-entry-cache/-/file-entry-cache-6.0.1.tgz#211b2dd9659cb0394b073e7323ac3c933d522027""
-  integrity sha512-7Gps/XWymbLk2QLYK4NzpMOrYjMhdIxXuIvy2QBsLE6ljuodKvdkWs/cpyJJ3CVIVpH0Oi1Hvg1ovbMzLdFBBg==
-  dependencies:
-    flat-cache ""^3.0.4""
-
-fill-range@^7.0.1:
-  version ""7.0.1""
-  resolved ""https://registry.yarnpkg.com/fill-range/-/fill-range-7.0.1.tgz#1919a6a7c75fe38b2c7c77e5198535da9acdda40""
-  integrity sha512-qOo9F+dMUmC2Lcb4BbVvnKJxTPjCm+RRpe4gDuGrzkL7mEVl/djYSu2OdQ2Pa302N4oqkSg9ir6jaLWJ2USVpQ==
-  dependencies:
-    to-regex-range ""^5.0.1""
-
-find-up@^2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/find-up/-/find-up-2.1.0.tgz#45d1b7e506c717ddd482775a2b77920a3c0c57a7""
-  integrity sha1-RdG35QbHF93UgndaK3eSCjwMV6c=
-  dependencies:
-    locate-path ""^2.0.0""
-
-flat-cache@^3.0.4:
-  version ""3.0.4""
-  resolved ""https://registry.yarnpkg.com/flat-cache/-/flat-cache-3.0.4.tgz#61b0338302b2fe9f957dcc32fc2a87f1c3048b11""
-  integrity sha512-dm9s5Pw7Jc0GvMYbshN6zchCA9RgQlzzEZX3vylR9IqFfS8XciblUXOKfW6SiuJ0e13eDYZoZV5wdrev7P3Nwg==
-  dependencies:
-    flatted ""^3.1.0""
-    rimraf ""^3.0.2""
-
-flatted@^3.1.0:
-  version ""3.2.4""
-  resolved ""https://registry.yarnpkg.com/flatted/-/flatted-3.2.4.tgz#28d9969ea90661b5134259f312ab6aa7929ac5e2""
-  integrity sha512-8/sOawo8tJ4QOBX8YlQBMxL8+RLZfxMQOif9o0KUKTNTjMYElWPE0r/m5VNFxTRd0NSw8qSy8dajrwX4RYI1Hw==
-
-fraction.js@^4.2.0:
-  version ""4.2.0""
-  resolved ""https://registry.yarnpkg.com/fraction.js/-/fraction.js-4.2.0.tgz#448e5109a313a3527f5a3ab2119ec4cf0e0e2950""
-  integrity sha512-MhLuK+2gUcnZe8ZHlaaINnQLl0xRIGRfcGk2yl8xoQAfHrSsL3rYu6FCmBdkdbhc9EPlwyGHewaRsvwRMJtAlA==
-
-fs.realpath@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/fs.realpath/-/fs.realpath-1.0.0.tgz#1504ad2523158caa40db4a2787cb01411994ea4f""
-  integrity sha1-FQStJSMVjKpA20onh8sBQRmU6k8=
-
-fsevents@~2.3.2:
-  version ""2.3.2""
-  resolved ""https://registry.yarnpkg.com/fsevents/-/fsevents-2.3.2.tgz#8a526f78b8fdf4623b709e0b975c52c24c02fd1a""
-  integrity sha512-xiqMQR4xAeHTuB9uWm+fFRcIOgKBMiOBP+eXiyT7jsgVCq1bkVygt00oASowB7EdtpOHaaPgKt812P9ab+DDKA==
-
-function-bind@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/function-bind/-/function-bind-1.1.1.tgz#a56899d3ea3c9bab874bb9773b7c5ede92f4895d""
-  integrity sha512-yIovAzMX49sF8Yl58fSCWJ5svSLuaibPxXQJFLmBObTuCr0Mf1KiPopGM9NiFjiYBCbfaa2Fh6breQ6ANVTI0A==
-
-functional-red-black-tree@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/functional-red-black-tree/-/functional-red-black-tree-1.0.1.tgz#1b0ab3bd553b2a0d6399d29c0e3ea0b252078327""
-  integrity sha1-GwqzvVU7Kg1jmdKcDj6gslIHgyc=
-
-get-intrinsic@^1.0.2, get-intrinsic@^1.1.0, get-intrinsic@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/get-intrinsic/-/get-intrinsic-1.1.1.tgz#15f59f376f855c446963948f0d24cd3637b4abc6""
-  integrity sha512-kWZrnVM42QCiEA2Ig1bG8zjoIMOgxWwYCEeNdwY6Tv/cOSeGpcoX4pXHfKUxNKVoArnrEr2e9srnAxxGIraS9Q==
-  dependencies:
-    function-bind ""^1.1.1""
-    has ""^1.0.3""
-    has-symbols ""^1.0.1""
-
-get-symbol-description@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/get-symbol-description/-/get-symbol-description-1.0.0.tgz#7fdb81c900101fbd564dd5f1a30af5aadc1e58d6""
-  integrity sha512-2EmdH1YvIQiZpltCNgkuiUnyukzxM/R6NDJX31Ke3BG1Nq5b0S2PhX59UKi9vZpPDQVdqn+1IcaAwnzTT5vCjw==
-  dependencies:
-    call-bind ""^1.0.2""
-    get-intrinsic ""^1.1.1""
-
-glob-parent@^5.1.2, glob-parent@~5.1.2:
-  version ""5.1.2""
-  resolved ""https://registry.yarnpkg.com/glob-parent/-/glob-parent-5.1.2.tgz#869832c58034fe68a4093c17dc15e8340d8401c4""
-  integrity sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==
-  dependencies:
-    is-glob ""^4.0.1""
-
-glob-parent@^6.0.1, glob-parent@^6.0.2:
-  version ""6.0.2""
-  resolved ""https://registry.yarnpkg.com/glob-parent/-/glob-parent-6.0.2.tgz#6d237d99083950c79290f24c7642a3de9a28f9e3""
-  integrity sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==
-  dependencies:
-    is-glob ""^4.0.3""
-
-glob@7.1.7:
-  version ""7.1.7""
-  resolved ""https://registry.yarnpkg.com/glob/-/glob-7.1.7.tgz#3b193e9233f01d42d0b3f78294bbeeb418f94a90""
-  integrity sha512-OvD9ENzPLbegENnYP5UUfJIirTg4+XwMWGaQfQTY0JenxNvvIKP3U3/tAQSPIu/lHxXYSZmpXlUHeqAIdKzBLQ==
-  dependencies:
-    fs.realpath ""^1.0.0""
-    inflight ""^1.0.4""
-    inherits ""2""
-    minimatch ""^3.0.4""
-    once ""^1.3.0""
-    path-is-absolute ""^1.0.0""
-
-glob@^7.1.3, glob@^7.1.6:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/glob/-/glob-7.2.0.tgz#d15535af7732e02e948f4c41628bd910293f6023""
-  integrity sha512-lmLf6gtyrPq8tTjSmrO94wBeQbFR3HbLHbuyD69wuyQkImp2hWqMGB47OX65FBkPffO641IP9jWa1z4ivqG26Q==
-  dependencies:
-    fs.realpath ""^1.0.0""
-    inflight ""^1.0.4""
-    inherits ""2""
-    minimatch ""^3.0.4""
-    once ""^1.3.0""
-    path-is-absolute ""^1.0.0""
-
-globals@^13.6.0, globals@^13.9.0:
-  version ""13.12.0""
-  resolved ""https://registry.yarnpkg.com/globals/-/globals-13.12.0.tgz#4d733760304230a0082ed96e21e5c565f898089e""
-  integrity sha512-uS8X6lSKN2JumVoXrbUz+uG4BYG+eiawqm3qFcT7ammfbUHeCBoJMlHcec/S3krSk73/AE/f0szYFmgAA3kYZg==
-  dependencies:
-    type-fest ""^0.20.2""
-
-globby@^11.0.4:
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/globby/-/globby-11.1.0.tgz#bd4be98bb042f83d796f7e3811991fbe82a0d34b""
-  integrity sha512-jhIXaOzy1sb8IyocaruWSn1TjmnBVs8Ayhcy83rmxNJ8q2uWKCAj3CnJY+KpGSXCueAPc0i05kVvVKtP1t9S3g==
-  dependencies:
-    array-union ""^2.1.0""
-    dir-glob ""^3.0.1""
-    fast-glob ""^3.2.9""
-    ignore ""^5.2.0""
-    merge2 ""^1.4.1""
-    slash ""^3.0.0""
-
-has-bigints@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/has-bigints/-/has-bigints-1.0.1.tgz#64fe6acb020673e3b78db035a5af69aa9d07b113""
-  integrity sha512-LSBS2LjbNBTf6287JEbEzvJgftkF5qFkmCo9hDRpAzKhUOlJ+hx8dd4USs00SgsUNwc4617J9ki5YtEClM2ffA==
-
-has-flag@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/has-flag/-/has-flag-3.0.0.tgz#b5d454dc2199ae225699f3467e5a07f3b955bafd""
-  integrity sha1-tdRU3CGZriJWmfNGfloH87lVuv0=
-
-has-flag@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/has-flag/-/has-flag-4.0.0.tgz#944771fd9c81c81265c4d6941860da06bb59479b""
-  integrity sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==
-
-has-symbols@^1.0.1, has-symbols@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/has-symbols/-/has-symbols-1.0.2.tgz#165d3070c00309752a1236a479331e3ac56f1423""
-  integrity sha512-chXa79rL/UC2KlX17jo3vRGz0azaWEx5tGqZg5pO3NUyEJVB17dMruQlzCCOfUvElghKcm5194+BCRvi2Rv/Gw==
-
-has-tostringtag@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/has-tostringtag/-/has-tostringtag-1.0.0.tgz#7e133818a7d394734f941e73c3d3f9291e658b25""
-  integrity sha512-kFjcSNhnlGV1kyoGk7OXKSawH5JOb/LzUc5w9B02hOTO0dfFRjbHQKvg1d6cf3HbeUmtU9VbbV3qzZ2Teh97WQ==
-  dependencies:
-    has-symbols ""^1.0.2""
-
-has@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/has/-/has-1.0.3.tgz#722d7cbfc1f6aa8241f16dd814e011e1f41e8796""
-  integrity sha512-f2dvO0VU6Oej7RkWJGrehjbzMAjFp5/VKPp5tTpWIV4JHHZK1/BxbFRtf/siA2SWTe09caDmVtYYzWEIbBS4zw==
-  dependencies:
-    function-bind ""^1.1.1""
-
-ignore@^5.2.0:
-  version ""5.2.0""
-  resolved ""https://registry.yarnpkg.com/ignore/-/ignore-5.2.0.tgz#6d3bac8fa7fe0d45d9f9be7bac2fc279577e345a""
-  integrity sha512-CmxgYGiEPCLhfLnpPp1MoRmifwEIOgjcHXxOBjv7mY96c+eWScsOP9c112ZyLdWHi0FxHjI+4uVhKYp/gcdRmQ==
-
-import-cwd@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/import-cwd/-/import-cwd-3.0.0.tgz#20845547718015126ea9b3676b7592fb8bd4cf92""
-  integrity sha512-4pnzH16plW+hgvRECbDWpQl3cqtvSofHWh44met7ESfZ8UZOWWddm8hEyDTqREJ9RbYHY8gi8DqmaelApoOGMg==
-  dependencies:
-    import-from ""^3.0.0""
-
-import-fresh@^3.0.0, import-fresh@^3.2.1:
-  version ""3.3.0""
-  resolved ""https://registry.yarnpkg.com/import-fresh/-/import-fresh-3.3.0.tgz#37162c25fcb9ebaa2e6e53d5b4d88ce17d9e0c2b""
-  integrity sha512-veYYhQa+D1QBKznvhUHxb8faxlrwUnxseDAbAp457E0wLNio2bOSKnjYDhMj+YiAq61xrMGhQk9iXVk5FzgQMw==
-  dependencies:
-    parent-module ""^1.0.0""
-    resolve-from ""^4.0.0""
-
-import-from@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/import-from/-/import-from-3.0.0.tgz#055cfec38cd5a27d8057ca51376d7d3bf0891966""
-  integrity sha512-CiuXOFFSzkU5x/CR0+z7T91Iht4CXgfCxVOFRhh2Zyhg5wOpWvvDLQUsWl+gcN+QscYBjez8hDCt85O7RLDttQ==
-  dependencies:
-    resolve-from ""^5.0.0""
-
-imurmurhash@^0.1.4:
-  version ""0.1.4""
-  resolved ""https://registry.yarnpkg.com/imurmurhash/-/imurmurhash-0.1.4.tgz#9218b9b2b928a238b13dc4fb6b6d576f231453ea""
-  integrity sha1-khi5srkoojixPcT7a21XbyMUU+o=
-
-inflight@^1.0.4:
-  version ""1.0.6""
-  resolved ""https://registry.yarnpkg.com/inflight/-/inflight-1.0.6.tgz#49bd6331d7d02d0c09bc910a1075ba8165b56df9""
-  integrity sha1-Sb1jMdfQLQwJvJEKEHW6gWW1bfk=
-  dependencies:
-    once ""^1.3.0""
-    wrappy ""1""
-
-inherits@2:
-  version ""2.0.4""
-  resolved ""https://registry.yarnpkg.com/inherits/-/inherits-2.0.4.tgz#0fa2c64f932917c3433a0ded55363aae37416b7c""
-  integrity sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ==
-
-internal-slot@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/internal-slot/-/internal-slot-1.0.3.tgz#7347e307deeea2faac2ac6205d4bc7d34967f59c""
-  integrity sha512-O0DB1JC/sPyZl7cIo78n5dR7eUSwwpYPiXRhTzNxZVAMUuB8vlnRFyLxdrVToks6XPLVnFfbzaVd5WLjhgg+vA==
-  dependencies:
-    get-intrinsic ""^1.1.0""
-    has ""^1.0.3""
-    side-channel ""^1.0.4""
-
-is-arrayish@^0.2.1:
-  version ""0.2.1""
-  resolved ""https://registry.yarnpkg.com/is-arrayish/-/is-arrayish-0.2.1.tgz#77c99840527aa8ecb1a8ba697b80645a7a926a9d""
-  integrity sha1-d8mYQFJ6qOyxqLppe4BkWnqSap0=
-
-is-bigint@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/is-bigint/-/is-bigint-1.0.1.tgz#6923051dfcbc764278540b9ce0e6b3213aa5ebc2""
-  integrity sha512-J0ELF4yHFxHy0cmSxZuheDOz2luOdVvqjwmEcj8H/L1JHeuEDSDbeRP+Dk9kFVk5RTFzbucJ2Kb9F7ixY2QaCg==
-
-is-binary-path@~2.1.0:
-  version ""2.1.0""
-  resolved ""https://registry.yarnpkg.com/is-binary-path/-/is-binary-path-2.1.0.tgz#ea1f7f3b80f064236e83470f86c09c254fb45b09""
-  integrity sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==
-  dependencies:
-    binary-extensions ""^2.0.0""
-
-is-boolean-object@^1.1.0:
-  version ""1.1.0""
-  resolved ""https://registry.yarnpkg.com/is-boolean-object/-/is-boolean-object-1.1.0.tgz#e2aaad3a3a8fca34c28f6eee135b156ed2587ff0""
-  integrity sha512-a7Uprx8UtD+HWdyYwnD1+ExtTgqQtD2k/1yJgtXP6wnMm8byhkoTZRl+95LLThpzNZJ5aEvi46cdH+ayMFRwmA==
-  dependencies:
-    call-bind ""^1.0.0""
-
-is-callable@^1.1.4:
-  version ""1.2.3""
-  resolved ""https://registry.yarnpkg.com/is-callable/-/is-callable-1.2.3.tgz#8b1e0500b73a1d76c70487636f368e519de8db8e""
-  integrity sha512-J1DcMe8UYTBSrKezuIUTUwjXsho29693unXM2YhJUTR2txK/eG47bvNa/wipPFmZFgr/N6f1GA66dv0mEyTIyQ==
-
-is-callable@^1.2.4:
-  version ""1.2.4""
-  resolved ""https://registry.yarnpkg.com/is-callable/-/is-callable-1.2.4.tgz#47301d58dd0259407865547853df6d61fe471945""
-  integrity sha512-nsuwtxZfMX67Oryl9LCQ+upnC0Z0BgpwntpS89m1H/TLF0zNfzfLMV/9Wa/6MZsj0acpEjAO0KF1xT6ZdLl95w==
-
-is-core-module@^2.2.0:
-  version ""2.3.0""
-  resolved ""https://registry.yarnpkg.com/is-core-module/-/is-core-module-2.3.0.tgz#d341652e3408bca69c4671b79a0954a3d349f887""
-  integrity sha512-xSphU2KG9867tsYdLD4RWQ1VqdFl4HTO9Thf3I/3dLEfr0dbPTWKsuCKrgqMljg4nPE+Gq0VCnzT3gr0CyBmsw==
-  dependencies:
-    has ""^1.0.3""
-
-is-core-module@^2.7.0, is-core-module@^2.8.1:
-  version ""2.8.1""
-  resolved ""https://registry.yarnpkg.com/is-core-module/-/is-core-module-2.8.1.tgz#f59fdfca701d5879d0a6b100a40aa1560ce27211""
-  integrity sha512-SdNCUs284hr40hFTFP6l0IfZ/RSrMXF3qgoRHd3/79unUTvrFO/JoXwkGm+5J/Oe3E/b5GsnG330uUNgRpu1PA==
-  dependencies:
-    has ""^1.0.3""
-
-is-date-object@^1.0.1:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/is-date-object/-/is-date-object-1.0.2.tgz#bda736f2cd8fd06d32844e7743bfa7494c3bfd7e""
-  integrity sha512-USlDT524woQ08aoZFzh3/Z6ch9Y/EWXEHQ/AaRN0SkKq4t2Jw2R2339tSXmwuVoY7LLlBCbOIlx2myP/L5zk0g==
-
-is-extglob@^2.1.1:
-  version ""2.1.1""
-  resolved ""https://registry.yarnpkg.com/is-extglob/-/is-extglob-2.1.1.tgz#a88c02535791f02ed37c76a1b9ea9773c833f8c2""
-  integrity sha1-qIwCU1eR8C7TfHahueqXc8gz+MI=
-
-is-glob@^4.0.0, is-glob@^4.0.3:
-  version ""4.0.3""
-  resolved ""https://registry.yarnpkg.com/is-glob/-/is-glob-4.0.3.tgz#64f61e42cbbb2eec2071a9dac0b28ba1e65d5084""
-  integrity sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==
-  dependencies:
-    is-extglob ""^2.1.1""
-
-is-glob@^4.0.1, is-glob@~4.0.1:
-  version ""4.0.1""
-  resolved ""https://registry.yarnpkg.com/is-glob/-/is-glob-4.0.1.tgz#7567dbe9f2f5e2467bc77ab83c4a29482407a5dc""
-  integrity sha512-5G0tKtBTFImOqDnLB2hG6Bp2qcKEFduo4tZu9MT/H6NQv/ghhy30o55ufafxJ/LdH79LLs2Kfrn85TLKyA7BUg==
-  dependencies:
-    is-extglob ""^2.1.1""
-
-is-negative-zero@^2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/is-negative-zero/-/is-negative-zero-2.0.1.tgz#3de746c18dda2319241a53675908d8f766f11c24""
-  integrity sha512-2z6JzQvZRa9A2Y7xC6dQQm4FSTSTNWjKIYYTt4246eMTJmIo0Q+ZyOsU66X8lxK1AbB92dFeglPLrhwpeRKO6w==
-
-is-number-object@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/is-number-object/-/is-number-object-1.0.4.tgz#36ac95e741cf18b283fc1ddf5e83da798e3ec197""
-  integrity sha512-zohwelOAur+5uXtk8O3GPQ1eAcu4ZX3UwxQhUlfFFMNpUd83gXgjbhJh6HmB6LUNV/ieOLQuDwJO3dWJosUeMw==
-
-is-number@^7.0.0:
-  version ""7.0.0""
-  resolved ""https://registry.yarnpkg.com/is-number/-/is-number-7.0.0.tgz#7535345b896734d5f80c4d06c50955527a14f12b""
-  integrity sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==
-
-is-regex@^1.1.4:
-  version ""1.1.4""
-  resolved ""https://registry.yarnpkg.com/is-regex/-/is-regex-1.1.4.tgz#eef5663cd59fa4c0ae339505323df6854bb15958""
-  integrity sha512-kvRdxDsxZjhzUX07ZnLydzS1TU/TJlTUHHY4YLL87e37oUA49DfkLqgy+VjFocowy29cKvcSiu+kIv728jTTVg==
-  dependencies:
-    call-bind ""^1.0.2""
-    has-tostringtag ""^1.0.0""
-
-is-shared-array-buffer@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/is-shared-array-buffer/-/is-shared-array-buffer-1.0.1.tgz#97b0c85fbdacb59c9c446fe653b82cf2b5b7cfe6""
-  integrity sha512-IU0NmyknYZN0rChcKhRO1X8LYz5Isj/Fsqh8NJOSf+N/hCOTwy29F32Ik7a+QszE63IdvmwdTPDd6cZ5pg4cwA==
-
-is-string@^1.0.5:
-  version ""1.0.5""
-  resolved ""https://registry.yarnpkg.com/is-string/-/is-string-1.0.5.tgz#40493ed198ef3ff477b8c7f92f644ec82a5cd3a6""
-  integrity sha512-buY6VNRjhQMiF1qWDouloZlQbRhDPCebwxSjxMjxgemYT46YMd2NR0/H+fBhEfWX4A/w9TBJ+ol+okqJKFE6vQ==
-
-is-string@^1.0.7:
-  version ""1.0.7""
-  resolved ""https://registry.yarnpkg.com/is-string/-/is-string-1.0.7.tgz#0dd12bf2006f255bb58f695110eff7491eebc0fd""
-  integrity sha512-tE2UXzivje6ofPW7l23cjDOMa09gb7xlAqG6jG5ej6uPV32TlWP3NKPigtaGeHNu9fohccRYvIiZMfOOnOYUtg==
-  dependencies:
-    has-tostringtag ""^1.0.0""
-
-is-symbol@^1.0.2, is-symbol@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/is-symbol/-/is-symbol-1.0.3.tgz#38e1014b9e6329be0de9d24a414fd7441ec61937""
-  integrity sha512-OwijhaRSgqvhm/0ZdAcXNZt9lYdKFpcRDT5ULUuYXPoT794UNOdU+gpT6Rzo7b4V2HUl/op6GqY894AZwv9faQ==
-  dependencies:
-    has-symbols ""^1.0.1""
-
-is-weakref@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/is-weakref/-/is-weakref-1.0.1.tgz#842dba4ec17fa9ac9850df2d6efbc1737274f2a2""
-  integrity sha512-b2jKc2pQZjaeFYWEf7ScFj+Be1I+PXmlu572Q8coTXZ+LD/QQZ7ShPMst8h16riVgyXTQwUsFEl74mDvc/3MHQ==
-  dependencies:
-    call-bind ""^1.0.0""
-
-isexe@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/isexe/-/isexe-2.0.0.tgz#e8fbf374dc556ff8947a10dcb0572d633f2cfa10""
-  integrity sha1-6PvzdNxVb/iUehDcsFctYz8s+hA=
-
-""js-tokens@^3.0.0 || ^4.0.0"", js-tokens@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/js-tokens/-/js-tokens-4.0.0.tgz#19203fb59991df98e3a287050d4647cdeaf32499""
-  integrity sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==
-
-js-yaml@^4.1.0:
-  version ""4.1.0""
-  resolved ""https://registry.yarnpkg.com/js-yaml/-/js-yaml-4.1.0.tgz#c1fb65f8f5017901cdd2c951864ba18458a10602""
-  integrity sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==
-  dependencies:
-    argparse ""^2.0.1""
-
-json-parse-even-better-errors@^2.3.0:
-  version ""2.3.1""
-  resolved ""https://registry.yarnpkg.com/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz#7c47805a94319928e05777405dc12e1f7a4ee02d""
-  integrity sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==
-
-json-schema-traverse@^0.4.1:
-  version ""0.4.1""
-  resolved ""https://registry.yarnpkg.com/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz#69f6a87d9513ab8bb8fe63bdb0979c448e684660""
-  integrity sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==
-
-json-stable-stringify-without-jsonify@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz#9db7b59496ad3f3cfef30a75142d2d930ad72651""
-  integrity sha1-nbe1lJatPzz+8wp1FC0tkwrXJlE=
-
-json5@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/json5/-/json5-1.0.1.tgz#779fb0018604fa854eacbf6252180d83543e3dbe""
-  integrity sha512-aKS4WQjPenRxiQsC93MNfjx+nbF4PAdYzmd/1JIj8HYzqfbu86beTuNgXDzPknWk0n0uARlyewZo4s++ES36Ow==
-  dependencies:
-    minimist ""^1.2.0""
-
-jsona@^1.8.0:
-  version ""1.9.2""
-  resolved ""https://registry.yarnpkg.com/jsona/-/jsona-1.9.2.tgz#6da69c7fe5846166b98a5b6d967cdbcfd781b044""
-  integrity sha512-+af2mw8JbVUBNVFymWhovX8OV02xBKYTt8oST4HOmyfrLMfdWpatSrhvdldUTTcByzbWb4tgPbaZXaAV5yAbfg==
-
-""jsx-ast-utils@^2.4.1 || ^3.0.0"", jsx-ast-utils@^3.2.1:
-  version ""3.2.1""
-  resolved ""https://registry.yarnpkg.com/jsx-ast-utils/-/jsx-ast-utils-3.2.1.tgz#720b97bfe7d901b927d87c3773637ae8ea48781b""
-  integrity sha512-uP5vu8xfy2F9A6LGC22KO7e2/vGTS1MhP+18f++ZNlf0Ohaxbc9nIEwHAsejlJKyzfZzU5UIhe5ItYkitcZnZA==
-  dependencies:
-    array-includes ""^3.1.3""
-    object.assign ""^4.1.2""
-
-language-subtag-registry@~0.3.2:
-  version ""0.3.21""
-  resolved ""https://registry.yarnpkg.com/language-subtag-registry/-/language-subtag-registry-0.3.21.tgz#04ac218bea46f04cb039084602c6da9e788dd45a""
-  integrity sha512-L0IqwlIXjilBVVYKFT37X9Ih11Um5NEl9cbJIuU/SwP/zEEAbBPOnEeeuxVMf45ydWQRDQN3Nqc96OgbH1K+Pg==
-
-language-tags@^1.0.5:
-  version ""1.0.5""
-  resolved ""https://registry.yarnpkg.com/language-tags/-/language-tags-1.0.5.tgz#d321dbc4da30ba8bf3024e040fa5c14661f9193a""
-  integrity sha1-0yHbxNowuovzAk4ED6XBRmH5GTo=
-  dependencies:
-    language-subtag-registry ""~0.3.2""
-
-levn@^0.4.1:
-  version ""0.4.1""
-  resolved ""https://registry.yarnpkg.com/levn/-/levn-0.4.1.tgz#ae4562c007473b932a6200d403268dd2fffc6ade""
-  integrity sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==
-  dependencies:
-    prelude-ls ""^1.2.1""
-    type-check ""~0.4.0""
-
-lilconfig@^2.0.3:
-  version ""2.0.4""
-  resolved ""https://registry.yarnpkg.com/lilconfig/-/lilconfig-2.0.4.tgz#f4507d043d7058b380b6a8f5cb7bcd4b34cee082""
-  integrity sha512-bfTIN7lEsiooCocSISTWXkiWJkRqtL9wYtYy+8EK3Y41qh3mpwPU0ycTOgjdY9ErwXCc8QyrQp82bdL0Xkm9yA==
-
-lines-and-columns@^1.1.6:
-  version ""1.2.4""
-  resolved ""https://registry.yarnpkg.com/lines-and-columns/-/lines-and-columns-1.2.4.tgz#eca284f75d2965079309dc0ad9255abb2ebc1632""
-  integrity sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==
-
-locate-path@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/locate-path/-/locate-path-2.0.0.tgz#2b568b265eec944c6d9c0de9c3dbbbca0354cd8e""
-  integrity sha1-K1aLJl7slExtnA3pw9u7ygNUzY4=
-  dependencies:
-    p-locate ""^2.0.0""
-    path-exists ""^3.0.0""
-
-lodash.castarray@^4.4.0:
-  version ""4.4.0""
-  resolved ""https://registry.yarnpkg.com/lodash.castarray/-/lodash.castarray-4.4.0.tgz#c02513515e309daddd4c24c60cfddcf5976d9115""
-  integrity sha1-wCUTUV4wna3dTCTGDP3c9ZdtkRU=
-
-lodash.isplainobject@^4.0.6:
-  version ""4.0.6""
-  resolved ""https://registry.yarnpkg.com/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz#7c526a52d89b45c45cc690b88163be0497f550cb""
-  integrity sha1-fFJqUtibRcRcxpC4gWO+BJf1UMs=
-
-lodash.merge@^4.6.2:
-  version ""4.6.2""
-  resolved ""https://registry.yarnpkg.com/lodash.merge/-/lodash.merge-4.6.2.tgz#558aa53b43b661e1925a0afdfa36a9a1085fe57a""
-  integrity sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==
-
-loose-envify@^1.1.0, loose-envify@^1.4.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/loose-envify/-/loose-envify-1.4.0.tgz#71ee51fa7be4caec1a63839f7e682d8132d30caf""
-  integrity sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==
-  dependencies:
-    js-tokens ""^3.0.0 || ^4.0.0""
-
-lru-cache@^6.0.0:
-  version ""6.0.0""
-  resolved ""https://registry.yarnpkg.com/lru-cache/-/lru-cache-6.0.0.tgz#6d6fe6570ebd96aaf90fcad1dafa3b2566db3a94""
-  integrity sha512-Jo6dJ04CmSjuznwJSS3pUeWmd/H0ffTlkXXgwZi+eq1UCmqQwCh+eLsYOYCwY991i2Fah4h1BEMCx4qThGbsiA==
-  dependencies:
-    yallist ""^4.0.0""
-
-merge2@^1.3.0, merge2@^1.4.1:
-  version ""1.4.1""
-  resolved ""https://registry.yarnpkg.com/merge2/-/merge2-1.4.1.tgz#4368892f885e907455a6fd7dc55c0c9d404990ae""
-  integrity sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==
-
-micromatch@^4.0.4:
-  version ""4.0.4""
-  resolved ""https://registry.yarnpkg.com/micromatch/-/micromatch-4.0.4.tgz#896d519dfe9db25fce94ceb7a500919bf881ebf9""
-  integrity sha512-pRmzw/XUcwXGpD9aI9q/0XOwLNygjETJ8y0ao0wdqprrzDa4YnxLcz7fQRZr8voh8V10kGhABbNcHVk5wHgWwg==
-  dependencies:
-    braces ""^3.0.1""
-    picomatch ""^2.2.3""
-
-minimatch@^3.0.4:
-  version ""3.0.4""
-  resolved ""https://registry.yarnpkg.com/minimatch/-/minimatch-3.0.4.tgz#5166e286457f03306064be5497e8dbb0c3d32083""
-  integrity sha512-yJHVQEhyqPLUTgt9B83PXu6W3rx4MvvHvSUvToogpwoGDOUQ+yDrR0HRot+yOCdCO7u4hX3pWft6kWBBcqh0UA==
-  dependencies:
-    brace-expansion ""^1.1.7""
-
-minimatch@^3.1.2:
-  version ""3.1.2""
-  resolved ""https://registry.yarnpkg.com/minimatch/-/minimatch-3.1.2.tgz#19cd194bfd3e428f049a70817c038d89ab4be35b""
-  integrity sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==
-  dependencies:
-    brace-expansion ""^1.1.7""
-
-minimist@^1.1.1, minimist@^1.2.0:
-  version ""1.2.6""
-  resolved ""https://registry.yarnpkg.com/minimist/-/minimist-1.2.6.tgz#8637a5b759ea0d6e98702cfb3a9283323c93af44""
-  integrity sha512-Jsjnk4bw3YJqYzbdyBiNsPWHPfO++UGG749Cxs6peCu5Xg4nrena6OVxOYxrQTqww0Jmwt+Ref8rggumkTLz9Q==
-
-ms@2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/ms/-/ms-2.0.0.tgz#5608aeadfc00be6c2901df5f9861788de0d597c8""
-  integrity sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g=
-
-ms@2.1.2:
-  version ""2.1.2""
-  resolved ""https://registry.yarnpkg.com/ms/-/ms-2.1.2.tgz#d09d1f357b443f493382a8eb3ccd183872ae6009""
-  integrity sha512-sGkPx+VjMtmA6MX27oA4FBFELFCZZ4S4XqeGOXCv68tT+jb3vk/RyaKWP0PTKyWtmLSM0b+adUTEvbs1PEaH2w==
-
-ms@^2.1.1:
-  version ""2.1.3""
-  resolved ""https://registry.yarnpkg.com/ms/-/ms-2.1.3.tgz#574c8138ce1d2b5861f0b44579dbadd60c6615b2""
-  integrity sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==
-
-nanoid@^3.1.30:
-  version ""3.1.30""
-  resolved ""https://registry.yarnpkg.com/nanoid/-/nanoid-3.1.30.tgz#63f93cc548d2a113dc5dfbc63bfa09e2b9b64362""
-  integrity sha512-zJpuPDwOv8D2zq2WRoMe1HsfZthVewpel9CAvTfc/2mBD1uUT/agc5f7GHGWXlYkFvi1mVxe4IjvP2HNrop7nQ==
-
-nanoid@^3.3.1:
-  version ""3.3.2""
-  resolved ""https://registry.yarnpkg.com/nanoid/-/nanoid-3.3.2.tgz#c89622fafb4381cd221421c69ec58547a1eec557""
-  integrity sha512-CuHBogktKwpm5g2sRgv83jEy2ijFzBwMoYA60orPDR7ynsLijJDqgsi4RDGj3OJpy3Ieb+LYwiRmIOGyytgITA==
-
-natural-compare@^1.4.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/natural-compare/-/natural-compare-1.4.0.tgz#4abebfeed7541f2c27acfb29bdbbd15c8d5ba4f7""
-  integrity sha1-Sr6/7tdUHywnrPspvbvRXI1bpPc=
-
-next-drupal@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/next-drupal/-/next-drupal-1.2.1.tgz#e5a6ae347d1bfb95c19b9b87c5acb3f38ed69def""
-  integrity sha512-XG/WajhlMyeLnwKHhIBhIxp7kPUgFkGqHuhOj4KWUIuTeunrMeWS85YGrsz/bPnfJDduA6Njo3ZzUj7pauQLJQ==
-  dependencies:
-    jsona ""^1.8.0""
-    node-cache ""^5.1.2""
-    qs ""^6.10.1""
-
-next@^12.1.4:
-  version ""12.1.4""
-  resolved ""https://registry.yarnpkg.com/next/-/next-12.1.4.tgz#597a9bdec7aec778b442c4f6d41afd2c64a54b23""
-  integrity sha512-DA4g97BM4Z0nKtDvCTm58RxdvoQyYzeg0AeVbh0N4Y/D8ELrNu47lQeEgRGF8hV4eQ+Sal90zxrJQQG/mPQ8CQ==
-  dependencies:
-    ""@next/env"" ""12.1.4""
-    caniuse-lite ""^1.0.30001283""
-    postcss ""8.4.5""
-    styled-jsx ""5.0.1""
-  optionalDependencies:
-    ""@next/swc-android-arm-eabi"" ""12.1.4""
-    ""@next/swc-android-arm64"" ""12.1.4""
-    ""@next/swc-darwin-arm64"" ""12.1.4""
-    ""@next/swc-darwin-x64"" ""12.1.4""
-    ""@next/swc-linux-arm-gnueabihf"" ""12.1.4""
-    ""@next/swc-linux-arm64-gnu"" ""12.1.4""
-    ""@next/swc-linux-arm64-musl"" ""12.1.4""
-    ""@next/swc-linux-x64-gnu"" ""12.1.4""
-    ""@next/swc-linux-x64-musl"" ""12.1.4""
-    ""@next/swc-win32-arm64-msvc"" ""12.1.4""
-    ""@next/swc-win32-ia32-msvc"" ""12.1.4""
-    ""@next/swc-win32-x64-msvc"" ""12.1.4""
-
-node-cache@^5.1.2:
-  version ""5.1.2""
-  resolved ""https://registry.yarnpkg.com/node-cache/-/node-cache-5.1.2.tgz#f264dc2ccad0a780e76253a694e9fd0ed19c398d""
-  integrity sha512-t1QzWwnk4sjLWaQAS8CHgOJ+RAfmHpxFWmc36IWTiWHQfs0w5JDMBS1b1ZxQteo0vVVuWJvIUKHDkkeK7vIGCg==
-  dependencies:
-    clone ""2.x""
-
-node-releases@^2.0.2:
-  version ""2.0.2""
-  resolved ""https://registry.yarnpkg.com/node-releases/-/node-releases-2.0.2.tgz#7139fe71e2f4f11b47d4d2986aaf8c48699e0c01""
-  integrity sha512-XxYDdcQ6eKqp/YjI+tb2C5WM2LgjnZrfYg4vgQt49EK268b6gYCHsBLrK2qvJo4FmCtqmKezb0WZFK4fkrZNsg==
-
-normalize-path@^3.0.0, normalize-path@~3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/normalize-path/-/normalize-path-3.0.0.tgz#0dcd69ff23a1c9b11fd0978316644a0388216a65""
-  integrity sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==
-
-normalize-range@^0.1.2:
-  version ""0.1.2""
-  resolved ""https://registry.yarnpkg.com/normalize-range/-/normalize-range-0.1.2.tgz#2d10c06bdfd312ea9777695a4d28439456b75942""
-  integrity sha1-LRDAa9/TEuqXd2laTShDlFa3WUI=
-
-object-assign@^4.1.1:
-  version ""4.1.1""
-  resolved ""https://registry.yarnpkg.com/object-assign/-/object-assign-4.1.1.tgz#2109adc7965887cfc05cbbd442cac8bfbb360863""
-  integrity sha1-IQmtx5ZYh8/AXLvUQsrIv7s2CGM=
-
-object-hash@^2.2.0:
-  version ""2.2.0""
-  resolved ""https://registry.yarnpkg.com/object-hash/-/object-hash-2.2.0.tgz#5ad518581eefc443bd763472b8ff2e9c2c0d54a5""
-  integrity sha512-gScRMn0bS5fH+IuwyIFgnh9zBdo4DV+6GhygmWM9HyNJSgS0hScp1f5vjtm7oIIOiT9trXrShAkLFSc2IqKNgw==
-
-object-inspect@^1.11.0:
-  version ""1.11.1""
-  resolved ""https://registry.yarnpkg.com/object-inspect/-/object-inspect-1.11.1.tgz#d4bd7d7de54b9a75599f59a00bd698c1f1c6549b""
-  integrity sha512-If7BjFlpkzzBeV1cqgT3OSWT3azyoxDGajR+iGnFBfVV2EWyDyWaZZW2ERDjUaY2QM8i5jI3Sj7mhsM4DDAqWA==
-
-object-inspect@^1.9.0:
-  version ""1.10.2""
-  resolved ""https://registry.yarnpkg.com/object-inspect/-/object-inspect-1.10.2.tgz#b6385a3e2b7cae0b5eafcf90cddf85d128767f30""
-  integrity sha512-gz58rdPpadwztRrPjZE9DZLOABUpTGdcANUgOwBFO1C+HZZhePoP83M65WGDmbpwFYJSWqavbl4SgDn4k8RYTA==
-
-object-keys@^1.0.12, object-keys@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/object-keys/-/object-keys-1.1.1.tgz#1c47f272df277f3b1daf061677d9c82e2322c60e""
-  integrity sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA==
-
-object.assign@^4.1.2:
-  version ""4.1.2""
-  resolved ""https://registry.yarnpkg.com/object.assign/-/object.assign-4.1.2.tgz#0ed54a342eceb37b38ff76eb831a0e788cb63940""
-  integrity sha512-ixT2L5THXsApyiUPYKmW+2EHpXXe5Ii3M+f4e+aJFAHao5amFRW6J0OO6c/LU8Be47utCx2GL89hxGB6XSmKuQ==
-  dependencies:
-    call-bind ""^1.0.0""
-    define-properties ""^1.1.3""
-    has-symbols ""^1.0.1""
-    object-keys ""^1.1.1""
-
-object.entries@^1.1.5:
-  version ""1.1.5""
-  resolved ""https://registry.yarnpkg.com/object.entries/-/object.entries-1.1.5.tgz#e1acdd17c4de2cd96d5a08487cfb9db84d881861""
-  integrity sha512-TyxmjUoZggd4OrrU1W66FMDG6CuqJxsFvymeyXI51+vQLN67zYfZseptRge703kKQdo4uccgAKebXFcRCzk4+g==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-object.fromentries@^2.0.5:
-  version ""2.0.5""
-  resolved ""https://registry.yarnpkg.com/object.fromentries/-/object.fromentries-2.0.5.tgz#7b37b205109c21e741e605727fe8b0ad5fa08251""
-  integrity sha512-CAyG5mWQRRiBU57Re4FKoTBjXfDoNwdFVH2Y1tS9PqCsfUTymAohOkEMSG3aRNKmv4lV3O7p1et7c187q6bynw==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-object.hasown@^1.1.0:
-  version ""1.1.0""
-  resolved ""https://registry.yarnpkg.com/object.hasown/-/object.hasown-1.1.0.tgz#7232ed266f34d197d15cac5880232f7a4790afe5""
-  integrity sha512-MhjYRfj3GBlhSkDHo6QmvgjRLXQ2zndabdf3nX0yTyZK9rPfxb6uRpAac8HXNLy1GpqWtZ81Qh4v3uOls2sRAg==
-  dependencies:
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-object.values@^1.1.5:
-  version ""1.1.5""
-  resolved ""https://registry.yarnpkg.com/object.values/-/object.values-1.1.5.tgz#959f63e3ce9ef108720333082131e4a459b716ac""
-  integrity sha512-QUZRW0ilQ3PnPpbNtgdNV1PDbEqLIiSFB3l+EnGtBQ/8SUTLj1PZwtQHABZtLgwpJZTSZhuGLOGk57Drx2IvYg==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-
-once@^1.3.0:
-  version ""1.4.0""
-  resolved ""https://registry.yarnpkg.com/once/-/once-1.4.0.tgz#583b1aa775961d4b113ac17d9c50baef9dd76bd1""
-  integrity sha1-WDsap3WWHUsROsF9nFC6753Xa9E=
-  dependencies:
-    wrappy ""1""
-
-optionator@^0.9.1:
-  version ""0.9.1""
-  resolved ""https://registry.yarnpkg.com/optionator/-/optionator-0.9.1.tgz#4f236a6373dae0566a6d43e1326674f50c291499""
-  integrity sha512-74RlY5FCnhq4jRxVUPKDaRwrVNXMqsGsiW6AJw4XK8hmtm10wC0ypZBLw5IIp85NZMr91+qd1RvvENwg7jjRFw==
-  dependencies:
-    deep-is ""^0.1.3""
-    fast-levenshtein ""^2.0.6""
-    levn ""^0.4.1""
-    prelude-ls ""^1.2.1""
-    type-check ""^0.4.0""
-    word-wrap ""^1.2.3""
-
-p-limit@^1.1.0:
-  version ""1.3.0""
-  resolved ""https://registry.yarnpkg.com/p-limit/-/p-limit-1.3.0.tgz#b86bd5f0c25690911c7590fcbfc2010d54b3ccb8""
-  integrity sha512-vvcXsLAJ9Dr5rQOPk7toZQZJApBl2K4J6dANSsEuh6QI41JYcsS/qhTGa9ErIUUgK3WNQoJYvylxvjqmiqEA9Q==
-  dependencies:
-    p-try ""^1.0.0""
-
-p-locate@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/p-locate/-/p-locate-2.0.0.tgz#20a0103b222a70c8fd39cc2e580680f3dde5ec43""
-  integrity sha1-IKAQOyIqcMj9OcwuWAaA893l7EM=
-  dependencies:
-    p-limit ""^1.1.0""
-
-p-try@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/p-try/-/p-try-1.0.0.tgz#cbc79cdbaf8fd4228e13f621f2b1a237c1b207b3""
-  integrity sha1-y8ec26+P1CKOE/Yh8rGiN8GyB7M=
-
-parent-module@^1.0.0:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/parent-module/-/parent-module-1.0.1.tgz#691d2709e78c79fae3a156622452d00762caaaa2""
-  integrity sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==
-  dependencies:
-    callsites ""^3.0.0""
-
-parse-json@^5.0.0:
-  version ""5.2.0""
-  resolved ""https://registry.yarnpkg.com/parse-json/-/parse-json-5.2.0.tgz#c76fc66dee54231c962b22bcc8a72cf2f99753cd""
-  integrity sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==
-  dependencies:
-    ""@babel/code-frame"" ""^7.0.0""
-    error-ex ""^1.3.1""
-    json-parse-even-better-errors ""^2.3.0""
-    lines-and-columns ""^1.1.6""
-
-path-exists@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/path-exists/-/path-exists-3.0.0.tgz#ce0ebeaa5f78cb18925ea7d810d7b59b010fd515""
-  integrity sha1-zg6+ql94yxiSXqfYENe1mwEP1RU=
-
-path-is-absolute@^1.0.0:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/path-is-absolute/-/path-is-absolute-1.0.1.tgz#174b9268735534ffbc7ace6bf53a5a9e1b5c5f5f""
-  integrity sha1-F0uSaHNVNP+8es5r9TpanhtcX18=
-
-path-key@^3.1.0:
-  version ""3.1.1""
-  resolved ""https://registry.yarnpkg.com/path-key/-/path-key-3.1.1.tgz#581f6ade658cbba65a0d3380de7753295054f375""
-  integrity sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==
-
-path-parse@^1.0.6:
-  version ""1.0.6""
-  resolved ""https://registry.yarnpkg.com/path-parse/-/path-parse-1.0.6.tgz#d62dbb5679405d72c4737ec58600e9ddcf06d24c""
-  integrity sha512-GSmOT2EbHrINBf9SR7CDELwlJ8AENk3Qn7OikK4nFYAu3Ote2+JYNVvkpAEQm3/TLNEJFD/xZJjzyxg3KBWOzw==
-
-path-parse@^1.0.7:
-  version ""1.0.7""
-  resolved ""https://registry.yarnpkg.com/path-parse/-/path-parse-1.0.7.tgz#fbc114b60ca42b30d9daf5858e4bd68bbedb6735""
-  integrity sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==
-
-path-type@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/path-type/-/path-type-4.0.0.tgz#84ed01c0a7ba380afe09d90a8c180dcd9d03043b""
-  integrity sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==
-
-picocolors@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/picocolors/-/picocolors-1.0.0.tgz#cb5bdc74ff3f51892236eaf79d68bc44564ab81c""
-  integrity sha512-1fygroTLlHu66zi26VoTDv8yRgm0Fccecssto+MhsZ0D/DGW2sm8E8AjW7NU5VVTRt5GxbeZ5qBuJr+HyLYkjQ==
-
-picomatch@^2.0.4, picomatch@^2.2.1, picomatch@^2.2.3:
-  version ""2.2.3""
-  resolved ""https://registry.yarnpkg.com/picomatch/-/picomatch-2.2.3.tgz#465547f359ccc206d3c48e46a1bcb89bf7ee619d""
-  integrity sha512-KpELjfwcCDUb9PeigTs2mBJzXUPzAuP2oPcA989He8Rte0+YUAjw1JVedDhuTKPkHjSYzMN3npC9luThGYEKdg==
-
-postcss-js@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/postcss-js/-/postcss-js-4.0.0.tgz#31db79889531b80dc7bc9b0ad283e418dce0ac00""
-  integrity sha512-77QESFBwgX4irogGVPgQ5s07vLvFqWr228qZY+w6lW599cRlK/HmnlivnnVUxkjHnCu4J16PDMHcH+e+2HbvTQ==
-  dependencies:
-    camelcase-css ""^2.0.1""
-
-postcss-load-config@^3.1.0:
-  version ""3.1.0""
-  resolved ""https://registry.yarnpkg.com/postcss-load-config/-/postcss-load-config-3.1.0.tgz#d39c47091c4aec37f50272373a6a648ef5e97829""
-  integrity sha512-ipM8Ds01ZUophjDTQYSVP70slFSYg3T0/zyfII5vzhN6V57YSxMgG5syXuwi5VtS8wSf3iL30v0uBdoIVx4Q0g==
-  dependencies:
-    import-cwd ""^3.0.0""
-    lilconfig ""^2.0.3""
-    yaml ""^1.10.2""
-
-postcss-nested@5.0.6:
-  version ""5.0.6""
-  resolved ""https://registry.yarnpkg.com/postcss-nested/-/postcss-nested-5.0.6.tgz#466343f7fc8d3d46af3e7dba3fcd47d052a945bc""
-  integrity sha512-rKqm2Fk0KbA8Vt3AdGN0FB9OBOMDVajMG6ZCf/GoHgdxUJ4sBFp0A/uMIRm+MJUdo33YXEtjqIz8u7DAp8B7DA==
-  dependencies:
-    postcss-selector-parser ""^6.0.6""
-
-postcss-selector-parser@^6.0.6:
-  version ""6.0.7""
-  resolved ""https://registry.yarnpkg.com/postcss-selector-parser/-/postcss-selector-parser-6.0.7.tgz#48404830a635113a71fd79397de8209ed05a66fc""
-  integrity sha512-U+b/Deoi4I/UmE6KOVPpnhS7I7AYdKbhGcat+qTQ27gycvaACvNEw11ba6RrkwVmDVRW7sigWgLj4/KbbJjeDA==
-  dependencies:
-    cssesc ""^3.0.0""
-    util-deprecate ""^1.0.2""
-
-postcss-selector-parser@^6.0.9:
-  version ""6.0.10""
-  resolved ""https://registry.yarnpkg.com/postcss-selector-parser/-/postcss-selector-parser-6.0.10.tgz#79b61e2c0d1bfc2602d549e11d0876256f8df88d""
-  integrity sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==
-  dependencies:
-    cssesc ""^3.0.0""
-    util-deprecate ""^1.0.2""
-
-postcss-value-parser@^4.2.0:
-  version ""4.2.0""
-  resolved ""https://registry.yarnpkg.com/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz#723c09920836ba6d3e5af019f92bc0971c02e514""
-  integrity sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==
-
-postcss@8.4.5:
-  version ""8.4.5""
-  resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.5.tgz#bae665764dfd4c6fcc24dc0fdf7e7aa00cc77f95""
-  integrity sha512-jBDboWM8qpaqwkMwItqTQTiFikhs/67OYVvblFFTM7MrZjt6yMKd6r2kgXizEbTTljacm4NldIlZnhbjr84QYg==
-  dependencies:
-    nanoid ""^3.1.30""
-    picocolors ""^1.0.0""
-    source-map-js ""^1.0.1""
-
-postcss@^8.4.12, postcss@^8.4.6:
-  version ""8.4.12""
-  resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.12.tgz#1e7de78733b28970fa4743f7da6f3763648b1905""
-  integrity sha512-lg6eITwYe9v6Hr5CncVbK70SoioNQIq81nsaG86ev5hAidQvmOeETBqs7jm43K2F5/Ley3ytDtriImV6TpNiSg==
-  dependencies:
-    nanoid ""^3.3.1""
-    picocolors ""^1.0.0""
-    source-map-js ""^1.0.2""
-
-prelude-ls@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/prelude-ls/-/prelude-ls-1.2.1.tgz#debc6489d7a6e6b0e7611888cec880337d316396""
-  integrity sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==
-
-prop-types@^15.8.1:
-  version ""15.8.1""
-  resolved ""https://registry.yarnpkg.com/prop-types/-/prop-types-15.8.1.tgz#67d87bf1a694f48435cf332c24af10214a3140b5""
-  integrity sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==
-  dependencies:
-    loose-envify ""^1.4.0""
-    object-assign ""^4.1.1""
-    react-is ""^16.13.1""
-
-punycode@^2.1.0:
-  version ""2.1.1""
-  resolved ""https://registry.yarnpkg.com/punycode/-/punycode-2.1.1.tgz#b58b010ac40c22c5657616c8d2c2c02c7bf479ec""
-  integrity sha512-XRsRjdf+j5ml+y/6GKHPZbrF/8p2Yga0JPtdqTIY2Xe5ohJPD9saDJJLPvp9+NSBprVvevdXZybnj2cv8OEd0A==
-
-qs@^6.10.1:
-  version ""6.10.2""
-  resolved ""https://registry.yarnpkg.com/qs/-/qs-6.10.2.tgz#c1431bea37fc5b24c5bdbafa20f16bdf2a4b9ffe""
-  integrity sha512-mSIdjzqznWgfd4pMii7sHtaYF8rx8861hBO80SraY5GT0XQibWZWJSid0avzHGkDIZLImux2S5mXO0Hfct2QCw==
-  dependencies:
-    side-channel ""^1.0.4""
-
-queue-microtask@^1.2.2:
-  version ""1.2.3""
-  resolved ""https://registry.yarnpkg.com/queue-microtask/-/queue-microtask-1.2.3.tgz#4929228bbc724dfac43e0efb058caf7b6cfb6243""
-  integrity sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==
-
-quick-lru@^5.1.1:
-  version ""5.1.1""
-  resolved ""https://registry.yarnpkg.com/quick-lru/-/quick-lru-5.1.1.tgz#366493e6b3e42a3a6885e2e99d18f80fb7a8c932""
-  integrity sha512-WuyALRjWPDGtt/wzJiadO5AXY+8hZ80hVpe6MyivgraREW751X3SbhRvG3eLKOYN+8VEvqLcf3wdnt44Z4S4SA==
-
-react-dom@^17.0.2:
-  version ""17.0.2""
-  resolved ""https://registry.yarnpkg.com/react-dom/-/react-dom-17.0.2.tgz#ecffb6845e3ad8dbfcdc498f0d0a939736502c23""
-  integrity sha512-s4h96KtLDUQlsENhMn1ar8t2bEa+q/YAtj8pPPdIjPDGBDIVNsrD9aXNWqspUe6AzKCIG0C1HZZLqLV7qpOBGA==
-  dependencies:
-    loose-envify ""^1.1.0""
-    object-assign ""^4.1.1""
-    scheduler ""^0.20.2""
-
-react-is@^16.13.1:
-  version ""16.13.1""
-  resolved ""https://registry.yarnpkg.com/react-is/-/react-is-16.13.1.tgz#789729a4dc36de2999dc156dd6c1d9c18cea56a4""
-  integrity sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==
-
-react@^17.0.2:
-  version ""17.0.2""
-  resolved ""https://registry.yarnpkg.com/react/-/react-17.0.2.tgz#d0b5cc516d29eb3eee383f75b62864cfb6800037""
-  integrity sha512-gnhPt75i/dq/z3/6q/0asP78D0u592D5L1pd7M8P+dck6Fu/jJeL6iVVK23fptSUZj8Vjf++7wXA8UNclGQcbA==
-  dependencies:
-    loose-envify ""^1.1.0""
-    object-assign ""^4.1.1""
-
-readdirp@~3.6.0:
-  version ""3.6.0""
-  resolved ""https://registry.yarnpkg.com/readdirp/-/readdirp-3.6.0.tgz#74a370bd857116e245b29cc97340cd431a02a6c7""
-  integrity sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==
-  dependencies:
-    picomatch ""^2.2.1""
-
-regenerator-runtime@^0.13.4:
-  version ""0.13.7""
-  resolved ""https://registry.yarnpkg.com/regenerator-runtime/-/regenerator-runtime-0.13.7.tgz#cac2dacc8a1ea675feaabaeb8ae833898ae46f55""
-  integrity sha512-a54FxoJDIr27pgf7IgeQGxmqUNYrcV338lf/6gH456HZ/PhX+5BcwHXG9ajESmwe6WRO0tAzRUrRmNONWgkrew==
-
-regexp.prototype.flags@^1.3.1:
-  version ""1.3.1""
-  resolved ""https://registry.yarnpkg.com/regexp.prototype.flags/-/regexp.prototype.flags-1.3.1.tgz#7ef352ae8d159e758c0eadca6f8fcb4eef07be26""
-  integrity sha512-JiBdRBq91WlY7uRJ0ds7R+dU02i6LKi8r3BuQhNXn+kmeLN+EfHhfjqMRis1zJxnlu88hq/4dx0P2OP3APRTOA==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-
-regexpp@^3.2.0:
-  version ""3.2.0""
-  resolved ""https://registry.yarnpkg.com/regexpp/-/regexpp-3.2.0.tgz#0425a2768d8f23bad70ca4b90461fa2f1213e1b2""
-  integrity sha512-pq2bWo9mVD43nbts2wGv17XLiNLya+GklZ8kaDLV2Z08gDCsGpnKn9BFMepvWuHCbyVvY7J5o5+BVvoQbmlJLg==
-
-resolve-from@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/resolve-from/-/resolve-from-4.0.0.tgz#4abcd852ad32dd7baabfe9b40e00a36db5f392e6""
-  integrity sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==
-
-resolve-from@^5.0.0:
-  version ""5.0.0""
-  resolved ""https://registry.yarnpkg.com/resolve-from/-/resolve-from-5.0.0.tgz#c35225843df8f776df21c57557bc087e9dfdfc69""
-  integrity sha512-qYg9KP24dD5qka9J47d0aVky0N+b4fTU89LN9iDnjB5waksiC49rvMB0PrUJQGoTmH50XPiqOvAjDfaijGxYZw==
-
-resolve@^1.13.1, resolve@^1.17.0, resolve@^1.22.0:
-  version ""1.22.0""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-1.22.0.tgz#5e0b8c67c15df57a89bdbabe603a002f21731198""
-  integrity sha512-Hhtrw0nLeSrFQ7phPp4OOcVjLPIeMnRlr5mcnVuMe7M/7eBn98A3hmFRLoFo3DLZkivSYwhRUJTyPyWAk56WLw==
-  dependencies:
-    is-core-module ""^2.8.1""
-    path-parse ""^1.0.7""
-    supports-preserve-symlinks-flag ""^1.0.0""
-
-resolve@^1.20.0:
-  version ""1.20.0""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-1.20.0.tgz#629a013fb3f70755d6f0b7935cc1c2c5378b1975""
-  integrity sha512-wENBPt4ySzg4ybFQW2TT1zMQucPK95HSh/nq2CFTZVOGut2+pQvSsgtda4d26YrYcr067wjbmzOG8byDPBX63A==
-  dependencies:
-    is-core-module ""^2.2.0""
-    path-parse ""^1.0.6""
-
-resolve@^2.0.0-next.3:
-  version ""2.0.0-next.3""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-2.0.0-next.3.tgz#d41016293d4a8586a39ca5d9b5f15cbea1f55e46""
-  integrity sha512-W8LucSynKUIDu9ylraa7ueVZ7hc0uAgJBxVsQSKOXOyle8a93qXhcz+XAXZ8bIq2d6i4Ehddn6Evt+0/UwKk6Q==
-  dependencies:
-    is-core-module ""^2.2.0""
-    path-parse ""^1.0.6""
-
-reusify@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/reusify/-/reusify-1.0.4.tgz#90da382b1e126efc02146e90845a88db12925d76""
-  integrity sha512-U9nH88a3fc/ekCF1l0/UP1IosiuIjyTh7hBvXVMHYgVcfGvt897Xguj2UOLDeI5BG2m7/uwyaLVT6fbtCwTyzw==
-
-rimraf@^3.0.2:
-  version ""3.0.2""
-  resolved ""https://registry.yarnpkg.com/rimraf/-/rimraf-3.0.2.tgz#f1a5402ba6220ad52cc1282bac1ae3aa49fd061a""
-  integrity sha512-JZkJMZkAGFFPP2YqXZXPbMlMBgsxzE8ILs4lMIX/2o0L9UBw9O/Y3o6wFw/i9YLapcUJWwqbi3kdxIPdC62TIA==
-  dependencies:
-    glob ""^7.1.3""
-
-run-parallel@^1.1.9:
-  version ""1.2.0""
-  resolved ""https://registry.yarnpkg.com/run-parallel/-/run-parallel-1.2.0.tgz#66d1368da7bdf921eb9d95bd1a9229e7f21a43ee""
-  integrity sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==
-  dependencies:
-    queue-microtask ""^1.2.2""
-
-scheduler@^0.20.2:
-  version ""0.20.2""
-  resolved ""https://registry.yarnpkg.com/scheduler/-/scheduler-0.20.2.tgz#4baee39436e34aa93b4874bddcbf0fe8b8b50e91""
-  integrity sha512-2eWfGgAqqWFGqtdMmcL5zCMK1U8KlXv8SQFGglL3CEtd0aDVDWgeF/YoCmvln55m5zSk3J/20hTaSBeSObsQDQ==
-  dependencies:
-    loose-envify ""^1.1.0""
-    object-assign ""^4.1.1""
-
-semver@^6.3.0:
-  version ""6.3.0""
-  resolved ""https://registry.yarnpkg.com/semver/-/semver-6.3.0.tgz#ee0a64c8af5e8ceea67687b133761e1becbd1d3d""
-  integrity sha512-b39TBaTSfV6yBrapU89p5fKekE2m/NwnDocOVruQFS1/veMgdzuPcnOM34M6CwxW8jH/lxEa5rBoDeUwu5HHTw==
-
-semver@^7.3.5:
-  version ""7.3.5""
-  resolved ""https://registry.yarnpkg.com/semver/-/semver-7.3.5.tgz#0b621c879348d8998e4b0e4be94b3f12e6018ef7""
-  integrity sha512-PoeGJYh8HK4BTO/a9Tf6ZG3veo/A7ZVsYrSA6J8ny9nb3B1VrpkuN+z9OE5wfE5p6H4LchYZsegiQgbJD94ZFQ==
-  dependencies:
-    lru-cache ""^6.0.0""
-
-shebang-command@^2.0.0:
-  version ""2.0.0""
-  resolved ""https://registry.yarnpkg.com/shebang-command/-/shebang-command-2.0.0.tgz#ccd0af4f8835fbdc265b82461aaf0c36663f34ea""
-  integrity sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==
-  dependencies:
-    shebang-regex ""^3.0.0""
-
-shebang-regex@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/shebang-regex/-/shebang-regex-3.0.0.tgz#ae16f1644d873ecad843b0307b143362d4c42172""
-  integrity sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==
-
-side-channel@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/side-channel/-/side-channel-1.0.4.tgz#efce5c8fdc104ee751b25c58d4290011fa5ea2cf""
-  integrity sha512-q5XPytqFEIKHkGdiMIrY10mvLRvnQh42/+GoBlFW3b2LXLE2xxJpZFdm94we0BaoV3RwJyGqg5wS7epxTv0Zvw==
-  dependencies:
-    call-bind ""^1.0.0""
-    get-intrinsic ""^1.0.2""
-    object-inspect ""^1.9.0""
-
-slash@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/slash/-/slash-3.0.0.tgz#6539be870c165adbd5240220dbe361f1bc4d4634""
-  integrity sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q==
-
-source-map-js@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/source-map-js/-/source-map-js-1.0.1.tgz#a1741c131e3c77d048252adfa24e23b908670caf""
-  integrity sha512-4+TN2b3tqOCd/kaGRJ/sTYA0tR0mdXx26ipdolxcwtJVqEnqNYvlCAt1q3ypy4QMlYus+Zh34RNtYLoq2oQ4IA==
-
-source-map-js@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/source-map-js/-/source-map-js-1.0.2.tgz#adbc361d9c62df380125e7f161f71c826f1e490c""
-  integrity sha512-R0XvVJ9WusLiqTCEiGCmICCMplcCkIwwR11mOSD9CR5u+IXYdiseeEuXCVAjS54zqwkLcPNnmU4OeJ6tUrWhDw==
-
-string.prototype.matchall@^4.0.6:
-  version ""4.0.6""
-  resolved ""https://registry.yarnpkg.com/string.prototype.matchall/-/string.prototype.matchall-4.0.6.tgz#5abb5dabc94c7b0ea2380f65ba610b3a544b15fa""
-  integrity sha512-6WgDX8HmQqvEd7J+G6VtAahhsQIssiZ8zl7zKh1VDMFyL3hRTJP4FTNA3RbIp2TOQ9AYNDcc7e3fH0Qbup+DBg==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-    es-abstract ""^1.19.1""
-    get-intrinsic ""^1.1.1""
-    has-symbols ""^1.0.2""
-    internal-slot ""^1.0.3""
-    regexp.prototype.flags ""^1.3.1""
-    side-channel ""^1.0.4""
-
-string.prototype.trimend@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/string.prototype.trimend/-/string.prototype.trimend-1.0.4.tgz#e75ae90c2942c63504686c18b287b4a0b1a45f80""
-  integrity sha512-y9xCjw1P23Awk8EvTpcyL2NIr1j7wJ39f+k6lvRnSMz+mz9CGz9NYPelDk42kOz6+ql8xjfK8oYzy3jAP5QU5A==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-
-string.prototype.trimstart@^1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/string.prototype.trimstart/-/string.prototype.trimstart-1.0.4.tgz#b36399af4ab2999b4c9c648bd7a3fb2bb26feeed""
-  integrity sha512-jh6e984OBfvxS50tdY2nRZnoC5/mLFKOREQfw8t5yytkoUsJRNxvI/E39qu1sD0OtWI3OC0XgKSmcWwziwYuZw==
-  dependencies:
-    call-bind ""^1.0.2""
-    define-properties ""^1.1.3""
-
-strip-ansi@^6.0.1:
-  version ""6.0.1""
-  resolved ""https://registry.yarnpkg.com/strip-ansi/-/strip-ansi-6.0.1.tgz#9e26c63d30f53443e9489495b2105d37b67a85d9""
-  integrity sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==
-  dependencies:
-    ansi-regex ""^5.0.1""
-
-strip-bom@^3.0.0:
-  version ""3.0.0""
-  resolved ""https://registry.yarnpkg.com/strip-bom/-/strip-bom-3.0.0.tgz#2334c18e9c759f7bdd56fdef7e9ae3d588e68ed3""
-  integrity sha1-IzTBjpx1n3vdVv3vfprj1YjmjtM=
-
-strip-json-comments@^3.1.0, strip-json-comments@^3.1.1:
-  version ""3.1.1""
-  resolved ""https://registry.yarnpkg.com/strip-json-comments/-/strip-json-comments-3.1.1.tgz#31f1281b3832630434831c310c01cccda8cbe006""
-  integrity sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==
-
-styled-jsx@5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/styled-jsx/-/styled-jsx-5.0.1.tgz#78fecbbad2bf95ce6cd981a08918ce4696f5fc80""
-  integrity sha512-+PIZ/6Uk40mphiQJJI1202b+/dYeTVd9ZnMPR80pgiWbjIwvN2zIp4r9et0BgqBuShh48I0gttPlAXA7WVvBxw==
-
-supports-color@^5.3.0:
-  version ""5.5.0""
-  resolved ""https://registry.yarnpkg.com/supports-color/-/supports-color-5.5.0.tgz#e2e69a44ac8772f78a1ec0b35b689df6530efc8f""
-  integrity sha512-QjVjwdXIt408MIiAqCX4oUKsgU2EqAGzs2Ppkm4aQYbjm+ZEWEcW4SfFNTr4uMNZma0ey4f5lgLrkB0aX0QMow==
-  dependencies:
-    has-flag ""^3.0.0""
-
-supports-color@^7.1.0:
-  version ""7.2.0""
-  resolved ""https://registry.yarnpkg.com/supports-color/-/supports-color-7.2.0.tgz#1b7dcdcb32b8138801b3e478ba6a51caa89648da""
-  integrity sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==
-  dependencies:
-    has-flag ""^4.0.0""
-
-supports-preserve-symlinks-flag@^1.0.0:
-  version ""1.0.0""
-  resolved ""https://registry.yarnpkg.com/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz#6eda4bd344a3c94aea376d4cc31bc77311039e09""
-  integrity sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==
-
-tailwindcss@^3.0.23:
-  version ""3.0.23""
-  resolved ""https://registry.yarnpkg.com/tailwindcss/-/tailwindcss-3.0.23.tgz#c620521d53a289650872a66adfcb4129d2200d10""
-  integrity sha512-+OZOV9ubyQ6oI2BXEhzw4HrqvgcARY38xv3zKcjnWtMIZstEsXdI9xftd1iB7+RbOnj2HOEzkA0OyB5BaSxPQA==
-  dependencies:
-    arg ""^5.0.1""
-    chalk ""^4.1.2""
-    chokidar ""^3.5.3""
-    color-name ""^1.1.4""
-    cosmiconfig ""^7.0.1""
-    detective ""^5.2.0""
-    didyoumean ""^1.2.2""
-    dlv ""^1.1.3""
-    fast-glob ""^3.2.11""
-    glob-parent ""^6.0.2""
-    is-glob ""^4.0.3""
-    normalize-path ""^3.0.0""
-    object-hash ""^2.2.0""
-    postcss ""^8.4.6""
-    postcss-js ""^4.0.0""
-    postcss-load-config ""^3.1.0""
-    postcss-nested ""5.0.6""
-    postcss-selector-parser ""^6.0.9""
-    postcss-value-parser ""^4.2.0""
-    quick-lru ""^5.1.1""
-    resolve ""^1.22.0""
-
-text-table@^0.2.0:
-  version ""0.2.0""
-  resolved ""https://registry.yarnpkg.com/text-table/-/text-table-0.2.0.tgz#7f5ee823ae805207c00af2df4a84ec3fcfa570b4""
-  integrity sha1-f17oI66AUgfACvLfSoTsP8+lcLQ=
-
-to-regex-range@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/to-regex-range/-/to-regex-range-5.0.1.tgz#1648c44aae7c8d988a326018ed72f5b4dd0392e4""
-  integrity sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==
-  dependencies:
-    is-number ""^7.0.0""
-
-tsconfig-paths@^3.11.0, tsconfig-paths@^3.9.0:
-  version ""3.12.0""
-  resolved ""https://registry.yarnpkg.com/tsconfig-paths/-/tsconfig-paths-3.12.0.tgz#19769aca6ee8f6a1a341e38c8fa45dd9fb18899b""
-  integrity sha512-e5adrnOYT6zqVnWqZu7i/BQ3BnhzvGbjEjejFXO20lKIKpwTaupkCPgEfv4GZK1IBciJUEhYs3J3p75FdaTFVg==
-  dependencies:
-    ""@types/json5"" ""^0.0.29""
-    json5 ""^1.0.1""
-    minimist ""^1.2.0""
-    strip-bom ""^3.0.0""
-
-tslib@^1.8.1:
-  version ""1.14.1""
-  resolved ""https://registry.yarnpkg.com/tslib/-/tslib-1.14.1.tgz#cf2d38bdc34a134bcaf1091c41f6619e2f672d00""
-  integrity sha512-Xni35NKzjgMrwevysHTCArtLDpPvye8zV/0E4EyYn43P7/7qvQwPh9BGkHewbMulVntbigmcT7rdX3BNo9wRJg==
-
-tsutils@^3.21.0:
-  version ""3.21.0""
-  resolved ""https://registry.yarnpkg.com/tsutils/-/tsutils-3.21.0.tgz#b48717d394cea6c1e096983eed58e9d61715b623""
-  integrity sha512-mHKK3iUXL+3UF6xL5k0PEhKRUBKPBCv/+RkEOpjRWxxx27KKRBmmA60A9pgOUvMi8GKhRMPEmjBRPzs2W7O1OA==
-  dependencies:
-    tslib ""^1.8.1""
-
-type-check@^0.4.0, type-check@~0.4.0:
-  version ""0.4.0""
-  resolved ""https://registry.yarnpkg.com/type-check/-/type-check-0.4.0.tgz#07b8203bfa7056c0657050e3ccd2c37730bab8f1""
-  integrity sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==
-  dependencies:
-    prelude-ls ""^1.2.1""
-
-type-fest@^0.20.2:
-  version ""0.20.2""
-  resolved ""https://registry.yarnpkg.com/type-fest/-/type-fest-0.20.2.tgz#1bf207f4b28f91583666cb5fbd327887301cd5f4""
-  integrity sha512-Ne+eE4r0/iWnpAxD852z3A+N0Bt5RN//NjJwRd2VFHEmrywxf5vsZlh4R6lixl6B+wz/8d+maTSAkN1FIkI3LQ==
-
-typescript@^4.6.3:
-  version ""4.6.3""
-  resolved ""https://registry.yarnpkg.com/typescript/-/typescript-4.6.3.tgz#eefeafa6afdd31d725584c67a0eaba80f6fc6c6c""
-  integrity sha512-yNIatDa5iaofVozS/uQJEl3JRWLKKGJKh6Yaiv0GLGSuhpFJe7P3SbHZ8/yjAHRQwKRoA6YZqlfjXWmVzoVSMw==
-
-unbox-primitive@^1.0.1:
-  version ""1.0.1""
-  resolved ""https://registry.yarnpkg.com/unbox-primitive/-/unbox-primitive-1.0.1.tgz#085e215625ec3162574dc8859abee78a59b14471""
-  integrity sha512-tZU/3NqK3dA5gpE1KtyiJUrEB0lxnGkMFHptJ7q6ewdZ8s12QrODwNbhIJStmJkd1QDXa1NRA8aF2A1zk/Ypyw==
-  dependencies:
-    function-bind ""^1.1.1""
-    has-bigints ""^1.0.1""
-    has-symbols ""^1.0.2""
-    which-boxed-primitive ""^1.0.2""
-
-uri-js@^4.2.2:
-  version ""4.4.1""
-  resolved ""https://registry.yarnpkg.com/uri-js/-/uri-js-4.4.1.tgz#9b1a52595225859e55f669d928f88c6c57f2a77e""
-  integrity sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==
-  dependencies:
-    punycode ""^2.1.0""
-
-util-deprecate@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/util-deprecate/-/util-deprecate-1.0.2.tgz#450d4dc9fa70de732762fbd2d4a28981419a0ccf""
-  integrity sha1-RQ1Nyfpw3nMnYvvS1KKJgUGaDM8=
-
-v8-compile-cache@^2.0.3:
-  version ""2.3.0""
-  resolved ""https://registry.yarnpkg.com/v8-compile-cache/-/v8-compile-cache-2.3.0.tgz#2de19618c66dc247dcfb6f99338035d8245a2cee""
-  integrity sha512-l8lCEmLcLYZh4nbunNZvQCJc5pv7+RCwa8q/LdUx8u7lsWvPDKmpodJAJNwkAhJC//dFY48KuIEmjtd4RViDrA==
-
-which-boxed-primitive@^1.0.2:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/which-boxed-primitive/-/which-boxed-primitive-1.0.2.tgz#13757bc89b209b049fe5d86430e21cf40a89a8e6""
-  integrity sha512-bwZdv0AKLpplFY2KZRX6TvyuN7ojjr7lwkg6ml0roIy9YeuSr7JS372qlNW18UQYzgYK9ziGcerWqZOmEn9VNg==
-  dependencies:
-    is-bigint ""^1.0.1""
-    is-boolean-object ""^1.1.0""
-    is-number-object ""^1.0.4""
-    is-string ""^1.0.5""
-    is-symbol ""^1.0.3""
-
-which@^2.0.1:
-  version ""2.0.2""
-  resolved ""https://registry.yarnpkg.com/which/-/which-2.0.2.tgz#7c6a8dd0a636a0327e10b59c9286eee93f3f51b1""
-  integrity sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==
-  dependencies:
-    isexe ""^2.0.0""
-
-word-wrap@^1.2.3:
-  version ""1.2.3""
-  resolved ""https://registry.yarnpkg.com/word-wrap/-/word-wrap-1.2.3.tgz#610636f6b1f703891bd34771ccb17fb93b47079c""
-  integrity sha512-Hz/mrNwitNRh/HUAtM/VT/5VH+ygD6DV7mYKZAtHOrbs8U7lvPS6xf7EJKMF0uW1KJCl0H701g3ZGus+muE5vQ==
-
-wrappy@1:
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/wrappy/-/wrappy-1.0.2.tgz#b5243d8f3ec1aa35f1364605bc0d1036e30ab69f""
-  integrity sha1-tSQ9jz7BqjXxNkYFvA0QNuMKtp8=
-
-xtend@^4.0.2:
-  version ""4.0.2""
-  resolved ""https://registry.yarnpkg.com/xtend/-/xtend-4.0.2.tgz#bb72779f5fa465186b1f438f674fa347fdb5db54""
-  integrity sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ==
-
-yallist@^4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/yallist/-/yallist-4.0.0.tgz#9bb92790d9c0effec63be73519e11a35019a3a72""
-  integrity sha512-3wdGidZyq5PB084XLES5TpOSRA3wjXAlIWMhum2kRcv/41Sn2emQ0dycQW4uZXLejwKvg6EsvbdlVL+FYEct7A==
-
-yaml@^1.10.0, yaml@^1.10.2:
-  version ""1.10.2""
-  resolved ""https://registry.yarnpkg.com/yaml/-/yaml-1.10.2.tgz#2301c5ffbf12b467de8da2333a459e29e7920e4b""
-  integrity sha512-r3vXyErRCYJ7wg28yvBY5VSoAF8ZvlcW9/BwUzEtUsjvX/DKs24dIkuwjtuprwJJHsbyUbLApepYTR1BN4uHrg==",False,False,Environment / Configuration,6
chapter-three,next-drupal,b723ac59a35c1efce7a9bab509dee4b88a027531,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-12-13T16:33:32Z,GitHub,noreply@github.com,2023-12-13T16:33:32Z,"ci(next): add Drupal 10.1 to CI test matrix

Fixes #547",.github/workflows/next.yml;modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php,False,False,False,False,15,19,34,"---FILE: .github/workflows/next.yml---
@@ -13,14 +13,14 @@ jobs:
     strategy:
       matrix:
         # Supported PHP versions: https://www.drupal.org/docs/getting-started/system-requirements/php-requirements
-        php: [""8.0"", ""8.1"", ""8.2""]
+        php: [""8.1"", ""8.2"", ""8.3""]
         # Supported Drupal versions: https://www.drupal.org/project/drupal
-        drupal: [""9.5"", ""10.0""]
+        drupal: [""10.0"", ""10.1""]
         exclude:
-          - drupal: ""9.5""
-            php: ""8.2""
           - drupal: ""10.0""
-            php: ""8.0""
+            php: ""8.3""
+          - drupal: ""10.1""
+            php: ""8.3""
     name: Drupal ${{ matrix.drupal }} - PHP ${{ matrix.php }}
     services:
       mysql:
@@ -65,11 +65,6 @@ jobs:
           composer config allow-plugins true -n
           COMPOSER_MEMORY_LIMIT=-1 composer require drupal/core-dev --no-install
           composer install
-      - name: Add phpspec/prophecy-phpunit
-        run: |
-          cd ~/drupal
-          COMPOSER_MEMORY_LIMIT=-1 composer require --dev phpspec/prophecy-phpunit:^2 -W
-        if: ${{ startsWith(matrix.drupal, '9') }}
       - name: Run phpcs
         run: |
           ~/drupal/vendor/bin/phpcs -p -s --colors --standard=modules/next/phpcs.xml modules/next

---FILE: modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php---
@@ -7,6 +7,7 @@
 use Drupal\next\Entity\NextSite;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 use GuzzleHttp\ClientInterface;
+use GuzzleHttp\Psr7\Response as GuzzleResponse;
 use Prophecy\PhpUnit\ProphecyTrait;
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\HttpFoundation\Response;
@@ -84,7 +85,7 @@ public function testRevalidate() {
     $page->save();
     $this->container->get('kernel')->terminate(Request::create('/'), new Response());
 
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/2')->shouldBeCalled();
+    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/2')->shouldBeCalled()->willReturn(new GuzzleResponse());
     $blog_site->setRevalidateUrl('http://blog.com/api/revalidate')->save();
     $page = $this->createNode();
     $page->save();
@@ -103,8 +104,8 @@ public function testRevalidate() {
       ],
     ])->save();
 
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled();
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled();
+    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled()->willReturn(new GuzzleResponse());
     $page = $this->createNode();
     $page->save();
     $this->container->get('kernel')->terminate(Request::create('/'), new Response());
@@ -113,12 +114,12 @@ public function testRevalidate() {
       'additional_paths' => ""/\n/blog"",
     ])->save();
 
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled();
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/&secret=12345')->shouldBeCalled();
-    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/blog&secret=12345')->shouldBeCalled();
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled();
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/')->shouldBeCalled();
-    $client->request('GET', 'http://blog.com/api/revalidate?slug=/blog')->shouldBeCalled();
+    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://marketing.com/api/revalidate?slug=/blog&secret=12345')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?slug=/')->shouldBeCalled()->willReturn(new GuzzleResponse());
+    $client->request('GET', 'http://blog.com/api/revalidate?slug=/blog')->shouldBeCalled()->willReturn(new GuzzleResponse());
     $page = $this->createNode();
     $page->save();
     $this->container->get('kernel')->terminate(Request::create('/'), new Response());",False,False,Data / Input Handling,3
chapter-three,next-drupal,ec2cee0bd84182a875cef502f4c38e4a0b16deb5,Matt Glaman,matt.glaman@acquia.com,2023-12-12T18:25:31Z,GitHub,noreply@github.com,2023-12-12T18:25:31Z,"feat: Use destruction events at a later runtime

Fixes #444",modules/next/next.module;modules/next/next.services.yml;modules/next/src/EventSubscriber/EntityActionEventDispatcher.php;modules/next/tests/src/Kernel/Event/EntityActionEventTest.php;modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php;modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php,False,False,False,False,74,23,97,"---FILE: modules/next/next.module---
@@ -69,31 +69,21 @@ function next_next_site_preview_alter(array &$preview, array $context) {
  */
 function next_entity_insert(EntityInterface $entity) {
   $event = EntityActionEvent::createFromEntity($entity, EntityActionEventInterface::INSERT_ACTION);
-  drupal_register_shutdown_function('_next_dispatch_entity_action_event', $event);
+  \Drupal::service('next.entity_action_event_dispatcher')->addEvent($event);
 }
 
 /**
  * Implements hook_entity_update().
  */
 function next_entity_update(EntityInterface $entity) {
   $event = EntityActionEvent::createFromEntity($entity, EntityActionEventInterface::UPDATE_ACTION);
-  drupal_register_shutdown_function('_next_dispatch_entity_action_event', $event);
+  \Drupal::service('next.entity_action_event_dispatcher')->addEvent($event);
 }
 
 /**
  * Implements hook_entity_predelete().
  */
 function next_entity_predelete(EntityInterface $entity) {
   $event = EntityActionEvent::createFromEntity($entity, EntityActionEventInterface::DELETE_ACTION);
-  drupal_register_shutdown_function('_next_dispatch_entity_action_event', $event);
-}
-
-/**
- * Helper to dispatch an entity action event.
- *
- * @param \Drupal\next\Event\EntityActionEventInterface $event
- *   The entity action event.
- */
-function _next_dispatch_entity_action_event(EntityActionEventInterface $event) {
-  \Drupal::service('event_dispatcher')->dispatch($event, EntityEvents::ENTITY_ACTION);
+  \Drupal::service('next.entity_action_event_dispatcher')->addEvent($event);
 }

---FILE: modules/next/next.services.yml---
@@ -65,3 +65,9 @@ services:
       ]
     tags:
       - { name: event_subscriber }
+
+  next.entity_action_event_dispatcher:
+    class: Drupal\next\EventSubscriber\EntityActionEventDispatcher
+    arguments: ['@event_dispatcher']
+    tags:
+      - { name: needs_destruction }

---FILE: modules/next/src/EventSubscriber/EntityActionEventDispatcher.php---
@@ -0,0 +1,49 @@
+<?php
+
+namespace Drupal\next\EventSubscriber;
+
+use Drupal\Core\DestructableInterface;
+use Drupal\next\Event\EntityActionEvent;
+use Drupal\next\Event\EntityEvents;
+use Symfony\Contracts\EventDispatcher\EventDispatcherInterface;
+
+/**
+ * Defines an event subscriber for dispatching entity events.
+ */
+final class EntityActionEventDispatcher implements DestructableInterface {
+
+  /**
+   * The events to dispach.
+   *
+   * @var \Drupal\next\Event\EntityActionEvent[]
+   */
+  private array $events = [];
+
+  /**
+   * EntityActionEventDispatcher constructor.
+   */
+  public function __construct(
+    private EventDispatcherInterface $eventDispatcher
+    ) {
+  }
+
+  /**
+   * Adds an event to be dispatched at the end of the request.
+   *
+   * @param \Drupal\next\Event\EntityActionEvent $event
+   *   The event.
+   */
+  public function addEvent(EntityActionEvent $event): void {
+    $this->events[] = $event;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public function destruct() {
+    foreach ($this->events as $event) {
+      $this->eventDispatcher->dispatch($event, EntityEvents::ENTITY_ACTION);
+    }
+  }
+
+}

---FILE: modules/next/tests/src/Kernel/Event/EntityActionEventTest.php---
@@ -7,6 +7,8 @@
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\node\Entity\NodeType;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
+use Symfony\Component\HttpFoundation\Request;
+use Symfony\Component\HttpFoundation\Response;
 
 /**
  * Tests the EntityActionEvent.
@@ -60,17 +62,17 @@ public function testEntityActionEvents() {
 
     // Insert.
     $page->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
     $this->assertLogsContains(""Event next.entity.action dispatched for entity A page and action insert."");
 
     // Update.
     $page->set('title', 'A page updated')->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
     $this->assertLogsContains(""Event next.entity.action dispatched for entity A page updated and action update."");
 
     // Delete.
     $page->delete();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
     $this->assertLogsContains(""Event next.entity.action dispatched for entity A page updated and action delete."");
   }
 

---FILE: modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php---
@@ -7,6 +7,8 @@
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\next\Entity\NextEntityTypeConfig;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
+use Symfony\Component\HttpFoundation\Request;
+use Symfony\Component\HttpFoundation\Response;
 
 /**
  * Tests the EntityRevalidatedEvent.
@@ -70,17 +72,17 @@ public function testEntityRevalidatedEvents() {
 
     // Insert.
     $page->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
     $this->assertLogsContains(""Entity A page, action insert, revalidated 0."");
 
     // Update.
     $page->set('title', 'A page updated')->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
     $this->assertLogsContains(""Entity A page updated, action update, revalidated 0."");
 
     // Delete.
     $page->delete();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
     $this->assertLogsContains(""Entity A page updated, action delete, revalidated 0."");
   }
 

---FILE: modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php---
@@ -8,6 +8,8 @@
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 use GuzzleHttp\ClientInterface;
 use Prophecy\PhpUnit\ProphecyTrait;
+use Symfony\Component\HttpFoundation\Request;
+use Symfony\Component\HttpFoundation\Response;
 
 /**
  * Tests the path revalidator plugin.
@@ -80,13 +82,13 @@ public function testRevalidate() {
     $client->request('GET', $this->any())->shouldNotBeCalled();
     $page = $this->createNode();
     $page->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
 
     $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/2')->shouldBeCalled();
     $blog_site->setRevalidateUrl('http://blog.com/api/revalidate')->save();
     $page = $this->createNode();
     $page->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
 
     $marketing = NextSite::create([
       'id' => 'marketing',
@@ -105,7 +107,7 @@ public function testRevalidate() {
     $client->request('GET', 'http://blog.com/api/revalidate?slug=/node/3')->shouldBeCalled();
     $page = $this->createNode();
     $page->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
 
     $entity_type_config->setRevalidatorConfiguration('path', [
       'additional_paths' => ""/\n/blog"",
@@ -119,7 +121,7 @@ public function testRevalidate() {
     $client->request('GET', 'http://blog.com/api/revalidate?slug=/blog')->shouldBeCalled();
     $page = $this->createNode();
     $page->save();
-    _drupal_shutdown_function();
+    $this->container->get('kernel')->terminate(Request::create('/'), new Response());
   }
 
 }",False,False,Data / Input Handling,3
chapter-three,next-drupal,183605bd53066e4ba99e04a3fbf021c3e4cd55ea,Matt Glaman,nmd.matt@gmail.com,2023-12-12T13:27:14Z,GitHub,noreply@github.com,2023-12-12T13:27:14Z,"fix(next): url form element for Next.js site form

Fixes #614

Co-authored-by: John Albin Wilkins <virtually.johnalbin@gmail.com>",modules/next/src/Form/NextSiteForm.php,False,False,False,False,3,3,6,"---FILE: modules/next/src/Form/NextSiteForm.php---
@@ -38,7 +38,7 @@ public function form(array $form, FormStateInterface $form_state) {
     ];
 
     $form['base_url'] = [
-      '#type' => 'textfield',
+      '#type' => 'url',
       '#title' => $this->t('Base URL'),
       '#description' => $this->t('Enter the base URL for the Next.js site. Example: <em>https://example.com</em>.'),
       '#default_value' => $entity->getBaseUrl(),
@@ -60,7 +60,7 @@ public function form(array $form, FormStateInterface $form_state) {
     ];
 
     $form['preview']['preview_url'] = [
-      '#type' => 'textfield',
+      '#type' => 'url',
       '#title' => $this->t('Preview URL'),
       '#description' => $this->t('Enter the preview URL. Example: <em>https://example.com/api/preview</em>.'),
       '#default_value' => $entity->getPreviewUrl(),
@@ -83,7 +83,7 @@ public function form(array $form, FormStateInterface $form_state) {
     ];
 
     $form['revalidation']['revalidate_url'] = [
-      '#type' => 'textfield',
+      '#type' => 'url',
       '#title' => $this->t('Revalidate URL'),
       '#description' => $this->t('Enter the revalidate URL. Example: <em>https://example.com/api/revalidate</em>.'),
       '#default_value' => $entity->getRevalidateUrl(),",False,False,Dependency / Package,3
chapter-three,next-drupal,eb903c1db44a9043894a42827368d841bb8c1213,Matt Glaman,nmd.matt@gmail.com,2023-12-12T13:17:03Z,GitHub,noreply@github.com,2023-12-12T13:17:03Z,chore: fix test:next script in package.json (#621),package.json,False,False,False,False,1,1,2,"---FILE: package.json---
@@ -19,7 +19,7 @@
     ""format"": ""prettier --write ."",
     ""format:check"": ""prettier --check ."",
     ""phpcs"": ""./drupal/vendor/bin/phpcs -p -s --colors --standard=modules/next/phpcs.xml modules/next"",
-    ""test:next"": ""./drupal/vendor/bin/phpunit -c ./drupal/web modules/next"",
+    ""test:next"": ""SIMPLETEST_DB=sqlite://localhost/:memory: ./drupal/vendor/bin/phpunit -c ./drupal/web/core modules/next"",
     ""sync:modules"": ""./scripts/sync-modules.sh \""modules/*\"""",
     ""sync:examples"": ""./scripts/sync-examples.sh \""examples/example-*\"""",
     ""sync:starters"": ""./scripts/sync-starters.sh \""starters/*\"""",",False,False,Data / Input Handling,3
chapter-three,next-drupal,278bd1e28c2526e11a5168f6c3d580e5ef84d99a,JohnAlbin,virtually.johnalbin@gmail.com,2023-11-22T13:11:57Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-12-06T10:53:29Z,"test(next-drupal): add tooling to test code coverage

Fixes #609",.github/workflows/next-drupal-query.yml;.github/workflows/next-drupal.yml;.github/workflows/next.yml;jest.config.ts;package.json;packages/next-drupal-query/jest.config.cjs;packages/next-drupal-query/jest.setup.ts;packages/next-drupal-query/package.json;packages/next-drupal/jest.config.cjs;packages/next-drupal/jest.setup.ts;packages/next-drupal/package.json,False,False,False,False,62,28,90,"---FILE: .github/workflows/next-drupal-query.yml---
@@ -1,6 +1,8 @@
 name: next-drupal-query
 on:
   push:
+    branches:
+      - main
   pull_request:
     types: [opened, synchronize, edited]
 
@@ -12,4 +14,4 @@ jobs:
       - name: Install modules
         run: yarn
       - name: Run tests
-        run: yarn test packages/next-drupal-query
+        run: yarn workspace next-drupal-query test

---FILE: .github/workflows/next-drupal.yml---
@@ -14,7 +14,7 @@ jobs:
       - name: Install modules
         run: yarn
       - name: Run tests
-        run: yarn test packages/next-drupal
+        run: yarn workspace next-drupal test
         env:
           DRUPAL_BASE_URL: ${{ secrets.DRUPAL_BASE_URL }}
           DRUPAL_USERNAME: ${{ secrets.DRUPAL_USERNAME }}

---FILE: .github/workflows/next.yml---
@@ -1,6 +1,8 @@
 name: next
 on:
   push:
+    branches:
+      - main
   pull_request:
     branches:
       - main

---FILE: jest.config.ts---
@@ -1,23 +0,0 @@
-import type { Config } from ""@jest/types""
-
-const config: Config.InitialOptions = {
-  preset: ""ts-jest/presets/js-with-ts"",
-  testEnvironment: ""node"",
-  setupFiles: [""dotenv/config""],
-  setupFilesAfterEnv: [""<rootDir>/jest.setup.ts""],
-  testMatch: [""**/tests/**/*.test.{ts,tsx}""],
-  testPathIgnorePatterns: [
-    ""/node_modules/"",
-    ""/fixtures/"",
-    ""/dist/"",
-    ""/.cache/"",
-    ""/drupal/"",
-  ],
-  globals: {
-    ""ts-jest"": {
-      isolatedModules: true,
-    },
-  },
-}
-
-export default config

---FILE: package.json---
@@ -25,7 +25,7 @@
     ""sync:starters"": ""./scripts/sync-starters.sh \""starters/*\"""",
     ""seed"": ""NUM_NODES=200 node ./scripts/seed"",
     ""cy:open"": ""turbo run cy:open --parallel"",
-    ""test"": ""jest"",
+    ""test"": ""yarn workspace next-drupal test && yarn workspace next-drupal-query test"",
     ""pretest"": ""yarn format:check && yarn lint"",
     ""test:e2e"": ""turbo run test:e2e --parallel"",
     ""test:e2e:ci"": ""turbo run test:e2e:ci --parallel""

---FILE: packages/next-drupal-query/jest.config.cjs---
@@ -0,0 +1,25 @@
+/** @type {import('ts-jest/dist/types').InitialOptionsTsJest} */
+module.exports = {
+  preset: ""ts-jest/presets/js-with-ts"",
+  testEnvironment: ""node"",
+  setupFiles: [""dotenv/config""],
+  setupFilesAfterEnv: [""<rootDir>/jest.setup.ts""],
+  testMatch: [""**/tests/**/*.test.{ts,tsx}""],
+  globals: {
+    ""ts-jest"": {
+      isolatedModules: true,
+    },
+  },
+  coverageProvider: ""v8"",
+  collectCoverage: true,
+  collectCoverageFrom: [""./src/**""],
+  coverageReporters: [""lcov"", ""text"", ""text-summary""],
+  coverageThreshold: {
+    global: {
+      statements: 85.11,
+      branches: 58,
+      functions: 70,
+      lines: 85.11,
+    },
+  },
+}

---FILE: packages/next-drupal-query/package.json---
@@ -31,7 +31,7 @@
   ""scripts"": {
     ""prepare"": ""tsup"",
     ""dev"": ""tsup --watch"",
-    ""test"": ""jest""
+    ""test"": ""jest --verbose""
   },
   ""keywords"": [
     ""next.js"",

---FILE: packages/next-drupal/jest.config.cjs---
@@ -0,0 +1,27 @@
+/** @type {import('ts-jest/dist/types').InitialOptionsTsJest} */
+module.exports = {
+  preset: ""ts-jest"",
+  testEnvironment: ""node"",
+  setupFiles: [""dotenv/config""],
+  setupFilesAfterEnv: [""<rootDir>/jest.setup.ts""],
+  testMatch: [""**/tests/**/*.test.{ts,tsx}""],
+  globals: {
+    ""ts-jest"": {
+      isolatedModules: true,
+    },
+  },
+  coverageProvider: ""v8"",
+  collectCoverage: true,
+  collectCoverageFrom: [""./src/**""],
+  coveragePathIgnorePatterns: [""./src/get-*""],
+  coverageReporters: [""lcov"", ""text"", ""text-summary""],
+  coverageThreshold: {
+    global: {
+      // @TODO Make these thresholds strict once #608 is completed.
+      statements: 55, // 57.38,
+      branches: 80, // 83.85,
+      functions: 75, // 76.36,
+      lines: 55, // 57.38,
+    },
+  },
+}

---FILE: packages/next-drupal/jest.setup.ts---
@@ -0,0 +1 @@
+import ""isomorphic-fetch""

---FILE: packages/next-drupal/package.json---
@@ -44,7 +44,7 @@
   ""scripts"": {
     ""prepare"": ""tsup"",
     ""dev"": ""tsup --watch"",
-    ""test"": ""jest""
+    ""test"": ""jest --verbose""
   },
   ""keywords"": [
     ""next.js"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,c5c736acf0c48d5f22f2fd3b5926396f097c7e17,Chris Runo,chris.runo@gmail.com,2023-12-02T19:38:48Z,GitHub,noreply@github.com,2023-12-02T19:38:48Z,"fix(/starters/graphql-starter): add custom headers to support 4.6.0 r (#598)

Co-authored-by: John Albin Wilkins <virtually.johnalbin@gmail.com>",starters/graphql-starter/lib/drupal.ts,False,False,False,False,4,0,4,"---FILE: starters/graphql-starter/lib/drupal.ts---
@@ -30,6 +30,10 @@ export async function query<DataType>(payload: QueryPayload) {
     method: ""POST"",
     body: JSON.stringify(payload),
     withAuth: true, // Make authenticated requests using OAuth.
+    headers: {
+      ""Content-Type"": ""application/json"",
+      Accept: ""application/json"",
+    },
   })
 
   if (!response?.ok) {",False,False,Rendering / Conversion,0
chapter-three,next-drupal,32a5a0a582c5faa93f8ac1a9633a89c60f5fd627,JohnAlbin,virtually.johnalbin@gmail.com,2023-11-17T19:15:45Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-11-22T17:46:43Z,"feat(next-drupal): add Next.js v14 support

Fixes #578",packages/next-drupal-query/package.json;packages/next-drupal/package.json;starters/basic-starter/package.json;starters/graphql-starter/package.json;yarn.lock,False,False,False,False,58,58,116,"---FILE: packages/next-drupal-query/package.json---
@@ -55,6 +55,6 @@
   ""dependencies"": {
     ""deepmerge"": ""^4.3.1"",
     ""drupal-jsonapi-params"": ""^2.3.1"",
-    ""next"": ""^12.2.3 || ^13""
+    ""next"": ""^12.2.3 || ^13 || ^14""
   }
 }

---FILE: packages/next-drupal/package.json---
@@ -66,7 +66,7 @@
   },
   ""dependencies"": {
     ""jsona"": ""^1.12.1"",
-    ""next"": ""^12.2.0 || ^13"",
+    ""next"": ""^12.2.0 || ^13 || ^14"",
     ""node-cache"": ""^5.1.2"",
     ""qs"": ""^6.11.2"",
     ""react"": ""^17.0.2 || ^18"",

---FILE: starters/basic-starter/package.json---
@@ -12,7 +12,7 @@
   },
   ""dependencies"": {
     ""@tailwindcss/typography"": ""^0.5.8"",
-    ""next"": ""^13"",
+    ""next"": ""^13 || ^14"",
     ""next-drupal"": ""^1.6.0"",
     ""react"": ""^18.2.0"",
     ""react-dom"": ""^18.2.0"",

---FILE: starters/graphql-starter/package.json---
@@ -12,7 +12,7 @@
   },
   ""dependencies"": {
     ""@tailwindcss/typography"": ""^0.5.8"",
-    ""next"": ""^13"",
+    ""next"": ""^13 || ^14"",
     ""next-drupal"": ""^1.6.0"",
     ""react"": ""^18.2.0"",
     ""react-dom"": ""^18.2.0"",

---FILE: yarn.lock---
@@ -2618,10 +2618,10 @@
   resolved ""https://registry.yarnpkg.com/@next/env/-/env-12.3.4.tgz#c787837d36fcad75d72ff8df6b57482027d64a47""
   integrity sha512-H/69Lc5Q02dq3o+dxxy5O/oNxFsZpdL6WREtOOtOM1B/weonIwDXkekr1KV5DPVPr12IHFPrMrcJQ6bgPMfn7A==
 
-""@next/env@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/env/-/env-13.5.6.tgz#c1148e2e1aa166614f05161ee8f77ded467062bc""
-  integrity sha512-Yac/bV5sBGkkEXmAX5FWPS9Mmo2rthrOPRQQNfycJPkjUAUclomCPH7QFVCDQ4Mp2k2K1SSM6m0zrxYrOwtFQw==
+""@next/env@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/env/-/env-14.0.3.tgz#9a58b296e7ae04ffebce8a4e5bd0f87f71de86bd""
+  integrity sha512-7xRqh9nMvP5xrW4/+L0jgRRX+HoNRGnfJpD+5Wq6/13j3dsdzxO3BCXn7D3hMqsDb+vjZnJq+vI7+EtgrYZTeA==
 
 ""@next/eslint-plugin-next@12.3.4"", ""@next/eslint-plugin-next@^12.3.4"":
   version ""12.3.4""
@@ -2652,20 +2652,20 @@
   resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-12.3.4.tgz#14ac8357010c95e67327f47082af9c9d75d5be79""
   integrity sha512-DqsSTd3FRjQUR6ao0E1e2OlOcrF5br+uegcEGPVonKYJpcr0MJrtYmPxd4v5T6UCJZ+XzydF7eQo5wdGvSZAyA==
 
-""@next/swc-darwin-arm64@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-13.5.6.tgz#b15d139d8971360fca29be3bdd703c108c9a45fb""
-  integrity sha512-5nvXMzKtZfvcu4BhtV0KH1oGv4XEW+B+jOfmBdpFI3C7FrB/MfujRpWYSBBO64+qbW8pkZiSyQv9eiwnn5VIQA==
+""@next/swc-darwin-arm64@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-14.0.3.tgz#b1a0440ffbf69056451947c4aea5b6d887e9fbbc""
+  integrity sha512-64JbSvi3nbbcEtyitNn2LEDS/hcleAFpHdykpcnrstITFlzFgB/bW0ER5/SJJwUPj+ZPY+z3e+1jAfcczRLVGw==
 
 ""@next/swc-darwin-x64@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-12.3.4.tgz#e7dc63cd2ac26d15fb84d4d2997207fb9ba7da0f""
   integrity sha512-PPF7tbWD4k0dJ2EcUSnOsaOJ5rhT3rlEt/3LhZUGiYNL8KvoqczFrETlUx0cUYaXe11dRA3F80Hpt727QIwByQ==
 
-""@next/swc-darwin-x64@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-13.5.6.tgz#9c72ee31cc356cb65ce6860b658d807ff39f1578""
-  integrity sha512-6cgBfxg98oOCSr4BckWjLLgiVwlL3vlLj8hXg2b+nDgm4bC/qVXXLfpLB9FHdoDu4057hzywbxKvmYGmi7yUzA==
+""@next/swc-darwin-x64@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-14.0.3.tgz#48b527ef7eb5dbdcaf62fd107bc3a78371f36f09""
+  integrity sha512-RkTf+KbAD0SgYdVn1XzqE/+sIxYGB7NLMZRn9I4Z24afrhUpVJx6L8hsRnIwxz3ERE2NFURNliPjJ2QNfnWicQ==
 
 ""@next/swc-freebsd-x64@12.3.4"":
   version ""12.3.4""
@@ -2682,70 +2682,70 @@
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-12.3.4.tgz#43a7bc409b03487bff5beb99479cacdc7bd29af5""
   integrity sha512-kiX0vgJGMZVv+oo1QuObaYulXNvdH/IINmvdZnVzMO/jic/B8EEIGlZ8Bgvw8LCjH3zNVPO3mGrdMvnEEPEhKA==
 
-""@next/swc-linux-arm64-gnu@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-13.5.6.tgz#59f5f66155e85380ffa26ee3d95b687a770cfeab""
-  integrity sha512-txagBbj1e1w47YQjcKgSU4rRVQ7uF29YpnlHV5xuVUsgCUf2FmyfJ3CPjZUvpIeXCJAoMCFAoGnbtX86BK7+sg==
+""@next/swc-linux-arm64-gnu@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-14.0.3.tgz#0a36475a38b2855ab8ea0fe8b56899bc90184c0f""
+  integrity sha512-3tBWGgz7M9RKLO6sPWC6c4pAw4geujSwQ7q7Si4d6bo0l6cLs4tmO+lnSwFp1Tm3lxwfMk0SgkJT7EdwYSJvcg==
 
 ""@next/swc-linux-arm64-musl@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-12.3.4.tgz#4d1db6de6dc982b974cd1c52937111e3e4a34bd3""
   integrity sha512-EETZPa1juczrKLWk5okoW2hv7D7WvonU+Cf2CgsSoxgsYbUCZ1voOpL4JZTOb6IbKMDo6ja+SbY0vzXZBUMvkQ==
 
-""@next/swc-linux-arm64-musl@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-13.5.6.tgz#f012518228017052736a87d69bae73e587c76ce2""
-  integrity sha512-cGd+H8amifT86ZldVJtAKDxUqeFyLWW+v2NlBULnLAdWsiuuN8TuhVBt8ZNpCqcAuoruoSWynvMWixTFcroq+Q==
+""@next/swc-linux-arm64-musl@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-14.0.3.tgz#25328a9f55baa09fde6364e7e47ade65c655034f""
+  integrity sha512-v0v8Kb8j8T23jvVUWZeA2D8+izWspeyeDGNaT2/mTHWp7+37fiNfL8bmBWiOmeumXkacM/AB0XOUQvEbncSnHA==
 
 ""@next/swc-linux-x64-gnu@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-12.3.4.tgz#c3b414d77bab08b35f7dd8943d5586f0adb15e38""
   integrity sha512-4csPbRbfZbuWOk3ATyWcvVFdD9/Rsdq5YHKvRuEni68OCLkfy4f+4I9OBpyK1SKJ00Cih16NJbHE+k+ljPPpag==
 
-""@next/swc-linux-x64-gnu@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-13.5.6.tgz#339b867a7e9e7ee727a700b496b269033d820df4""
-  integrity sha512-Mc2b4xiIWKXIhBy2NBTwOxGD3nHLmq4keFk+d4/WL5fMsB8XdJRdtUlL87SqVCTSaf1BRuQQf1HvXZcy+rq3Nw==
+""@next/swc-linux-x64-gnu@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-14.0.3.tgz#594b747e3c8896b2da67bba54fcf8a6b5a410e5e""
+  integrity sha512-VM1aE1tJKLBwMGtyBR21yy+STfl0MapMQnNrXkxeyLs0GFv/kZqXS5Jw/TQ3TSUnbv0QPDf/X8sDXuMtSgG6eg==
 
 ""@next/swc-linux-x64-musl@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-12.3.4.tgz#187a883ec09eb2442a5ebf126826e19037313c61""
   integrity sha512-YeBmI+63Ro75SUiL/QXEVXQ19T++58aI/IINOyhpsRL1LKdyfK/35iilraZEFz9bLQrwy1LYAR5lK200A9Gjbg==
 
-""@next/swc-linux-x64-musl@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-13.5.6.tgz#ae0ae84d058df758675830bcf70ca1846f1028f2""
-  integrity sha512-CFHvP9Qz98NruJiUnCe61O6GveKKHpJLloXbDSWRhqhkJdZD2zU5hG+gtVJR//tyW897izuHpM6Gtf6+sNgJPQ==
+""@next/swc-linux-x64-musl@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-14.0.3.tgz#a02da58fc6ecad8cf5c5a2a96a7f6030ec7f6215""
+  integrity sha512-64EnmKy18MYFL5CzLaSuUn561hbO1Gk16jM/KHznYP3iCIfF9e3yULtHaMy0D8zbHfxset9LTOv6cuYKJgcOxg==
 
 ""@next/swc-win32-arm64-msvc@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-12.3.4.tgz#89befa84e453ed2ef9a888f375eba565a0fde80b""
   integrity sha512-Sd0qFUJv8Tj0PukAYbCCDbmXcMkbIuhnTeHm9m4ZGjCf6kt7E/RMs55Pd3R5ePjOkN7dJEuxYBehawTR/aPDSQ==
 
-""@next/swc-win32-arm64-msvc@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-13.5.6.tgz#a5cc0c16920485a929a17495064671374fdbc661""
-  integrity sha512-aFv1ejfkbS7PUa1qVPwzDHjQWQtknzAZWGTKYIAaS4NMtBlk3VyA6AYn593pqNanlicewqyl2jUhQAaFV/qXsg==
+""@next/swc-win32-arm64-msvc@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-14.0.3.tgz#bf2be23d3ba2ebd0d4a9376a31f783efdb677b48""
+  integrity sha512-WRDp8QrmsL1bbGtsh5GqQ/KWulmrnMBgbnb+59qNTW1kVi1nG/2ndZLkcbs2GX7NpFLlToLRMWSQXmPzQm4tog==
 
 ""@next/swc-win32-ia32-msvc@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-12.3.4.tgz#cb50c08f0e40ead63642a7f269f0c8254261f17c""
   integrity sha512-rt/vv/vg/ZGGkrkKcuJ0LyliRdbskQU+91bje+PgoYmxTZf/tYs6IfbmgudBJk6gH3QnjHWbkphDdRQrseRefQ==
 
-""@next/swc-win32-ia32-msvc@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-13.5.6.tgz#6a2409b84a2cbf34bf92fe714896455efb4191e4""
-  integrity sha512-XqqpHgEIlBHvzwG8sp/JXMFkLAfGLqkbVsyN+/Ih1mR8INb6YCc2x/Mbwi6hsAgUnqQztz8cvEbHJUbSl7RHDg==
+""@next/swc-win32-ia32-msvc@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-14.0.3.tgz#839f8de85a4bf2c3c69242483ab87cb916427551""
+  integrity sha512-EKffQeqCrj+t6qFFhIFTRoqb2QwX1mU7iTOvMyLbYw3QtqTw9sMwjykyiMlZlrfm2a4fA84+/aeW+PMg1MjuTg==
 
 ""@next/swc-win32-x64-msvc@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-12.3.4.tgz#d28ea15a72cdcf96201c60a43e9630cd7fda168f""
   integrity sha512-DQ20JEfTBZAgF8QCjYfJhv2/279M6onxFjdG/+5B0Cyj00/EdBxiWb2eGGFgQhrBbNv/lsvzFbbi0Ptf8Vw/bg==
 
-""@next/swc-win32-x64-msvc@13.5.6"":
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-13.5.6.tgz#4a3e2a206251abc729339ba85f60bc0433c2865d""
-  integrity sha512-Cqfe1YmOS7k+5mGu92nl5ULkzpKuxJrP3+4AEuPmrpFZ3BHxTY3TnHmU1On3bFmFFs6FbTcdF58CCUProGpIGQ==
+""@next/swc-win32-x64-msvc@14.0.3"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-14.0.3.tgz#27b623612b1d0cea6efe0a0d31aa1a335fc99647""
+  integrity sha512-ERhKPSJ1vQrPiwrs15Pjz/rvDHZmkmvbf/BjPN/UCOI++ODftT0GtasDPi0j+y6PPJi5HsXw+dpRaXUaw4vjuQ==
 
 ""@nicolo-ribaudo/eslint-scope-5-internals@5.1.1-v1"":
   version ""5.1.1-v1""
@@ -9637,28 +9637,28 @@ next-seo@^4.23.0:
   resolved ""https://registry.yarnpkg.com/next-seo/-/next-seo-4.29.0.tgz#d281e95ba47914117cc99e9e468599f0547d9b9b""
   integrity sha512-xmwzcz4uHaYJ8glbuhs6FSBQ7z3irmdPYdJJ5saWm72Uy3o+mPKGaPCXQetTCE6/xxVnpoDV4yFtFlEjUcljSg==
 
-""next@^12.2.0 || ^13"", ""next@^12.2.3 || ^13"", next@^13:
-  version ""13.5.6""
-  resolved ""https://registry.yarnpkg.com/next/-/next-13.5.6.tgz#e964b5853272236c37ce0dd2c68302973cf010b1""
-  integrity sha512-Y2wTcTbO4WwEsVb4A8VSnOsG1I9ok+h74q0ZdxkwM3EODqrs4pasq7O0iUxbcS9VtWMicG7f3+HAj0r1+NtKSw==
+""next@^12.2.0 || ^13 || ^14"", ""next@^12.2.3 || ^13 || ^14"", ""next@^13 || ^14"":
+  version ""14.0.3""
+  resolved ""https://registry.yarnpkg.com/next/-/next-14.0.3.tgz#8d801a08eaefe5974203d71092fccc463103a03f""
+  integrity sha512-AbYdRNfImBr3XGtvnwOxq8ekVCwbFTv/UJoLwmaX89nk9i051AEY4/HAWzU0YpaTDw8IofUpmuIlvzWF13jxIw==
   dependencies:
-    ""@next/env"" ""13.5.6""
+    ""@next/env"" ""14.0.3""
     ""@swc/helpers"" ""0.5.2""
     busboy ""1.6.0""
     caniuse-lite ""^1.0.30001406""
     postcss ""8.4.31""
     styled-jsx ""5.1.1""
     watchpack ""2.4.0""
   optionalDependencies:
-    ""@next/swc-darwin-arm64"" ""13.5.6""
-    ""@next/swc-darwin-x64"" ""13.5.6""
-    ""@next/swc-linux-arm64-gnu"" ""13.5.6""
-    ""@next/swc-linux-arm64-musl"" ""13.5.6""
-    ""@next/swc-linux-x64-gnu"" ""13.5.6""
-    ""@next/swc-linux-x64-musl"" ""13.5.6""
-    ""@next/swc-win32-arm64-msvc"" ""13.5.6""
-    ""@next/swc-win32-ia32-msvc"" ""13.5.6""
-    ""@next/swc-win32-x64-msvc"" ""13.5.6""
+    ""@next/swc-darwin-arm64"" ""14.0.3""
+    ""@next/swc-darwin-x64"" ""14.0.3""
+    ""@next/swc-linux-arm64-gnu"" ""14.0.3""
+    ""@next/swc-linux-arm64-musl"" ""14.0.3""
+    ""@next/swc-linux-x64-gnu"" ""14.0.3""
+    ""@next/swc-linux-x64-musl"" ""14.0.3""
+    ""@next/swc-win32-arm64-msvc"" ""14.0.3""
+    ""@next/swc-win32-ia32-msvc"" ""14.0.3""
+    ""@next/swc-win32-x64-msvc"" ""14.0.3""
 
 next@^12.2.3:
   version ""12.3.4""",False,False,Documentation / Formatting,3
chapter-three,next-drupal,f2f398de57366c17908b7b54301d5966f39e73bf,JohnAlbin,virtually.johnalbin@gmail.com,2023-11-17T13:42:03Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-11-22T17:46:43Z,"fix(next-drupal): fix broken build by using named Jsona export

Prevents ""TypeError: Jsona is not a constructor"" error",packages/next-drupal/src/client.ts;packages/next-drupal/src/utils.ts,False,False,False,False,2,2,4,"---FILE: packages/next-drupal/src/client.ts---
@@ -1,4 +1,4 @@
-import Jsona from ""jsona""
+import { Jsona } from ""jsona""
 import { stringify } from ""qs""
 import { JsonApiErrors } from ""./jsonapi-errors""
 import { logger as defaultLogger } from ""./logger""

---FILE: packages/next-drupal/src/utils.ts---
@@ -1,4 +1,4 @@
-import Jsona from ""jsona""
+import { Jsona } from ""jsona""
 import { stringify } from ""qs""
 import { getAccessToken } from ""./get-access-token""
 import type { GetStaticPropsContext } from ""next""",False,False,File I/O and Export,1
chapter-three,next-drupal,410a5dfec62df2c9de0adf37feaa615a1f35e98a,JohnAlbin,virtually.johnalbin@gmail.com,2023-10-22T15:08:56Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-11-22T17:46:43Z,"feat(next-drupal)!: add App Router support for Server Components

Fixes #442

BREAKING CHANGE:

The useMenu() client hook has moved out of the main entry point and into its own
entry point. Any import or require of that function needs to be updated:

Old usage:
```js
import { useMenu } from ""next-drupal""
```

New usage:
```js
import { useMenu } from ""next-drupal/navigation""
```",packages/next-drupal/package.json;packages/next-drupal/src/index.ts;packages/next-drupal/src/navigation.ts;packages/next-drupal/src/navigation/use-menu.ts;packages/next-drupal/tsup.config.ts,False,False,False,False,18,5,23,"---FILE: packages/next-drupal/package.json---
@@ -3,7 +3,10 @@
   ""description"": ""Helpers for Next.js + Drupal."",
   ""version"": ""1.6.0"",
   ""sideEffects"": false,
-  ""source"": ""src/index.ts"",
+  ""source"": [
+    ""src/index.ts"",
+    ""src/navigation.ts""
+  ],
   ""type"": ""module"",
   ""main"": ""dist/index.cjs"",
   ""module"": ""dist/index.js"",
@@ -18,6 +21,16 @@
         ""types"": ""./dist/index.d.cts"",
         ""default"": ""./dist/index.cjs""
       }
+    },
+    ""./navigation"": {
+      ""import"": {
+        ""types"": ""./dist/navigation.d.ts"",
+        ""default"": ""./dist/navigation.js""
+      },
+      ""require"": {
+        ""types"": ""./dist/navigation.d.cts"",
+        ""default"": ""./dist/navigation.cjs""
+      }
     }
   },
   ""license"": ""MIT"",

---FILE: packages/next-drupal/src/index.ts---
@@ -8,7 +8,6 @@ export * from ""./get-resource""
 export * from ""./get-search-index""
 export * from ""./get-view""
 export * from ""./types""
-export * from ""./use-menu""
 export * from ""./translate-path""
 export {
   deserialize,

---FILE: packages/next-drupal/src/navigation.ts---
@@ -0,0 +1 @@
+export { useMenu } from ""./navigation/use-menu""

---FILE: packages/next-drupal/src/navigation/use-menu.ts---
@@ -1,7 +1,7 @@
 import { useRouter } from ""next/router""
 import { useEffect, useState } from ""react""
-import { getMenu } from ""./get-menu""
-import type { DrupalMenuLinkContent } from ""./types""
+import { getMenu } from ""../get-menu""
+import type { DrupalMenuLinkContent } from ""../types""
 
 export function useMenu<T extends DrupalMenuLinkContent>(
   name: string

---FILE: packages/next-drupal/tsup.config.ts---
@@ -1,7 +1,7 @@
 import { defineConfig } from ""tsup""
 
 export const tsup = defineConfig({
-  entry: [""src/index.ts""],
+  entry: [""src/index.ts"", ""src/navigation.ts""],
   // Enable experimental code splitting support in CommonJS.
   // splitting: true,
   // Use Rollup for tree shaking.",False,False,Dependency / Package,4
chapter-three,next-drupal,22d57420342b0573fdcf697c80f219f723adbc5e,JohnAlbin,virtually.johnalbin@gmail.com,2023-11-21T13:10:02Z,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-11-22T03:49:57Z,"fix(next-drupal): fix ""403 forbidden"" jest failures

Fixes #603",.lintstagedrc.json;packages/next-drupal/tests/__snapshots__/client.test.ts.snap;packages/next-drupal/tests/client.test.ts,False,False,False,False,10,10,20,"---FILE: .lintstagedrc.json---
@@ -1,3 +1,3 @@
 {
-  ""*"": ""prettier --write""
+  ""*"": ""prettier --write --ignore-unknown""
 }

---FILE: packages/next-drupal/tests/__snapshots__/client.test.ts.snap---
@@ -4990,7 +4990,7 @@ Object {
 }
 `;
 
-exports[`getStaticPathsFromContext it returns static paths for multiple resoure types from context 1`] = `
+exports[`getStaticPathsFromContext it returns static paths for multiple resource types from context 1`] = `
 Array [
   Object {
     ""locale"": ""en"",

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -911,7 +911,7 @@ describe(""getResource"", () => {
     )
   })
 
-  test(""it throws an error if revision access if forbidden"", async () => {
+  test(""it throws an error if revision access is forbidden"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     await expect(
@@ -926,7 +926,7 @@ describe(""getResource"", () => {
         }
       )
     ).rejects.toThrow(
-      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+      ""401 Unauthorized\nNo authentication credentials provided.""
     )
   })
 
@@ -1093,7 +1093,7 @@ describe(""getResourceByPath"", () => {
     )
   })
 
-  test(""it throws an error if revision access if forbidden"", async () => {
+  test(""it throws an error if revision access is forbidden"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     await expect(
@@ -1107,7 +1107,7 @@ describe(""getResourceByPath"", () => {
         }
       )
     ).rejects.toThrow(
-      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+      ""401 Unauthorized\nNo authentication credentials provided.""
     )
   })
 
@@ -1324,7 +1324,7 @@ describe(""getResourceFromContext"", () => {
     )
   })
 
-  test(""it throws an error if revision access if forbidden"", async () => {
+  test(""it throws an error if revision access is forbidden"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     const context: GetStaticPropsContext = {
@@ -1343,7 +1343,7 @@ describe(""getResourceFromContext"", () => {
         },
       })
     ).rejects.toThrow(
-      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+      ""401 Unauthorized\nNo authentication credentials provided.""
     )
   })
 
@@ -1895,7 +1895,7 @@ describe(""getStaticPathsFromContext"", () => {
     expect(paths).toMatchSnapshot()
   })
 
-  test(""it returns static paths for multiple resoure types from context"", async () => {
+  test(""it returns static paths for multiple resource types from context"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     const paths = await client.getStaticPathsFromContext(
@@ -2608,7 +2608,7 @@ describe(""getAuthFromContextAndOptions"", () => {
     )
   })
 
-  test(""if in preview and using the jwt plugin, t should use the access token from context even with global withAuth"", async () => {
+  test(""if in preview and using the jwt plugin, it should use the access token from context even with global withAuth"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,1be6184ae3f14738578c4f3610ace9fb7ca60d66,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-11-03T17:23:24Z,GitHub,noreply@github.com,2023-11-03T17:23:24Z,"chore(test): add code formatting and linting tests

* chore(prettier): fix /drupal path in .prettierignore
* test: add code formatting and linting tests
* chore(test): use Drupal code formatting standards in modules
* chore(prettier): fix prettier formatting issues
* chore(eslint): fix eslint issues
* fix(www): fix TypeScript error
* chore(prettier): upgrade prettier to v3

Fixes #573",.eslintignore;.eslintrc.json;.github/pull_request_template.md;.github/version-pr/action.yml;.github/workflows/release-pr.yml;.husky/pre-commit;.lintstagedrc.json;.nvmrc;.prettierignore;.prettierrc.json;SECURITY.md;examples/example-auth/cypress/support/index.js;examples/example-auth/types/next-auth.d.ts;examples/example-blog/tsconfig.json;examples/example-custom-cache/lib/drupal.ts;examples/example-marketing/cypress/support/index.js;examples/example-marketing/pages/_app.tsx;examples/example-query/pages/[...slug].tsx;examples/example-query/types/drupal/field.ts;examples/example-search-api/cypress/support/index.js;examples/example-umami/components/meta.tsx;examples/example-umami/pages/_app.tsx;examples/example-webform/cypress/support/index.js;modules/next/config/schema/next.schema.yml;modules/next/js/next.site_preview.iframe.js;modules/next/modules/next_extras/config/schema/next_extras.schema.yml;modules/next/modules/next_extras/next_extras.services.yml;modules/next/modules/next_graphql/next_graphql.info.yml;modules/next/modules/next_jsonapi/next_jsonapi.info.yml;modules/next/modules/next_jsonapi/next_jsonapi.services.yml;modules/next/modules/next_jwt/config/schema/next_jwt.schema.yml;modules/next/modules/next_jwt/next_jwt.info.yml;modules/next/modules/next_jwt/next_jwt.services.yml;modules/next/next.links.action.yml;modules/next/next.links.menu.yml;modules/next/next.links.task.yml;modules/next/next.routing.yml;modules/next/next.services.yml;modules/next/tests/modules/next_tests/next_tests.services.yml;package.json;packages/next-drupal-query/src/index.ts;packages/next-drupal/package.json;www/content/features/typescript.mdx;www/content/guides/page-limit.mdx;www/pages/_document.tsx;www/pages/learn/index.tsx;yarn.lock,False,False,False,False,975,615,1590,"---FILE: .eslintignore---
@@ -3,4 +3,4 @@ dist
 public
 node_modules
 *.esm.js
-drupal
\ No newline at end of file
+/drupal

---FILE: .eslintrc.json---
@@ -19,6 +19,11 @@
     ""node"": true,
     ""jest"": true
   },
+  ""globals"": {
+    ""Drupal"": true,
+    ""drupalSettings"": true,
+    ""jQuery"": true
+  },
   ""rules"": {
     ""react/prop-types"": 0,
     ""prettier/prettier"": [""error""],

---FILE: .github/pull_request_template.md---
@@ -1,4 +1,5 @@
 This pull request is for: (mark with an ""x"")
+
 - [ ] `examples/*`
 - [ ] `modules/next`
 - [ ] `packages/next-drupal`
@@ -11,8 +12,8 @@ _Please add a link to the GitHub issue
 where this problem is discussed._
 
 - [ ] I need help adding tests. (mark with an ""x"")
-  _Code changes need test coverage. If you don't know
-  how to make tests, check this box to ask for help._
+      _Code changes need test coverage. If you don't know
+      how to make tests, check this box to ask for help._
 
 ## Describe your changes
 

---FILE: .github/version-pr/action.yml---
@@ -4,5 +4,5 @@ outputs:
   version:
     description: ""npm package version""
 runs:
-  using: ""node16""
+  using: node20
   main: ""index.js""

---FILE: .github/workflows/release-pr.yml---
@@ -16,7 +16,7 @@ jobs:
       - name: Setup Node
         uses: actions/setup-node@v3
         with:
-          node-version: 16
+          node-version: 20
       - name: Install dependencies
         run: yarn install
       - name: Determine version

---FILE: .husky/pre-commit---
@@ -1,4 +1,4 @@
 #!/usr/bin/env sh
 . ""$(dirname -- ""$0"")/_/husky.sh""
 
-npx pretty-quick --staged
+npx lint-staged

---FILE: .lintstagedrc.json---
@@ -0,0 +1,3 @@
+{
+  ""*"": ""prettier --write""
+}

---FILE: .nvmrc---
@@ -1 +1 @@
-v16
+v18

---FILE: .prettierignore---
@@ -1,14 +1,26 @@
-cache
-.cache
+# Ignore everything.
+/*
+
+# Don't ignore some files in the root directory.
+!/*.js
+!/*.ts
+!/*.md
+!/*.json
+
+# Don't ignore these nested directories.
+!/examples
+!/modules
+!/packages
+!/scripts
+!/starters
+!/test
+!/www
+
+# In any nested folder, ignore these paths:
+.next
+CHANGELOG.md
+composer.json
+dist
 package.json
 package-lock.json
 public
-CHANGELOG.md
-.yarn
-packages/codemod/transforms/__testfixtures__/**/*
-packages/codemod/transforms/__tests__/**/*
-packages/codemod/**/*.js
-packages/codemod/**/*.d.ts
-dist
-.next
-./drupal

---FILE: .prettierrc.json---
@@ -1,7 +1,14 @@
 {
-  ""endOfLine"": ""lf"",
   ""semi"": false,
-  ""singleQuote"": false,
-  ""tabWidth"": 2,
-  ""trailingComma"": ""es5""
+  ""trailingComma"": ""es5"",
+  ""overrides"": [
+    {
+      ""files"": ""modules/**/*"",
+      ""options"": {
+        ""semi"": true,
+        ""singleQuote"": true,
+        ""trailingComma"": ""all""
+      }
+    }
+  ]
 }

---FILE: SECURITY.md---
@@ -9,20 +9,20 @@ Refer to the table below for versions supported with security updates.
 | Version | Supported          |
 | ------- | ------------------ |
 | 1.x.x   | :white_check_mark: |
-| < 1.0.0   | :x:                |
+| < 1.0.0 | :x:                |
 
 ### `next` Drupal module
 
 | Version | Supported          |
 | ------- | ------------------ |
 | 1.x.x   | :white_check_mark: |
-| < 1.0.0   | :x:                |
+| < 1.0.0 | :x:                |
 
 ## Reporting a Vulnerability
 
 If you believe you have found a security vulnerability in `next-drupal` package or the `next` Drupal module, we encourage you to let us know right away.
 
-We will do our best to quickly fix the problem. 
+We will do our best to quickly fix the problem.
 
 We will sync with the [Drupal Security Team](https://www.drupal.org/drupal-security-team) if the vulnerability affects the `next` Drupal module.
 

---FILE: examples/example-auth/cypress/support/index.js---
@@ -14,7 +14,7 @@
 // ***********************************************************
 
 // Import commands.js using ES2015 syntax:
-import './commands'
+import ""./commands""
 
 // Alternatively you can use CommonJS syntax:
 // require('./commands')

---FILE: examples/example-auth/types/next-auth.d.ts---
@@ -1,4 +1,4 @@
-import { DefaultSession, Session } from ""next-auth""
+import { DefaultSession } from ""next-auth""
 
 declare module ""next-auth"" {
   interface Session {

---FILE: examples/example-blog/tsconfig.json---
@@ -1,11 +1,7 @@
 {
   ""compilerOptions"": {
     ""target"": ""es5"",
-    ""lib"": [
-      ""dom"",
-      ""dom.iterable"",
-      ""esnext""
-    ],
+    ""lib"": [""dom"", ""dom.iterable"", ""esnext""],
     ""allowJs"": true,
     ""skipLibCheck"": true,
     ""strict"": false,
@@ -19,24 +15,12 @@
     ""jsx"": ""preserve"",
     ""baseUrl"": ""./"",
     ""paths"": {
-      ""@/components/*"": [
-        ""src/components/*""
-      ],
-      ""@utils/*"": [
-        ""src/utils/*""
-      ],
-      ""@/config"": [
-        ""src/config""
-      ]
+      ""@/components/*"": [""src/components/*""],
+      ""@utils/*"": [""src/utils/*""],
+      ""@/config"": [""src/config""]
     },
     ""incremental"": true
   },
-  ""include"": [
-    ""next-env.d.ts"",
-    ""**/*.ts"",
-    ""**/*.tsx""
-  ],
-  ""exclude"": [
-    ""node_modules""
-  ]
+  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
+  ""exclude"": [""node_modules""]
 }

---FILE: examples/example-custom-cache/lib/drupal.ts---
@@ -1,4 +1,4 @@
-import { Experiment_DrupalClient, DataCache } from ""next-drupal""
+import { DataCache, DrupalClient } from ""next-drupal""
 import Redis from ""ioredis""
 
 const redis = new Redis(process.env.REDIS_URL)

---FILE: examples/example-marketing/cypress/support/index.js---
@@ -14,7 +14,7 @@
 // ***********************************************************
 
 // Import commands.js using ES2015 syntax:
-import './commands'
+import ""./commands""
 
 // Alternatively you can use CommonJS syntax:
 // require('./commands')

---FILE: examples/example-marketing/pages/_app.tsx---
@@ -1,6 +1,10 @@
 import * as React from ""react""
 import Router from ""next/router""
-import { QueryClient, QueryClientProvider, Hydrate } from ""@tanstack/react-query""
+import {
+  QueryClient,
+  QueryClientProvider,
+  Hydrate,
+} from ""@tanstack/react-query""
 import NProgress from ""nprogress""
 import { syncDrupalPreviewRoutes } from ""next-drupal""
 import ""nprogress/nprogress.css""

---FILE: examples/example-query/pages/[...slug].tsx---
@@ -51,7 +51,7 @@ export async function getStaticProps(context) {
     }
   }
 
-  const type = path.jsonapi.resourceName as typeof RESOURCE_TYPES[number]
+  const type = path.jsonapi.resourceName as (typeof RESOURCE_TYPES)[number]
 
   if (!RESOURCE_TYPES.includes(type)) {
     return {

---FILE: examples/example-query/types/drupal/field.ts---
@@ -8,7 +8,7 @@ export interface FieldTextFormatted {
 
 export type FieldEntityReference<
   Types,
-  Cardinality extends FieldCardinality = ""limited""
+  Cardinality extends FieldCardinality = ""limited"",
 > = Cardinality extends ""unlimited"" ? Array<Partial<Types>> : Partial<Types>
 
 export type FieldList<List> = keyof List

---FILE: examples/example-search-api/cypress/support/index.js---
@@ -14,7 +14,7 @@
 // ***********************************************************
 
 // Import commands.js using ES2015 syntax:
-import './commands'
+import ""./commands""
 
 // Alternatively you can use CommonJS syntax:
 // require('./commands')

---FILE: examples/example-umami/components/meta.tsx---
@@ -19,9 +19,7 @@ export function Meta({ title, description }: MetaProps) {
         rel=""canonical""
         href={absoluteURL(router.asPath !== ""/"" ? router.asPath : """")}
       />
-      <title>
-        {`${title} | ${siteConfig.name}`}
-      </title>
+      <title>{`${title} | ${siteConfig.name}`}</title>
       <meta name=""description"" content={description || siteConfig.slogan} />
       <meta
         property=""og:image""

---FILE: examples/example-umami/pages/_app.tsx---
@@ -1,7 +1,11 @@
 import * as React from ""react""
 import Router from ""next/router""
 import { SessionProvider } from ""next-auth/react""
-import { QueryClient, QueryClientProvider, Hydrate } from ""@tanstack/react-query""
+import {
+  QueryClient,
+  QueryClientProvider,
+  Hydrate,
+} from ""@tanstack/react-query""
 import { appWithTranslation } from ""next-i18next""
 import NProgress from ""nprogress""
 import ""nprogress/nprogress.css""

---FILE: examples/example-webform/cypress/support/index.js---
@@ -14,7 +14,7 @@
 // ***********************************************************
 
 // Import commands.js using ES2015 syntax:
-import './commands'
+import ""./commands""
 
 // Alternatively you can use CommonJS syntax:
 // require('./commands')

---FILE: modules/next/config/schema/next.schema.yml---
@@ -1,45 +1,44 @@
 next.next_site.*:
   type: config_entity
-  label: ""Next.js site""
+  label: 'Next.js site'
   mapping:
     id:
       type: string
-      label: ""ID""
+      label: 'ID'
     label:
       type: label
-      label: ""Label""
+      label: 'Label'
     base_url:
       type: string
-      label: ""Base URL""
+      label: 'Base URL'
     preview_url:
       type: string
-      label: ""Preview URL""
+      label: 'Preview URL'
     preview_secret:
       type: string
-      label: ""Preview secret""
+      label: 'Preview secret'
     revalidate_url:
       type: string
-      label: ""Revalidate URL""
+      label: 'Revalidate URL'
     revalidate_secret:
       type: string
-      label: ""Revalidate secret""
-
+      label: 'Revalidate secret'
 
 next.next_entity_type_config.*:
   type: config_entity
-  label: ""Next.js entity type config""
+  label: 'Next.js entity type config'
   mapping:
     id:
       type: string
-      label: ""ID""
+      label: 'ID'
     site_resolver:
       type: string
-      label: ""Site resolver""
+      label: 'Site resolver'
     configuration:
       type: next.site_resolver.configuration.[%parent.site_resolver]
     revalidator:
       type: string
-      label: ""Revalidator""
+      label: 'Revalidator'
     revalidator_configuration:
       type: next.revalidator.configuration.[%parent.revalidator]
 
@@ -48,17 +47,17 @@ next.site_resolver.configuration.site_selector:
   mapping:
     sites:
       type: sequence
-      label: ""Next.js sites""
+      label: 'Next.js sites'
       sequence:
         type: string
-        label: ""Site""
+        label: 'Site'
 
 next.site_resolver.configuration.entity_reference_field:
   type: mapping
   mapping:
     field_name:
       type: string
-      label: ""Field name""
+      label: 'Field name'
 
 next.revalidator.configuration.*:
   type: mapping
@@ -69,23 +68,23 @@ next.revalidator.configuration.path:
   mapping:
     revalidate_page:
       type: boolean
-      label: ""Revalidate page""
+      label: 'Revalidate page'
     additional_paths:
       type: string
-      label: ""Additional paths""
+      label: 'Additional paths'
 
 next.settings:
   type: config_object
-  label: ""Next settings""
+  label: 'Next settings'
   mapping:
     site_previewer:
       type: string
-      label: ""Site previewer""
+      label: 'Site previewer'
     site_previewer_configuration:
       type: next.site_previewer.configuration.[%parent.site_previewer]
     preview_url_generator:
       type: string
-      label: ""Preview URL generator""
+      label: 'Preview URL generator'
     preview_url_generator_configuration:
       type: next.preview_url_generator.configuration.[%parent.preview_url_generator]
     debug:
@@ -96,17 +95,17 @@ next.site_previewer.configuration.iframe:
   mapping:
     width:
       type: string
-      label: ""Width""
+      label: 'Width'
     sync_route:
       type: boolean
-      label: ""Sync route""
+      label: 'Sync route'
     sync_route_skip_routes:
       type: string
-      label: ""Sync route skip pages""
+      label: 'Sync route skip pages'
 
 next.preview_url_generator.configuration.simple_oauth:
   type: mapping
   mapping:
     secret_expiration:
       type: integer
-      label: ""Secret expiration""
+      label: 'Secret expiration'

---FILE: modules/next/js/next.site_preview.iframe.js---
@@ -3,41 +3,45 @@
  * Site preview.
  */
 
-(function($, window, Drupal, drupalSettings) {
-
+(function ($, window, Drupal, drupalSettings) {
   Drupal.behaviors.iframePreviewLoader = {
     attach(context) {
-      const $iframe = $('iframe.next-site-preview-iframe', context)
+      const $iframe = $('iframe.next-site-preview-iframe', context);
 
       $iframe.on('load', () => {
         $iframe.addClass('ready');
-      })
-    }
-  }
+      });
+    },
+  };
 
   Drupal.behaviors.iframePreviewSyncRoute = {
     attach() {
-      const { sync_route = false, skip_routes } = drupalSettings.next.iframe_preview
+      const { sync_route = false, skip_routes } =
+        drupalSettings.next.iframe_preview;
 
       if (!sync_route) {
         return;
       }
 
-      window.addEventListener(""message"", (event) => {
-        const { data } = event
-
-        if (data.type !== 'NEXT_DRUPAL_ROUTE_SYNC' || !data.path) {
-          return;
-        }
-
-        if (skip_routes?.includes(data.path)) {
-          return;
-        }
-
-        if (window.location.pathname !== data.path) {
-          window.location.href = data.path
-        }
-      }, false);
-    }
-  }
+      window.addEventListener(
+        'message',
+        (event) => {
+          const { data } = event;
+
+          if (data.type !== 'NEXT_DRUPAL_ROUTE_SYNC' || !data.path) {
+            return;
+          }
+
+          if (skip_routes?.includes(data.path)) {
+            return;
+          }
+
+          if (window.location.pathname !== data.path) {
+            window.location.href = data.path;
+          }
+        },
+        false,
+      );
+    },
+  };
 })(jQuery, window, Drupal, drupalSettings);

---FILE: modules/next/modules/next_extras/config/schema/next_extras.schema.yml---
@@ -1,10 +1,10 @@
 next.next_entity_type_config.*.third_party.next_extras:
   type: mapping
-  label: ""Revalidate""
+  label: 'Revalidate'
   mapping:
     revalidate:
       type: boolean
-      label: ""Revalidate""
+      label: 'Revalidate'
     revalidate_paths:
       type: string
-      label: ""Revalidate paths""
+      label: 'Revalidate paths'

---FILE: modules/next/modules/next_extras/next_extras.services.yml---
@@ -1,7 +1,12 @@
 services:
   next_extras.cache_invalidator:
     class: Drupal\next_extras\NextCacheInvalidator
-    arguments: ['@next.entity_type.manager', '@http_client', '@logger.channel.next_extras']
+    arguments:
+      [
+        '@next.entity_type.manager',
+        '@http_client',
+        '@logger.channel.next_extras',
+      ]
   logger.channel.next_extras:
     parent: logger.channel_base
-    arguments: [ 'next_extras' ]
+    arguments: ['next_extras']

---FILE: modules/next/modules/next_graphql/next_graphql.info.yml---
@@ -1,6 +1,6 @@
-name: ""Next.js GraphQL""
+name: 'Next.js GraphQL'
 type: module
-description: ""GraphQL for Next.js""
+description: 'GraphQL for Next.js'
 core_version_requirement: ^9 || ^10
 package: Web services
 dependencies:

---FILE: modules/next/modules/next_jsonapi/next_jsonapi.info.yml---
@@ -1,6 +1,6 @@
-name: ""Next.js JSON:API""
+name: 'Next.js JSON:API'
 type: module
-description: ""JSON:API Helpers for Next.js""
+description: 'JSON:API Helpers for Next.js'
 core_version_requirement: ^9 || ^10
 package: Web services
 dependencies:

---FILE: modules/next/modules/next_jsonapi/next_jsonapi.services.yml---
@@ -5,15 +5,15 @@ services:
   jsonapi.entity_resource:
     class: Drupal\next_jsonapi\Controller\EntityResource
     arguments:
-      - ""@entity_type.manager""
-      - ""@entity_field.manager""
-      - ""@jsonapi.resource_type.repository""
-      - ""@renderer""
-      - ""@entity.repository""
-      - ""@jsonapi.include_resolver""
-      - ""@jsonapi.entity_access_checker""
-      - ""@jsonapi.field_resolver""
-      - ""@jsonapi.serializer""
-      - ""@datetime.time""
-      - ""@current_user""
-      - ""%next_jsonapi.size_max%""
+      - '@entity_type.manager'
+      - '@entity_field.manager'
+      - '@jsonapi.resource_type.repository'
+      - '@renderer'
+      - '@entity.repository'
+      - '@jsonapi.include_resolver'
+      - '@jsonapi.entity_access_checker'
+      - '@jsonapi.field_resolver'
+      - '@jsonapi.serializer'
+      - '@datetime.time'
+      - '@current_user'
+      - '%next_jsonapi.size_max%'

---FILE: modules/next/modules/next_jwt/config/schema/next_jwt.schema.yml---
@@ -3,7 +3,7 @@ next.preview_url_generator.configuration.jwt:
   mapping:
     secret_expiration:
       type: integer
-      label: ""Secret expiration""
+      label: 'Secret expiration'
     access_token_expiration:
       type: integer
-      label: ""Access token expiration""
+      label: 'Access token expiration'

---FILE: modules/next/modules/next_jwt/next_jwt.info.yml---
@@ -1,6 +1,6 @@
 name: Next.js JWT (Experimental)
 type: module
-description: ""Generates preview URLs using JSON Web Token""
+description: 'Generates preview URLs using JSON Web Token'
 core_version_requirement: ^9 || ^10
 package: Web services
 dependencies:

---FILE: modules/next/modules/next_jwt/next_jwt.services.yml---
@@ -1,7 +1,7 @@
 services:
   next_jwt.jwt_subscriber:
     class: Drupal\next_jwt\EventSubscriber\JwtEventSubscriber
-    arguments: [ '@current_user', '@next.settings.manager' ]
+    arguments: ['@current_user', '@next.settings.manager']
     tags:
       - { name: event_subscriber }
   next_jwt.route_subscriber:

---FILE: modules/next/next.links.action.yml---
@@ -1,10 +1,10 @@
 entity.next_site.add_form:
   route_name: entity.next_site.add_form
-  title: ""Add Next.js site""
+  title: 'Add Next.js site'
   appears_on:
     - entity.next_site.collection
 entity.next_entity_type_config.add_form:
   route_name: entity.next_entity_type_config.add_form
-  title: ""Configure entity type""
+  title: 'Configure entity type'
   appears_on:
     - entity.next_entity_type_config.collection

---FILE: modules/next/next.links.menu.yml---
@@ -1,26 +1,26 @@
 next.next_site.collection:
-  title: ""Next.js""
-  description: ""Configure Next.js sites and entity types preview.""
+  title: 'Next.js'
+  description: 'Configure Next.js sites and entity types preview.'
   parent: system.admin_config_services
   route_name: entity.next_site.collection
 
 next.next_site.collection.sites:
-  title: ""Sites""
-  description: ""Administer Next.js sites""
+  title: 'Sites'
+  description: 'Administer Next.js sites'
   parent: next.next_site.collection
   route_name: entity.next_site.collection
   weight: 0
 
 next.next_entity_type_config.collection:
-  title: ""Entity Types""
-  description: ""Configure entity types for Next.js sites""
+  title: 'Entity Types'
+  description: 'Configure entity types for Next.js sites'
   parent: next.next_site.collection
   route_name: entity.next_entity_type_config.collection
   weight: 10
 
 next.settings:
-  title: ""Settings""
-  description: ""Configure Next.js""
+  title: 'Settings'
+  description: 'Configure Next.js'
   parent: next.next_site.collection
   route_name: next.settings
   weight: 20

---FILE: modules/next/next.links.task.yml---
@@ -1,20 +1,20 @@
 next.next_site.collection:
-  title: ""Sites""
-  description: ""Administer Next.js sites""
+  title: 'Sites'
+  description: 'Administer Next.js sites'
   route_name: entity.next_site.collection
   base_route: next.settings
   weight: 0
 
 next.next_entity_type_config.collection:
-  title: ""Entity Types""
-  description: ""Configure entity types for Next.js sites""
+  title: 'Entity Types'
+  description: 'Configure entity types for Next.js sites'
   route_name: entity.next_entity_type_config.collection
   base_route: next.settings
   weight: 10
 
 next.settings:
-  title: ""Settings""
-  description: ""Configure Next.js""
+  title: 'Settings'
+  description: 'Configure Next.js'
   route_name: next.settings
   base_route: next.settings
   weight: 20

---FILE: modules/next/next.routing.yml---
@@ -1,18 +1,18 @@
 next.settings:
-  path: ""/admin/config/services/next/settings""
+  path: '/admin/config/services/next/settings'
   defaults:
     _form: '\Drupal\next\Form\NextSettingsForm'
-    _title: ""Settings""
+    _title: 'Settings'
   requirements:
-    _permission: ""administer site configuration""
+    _permission: 'administer site configuration'
   options:
     _admin_route: TRUE
 
 next.validate_preview_url:
-  path: ""/next/preview-url""
+  path: '/next/preview-url'
   defaults:
     _controller: 'Drupal\next\Controller\NextPreviewUrlController::validate'
-  methods: [ POST ]
+  methods: [POST]
   requirements:
     _access: 'TRUE'
     _format: 'json'

---FILE: modules/next/next.services.yml---
@@ -13,34 +13,34 @@ services:
     parent: default_plugin_manager
   next.entity_type.manager:
     class: Drupal\next\NextEntityTypeManager
-    arguments: [""@entity_type.manager""]
+    arguments: ['@entity_type.manager']
   next.settings.manager:
     class: Drupal\next\NextSettingsManager
     arguments:
       [
-        ""@config.factory"",
-        ""@plugin.manager.next.site_previewer"",
-        ""@plugin.manager.next.preview_url_generator"",
+        '@config.factory',
+        '@plugin.manager.next.site_previewer',
+        '@plugin.manager.next.preview_url_generator',
       ]
   next.preview_secret_generator:
     class: Drupal\next\PreviewSecretGenerator
-    arguments: [""@private_key""]
+    arguments: ['@private_key']
   next.main_content_renderer.html:
     class: Drupal\next\Render\MainContent\HtmlRenderer
     decorates: main_content_renderer.html
     arguments:
       [
-        ""@title_resolver"",
-        ""@plugin.manager.display_variant"",
-        ""@event_dispatcher"",
-        ""@module_handler"",
-        ""@renderer"",
-        ""@render_cache"",
-        ""%renderer.config%"",
-        ""@config.factory"",
-        ""@next.entity_type.manager"",
-        ""@plugin.manager.next.site_previewer"",
-        ""@theme.manager"",
+        '@title_resolver',
+        '@plugin.manager.display_variant',
+        '@event_dispatcher',
+        '@module_handler',
+        '@renderer',
+        '@render_cache',
+        '%renderer.config%',
+        '@config.factory',
+        '@next.entity_type.manager',
+        '@plugin.manager.next.site_previewer',
+        '@theme.manager',
       ]
     tags:
       - { name: render.main_content_renderer, format: html }
@@ -49,19 +49,19 @@ services:
     tags:
       - { name: module_install.uninstall_validator }
     arguments:
-      [""@plugin.manager.next.preview_url_generator"", ""@next.settings.manager""]
+      ['@plugin.manager.next.preview_url_generator', '@next.settings.manager']
     lazy: true
   logger.channel.next:
     parent: logger.channel_base
-    arguments: [""next""]
+    arguments: ['next']
   next.entity_action_event_revalidate_subscriber:
     class: Drupal\next\EventSubscriber\EntityActionEventRevalidateSubscriber
     arguments:
       [
-        ""@next.entity_type.manager"",
-        ""@next.settings.manager"",
-        ""@logger.channel.next"",
-        ""@event_dispatcher"",
+        '@next.entity_type.manager',
+        '@next.settings.manager',
+        '@logger.channel.next',
+        '@event_dispatcher',
       ]
     tags:
       - { name: event_subscriber }

---FILE: modules/next/tests/modules/next_tests/next_tests.services.yml---
@@ -1,11 +1,11 @@
 services:
   next_tests.entity_action_event_subscriber:
     class: Drupal\next_tests\EventSubscriber\EntityActionEventSubscriber
-    arguments: [""@logger.channel.default""]
+    arguments: ['@logger.channel.default']
     tags:
       - { name: event_subscriber }
   next_tests.entity_revalidated_event_subscriber:
     class: Drupal\next_tests\EventSubscriber\EntityRevalidatedEventSubscriber
-    arguments: [""@logger.channel.default""]
+    arguments: ['@logger.channel.default']
     tags:
       - { name: event_subscriber }

---FILE: package.json---
@@ -11,19 +11,22 @@
     ""www""
   ],
   ""scripts"": {
-    ""test"": ""jest"",
     ""dev"": ""turbo run dev --parallel"",
     ""dev:starter"": ""lerna run --parallel --scope drupal --scope basic-starter dev"",
     ""prepare"": ""lerna run prepare && husky install"",
     ""watch"": ""lerna run watch"",
     ""lint"": ""eslint --cache --ext .js,.jsx,.ts,.tsx ."",
+    ""format"": ""prettier --write ."",
+    ""format:check"": ""prettier --check ."",
     ""phpcs"": ""./drupal/vendor/bin/phpcs -p -s --colors --standard=modules/next/phpcs.xml modules/next"",
     ""test:next"": ""./drupal/vendor/bin/phpunit -c ./drupal/web modules/next"",
     ""sync:modules"": ""./scripts/sync-modules.sh \""modules/*\"""",
     ""sync:examples"": ""./scripts/sync-examples.sh \""examples/example-*\"""",
     ""sync:starters"": ""./scripts/sync-starters.sh \""starters/*\"""",
     ""seed"": ""NUM_NODES=200 node ./scripts/seed"",
     ""cy:open"": ""turbo run cy:open --parallel"",
+    ""test"": ""jest"",
+    ""pretest"": ""yarn format:check && yarn lint"",
     ""test:e2e"": ""turbo run test:e2e --parallel"",
     ""test:e2e:ci"": ""turbo run test:e2e:ci --parallel""
   },
@@ -50,27 +53,24 @@
     ""@typescript-eslint/parser"": ""^5.62.0"",
     ""cypress"": ""^9.7.0"",
     ""eslint"": ""^8.51.0"",
-    ""eslint-config-prettier"": ""^8.10.0"",
+    ""eslint-config-prettier"": ""^9.0.0"",
     ""eslint-plugin-cypress"": ""^2.15.1"",
-    ""eslint-plugin-prettier"": ""^4.2.1"",
+    ""eslint-plugin-prettier"": ""^5.0.1"",
     ""eslint-plugin-react"": ""^7.33.2"",
     ""faker"": ""^6.6.6"",
     ""husky"": ""^8.0.3"",
     ""isomorphic-fetch"": ""^3.0.0"",
     ""jest"": ""^27.5.1"",
     ""lerna"": ""^4.0.0"",
+    ""lint-staged"": ""^15.0.2"",
     ""microbundle"": ""^0.15.1"",
-    ""prettier"": ""^2.8.8"",
-    ""pretty-quick"": ""^3.1.3"",
+    ""prettier"": ""^3.0.3"",
     ""start-server-and-test"": ""^1.15.5"",
     ""ts-jest"": ""^27.1.5"",
     ""ts-node"": ""^10.9.1"",
     ""turbo"": ""^1.10.15"",
     ""typescript"": ""^4.9.5"",
     ""uuid"": ""^9.0.1"",
     ""yaml"": ""^2.3.3""
-  },
-  ""engines"": {
-    ""node"": "">=16.19.0""
   }
 }

---FILE: packages/next-drupal-query/src/index.ts---
@@ -185,7 +185,7 @@ type Queries<Q> = Record<
 type QueryTypeOf<
   Q extends Queries<Q>,
   T extends keyof Q,
-  F extends ""params"" | ""data"" | ""formatter"" | ""placeholder""
+  F extends ""params"" | ""data"" | ""formatter"" | ""placeholder"",
 > = Q[T][F]
 
 // type QueryId<Q = null> = keyof Q
@@ -200,7 +200,7 @@ type QueryDataOpts<Q extends Queries<Q>, T extends keyof Q> = Parameters<
 
 type QueryPlaceholderDataOpts<
   Q extends Queries<Q>,
-  T extends keyof Q
+  T extends keyof Q,
 > = Parameters<Q[T][""placeholder""]>[0]
 
 type QueryFormatterInput<Q extends Queries<Q>, T extends keyof Q> = Parameters<
@@ -213,7 +213,7 @@ type QueryDataReturn<Q extends Queries<Q>, T extends keyof Q> = ReturnType<
 
 type QueryPlaceholderDataReturn<
   Q extends Queries<Q>,
-  T extends keyof Q
+  T extends keyof Q,
 > = ReturnType<QueryTypeOf<Q, T, ""placeholder"">>
 
 type QueryFormatterReturn<Q extends Queries<Q>, T extends keyof Q> = ReturnType<
@@ -268,7 +268,7 @@ export function massageRouteQuery(query) {
 export function createQueries<Q extends Readonly<Queries<Q>>>(queries: Q) {
   const getRawData = async <
     T extends ConditionalKeys<Q, { data }>,
-    O extends QueryDataOpts<Q, T>
+    O extends QueryDataOpts<Q, T>,
   >(
     id: T,
     opts: O = null
@@ -305,7 +305,7 @@ export function createQueries<Q extends Readonly<Queries<Q>>>(queries: Q) {
 
   const getPlaceholderData = async <
     T extends ConditionalKeys<Q, { data }>,
-    O extends QueryPlaceholderDataOpts<Q, T>
+    O extends QueryPlaceholderDataOpts<Q, T>,
   >(
     id: T,
     opts: O = null
@@ -328,7 +328,7 @@ export function createQueries<Q extends Readonly<Queries<Q>>>(queries: Q) {
 
   const formatData = <
     T extends ConditionalKeys<Q, { formatter }>,
-    Input extends QueryFormatterInput<Q, T>
+    Input extends QueryFormatterInput<Q, T>,
   >(
     id: T,
     input: Input
@@ -357,17 +357,17 @@ export function createQueries<Q extends Readonly<Queries<Q>>>(queries: Q) {
 
   async function getData<
     T extends ConditionalKeys<Q, { formatter; data }>,
-    O extends QueryDataOpts<Q, T>
+    O extends QueryDataOpts<Q, T>,
   >(id: T, opts?: O): Promise<QueryFormatterReturn<Q, T>>
 
   async function getData<
     T extends ConditionalKeys<Q, { data }>,
-    O extends QueryDataOpts<Q, T>
+    O extends QueryDataOpts<Q, T>,
   >(id: T, opts?: O): Promise<QueryDataReturn<Q, T>>
 
   async function getData<
     T extends ConditionalKeys<Q, { placeholder }>,
-    O extends QueryPlaceholderDataOpts<Q, T>
+    O extends QueryPlaceholderDataOpts<Q, T>,
   >(id: T, opts?: O): Promise<QueryPlaceholderDataReturn<Q, T>>
 
   async function getData(id, opts = null) {
@@ -412,7 +412,7 @@ export function createQueries<Q extends Readonly<Queries<Q>>>(queries: Q) {
     },
     getParams: <
       T extends ConditionalKeys<Q, { params }>,
-      O extends QueryParamsOpts<Q, T>
+      O extends QueryParamsOpts<Q, T>,
     >(
       id: T = null,
       opts: O = null

---FILE: packages/next-drupal/package.json---
@@ -7,7 +7,7 @@
   ""type"": ""module"",
   ""main"": ""dist/index.cjs"",
   ""module"": ""dist/index.modern.js"",
-  ""types"": ""dist/types.d.ts"",
+  ""types"": ""dist/index.d.ts"",
   ""license"": ""MIT"",
   ""publishConfig"": {
     ""access"": ""public""

---FILE: www/content/features/typescript.mdx---
@@ -21,7 +21,6 @@ const tags = await drupal.getResourceCollection<DrupalTaxonomyTerm[]>(
 
 ```ts
 // Any resource type.
-const resources = await drupal.getResourceCollection<JsonApiResource[]>(
-  ""entity--bundle""
-)
+const resources =
+  await drupal.getResourceCollection<JsonApiResource[]>(""entity--bundle"")
 ```

---FILE: www/content/guides/page-limit.mdx---
@@ -47,8 +47,8 @@ The following will return 100 items (Overridden using `path`):
 ```ts
 const articles = await drupal.getResourceCollection(""node--article"", {
   params: {
-    ""fields[node--article]"": ""path,title""
-  }
+    ""fields[node--article]"": ""path,title"",
+  },
 })
 ```
 
@@ -59,7 +59,7 @@ const articles = await drupal.getResourceCollection(""node--article"", {
   params: {
     ""fields[node--article]"": ""path,title"",
     ""page[limit]"": 60,
-  }
+  },
 })
 ```
 
@@ -70,6 +70,6 @@ const articles = await drupal.getResourceCollection(""node--article"", {
   params: {
     ""fields[node--article]"": ""path,title"",
     ""page[limit]"": 999,
-  }
+  },
 })
 ```

---FILE: www/pages/_document.tsx---
@@ -10,7 +10,7 @@ export default class extends Document {
           <link
             rel=""preconnect""
             href={`https://${process.env.NEXT_PUBLIC_ALGOLIA_APP_ID}-dsn.algolia.net`}
-            crossOrigin=""true""
+            crossOrigin=""anonymous""
           />
         </Head>
         <body>

---FILE: www/pages/learn/index.tsx---
@@ -1,4 +1,3 @@
-import { getAllMdxNodes } from ""next-mdx/server""
 import Link from ""next/link""
 
 import { Tutorial } from ""types""",False,False,Documentation / Formatting,6
chapter-three,next-drupal,83cab9d9a962f1b0c3971601e5bf97865778e8f7,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-26T13:49:51Z,GitHub,noreply@github.com,2023-10-26T13:49:51Z,"refactor(next-drupal): make React and type imports explicit

* refactor(next-drupal): make type imports explicit
* refactor(next-drupal): use explicit imports from react

Fixes #575",packages/next-drupal-query/src/index.ts;packages/next-drupal/src/client.ts;packages/next-drupal/src/get-access-token.ts;packages/next-drupal/src/get-menu.ts;packages/next-drupal/src/get-paths.ts;packages/next-drupal/src/get-resource-collection.ts;packages/next-drupal/src/get-resource-type.ts;packages/next-drupal/src/get-resource.ts;packages/next-drupal/src/get-search-index.ts;packages/next-drupal/src/get-view.ts;packages/next-drupal/src/jsonapi-errors.ts;packages/next-drupal/src/logger.ts;packages/next-drupal/src/preview.ts;packages/next-drupal/src/translate-path.ts;packages/next-drupal/src/use-menu.tsx;packages/next-drupal/src/utils.ts,False,False,False,False,67,65,132,"---FILE: packages/next-drupal-query/src/index.ts---
@@ -1,6 +1,6 @@
 import deepmerge from ""deepmerge""
 import { DrupalJsonApiParams } from ""drupal-jsonapi-params""
-import { GetServerSidePropsContext, GetStaticPathsContext } from ""next""
+import type { GetServerSidePropsContext, GetStaticPathsContext } from ""next""
 import type { RequireAllOrNone, ConditionalKeys } from ""type-fest""
 
 // Note: some generic are explicitly not typed here to force definition.

---FILE: packages/next-drupal/src/client.ts---
@@ -1,42 +1,41 @@
+import Jsona from ""jsona""
+import { stringify } from ""qs""
+import { JsonApiErrors } from ""./jsonapi-errors""
+import { logger as defaultLogger } from ""./logger""
 import type {
   GetStaticPathsContext,
   GetStaticPathsResult,
   GetStaticPropsContext,
   NextApiRequest,
   NextApiResponse,
 } from ""next""
-import { stringify } from ""qs""
-import Jsona from ""jsona""
-
 import type {
-  JsonApiResource,
-  Locale,
   AccessToken,
-  JsonApiResponse,
-  JsonApiWithLocaleOptions,
-  JsonApiParams,
-  DrupalTranslatedPath,
+  BaseUrl,
+  DrupalClientAuthAccessToken,
+  DrupalClientAuthClientIdSecret,
+  DrupalClientAuthUsernamePassword,
+  DrupalClientOptions,
+  DrupalFile,
   DrupalMenuLinkContent,
+  DrupalTranslatedPath,
+  DrupalView,
   FetchOptions,
-  DrupalClientOptions,
-  BaseUrl,
-  JsonApiWithAuthOptions,
-  PathPrefix,
+  JsonApiCreateFileResourceBody,
+  JsonApiCreateResourceBody,
+  JsonApiParams,
+  JsonApiResource,
   JsonApiResourceWithPath,
+  JsonApiResponse,
+  JsonApiUpdateResourceBody,
+  JsonApiWithAuthOptions,
+  JsonApiWithCacheOptions,
+  JsonApiWithLocaleOptions,
+  Locale,
   PathAlias,
+  PathPrefix,
   PreviewOptions,
-  JsonApiWithCacheOptions,
-  JsonApiCreateResourceBody,
-  JsonApiUpdateResourceBody,
-  DrupalClientAuthUsernamePassword,
-  DrupalClientAuthAccessToken,
-  DrupalClientAuthClientIdSecret,
-  JsonApiCreateFileResourceBody,
-  DrupalView,
-  DrupalFile,
 } from ""./types""
-import { logger as defaultLogger } from ""./logger""
-import { JsonApiErrors } from ""./jsonapi-errors""
 
 const DEFAULT_API_PREFIX = ""/jsonapi""
 const DEFAULT_FRONT_PAGE = ""/home""

---FILE: packages/next-drupal/src/get-access-token.ts---
@@ -1,5 +1,5 @@
 import { cache } from ""./get-cache""
-import { AccessToken } from ""./types""
+import type { AccessToken } from ""./types""
 
 const CACHE_KEY = ""NEXT_DRUPAL_ACCESS_TOKEN""
 

---FILE: packages/next-drupal/src/get-menu.ts---
@@ -1,9 +1,9 @@
-import {
+import { buildHeaders, buildUrl, deserialize } from ""./utils""
+import type {
   AccessToken,
   DrupalMenuLinkContent,
   JsonApiWithLocaleOptions,
 } from ""./types""
-import { buildHeaders, buildUrl, deserialize } from ""./utils""
 
 export async function getMenu<T extends DrupalMenuLinkContent>(
   name: string,

---FILE: packages/next-drupal/src/get-paths.ts---
@@ -1,6 +1,6 @@
-import { GetStaticPathsContext, GetStaticPathsResult } from ""next""
 import { getResourceCollection } from ""./get-resource-collection""
-import { AccessToken, JsonApiParams, Locale } from ""./types""
+import type { GetStaticPathsContext, GetStaticPathsResult } from ""next""
+import type { AccessToken, JsonApiParams, Locale } from ""./types""
 
 export async function getPathsFromContext(
   types: string | string[],

---FILE: packages/next-drupal/src/get-resource-collection.ts---
@@ -1,16 +1,16 @@
-import { GetStaticPropsContext } from ""next""
-import {
-  AccessToken,
-  JsonApiParams,
-  JsonApiWithLocaleOptions,
-  JsonApiResource,
-} from ""./types""
 import {
   buildHeaders,
   buildUrl,
   deserialize,
   getJsonApiPathForResourceType,
 } from ""./utils""
+import type { GetStaticPropsContext } from ""next""
+import type {
+  AccessToken,
+  JsonApiParams,
+  JsonApiResource,
+  JsonApiWithLocaleOptions,
+} from ""./types""
 
 export async function getResourceCollection<T = JsonApiResource[]>(
   type: string,

---FILE: packages/next-drupal/src/get-resource-type.ts---
@@ -1,6 +1,6 @@
-import { GetStaticPropsContext } from ""next""
 import { translatePathFromContext } from ""./translate-path""
-import { AccessToken } from ""./types""
+import type { GetStaticPropsContext } from ""next""
+import type { AccessToken } from ""./types""
 
 export async function getResourceTypeFromContext(
   context: GetStaticPropsContext,

---FILE: packages/next-drupal/src/get-resource.ts---
@@ -1,18 +1,18 @@
-import { GetStaticPropsContext } from ""next""
 import { stringify } from ""qs""
-import {
-  AccessToken,
-  JsonApiParams,
-  JsonApiWithLocaleOptions,
-  JsonApiResource,
-} from ""./types""
 import {
   buildHeaders,
   buildUrl,
   deserialize,
   getJsonApiPathForResourceType,
   getPathFromContext,
 } from ""./utils""
+import type { GetStaticPropsContext } from ""next""
+import type {
+  AccessToken,
+  JsonApiParams,
+  JsonApiResource,
+  JsonApiWithLocaleOptions,
+} from ""./types""
 
 export async function getResourceFromContext<T extends JsonApiResource>(
   type: string,

---FILE: packages/next-drupal/src/get-search-index.ts---
@@ -1,6 +1,10 @@
-import { GetStaticPropsContext } from ""next""
-import { AccessToken, JsonApiResource, JsonApiWithLocaleOptions } from ""./types""
 import { buildHeaders, buildUrl, deserialize } from ""./utils""
+import type { GetStaticPropsContext } from ""next""
+import type {
+  AccessToken,
+  JsonApiResource,
+  JsonApiWithLocaleOptions,
+} from ""./types""
 
 export async function getSearchIndex<T = JsonApiResource[]>(
   name: string,

---FILE: packages/next-drupal/src/get-view.ts---
@@ -1,5 +1,5 @@
-import { AccessToken, JsonApiWithLocaleOptions } from ""./types""
 import { buildHeaders, buildUrl, deserialize } from ""./utils""
+import type { AccessToken, JsonApiWithLocaleOptions } from ""./types""
 
 export async function getView<T>(
   name: string,

---FILE: packages/next-drupal/src/jsonapi-errors.ts---
@@ -1,4 +1,4 @@
-import { JsonApiError } from ""./types""
+import type { JsonApiError } from ""./types""
 
 export class JsonApiErrors extends Error {
   errors: JsonApiError[] | string

---FILE: packages/next-drupal/src/logger.ts---
@@ -1,4 +1,4 @@
-import { Logger } from "".""
+import type { Logger } from ""./types""
 
 // Default logger. Uses console.
 export const logger: Logger = {

---FILE: packages/next-drupal/src/preview.ts---
@@ -1,6 +1,6 @@
-import { NextApiRequest, NextApiResponse } from ""next""
 import { getResourceByPath } from ""./get-resource""
-import { JsonApiWithLocaleOptions } from ""./types""
+import type { NextApiRequest, NextApiResponse } from ""next""
+import type { JsonApiWithLocaleOptions } from ""./types""
 
 interface PreviewOptions {
   errorMessages?: {

---FILE: packages/next-drupal/src/translate-path.ts---
@@ -1,6 +1,6 @@
-import { GetStaticPropsContext } from ""next""
-import { AccessToken, DrupalTranslatedPath } from ""./types""
 import { buildHeaders, buildUrl, getPathFromContext } from ""./utils""
+import type { GetStaticPropsContext } from ""next""
+import type { AccessToken, DrupalTranslatedPath } from ""./types""
 
 export async function translatePath(
   path: string,

---FILE: packages/next-drupal/src/use-menu.tsx---
@@ -1,8 +1,7 @@
-import * as React from ""react""
 import { useRouter } from ""next/router""
-
+import { useEffect, useState } from ""react""
 import { getMenu } from ""./get-menu""
-import { DrupalMenuLinkContent } from ""./types""
+import type { DrupalMenuLinkContent } from ""./types""
 
 export function useMenu<T extends DrupalMenuLinkContent>(
   name: string
@@ -13,14 +12,14 @@ export function useMenu<T extends DrupalMenuLinkContent>(
   isLoading: boolean
 } {
   const router = useRouter()
-  const [data, setData] = React.useState<{
+  const [data, setData] = useState<{
     items: T[]
     tree: T[]
   }>(null)
-  const [error, setError] = React.useState(null)
-  const [isLoading, setIsLoading] = React.useState<boolean>(false)
+  const [error, setError] = useState(null)
+  const [isLoading, setIsLoading] = useState<boolean>(false)
 
-  React.useEffect(() => {
+  useEffect(() => {
     const fetchMenuItems = async () => {
       setIsLoading(true)
       try {

---FILE: packages/next-drupal/src/utils.ts---
@@ -1,8 +1,8 @@
-import { GetStaticPropsContext } from ""next""
 import Jsona from ""jsona""
-import { getAccessToken } from ""./get-access-token""
-import { AccessToken, Locale } from ""./types""
 import { stringify } from ""qs""
+import { getAccessToken } from ""./get-access-token""
+import type { GetStaticPropsContext } from ""next""
+import type { AccessToken, Locale } from ""./types""
 
 const JSONAPI_PREFIX = process.env.DRUPAL_JSONAPI_PREFIX || ""/jsonapi""
 ",False,False,Implementation / Logic,3
chapter-three,next-drupal,2598b5602f3e22bf5082b34445dde9091ed1f0b4,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-26T13:09:06Z,GitHub,noreply@github.com,2023-10-26T13:09:06Z,"build(next-drupal): prevent duplicate software build on npm publish

This reverts commit 1f71191.

Fixes #566",packages/next-drupal/package.json,False,False,False,False,1,2,3,"---FILE: packages/next-drupal/package.json---
@@ -19,8 +19,7 @@
   ""scripts"": {
     ""prepare"": ""microbundle --no-compress --jsx React.createElement --format modern,cjs"",
     ""dev"": ""microbundle watch --no-compress --jsx React.createElement --format modern,cjs"",
-    ""test"": ""jest"",
-    ""prepublishOnly"": ""yarn prepare""
+    ""test"": ""jest""
   },
   ""keywords"": [
     ""next.js"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,f8a8aedb1203642f08aef75d4f94944574a57736,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-20T03:08:42Z,GitHub,noreply@github.com,2023-10-20T03:08:42Z,"build: remove legacy umd and esm JavaScript builds

This removes JS builds in the `dist` directory that were never publicly exposed in the `package.json`. This isn't a breaking change because those builds were internal and never used by the public docs or public entry points.

Fixes #528",package.json;packages/next-drupal-query/package.json;packages/next-drupal/package.json;yarn.lock,False,False,False,False,189,145,334,"---FILE: package.json---
@@ -59,7 +59,7 @@
     ""isomorphic-fetch"": ""^3.0.0"",
     ""jest"": ""^27.5.1"",
     ""lerna"": ""^4.0.0"",
-    ""microbundle"": ""^0.14.2"",
+    ""microbundle"": ""^0.15.1"",
     ""prettier"": ""^2.8.8"",
     ""pretty-quick"": ""^3.1.3"",
     ""start-server-and-test"": ""^1.15.5"",

---FILE: packages/next-drupal-query/package.json---
@@ -4,8 +4,9 @@
   ""version"": ""0.4.0"",
   ""sideEffects"": false,
   ""source"": ""src/index.ts"",
-  ""main"": ""dist/index.js"",
-  ""module"": ""dist/index.esm.js"",
+  ""type"": ""module"",
+  ""main"": ""dist/index.cjs"",
+  ""module"": ""dist/index.modern.js"",
   ""types"": ""dist/index.d.ts"",
   ""license"": ""MIT"",
   ""publishConfig"": {
@@ -16,8 +17,8 @@
     ""url"": ""https://twitter.com/shadcn""
   },
   ""scripts"": {
-    ""prepare"": ""microbundle --no-compress --jsx React.createElement"",
-    ""dev"": ""microbundle watch --no-compress --jsx React.createElement"",
+    ""prepare"": ""microbundle --no-compress --jsx React.createElement --format modern,cjs"",
+    ""dev"": ""microbundle watch --no-compress --jsx React.createElement --format modern,cjs"",
     ""test"": ""jest""
   },
   ""keywords"": [

---FILE: packages/next-drupal/package.json---
@@ -4,9 +4,10 @@
   ""version"": ""1.6.0"",
   ""sideEffects"": false,
   ""source"": ""src/index.ts"",
-  ""main"": ""dist/index.js"",
-  ""module"": ""dist/index.esm.js"",
-  ""types"": ""dist/index.d.ts"",
+  ""type"": ""module"",
+  ""main"": ""dist/index.cjs"",
+  ""module"": ""dist/index.modern.js"",
+  ""types"": ""dist/types.d.ts"",
   ""license"": ""MIT"",
   ""publishConfig"": {
     ""access"": ""public""
@@ -16,8 +17,8 @@
     ""url"": ""https://twitter.com/shadcn""
   },
   ""scripts"": {
-    ""prepare"": ""microbundle --no-compress --jsx React.createElement"",
-    ""dev"": ""microbundle watch --no-compress --jsx React.createElement"",
+    ""prepare"": ""microbundle --no-compress --jsx React.createElement --format modern,cjs"",
+    ""dev"": ""microbundle watch --no-compress --jsx React.createElement --format modern,cjs"",
     ""test"": ""jest"",
     ""prepublishOnly"": ""yarn prepare""
   },

---FILE: yarn.lock---
@@ -2548,10 +2548,10 @@
   resolved ""https://registry.yarnpkg.com/@next/env/-/env-12.3.4.tgz#c787837d36fcad75d72ff8df6b57482027d64a47""
   integrity sha512-H/69Lc5Q02dq3o+dxxy5O/oNxFsZpdL6WREtOOtOM1B/weonIwDXkekr1KV5DPVPr12IHFPrMrcJQ6bgPMfn7A==
 
-""@next/env@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/env/-/env-13.5.5.tgz#c26fb9784fe4eae1279c0f2906d925c2297816e9""
-  integrity sha512-agvIhYWp+ilbScg81s/sLueZo8CNEYLjNOqhISxheLmD/AQI4/VxV7bV76i/KzxH4iHy/va0YS9z0AOwGnw4Fg==
+""@next/env@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/env/-/env-13.5.6.tgz#c1148e2e1aa166614f05161ee8f77ded467062bc""
+  integrity sha512-Yac/bV5sBGkkEXmAX5FWPS9Mmo2rthrOPRQQNfycJPkjUAUclomCPH7QFVCDQ4Mp2k2K1SSM6m0zrxYrOwtFQw==
 
 ""@next/eslint-plugin-next@12.3.4"", ""@next/eslint-plugin-next@^12.3.4"":
   version ""12.3.4""
@@ -2560,10 +2560,10 @@
   dependencies:
     glob ""7.1.7""
 
-""@next/eslint-plugin-next@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/eslint-plugin-next/-/eslint-plugin-next-13.5.5.tgz#b3418135efbfa04d64c2c54f93d09c5ea4de4610""
-  integrity sha512-S/32s4S+SCOpW58lHKdmILAAPRdnsSei7Y3L1oZSoe5Eh0QSlzbG1nYyIpnpwWgz3T7qe3imdq7cJ6Hf29epRA==
+""@next/eslint-plugin-next@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/eslint-plugin-next/-/eslint-plugin-next-13.5.6.tgz#cf279b94ddc7de49af8e8957f0c3b7349bc489bf""
+  integrity sha512-ng7pU/DDsxPgT6ZPvuprxrkeew3XaRf4LAT4FabaEO/hAbvVx4P7wqnqdbTdDn1kgTvsI4tpIgT4Awn/m0bGbg==
   dependencies:
     glob ""7.1.7""
 
@@ -2582,20 +2582,20 @@
   resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-12.3.4.tgz#14ac8357010c95e67327f47082af9c9d75d5be79""
   integrity sha512-DqsSTd3FRjQUR6ao0E1e2OlOcrF5br+uegcEGPVonKYJpcr0MJrtYmPxd4v5T6UCJZ+XzydF7eQo5wdGvSZAyA==
 
-""@next/swc-darwin-arm64@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-13.5.5.tgz#0ab604e2ae39d9ca5d8d7190f6eedc2f63ef89a1""
-  integrity sha512-FvTdcJdTA7H1FGY8dKPPbf/O0oDC041/znHZwXA7liiGUhgw5hOQ+9z8tWvuz0M5a/SDjY/IRPBAb5FIFogYww==
+""@next/swc-darwin-arm64@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-13.5.6.tgz#b15d139d8971360fca29be3bdd703c108c9a45fb""
+  integrity sha512-5nvXMzKtZfvcu4BhtV0KH1oGv4XEW+B+jOfmBdpFI3C7FrB/MfujRpWYSBBO64+qbW8pkZiSyQv9eiwnn5VIQA==
 
 ""@next/swc-darwin-x64@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-12.3.4.tgz#e7dc63cd2ac26d15fb84d4d2997207fb9ba7da0f""
   integrity sha512-PPF7tbWD4k0dJ2EcUSnOsaOJ5rhT3rlEt/3LhZUGiYNL8KvoqczFrETlUx0cUYaXe11dRA3F80Hpt727QIwByQ==
 
-""@next/swc-darwin-x64@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-13.5.5.tgz#400fe2a2845998c76c0547b6605877d7ba65aa67""
-  integrity sha512-mTqNIecaojmyia7appVO2QggBe1Z2fdzxgn6jb3x9qlAk8yY2sy4MAcsj71kC9RlenCqDmr9vtC/ESFf110TPA==
+""@next/swc-darwin-x64@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-13.5.6.tgz#9c72ee31cc356cb65ce6860b658d807ff39f1578""
+  integrity sha512-6cgBfxg98oOCSr4BckWjLLgiVwlL3vlLj8hXg2b+nDgm4bC/qVXXLfpLB9FHdoDu4057hzywbxKvmYGmi7yUzA==
 
 ""@next/swc-freebsd-x64@12.3.4"":
   version ""12.3.4""
@@ -2612,70 +2612,70 @@
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-12.3.4.tgz#43a7bc409b03487bff5beb99479cacdc7bd29af5""
   integrity sha512-kiX0vgJGMZVv+oo1QuObaYulXNvdH/IINmvdZnVzMO/jic/B8EEIGlZ8Bgvw8LCjH3zNVPO3mGrdMvnEEPEhKA==
 
-""@next/swc-linux-arm64-gnu@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-13.5.5.tgz#b21291e2a5b691ac426331ce6cb0b1c4e8c3e1c7""
-  integrity sha512-U9e+kNkfvwh/T8yo+xcslvNXgyMzPPX1IbwCwnHHFmX5ckb1Uc3XZSInNjFQEQR5xhJpB5sFdal+IiBIiLYkZA==
+""@next/swc-linux-arm64-gnu@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-13.5.6.tgz#59f5f66155e85380ffa26ee3d95b687a770cfeab""
+  integrity sha512-txagBbj1e1w47YQjcKgSU4rRVQ7uF29YpnlHV5xuVUsgCUf2FmyfJ3CPjZUvpIeXCJAoMCFAoGnbtX86BK7+sg==
 
 ""@next/swc-linux-arm64-musl@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-12.3.4.tgz#4d1db6de6dc982b974cd1c52937111e3e4a34bd3""
   integrity sha512-EETZPa1juczrKLWk5okoW2hv7D7WvonU+Cf2CgsSoxgsYbUCZ1voOpL4JZTOb6IbKMDo6ja+SbY0vzXZBUMvkQ==
 
-""@next/swc-linux-arm64-musl@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-13.5.5.tgz#2dc33466edbe8db37f08aefd2ae472db437ac3ca""
-  integrity sha512-h7b58eIoNCSmKVC5fr167U0HWZ/yGLbkKD9wIller0nGdyl5zfTji0SsPKJvrG8jvKPFt2xOkVBmXlFOtuKynw==
+""@next/swc-linux-arm64-musl@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-13.5.6.tgz#f012518228017052736a87d69bae73e587c76ce2""
+  integrity sha512-cGd+H8amifT86ZldVJtAKDxUqeFyLWW+v2NlBULnLAdWsiuuN8TuhVBt8ZNpCqcAuoruoSWynvMWixTFcroq+Q==
 
 ""@next/swc-linux-x64-gnu@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-12.3.4.tgz#c3b414d77bab08b35f7dd8943d5586f0adb15e38""
   integrity sha512-4csPbRbfZbuWOk3ATyWcvVFdD9/Rsdq5YHKvRuEni68OCLkfy4f+4I9OBpyK1SKJ00Cih16NJbHE+k+ljPPpag==
 
-""@next/swc-linux-x64-gnu@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-13.5.5.tgz#3239655c97fbc13449841bc44f9b2b86c3c7ef35""
-  integrity sha512-6U4y21T1J6FfcpM9uqzBJicxycpB5gJKLyQ3g6KOfBzT8H1sMwfHTRrvHKB09GIn1BCRy5YJHrA1G26DzqR46w==
+""@next/swc-linux-x64-gnu@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-13.5.6.tgz#339b867a7e9e7ee727a700b496b269033d820df4""
+  integrity sha512-Mc2b4xiIWKXIhBy2NBTwOxGD3nHLmq4keFk+d4/WL5fMsB8XdJRdtUlL87SqVCTSaf1BRuQQf1HvXZcy+rq3Nw==
 
 ""@next/swc-linux-x64-musl@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-12.3.4.tgz#187a883ec09eb2442a5ebf126826e19037313c61""
   integrity sha512-YeBmI+63Ro75SUiL/QXEVXQ19T++58aI/IINOyhpsRL1LKdyfK/35iilraZEFz9bLQrwy1LYAR5lK200A9Gjbg==
 
-""@next/swc-linux-x64-musl@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-13.5.5.tgz#60c66bc1b2c3d1f3993dd2fa55da1ff7c8247901""
-  integrity sha512-OuqWSAQHJQM2EsapPFTSU/FLQ0wKm7UeRNatiR/jLeCe1V02aB9xmzuWYo2Neaxxag4rss3S8fj+lvMLzwDaFA==
+""@next/swc-linux-x64-musl@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-13.5.6.tgz#ae0ae84d058df758675830bcf70ca1846f1028f2""
+  integrity sha512-CFHvP9Qz98NruJiUnCe61O6GveKKHpJLloXbDSWRhqhkJdZD2zU5hG+gtVJR//tyW897izuHpM6Gtf6+sNgJPQ==
 
 ""@next/swc-win32-arm64-msvc@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-12.3.4.tgz#89befa84e453ed2ef9a888f375eba565a0fde80b""
   integrity sha512-Sd0qFUJv8Tj0PukAYbCCDbmXcMkbIuhnTeHm9m4ZGjCf6kt7E/RMs55Pd3R5ePjOkN7dJEuxYBehawTR/aPDSQ==
 
-""@next/swc-win32-arm64-msvc@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-13.5.5.tgz#521b3073bac7d4b89df520a61b7ae71510a0bc5c""
-  integrity sha512-+yLrOZIIZDY4uGn9bLOc0wTgs+M8RuOUFSUK3BhmcLav9e+tcAj0jyBHD4aXv2qWhppUeuYMsyBo1I58/eE6Dg==
+""@next/swc-win32-arm64-msvc@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-13.5.6.tgz#a5cc0c16920485a929a17495064671374fdbc661""
+  integrity sha512-aFv1ejfkbS7PUa1qVPwzDHjQWQtknzAZWGTKYIAaS4NMtBlk3VyA6AYn593pqNanlicewqyl2jUhQAaFV/qXsg==
 
 ""@next/swc-win32-ia32-msvc@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-12.3.4.tgz#cb50c08f0e40ead63642a7f269f0c8254261f17c""
   integrity sha512-rt/vv/vg/ZGGkrkKcuJ0LyliRdbskQU+91bje+PgoYmxTZf/tYs6IfbmgudBJk6gH3QnjHWbkphDdRQrseRefQ==
 
-""@next/swc-win32-ia32-msvc@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-13.5.5.tgz#a21e29a57bd0534c646ba3e6d73191064f396b96""
-  integrity sha512-SyMxXyJtf9ScMH0Dh87THJMXNFvfkRAk841xyW9SeOX3KxM1buXX3hN7vof4kMGk0Yg996OGsX+7C9ueS8ugsw==
+""@next/swc-win32-ia32-msvc@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-ia32-msvc/-/swc-win32-ia32-msvc-13.5.6.tgz#6a2409b84a2cbf34bf92fe714896455efb4191e4""
+  integrity sha512-XqqpHgEIlBHvzwG8sp/JXMFkLAfGLqkbVsyN+/Ih1mR8INb6YCc2x/Mbwi6hsAgUnqQztz8cvEbHJUbSl7RHDg==
 
 ""@next/swc-win32-x64-msvc@12.3.4"":
   version ""12.3.4""
   resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-12.3.4.tgz#d28ea15a72cdcf96201c60a43e9630cd7fda168f""
   integrity sha512-DQ20JEfTBZAgF8QCjYfJhv2/279M6onxFjdG/+5B0Cyj00/EdBxiWb2eGGFgQhrBbNv/lsvzFbbi0Ptf8Vw/bg==
 
-""@next/swc-win32-x64-msvc@13.5.5"":
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-13.5.5.tgz#7a442ee669dd6b0e5c774a86cd98457cd945c867""
-  integrity sha512-n5KVf2Ok0BbLwofAaHiiKf+BQCj1M8WmTujiER4/qzYAVngnsNSjqEWvJ03raeN9eURqxDO+yL5VRoDrR33H9A==
+""@next/swc-win32-x64-msvc@13.5.6"":
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-13.5.6.tgz#4a3e2a206251abc729339ba85f60bc0433c2865d""
+  integrity sha512-Cqfe1YmOS7k+5mGu92nl5ULkzpKuxJrP3+4AEuPmrpFZ3BHxTY3TnHmU1On3bFmFFs6FbTcdF58CCUProGpIGQ==
 
 ""@nicolo-ribaudo/eslint-scope-5-internals@5.1.1-v1"":
   version ""5.1.1-v1""
@@ -2937,6 +2937,14 @@
     estree-walker ""^1.0.1""
     picomatch ""^2.2.2""
 
+""@rollup/pluginutils@^4.1.2"":
+  version ""4.2.1""
+  resolved ""https://registry.yarnpkg.com/@rollup/pluginutils/-/pluginutils-4.2.1.tgz#e6c6c3aba0744edce3fb2074922d3776c0af2a6d""
+  integrity sha512-iKnFXr7NkdZAIHiIWE+BX5ULi/ucVFYWD6TbAV+rZctiRTY2PL6tsIKhoIOaoskiWAkgu+VsbXgUVDNLHf+InQ==
+  dependencies:
+    estree-walker ""^2.0.1""
+    picomatch ""^2.2.2""
+
 ""@rushstack/eslint-patch@^1.1.3"", ""@rushstack/eslint-patch@^1.3.3"":
   version ""1.5.1""
   resolved ""https://registry.yarnpkg.com/@rushstack/eslint-patch/-/eslint-patch-1.5.1.tgz#5f1b518ec5fa54437c0b7c4a821546c64fed6922""
@@ -3308,51 +3316,51 @@
     ""@types/node"" ""*""
 
 ""@types/scheduler@*"":
-  version ""0.16.4""
-  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.4.tgz#fedc3e5b15c26dc18faae96bf1317487cb3658cf""
-  integrity sha512-2L9ifAGl7wmXwP4v3pN4p2FLhD0O1qsJpvKmNin5VA8+UvNVb447UDaAEV6UdrkA+m/Xs58U1RFps44x6TFsVQ==
+  version ""0.16.5""
+  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.5.tgz#4751153abbf8d6199babb345a52e1eb4167d64af""
+  integrity sha512-s/FPdYRmZR8SjLWGMCuax7r3qCWQw9QKHzXVukAuuIJkXkDRwp+Pu5LMIVFi0Fxbav35WURicYr8u1QsoybnQw==
 
 ""@types/semver@^7.3.12"":
-  version ""7.5.3""
-  resolved ""https://registry.yarnpkg.com/@types/semver/-/semver-7.5.3.tgz#9a726e116beb26c24f1ccd6850201e1246122e04""
-  integrity sha512-OxepLK9EuNEIPxWNME+C6WwbRAOOI2o2BaQEGzz5Lu2e4Z5eDnEo+/aVEDMIXywoJitJ7xWd641wrGLZdtwRyw==
+  version ""7.5.4""
+  resolved ""https://registry.yarnpkg.com/@types/semver/-/semver-7.5.4.tgz#0a41252ad431c473158b22f9bfb9a63df7541cff""
+  integrity sha512-MMzuxN3GdFwskAnb6fz0orFvhfqi752yjaXylr0Rp4oDg5H0Zn1IuyRhDVvYOwAXoJirx2xuS16I3WjxnAIHiQ==
 
 ""@types/sinonjs__fake-timers@8.1.1"":
   version ""8.1.1""
   resolved ""https://registry.yarnpkg.com/@types/sinonjs__fake-timers/-/sinonjs__fake-timers-8.1.1.tgz#b49c2c70150141a15e0fa7e79cf1f92a72934ce3""
   integrity sha512-0kSuKjAS0TrGLJ0M/+8MaFkGsQhZpB6pxOmvS3K8FYI72K//YmdfoW9X2qPsAKh1mkwxGD5zib9s1FIFed6E8g==
 
 ""@types/sizzle@^2.3.2"":
-  version ""2.3.4""
-  resolved ""https://registry.yarnpkg.com/@types/sizzle/-/sizzle-2.3.4.tgz#cd6531924f60834fa4a1b8081f9eecf9bb1117f0""
-  integrity sha512-jA2llq2zNkg8HrALI7DtWzhALcVH0l7i89yhY3iBdOz6cBPeACoFq+fkQrjHA39t1hnSFOboZ7A/AY5MMZSlag==
+  version ""2.3.5""
+  resolved ""https://registry.yarnpkg.com/@types/sizzle/-/sizzle-2.3.5.tgz#d93dd29cdcd5801d90be968073b09a6b370780e4""
+  integrity sha512-tAe4Q+OLFOA/AMD+0lq8ovp8t3ysxAOeaScnfNdZpUxaGl51ZMDEITxkvFl1STudQ58mz6gzVGl9VhMKhwRnZQ==
 
 ""@types/stack-utils@^2.0.0"":
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/@types/stack-utils/-/stack-utils-2.0.1.tgz#20f18294f797f2209b5f65c8e3b5c8e8261d127c""
-  integrity sha512-Hl219/BT5fLAaz6NDkSuhzasy49dwQS/DSdu4MdggFB8zcXv7vflBI3xp7FEmkmdDkBUI2bPUNeMttp2knYdxw==
+  version ""2.0.2""
+  resolved ""https://registry.yarnpkg.com/@types/stack-utils/-/stack-utils-2.0.2.tgz#01284dde9ef4e6d8cef6422798d9a3ad18a66f8b""
+  integrity sha512-g7CK9nHdwjK2n0ymT2CW698FuWJRIx+RP6embAzZ2Qi8/ilIrA1Imt2LVSeHUzKvpoi7BhmmQcXz95eS0f2JXw==
 
 ""@types/unist@^2"", ""@types/unist@^2.0.0"", ""@types/unist@^2.0.2"", ""@types/unist@^2.0.3"":
-  version ""2.0.8""
-  resolved ""https://registry.yarnpkg.com/@types/unist/-/unist-2.0.8.tgz#bb197b9639aa1a04cf464a617fe800cccd92ad5c""
-  integrity sha512-d0XxK3YTObnWVp6rZuev3c49+j4Lo8g4L1ZRm9z5L0xpoZycUPshHgczK5gsUMaZOstjVYYi09p5gYvUtfChYw==
+  version ""2.0.9""
+  resolved ""https://registry.yarnpkg.com/@types/unist/-/unist-2.0.9.tgz#72e164381659a49557b0a078b28308f2c6a3e1ce""
+  integrity sha512-zC0iXxAv1C1ERURduJueYzkzZ2zaGyc+P2c95hgkikHPr3z8EdUZOlgEQ5X0DRmwDZn+hekycQnoeiiRVrmilQ==
 
 ""@types/yargs-parser@*"":
-  version ""21.0.1""
-  resolved ""https://registry.yarnpkg.com/@types/yargs-parser/-/yargs-parser-21.0.1.tgz#07773d7160494d56aa882d7531aac7319ea67c3b""
-  integrity sha512-axdPBuLuEJt0c4yI5OZssC19K2Mq1uKdrfZBzuxLvaztgqUtFYZUNw7lETExPYJR9jdEoIg4mb7RQKRQzOkeGQ==
+  version ""21.0.2""
+  resolved ""https://registry.yarnpkg.com/@types/yargs-parser/-/yargs-parser-21.0.2.tgz#7bd04c5da378496ef1695a1008bf8f71847a8b8b""
+  integrity sha512-5qcvofLPbfjmBfKaLfj/+f+Sbd6pN4zl7w7VSVI5uz7m9QZTuB2aZAa2uo1wHFBNN2x6g/SoTkXmd8mQnQF2Cw==
 
 ""@types/yargs@^16.0.0"":
-  version ""16.0.6""
-  resolved ""https://registry.yarnpkg.com/@types/yargs/-/yargs-16.0.6.tgz#cc0c63684d68d23498cf0b5f32aa4c3fb437c638""
-  integrity sha512-oTP7/Q13GSPrgcwEwdlnkoZSQ1Hg9THe644qq8PG6hhJzjZ3qj1JjEFPIwWV/IXVs5XGIVqtkNOS9kh63WIJ+A==
+  version ""16.0.7""
+  resolved ""https://registry.yarnpkg.com/@types/yargs/-/yargs-16.0.7.tgz#b0d0502cb5f6c17994df72a600049f10bbf17203""
+  integrity sha512-lQcYmxWuOfJq4IncK88/nwud9rwr1F04CFc5xzk0k4oKVyz/AI35TfsXmhjf6t8zp8mpCOi17BfvuNWx+zrYkg==
   dependencies:
     ""@types/yargs-parser"" ""*""
 
 ""@types/yauzl@^2.9.1"":
-  version ""2.10.1""
-  resolved ""https://registry.yarnpkg.com/@types/yauzl/-/yauzl-2.10.1.tgz#4e8f299f0934d60f36c74f59cb5a8483fd786691""
-  integrity sha512-CHzgNU3qYBnp/O4S3yv2tXPlvMTq0YWSTVg2/JYLqWZGHwwgJGAwd00poay/11asPq8wLFwHzubyInqHIFmmiw==
+  version ""2.10.2""
+  resolved ""https://registry.yarnpkg.com/@types/yauzl/-/yauzl-2.10.2.tgz#dab926ef9b41a898bc943f11bca6b0bad6d4b729""
+  integrity sha512-Km7XAtUIduROw7QPgvcft0lIupeG8a8rdKL8RiSyKvlE7dYY31fEn41HVuQsRFDuROA8tA4K2UVL+WdfFmErBA==
   dependencies:
     ""@types/node"" ""*""
 
@@ -4070,7 +4078,7 @@ babel-plugin-polyfill-regenerator@^0.5.3:
   dependencies:
     ""@babel/helper-define-polyfill-provider"" ""^0.4.3""
 
-babel-plugin-transform-async-to-promises@^0.8.15:
+babel-plugin-transform-async-to-promises@^0.8.18:
   version ""0.8.18""
   resolved ""https://registry.yarnpkg.com/babel-plugin-transform-async-to-promises/-/babel-plugin-transform-async-to-promises-0.8.18.tgz#f4dc5980b8afa0fc9c784b8d931afde913413e39""
   integrity sha512-WpOrF76nUHijnNn10eBGOHZmXQC8JYRME9rOLxStOga7Av2VO53ehVFvVNImMksVtQuL2/7ZNxEgxnx7oo/3Hw==
@@ -4484,9 +4492,9 @@ caniuse-api@^3.0.0:
     lodash.uniq ""^4.5.0""
 
 caniuse-lite@^1.0.0, caniuse-lite@^1.0.30001406, caniuse-lite@^1.0.30001538, caniuse-lite@^1.0.30001541:
-  version ""1.0.30001550""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001550.tgz#6ec6a2239eb2a8123cc26cfe0571db5c79eb8669""
-  integrity sha512-p82WjBYIypO0ukTsd/FG3Xxs+4tFeaY9pfT4amQL8KWtYH7H9nYwReGAbMTJ0hsmRO8IfDtsS6p3ZWj8+1c2RQ==
+  version ""1.0.30001551""
+  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001551.tgz#1f2cfa8820bd97c971a57349d7fd8f6e08664a3e""
+  integrity sha512-vtBAez47BoGMMzlbYhfXrMV1kvRF2WP/lqiMuDu1Sb4EE4LKEgjopFDSRtZfdVnslNRpOqV/woE+Xgrwj6VQlg==
 
 capture-stack-trace@^1.0.0:
   version ""1.0.2""
@@ -5553,6 +5561,11 @@ define-data-property@^1.0.1:
     gopd ""^1.0.1""
     has-property-descriptors ""^1.0.0""
 
+define-lazy-prop@^2.0.0:
+  version ""2.0.0""
+  resolved ""https://registry.yarnpkg.com/define-lazy-prop/-/define-lazy-prop-2.0.0.tgz#3f7ae421129bcaaac9bc74905c98a0009ec9ee7f""
+  integrity sha512-Ds09qNh8yw3khSjiJjiUInaGX9xlqZDY7JVryGxdxV7NPeuqQfplOpQ66yJFZut3jLa5zOwkXw1g9EI2uKh4Og==
+
 define-properties@^1.1.3, define-properties@^1.1.4, define-properties@^1.2.0, define-properties@^1.2.1:
   version ""1.2.1""
   resolved ""https://registry.yarnpkg.com/define-properties/-/define-properties-1.2.1.tgz#10781cc616eb951a80a034bafcaa7377f6af2b6c""
@@ -5828,9 +5841,9 @@ ejs@^3.1.6:
     jake ""^10.8.5""
 
 electron-to-chromium@^1.4.535:
-  version ""1.4.557""
-  resolved ""https://registry.yarnpkg.com/electron-to-chromium/-/electron-to-chromium-1.4.557.tgz#f3941b569c82b7bb909411855c6ff9bfe1507829""
-  integrity sha512-6x0zsxyMXpnMJnHrondrD3SuAeKcwij9S+83j2qHAQPXbGTDDfgImzzwgGlzrIcXbHQ42tkG4qA6U860cImNhw==
+  version ""1.4.559""
+  resolved ""https://registry.yarnpkg.com/electron-to-chromium/-/electron-to-chromium-1.4.559.tgz#050483c22c5eb2345017a8976a67b060559a33f4""
+  integrity sha512-iS7KhLYCSJbdo3rUSkhDTVuFNCV34RKs2UaB9Ecr7VlqzjjWW//0nfsFF5dtDmyXlZQaDYYtID5fjtC/6lpRug==
 
 elliptic@^6.5.3:
   version ""6.5.4""
@@ -6096,11 +6109,11 @@ eslint-config-next@^12.0.10, eslint-config-next@^12.1.4:
     eslint-plugin-react-hooks ""^4.5.0""
 
 eslint-config-next@^13.0.6:
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/eslint-config-next/-/eslint-config-next-13.5.5.tgz#50ec30b62458f0cae4127308ed354d02211a3c32""
-  integrity sha512-kQr/eevFyzeVt0yCKTchQp3MTIx8ZmBsAKLW+7bzmAXHcf2vvxIqAt2N/afb9SZpuXXhSb/8yrKQGVUVpYmafQ==
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/eslint-config-next/-/eslint-config-next-13.5.6.tgz#3a5a6222d5cb32256760ad68ab8e976e866a08c8""
+  integrity sha512-o8pQsUHTo9aHqJ2YiZDym5gQAMRf7O2HndHo/JZeY7TDD+W4hk6Ma8Vw54RHiBeb7OWWO5dPirQB+Is/aVQ7Kg==
   dependencies:
-    ""@next/eslint-plugin-next"" ""13.5.5""
+    ""@next/eslint-plugin-next"" ""13.5.6""
     ""@rushstack/eslint-patch"" ""^1.3.3""
     ""@typescript-eslint/parser"" ""^5.4.2 || ^6.0.0""
     eslint-import-resolver-node ""^0.3.6""
@@ -6614,7 +6627,7 @@ filter-obj@^1.1.0:
   resolved ""https://registry.yarnpkg.com/filter-obj/-/filter-obj-1.1.0.tgz#9b311112bc6c6127a16e016c6c5d7f19e0805c5b""
   integrity sha512-8rXg1ZnX7xzy2NGDVkBVaAy+lSlPNwad13BtgSlLuxfIslyt5Vg64U7tFcCt4WS1R0hvtnQybT/IyCkGZ3DpXQ==
 
-find-cache-dir@^3.3.1:
+find-cache-dir@^3.3.2:
   version ""3.3.2""
   resolved ""https://registry.yarnpkg.com/find-cache-dir/-/find-cache-dir-3.3.2.tgz#b30c5b6eff0730731aea9bbd9dbecbd80256d64b""
   integrity sha512-wXZV5emFEjrridIgED11OoUKLxiYjAcqot/NJdAkOhlJ+vGzwhOAfcG5OX1jP+S0PcjEn8bdMJv+g2jwQ3Onig==
@@ -6745,14 +6758,14 @@ fs-exists-sync@^0.1.0:
   resolved ""https://registry.yarnpkg.com/fs-exists-sync/-/fs-exists-sync-0.1.0.tgz#982d6893af918e72d08dec9e8673ff2b5a8d6add""
   integrity sha512-cR/vflFyPZtrN6b38ZyWxpWdhlXrzZEBawlpBQMq7033xVY7/kg0GDMBK5jg8lDYQckdJ5x/YC88lM3C7VMsLg==
 
-fs-extra@8.1.0, fs-extra@^8.1.0:
-  version ""8.1.0""
-  resolved ""https://registry.yarnpkg.com/fs-extra/-/fs-extra-8.1.0.tgz#49d43c45a88cd9677668cb7be1b46efdb8d2e1c0""
-  integrity sha512-yhlQgA6mnOJUKOsRUFsgJdQCvkKhcz8tlZG5HBQfReYZy46OwLcY+Zia0mtdHsOo9y/hP+CxMN0TU9QxoOtG4g==
+fs-extra@^10.0.0:
+  version ""10.1.0""
+  resolved ""https://registry.yarnpkg.com/fs-extra/-/fs-extra-10.1.0.tgz#02873cfbc4084dde127eaa5f9905eef2325d1abf""
+  integrity sha512-oRXApq54ETRj4eMiFzGnHWGy+zo5raudjuxN0b8H7s/RU2oW0Wvsx9O0ACRN/kRq9E8Vu/ReskGB5o3ji+FzHQ==
   dependencies:
     graceful-fs ""^4.2.0""
-    jsonfile ""^4.0.0""
-    universalify ""^0.1.0""
+    jsonfile ""^6.0.1""
+    universalify ""^2.0.0""
 
 fs-extra@^11.0.0:
   version ""11.1.1""
@@ -6763,6 +6776,15 @@ fs-extra@^11.0.0:
     jsonfile ""^6.0.1""
     universalify ""^2.0.0""
 
+fs-extra@^8.1.0:
+  version ""8.1.0""
+  resolved ""https://registry.yarnpkg.com/fs-extra/-/fs-extra-8.1.0.tgz#49d43c45a88cd9677668cb7be1b46efdb8d2e1c0""
+  integrity sha512-yhlQgA6mnOJUKOsRUFsgJdQCvkKhcz8tlZG5HBQfReYZy46OwLcY+Zia0mtdHsOo9y/hP+CxMN0TU9QxoOtG4g==
+  dependencies:
+    graceful-fs ""^4.2.0""
+    jsonfile ""^4.0.0""
+    universalify ""^0.1.0""
+
 fs-extra@^9.1.0:
   version ""9.1.0""
   resolved ""https://registry.yarnpkg.com/fs-extra/-/fs-extra-9.1.0.tgz#5954460c764a8da2094ba3554bf839e6b9a7c86d""
@@ -7900,6 +7922,11 @@ is-directory@^0.3.1:
   resolved ""https://registry.yarnpkg.com/is-directory/-/is-directory-0.3.1.tgz#61339b6f2475fc772fd9c9d83f5c8575dc154ae1""
   integrity sha512-yVChGzahRFvbkscn2MlwGismPO12i9+znNruC5gVEntG3qu0xQMzsGg/JFbrsqDOHtHFPci+V5aP5T9I+yeKqw==
 
+is-docker@^2.0.0, is-docker@^2.1.1:
+  version ""2.2.1""
+  resolved ""https://registry.yarnpkg.com/is-docker/-/is-docker-2.2.1.tgz#33eeabe23cfe86f14bde4408a02c0cfb853acdaa""
+  integrity sha512-F+i2BKsFrH66iaUFc0woD8sLy8getkwTwtOBjvs56Cx4CgJDeKQeqfz8wAYiSb8JOprWhHH5p77PbmYCvvUuXQ==
+
 is-extendable@^0.1.0:
   version ""0.1.1""
   resolved ""https://registry.yarnpkg.com/is-extendable/-/is-extendable-0.1.1.tgz#62b110e289a471418e3ec36a617d472e301dfc89""
@@ -8200,6 +8227,13 @@ is-word-character@^1.0.0:
   resolved ""https://registry.yarnpkg.com/is-word-character/-/is-word-character-1.0.4.tgz#ce0e73216f98599060592f62ff31354ddbeb0230""
   integrity sha512-5SMO8RVennx3nZrqtKwCGyyetPE9VDba5ugvKLaD4KopPG5kR4mQ7tNt/r7feL5yt5h3lpuBbIUmCOG2eSzXHA==
 
+is-wsl@^2.2.0:
+  version ""2.2.0""
+  resolved ""https://registry.yarnpkg.com/is-wsl/-/is-wsl-2.2.0.tgz#74a4c76e77ca9fd3f932f290c17ea326cd157271""
+  integrity sha512-fKzAra0rGJUUBwGBgNkHZuToZcn+TtXHpeCgmkMJMMYx1sQDYaCSyjJBSCa2nH1DGm7s3n1oBnohoVTBaN7Lww==
+  dependencies:
+    is-docker ""^2.0.0""
+
 is-yarn-global@^0.3.0:
   version ""0.3.0""
   resolved ""https://registry.yarnpkg.com/is-yarn-global/-/is-yarn-global-0.3.0.tgz#d502d3382590ea3004893746754c89139973e232""
@@ -9696,10 +9730,10 @@ merge2@^1.3.0, merge2@^1.4.1:
   resolved ""https://registry.yarnpkg.com/merge2/-/merge2-1.4.1.tgz#4368892f885e907455a6fd7dc55c0c9d404990ae""
   integrity sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==
 
-microbundle@^0.14.2:
-  version ""0.14.2""
-  resolved ""https://registry.yarnpkg.com/microbundle/-/microbundle-0.14.2.tgz#2db869c8145bd159aa55058ead47223f58f93bf2""
-  integrity sha512-jODALfU3w7jnJAqw7Tou9uU8e8zH0GRVWzOd/V7eAvD1fsfb9pyMbmzhFZqnX6SCb54eP1EF5oRyNlSxBAxoag==
+microbundle@^0.15.1:
+  version ""0.15.1""
+  resolved ""https://registry.yarnpkg.com/microbundle/-/microbundle-0.15.1.tgz#3fa67128934b31736823b5c868dae4b92d94e766""
+  integrity sha512-aAF+nwFbkSIJGfrJk+HyzmJOq3KFaimH6OIFBU6J2DPjQeg1jXIYlIyEv81Gyisb9moUkudn+wj7zLNYMOv75Q==
   dependencies:
     ""@babel/core"" ""^7.12.10""
     ""@babel/plugin-proposal-class-properties"" ""7.12.1""
@@ -9720,7 +9754,7 @@ microbundle@^0.14.2:
     asyncro ""^3.0.0""
     autoprefixer ""^10.1.0""
     babel-plugin-macros ""^3.0.1""
-    babel-plugin-transform-async-to-promises ""^0.8.15""
+    babel-plugin-transform-async-to-promises ""^0.8.18""
     babel-plugin-transform-replace-expressions ""^0.2.0""
     brotli-size ""^4.0.0""
     builtin-modules ""^3.1.0""
@@ -9736,7 +9770,8 @@ microbundle@^0.14.2:
     rollup-plugin-bundle-size ""^1.0.3""
     rollup-plugin-postcss ""^4.0.0""
     rollup-plugin-terser ""^7.0.2""
-    rollup-plugin-typescript2 ""^0.29.0""
+    rollup-plugin-typescript2 ""^0.32.0""
+    rollup-plugin-visualizer ""^5.6.0""
     sade ""^1.7.4""
     terser ""^5.7.0""
     tiny-glob ""^0.2.8""
@@ -10098,9 +10133,9 @@ neo-async@^2.6.2:
   integrity sha512-Yd3UES5mWCSqR+qNT93S3UoYUkqAZ9lLg8a7g9rimsWmYGK8cVToA4/sF3RrshdyV3sAGMXVUmpMYOw+dLpOuw==
 
 next-auth@^4.22.1:
-  version ""4.23.2""
-  resolved ""https://registry.yarnpkg.com/next-auth/-/next-auth-4.23.2.tgz#6a93ec8bb59890dd43ed149a367852c7d12d0f7c""
-  integrity sha512-VRmInu0r/yZNFQheDFeOKtiugu3bt90Po3owAQDnFQ3YLQFmUKgFjcE2+3L0ny5jsJpBXaKbm7j7W2QTc6Ye2A==
+  version ""4.24.3""
+  resolved ""https://registry.yarnpkg.com/next-auth/-/next-auth-4.24.3.tgz#1c57e6ec66fa69744cc9d28989a36916da4e6d19""
+  integrity sha512-n1EvmY7MwQMSOkCh6jhI6uBneB6VVtkYELVMEwVaCLD1mBD3IAAucwk+90kgxramW09nSp5drvynwfNCi1JjaQ==
   dependencies:
     ""@babel/runtime"" ""^7.20.13""
     ""@panva/hkdf"" ""^1.0.2""
@@ -10163,27 +10198,27 @@ next-seo@^4.23.0:
   integrity sha512-xmwzcz4uHaYJ8glbuhs6FSBQ7z3irmdPYdJJ5saWm72Uy3o+mPKGaPCXQetTCE6/xxVnpoDV4yFtFlEjUcljSg==
 
 ""next@^12.2.0 || ^13"", ""next@^12.2.3 || ^13"", next@^13:
-  version ""13.5.5""
-  resolved ""https://registry.yarnpkg.com/next/-/next-13.5.5.tgz#65addd98a1ae42845d455e08bc491448bb34929b""
-  integrity sha512-LddFJjpfrtrMMw8Q9VLhIURuSidiCNcMQjRqcPtrKd+Fx07MsG7hYndJb/f2d3I+mTbTotsTJfCnn0eZ/YPk8w==
+  version ""13.5.6""
+  resolved ""https://registry.yarnpkg.com/next/-/next-13.5.6.tgz#e964b5853272236c37ce0dd2c68302973cf010b1""
+  integrity sha512-Y2wTcTbO4WwEsVb4A8VSnOsG1I9ok+h74q0ZdxkwM3EODqrs4pasq7O0iUxbcS9VtWMicG7f3+HAj0r1+NtKSw==
   dependencies:
-    ""@next/env"" ""13.5.5""
+    ""@next/env"" ""13.5.6""
     ""@swc/helpers"" ""0.5.2""
     busboy ""1.6.0""
     caniuse-lite ""^1.0.30001406""
     postcss ""8.4.31""
     styled-jsx ""5.1.1""
     watchpack ""2.4.0""
   optionalDependencies:
-    ""@next/swc-darwin-arm64"" ""13.5.5""
-    ""@next/swc-darwin-x64"" ""13.5.5""
-    ""@next/swc-linux-arm64-gnu"" ""13.5.5""
-    ""@next/swc-linux-arm64-musl"" ""13.5.5""
-    ""@next/swc-linux-x64-gnu"" ""13.5.5""
-    ""@next/swc-linux-x64-musl"" ""13.5.5""
-    ""@next/swc-win32-arm64-msvc"" ""13.5.5""
-    ""@next/swc-win32-ia32-msvc"" ""13.5.5""
-    ""@next/swc-win32-x64-msvc"" ""13.5.5""
+    ""@next/swc-darwin-arm64"" ""13.5.6""
+    ""@next/swc-darwin-x64"" ""13.5.6""
+    ""@next/swc-linux-arm64-gnu"" ""13.5.6""
+    ""@next/swc-linux-arm64-musl"" ""13.5.6""
+    ""@next/swc-linux-x64-gnu"" ""13.5.6""
+    ""@next/swc-linux-x64-musl"" ""13.5.6""
+    ""@next/swc-win32-arm64-msvc"" ""13.5.6""
+    ""@next/swc-win32-ia32-msvc"" ""13.5.6""
+    ""@next/swc-win32-x64-msvc"" ""13.5.6""
 
 next@^12.2.3:
   version ""12.3.4""
@@ -10626,6 +10661,15 @@ onetime@^5.1.0, onetime@^5.1.2:
   dependencies:
     mimic-fn ""^2.1.0""
 
+open@^8.4.0:
+  version ""8.4.2""
+  resolved ""https://registry.yarnpkg.com/open/-/open-8.4.2.tgz#5b5ffe2a8f793dcd2aad73e550cb87b59cb084f9""
+  integrity sha512-7x81NCL719oNbsq/3mh+hVrAWmFuEYUqrq/Iw3kUzH8ReypT9QQ0BLoJS7/G9k6N81XjW4qHWtjWwe/9eLy1EQ==
+  dependencies:
+    define-lazy-prop ""^2.0.0""
+    is-docker ""^2.1.1""
+    is-wsl ""^2.2.0""
+
 openid-client@^5.4.0:
   version ""5.6.1""
   resolved ""https://registry.yarnpkg.com/openid-client/-/openid-client-5.6.1.tgz#8f7526a50c290a5e28a7fe21b3ece3107511bc73""
@@ -10957,7 +11001,7 @@ path-key@^3.0.0, path-key@^3.1.0:
   resolved ""https://registry.yarnpkg.com/path-key/-/path-key-3.1.1.tgz#581f6ade658cbba65a0d3380de7753295054f375""
   integrity sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==
 
-path-parse@^1.0.6, path-parse@^1.0.7:
+path-parse@^1.0.7:
   version ""1.0.7""
   resolved ""https://registry.yarnpkg.com/path-parse/-/path-parse-1.0.7.tgz#fbc114b60ca42b30d9daf5858e4bd68bbedb6735""
   integrity sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==
@@ -12245,13 +12289,6 @@ resolve.exports@^1.1.0:
   resolved ""https://registry.yarnpkg.com/resolve.exports/-/resolve.exports-1.1.1.tgz#05cfd5b3edf641571fd46fa608b610dda9ead999""
   integrity sha512-/NtpHNDN7jWhAaQ9BvBUYZ6YTXsRBgfqWFWP7BZBaoMJO/I3G5OFzvTuWNlZC3aPjins1F+TNrLKsGbH4rfsRQ==
 
-resolve@1.17.0:
-  version ""1.17.0""
-  resolved ""https://registry.yarnpkg.com/resolve/-/resolve-1.17.0.tgz#b25941b54968231cc2d1bb76a79cb7f2c0bf8444""
-  integrity sha512-ic+7JYiV8Vi2yzQGFWOkiZD5Z9z7O2Zhm9XMaTxdJExKasieFCr+yXZ/WmXsckHiKl12ar0y6XiXDx3m4RHn1w==
-  dependencies:
-    path-parse ""^1.0.6""
-
 resolve@^1.1.7, resolve@^1.10.0, resolve@^1.14.2, resolve@^1.17.0, resolve@^1.19.0, resolve@^1.20.0, resolve@^1.22.0, resolve@^1.22.2, resolve@^1.22.4, resolve@^1.3.2:
   version ""1.22.8""
   resolved ""https://registry.yarnpkg.com/resolve/-/resolve-1.22.8.tgz#b6c87a9f2aa06dfab52e3d70ac8cde321fa5a48d""
@@ -12369,16 +12406,26 @@ rollup-plugin-terser@^7.0.2:
     serialize-javascript ""^4.0.0""
     terser ""^5.0.0""
 
-rollup-plugin-typescript2@^0.29.0:
-  version ""0.29.0""
-  resolved ""https://registry.yarnpkg.com/rollup-plugin-typescript2/-/rollup-plugin-typescript2-0.29.0.tgz#b7ad83f5241dbc5bdf1e98d9c3fca005ffe39e1a""
-  integrity sha512-YytahBSZCIjn/elFugEGQR5qTsVhxhUwGZIsA9TmrSsC88qroGo65O5HZP/TTArH2dm0vUmYWhKchhwi2wL9bw==
+rollup-plugin-typescript2@^0.32.0:
+  version ""0.32.1""
+  resolved ""https://registry.yarnpkg.com/rollup-plugin-typescript2/-/rollup-plugin-typescript2-0.32.1.tgz#470ded8e1965efac02043cc0ef4a7fa36bed83b9""
+  integrity sha512-RanO8bp1WbeMv0bVlgcbsFNCn+Y3rX7wF97SQLDxf0fMLsg0B/QFF005t4AsGUcDgF3aKJHoqt4JF2xVaABeKw==
   dependencies:
-    ""@rollup/pluginutils"" ""^3.1.0""
-    find-cache-dir ""^3.3.1""
-    fs-extra ""8.1.0""
-    resolve ""1.17.0""
-    tslib ""2.0.1""
+    ""@rollup/pluginutils"" ""^4.1.2""
+    find-cache-dir ""^3.3.2""
+    fs-extra ""^10.0.0""
+    resolve ""^1.20.0""
+    tslib ""^2.4.0""
+
+rollup-plugin-visualizer@^5.6.0:
+  version ""5.9.2""
+  resolved ""https://registry.yarnpkg.com/rollup-plugin-visualizer/-/rollup-plugin-visualizer-5.9.2.tgz#f1aa2d9b1be8ebd6869223c742324897464d8891""
+  integrity sha512-waHktD5mlWrYFrhOLbti4YgQCn1uR24nYsNuXxg7LkPH8KdTXVWR9DNY1WU0QqokyMixVXJS4J04HNrVTMP01A==
+  dependencies:
+    open ""^8.4.0""
+    picomatch ""^2.3.1""
+    source-map ""^0.7.4""
+    yargs ""^17.5.1""
 
 rollup-pluginutils@^2.8.2:
   version ""2.8.2""
@@ -12782,7 +12829,7 @@ source-map@^0.6.0, source-map@^0.6.1, source-map@~0.6.1:
   resolved ""https://registry.yarnpkg.com/source-map/-/source-map-0.6.1.tgz#74722af32e9614e9c287a8d0bbde48b5e2f1a263""
   integrity sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==
 
-source-map@^0.7.3:
+source-map@^0.7.3, source-map@^0.7.4:
   version ""0.7.4""
   resolved ""https://registry.yarnpkg.com/source-map/-/source-map-0.7.4.tgz#a9bbe705c9d8846f4e08ff6765acf0f1b0898656""
   integrity sha512-l3BikUxvPOcn5E74dZiq5BGsTb5yEwhaTSzccU6t4sDOH8NWJCstKO5QT2CvtFoK6F0saL7p9xHAqHOlCPJygA==
@@ -13605,11 +13652,6 @@ tsconfig-paths@^3.14.1, tsconfig-paths@^3.14.2:
     minimist ""^1.2.6""
     strip-bom ""^3.0.0""
 
-tslib@2.0.1:
-  version ""2.0.1""
-  resolved ""https://registry.yarnpkg.com/tslib/-/tslib-2.0.1.tgz#410eb0d113e5b6356490eec749603725b021b43e""
-  integrity sha512-SgIkNheinmEBgx1IUNirK0TUD4X9yjjBRTqqjggWCU3pUEqIk3/Uwl3yRixYKT6WjQuGiwDv4NomL3wqRCj+CQ==
-
 tslib@^1.8.1, tslib@^1.9.0:
   version ""1.14.1""
   resolved ""https://registry.yarnpkg.com/tslib/-/tslib-1.14.1.tgz#cf2d38bdc34a134bcaf1091c41f6619e2f672d00""
@@ -13830,9 +13872,9 @@ undici-types@~5.25.1:
   integrity sha512-Ga1jfYwRn7+cP9v8auvEXN1rX3sWqlayd4HP7OKk4mZWylEmu3KzXDUGrQUN6Ol7qo1gPvB2e5gX6udnyEPgdA==
 
 undici@^5.25.4:
-  version ""5.26.3""
-  resolved ""https://registry.yarnpkg.com/undici/-/undici-5.26.3.tgz#ab3527b3d5bb25b12f898dfd22165d472dd71b79""
-  integrity sha512-H7n2zmKEWgOllKkIUkLvFmsJQj062lSm3uA4EYApG8gLuiOM0/go9bIoC3HVaSnfg4xunowDE2i9p8drkXuvDw==
+  version ""5.26.4""
+  resolved ""https://registry.yarnpkg.com/undici/-/undici-5.26.4.tgz#dc861c35fb53ae025a173a790d984aa9b2e279a1""
+  integrity sha512-OG+QOf0fTLtazL9P9X7yqWxQ+Z0395Wk6DSkyTxtaq3wQEjIroVe7Y4asCX/vcCxYpNGMnwz8F0qbRYUoaQVMw==
   dependencies:
     ""@fastify/busboy"" ""^2.0.0""
 
@@ -14648,7 +14690,7 @@ yargs@^16.2.0:
     y18n ""^5.0.5""
     yargs-parser ""^20.2.2""
 
-yargs@^17.0.0:
+yargs@^17.0.0, yargs@^17.5.1:
   version ""17.7.2""
   resolved ""https://registry.yarnpkg.com/yargs/-/yargs-17.7.2.tgz#991df39aca675a192b816e1e0363f9d75d2aa269""
   integrity sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",False,False,Data / Input Handling,3
chapter-three,next-drupal,cbe7d02c069c6033a65331fa7ca9d42001be72d1,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-19T08:08:59Z,GitHub,noreply@github.com,2023-10-19T08:08:59Z,"build(yarn): update dependencies to latest minor versions

Fixes #561",package.json;packages/next-drupal-query/package.json;packages/next-drupal/package.json;yarn.lock,False,False,False,False,3279,3181,6460,"---FILE: package.json---
@@ -28,50 +28,48 @@
     ""test:e2e:ci"": ""turbo run test:e2e:ci --parallel""
   },
   ""resolutions"": {
-    ""@types/react"": ""17.0.2"",
-    ""@types/react-dom"": ""17.0.2""
+    ""@types/react"": ""17.0.68"",
+    ""@types/react-dom"": ""17.0.21""
   },
   ""devDependencies"": {
-    ""@actions/core"": ""^1.10.0"",
-    ""@babel/core"": ""^7.9.6"",
-    ""@babel/eslint-parser"": ""^7.17.0"",
-    ""@babel/plugin-transform-runtime"": ""^7.9.6"",
-    ""@babel/preset-env"": ""^7.9.6"",
-    ""@babel/preset-react"": ""^7.9.4"",
-    ""@next/eslint-plugin-next"": ""^12.0.9"",
-    ""@testing-library/cypress"": ""^8.0.2"",
-    ""@types/jest"": ""^27.4.1"",
-    ""@types/node"": ""^17.0.21"",
-    ""@types/react"": ""17.0.2"",
-    ""@types/react-dom"": ""17.0.2"",
-    ""@typescript-eslint/eslint-plugin"": ""^5.17.0"",
-    ""@typescript-eslint/parser"": ""^5.17.0"",
-    ""cypress"": ""^9.1.1"",
-    ""eslint"": ""^8.12.0"",
-    ""eslint-config-prettier"": ""^8.5.0"",
-    ""eslint-plugin-cypress"": ""^2.11.1"",
-    ""eslint-plugin-prettier"": ""^4.0.0"",
-    ""eslint-plugin-react"": ""^7.29.4"",
+    ""@actions/core"": ""^1.10.1"",
+    ""@babel/core"": ""^7.23.2"",
+    ""@babel/eslint-parser"": ""^7.22.15"",
+    ""@babel/plugin-transform-runtime"": ""^7.23.2"",
+    ""@babel/preset-env"": ""^7.23.2"",
+    ""@babel/preset-react"": ""^7.22.15"",
+    ""@commitlint/cli"": ""^17.8.0"",
+    ""@commitlint/config-conventional"": ""^17.8.0"",
+    ""@next/eslint-plugin-next"": ""^12.3.4"",
+    ""@testing-library/cypress"": ""^8.0.7"",
+    ""@types/jest"": ""^27.5.2"",
+    ""@types/node"": ""^17.0.45"",
+    ""@types/react"": ""^17.0.68"",
+    ""@types/react-dom"": ""^17.0.21"",
+    ""@typescript-eslint/eslint-plugin"": ""^5.62.0"",
+    ""@typescript-eslint/parser"": ""^5.62.0"",
+    ""cypress"": ""^9.7.0"",
+    ""eslint"": ""^8.51.0"",
+    ""eslint-config-prettier"": ""^8.10.0"",
+    ""eslint-plugin-cypress"": ""^2.15.1"",
+    ""eslint-plugin-prettier"": ""^4.2.1"",
+    ""eslint-plugin-react"": ""^7.33.2"",
     ""faker"": ""^6.6.6"",
-    ""husky"": ""^8.0.2"",
+    ""husky"": ""^8.0.3"",
     ""isomorphic-fetch"": ""^3.0.0"",
     ""jest"": ""^27.5.1"",
     ""lerna"": ""^4.0.0"",
     ""microbundle"": ""^0.14.2"",
-    ""prettier"": ""^2.8.0"",
+    ""prettier"": ""^2.8.8"",
     ""pretty-quick"": ""^3.1.3"",
-    ""start-server-and-test"": ""^1.14.0"",
-    ""ts-jest"": ""^27.1.3"",
-    ""ts-node"": ""^10.7.0"",
-    ""turbo"": ""^1.1.1"",
-    ""typescript"": ""^4.5.5"",
+    ""start-server-and-test"": ""^1.15.5"",
+    ""ts-jest"": ""^27.1.5"",
+    ""ts-node"": ""^10.9.1"",
+    ""turbo"": ""^1.10.15"",
+    ""typescript"": ""^4.9.5"",
     ""uuid"": ""^8.3.2"",
     ""yaml"": ""^1.10.2""
   },
-  ""dependencies"": {
-    ""@commitlint/cli"": ""^17.3.0"",
-    ""@commitlint/config-conventional"": ""^17.3.0""
-  },
   ""engines"": {
     ""node"": "">=16.19.0""
   }

---FILE: packages/next-drupal-query/package.json---
@@ -37,12 +37,12 @@
   },
   ""devDependencies"": {
     ""rollup-plugin-node-builtins"": ""^2.1.2"",
-    ""typescript"": ""^4.5.5""
+    ""typescript"": ""^4.9.5""
   },
   ""dependencies"": {
-    ""deepmerge"": ""^4.2.2"",
-    ""drupal-jsonapi-params"": ""^2.1.0"",
+    ""deepmerge"": ""^4.3.1"",
+    ""drupal-jsonapi-params"": ""^2.3.1"",
     ""next"": ""^12.2.3 || ^13"",
-    ""type-fest"": ""^2.17.0""
+    ""type-fest"": ""^2.19.0""
   }
 }

---FILE: packages/next-drupal/package.json---
@@ -38,13 +38,13 @@
   },
   ""devDependencies"": {
     ""rollup-plugin-node-builtins"": ""^2.1.2"",
-    ""typescript"": ""^4.5.5""
+    ""typescript"": ""^4.9.5""
   },
   ""dependencies"": {
-    ""jsona"": ""^1.9.7"",
+    ""jsona"": ""^1.12.1"",
     ""next"": ""^12.2.0 || ^13"",
     ""node-cache"": ""^5.1.2"",
-    ""qs"": ""^6.10.3"",
+    ""qs"": ""^6.11.2"",
     ""react"": ""^17.0.2 || ^18"",
     ""react-dom"": ""^17.0.2 || ^18""
   }",False,False,Data / Input Handling,3
chapter-three,next-drupal,99811dafd9d78624e7fbeffb92f497c507be833e,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-19T08:05:58Z,GitHub,noreply@github.com,2023-10-19T08:05:58Z,"build: remove unnecessary files from NPM package

Fixes #556",packages/next-drupal-query/.npmignore;packages/next-drupal/.npmignore,False,False,False,False,7,5,12,"---FILE: packages/next-drupal-query/.npmignore---
@@ -0,0 +1,3 @@
+/coverage
+/CHANGELOG.md
+/tests

---FILE: packages/next-drupal/.npmignore---
@@ -1,5 +1,4 @@
-babel.config.js
-*.test.js
-coverage
-__snapshots__
-test
\ No newline at end of file
+/coverage
+/CHANGELOG.md
+/tests
+/tsconfig.json",False,False,Dependency / Package,1
chapter-three,next-drupal,6fb7718b70fd506349487aac6fb18b93c22082a2,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-19T08:04:22Z,GitHub,noreply@github.com,2023-10-19T08:04:22Z,"refactor(next): fix Drupal coding standards

* refactor(next): lint warnings in Drupal PHP coding standards
* build(next): simplify phpcs task in CI
* build(next): add DrupalPractice coding standards to CI

Fixes #551",.github/workflows/next.yml;modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php;modules/next/modules/next_jwt/src/EventSubscriber/JwtEventSubscriber.php;modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php;modules/next/phpcs.xml;modules/next/phpcs.xml.dist;modules/next/src/Controller/NextSiteEntityController.php;modules/next/src/Entity/NextEntityTypeConfig.php;modules/next/src/Entity/NextEntityTypeConfigInterface.php;modules/next/src/Entity/NextSite.php;modules/next/src/Event/EntityActionEventInterface.php;modules/next/src/Event/EntityRevalidatedEvent.php;modules/next/src/Form/NextEntityTypeConfigDeleteForm.php;modules/next/src/Form/NextEntityTypeConfigForm.php;modules/next/src/Form/NextSettingsForm.php;modules/next/src/NextEntityTypeManager.php;modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php;modules/next/src/Plugin/Next/Revalidator/Path.php;modules/next/src/Plugin/Next/SitePreviewer/Iframe.php;modules/next/src/Plugin/Next/SiteResolver/EntityReferenceField.php;modules/next/src/Plugin/Next/SiteResolver/SiteSelector.php;modules/next/src/Plugin/RevalidatorBase.php;modules/next/src/Plugin/RevalidatorInterface.php;modules/next/src/Plugin/SitePreviewerManager.php;modules/next/src/Render/MainContent/HtmlRenderer.php;modules/next/tests/src/Kernel/Controller/NextPreviewUrlControllerTest.php;modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php;modules/next/tests/src/Kernel/Entity/NextEntityTypeConfigTest.php;modules/next/tests/src/Kernel/Entity/NextSiteTest.php;modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php;modules/next/tests/src/Kernel/NextEntityTypeManagerTest.php;modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php;modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php;modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php;package.json,False,False,False,False,70,77,147,"---FILE: .github/workflows/next.yml---
@@ -68,15 +68,13 @@ jobs:
           cd ~/drupal
           COMPOSER_MEMORY_LIMIT=-1 composer require --dev phpspec/prophecy-phpunit:^2 -W
         if: ${{ startsWith(matrix.drupal, '9') }}
+      - name: Run phpcs
+        run: |
+          ~/drupal/vendor/bin/phpcs -p -s --colors --standard=modules/next/phpcs.xml modules/next
       - name: Copy module
         run: cp -R ../next-drupal/modules/next ~/drupal/web/modules/next
       - name: Run php built-in server
         run: php -S 127.0.0.1:8080 -t ~/drupal/web &
-      - name: Run phpcs
-        run: |
-          cd ~/drupal/web
-          cp modules/next/phpcs.xml.dist .
-          ../vendor/bin/phpcs --standard=./phpcs.xml.dist modules/next -p -s -n --colors
       - name: Run PHPUnit
         run: |
           cd ~/drupal/web

---FILE: modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php---
@@ -6,7 +6,7 @@
 use Drupal\Core\TypedData\ComputedItemListTrait;
 
 /**
- * Class ContentTranslationsFieldItemList.
+ * A list of field item objects with translations.
  */
 class ContentTranslationsFieldItemList extends FieldItemList {
 

---FILE: modules/next/modules/next_jwt/src/EventSubscriber/JwtEventSubscriber.php---
@@ -9,7 +9,7 @@
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
 
 /**
- * Class JwtEventSubscriber.
+ * Subscribes to JWT authentication events.
  */
 class JwtEventSubscriber implements EventSubscriberInterface {
 

---FILE: modules/next/modules/next_jwt/src/Plugin/Next/PreviewUrlGenerator/Jwt.php---
@@ -11,7 +11,6 @@
 use Drupal\Core\Session\AccountProxyInterface;
 use Drupal\Core\Url;
 use Drupal\jwt\Authentication\Provider\JwtAuth;
-use Drupal\next\Annotation\PreviewUrlGenerator;
 use Drupal\next\Entity\NextSiteInterface;
 use Drupal\next\Exception\InvalidPreviewUrlRequest;
 use Drupal\next\Plugin\ConfigurablePreviewUrlGeneratorBase;
@@ -142,7 +141,8 @@ public function generate(NextSiteInterface $next_site, EntityInterface $entity,
     $query['timestamp'] = $timestamp = $this->time->getRequestTime();
     $query['secret'] = $secret = $this->previewSecretGenerator->generate($timestamp . $slug . $resource_version . $this->user->uuid());
 
-    // Generate a JWT and store it temporarily so that we can retrieve it on validate.
+    // Generate a JWT and store it temporarily so that we can retrieve it on
+    // validate.
     $jwt = $this->jwtAuth->generateToken();
     $this->keyValue->get('next_jwt')
       ->setWithExpire($secret, $jwt, $this->configuration['access_token_expiration']);

---FILE: modules/next/phpcs.xml---
@@ -0,0 +1,10 @@
+<?xml version=""1.0"" encoding=""UTF-8""?>
+<ruleset name=""DrupalProjectNext"">
+  <!-- Ignore files -->
+  <exclude-pattern>*/config/*</exclude-pattern>
+  <exclude-pattern>*/css/*</exclude-pattern>
+  <exclude-pattern>*/js/*</exclude-pattern>
+
+  <rule ref=""Drupal""/>
+  <rule ref=""DrupalPractice""/>
+</ruleset>

---FILE: modules/next/phpcs.xml.dist---
@@ -1,12 +0,0 @@
-<?xml version=""1.0""?>
-
-<ruleset name=""Drupal coding standards"">
-  <exclude-pattern>*/.git/*</exclude-pattern>
-  <exclude-pattern>*/config/*</exclude-pattern>
-  <exclude-pattern>*/css/*</exclude-pattern>
-  <exclude-pattern>*/js/*</exclude-pattern>
-  <exclude-pattern>*/vendor/*</exclude-pattern>
-  <exclude-pattern>\.md</exclude-pattern>
-
-  <rule ref=""Drupal""/>
-</ruleset>

---FILE: modules/next/src/Controller/NextSiteEntityController.php---
@@ -107,7 +107,7 @@ public function environmentVariables(NextSiteInterface $next_site) {
         '#context' => [
           'name' => $name,
           'value' => $value,
-        ]
+        ],
       ];
     }
 

---FILE: modules/next/src/Entity/NextEntityTypeConfig.php---
@@ -3,7 +3,6 @@
 namespace Drupal\next\Entity;
 
 use Drupal\Core\Config\Entity\ConfigEntityBase;
-use Drupal\Core\Entity\EntityInterface;
 use Drupal\next\Plugin\RevalidatorInterface;
 use Drupal\next\Plugin\SiteResolverInterface;
 use Drupal\next\RevalidatorPluginCollection;

---FILE: modules/next/src/Entity/NextEntityTypeConfigInterface.php---
@@ -3,12 +3,9 @@
 namespace Drupal\next\Entity;
 
 use Drupal\Core\Config\Entity\ConfigEntityInterface;
-use Drupal\Core\Entity\EntityInterface;
 use Drupal\Core\Entity\EntityWithPluginCollectionInterface;
 use Drupal\next\Plugin\RevalidatorInterface;
 use Drupal\next\Plugin\SiteResolverInterface;
-use Drupal\next\RevalidatorPluginCollection;
-use Drupal\next\SiteResolverPluginCollection;
 
 /**
  * Provides an interface for next_entity_type_config entity definitions.

---FILE: modules/next/src/Entity/NextSite.php---
@@ -176,8 +176,8 @@ public function setRevalidateSecret(string $revalidate_secret): NextSiteInterfac
    * {@inheritdoc}
    */
   public function getPreviewUrlForEntity(EntityInterface $entity): Url {
-    // Anonymous users do not have access to the preview url.
-    // Same for authenticated users with no additional roles, since we assume no scope.
+    // Anonymous users do not have access to the preview url. Same for
+    // authenticated users with no additional roles, since we assume no scope.
     if (\Drupal::currentUser()->isAnonymous() || (!count(\Drupal::currentUser()->getRoles(TRUE)) && \Drupal::currentUser()->id() !== ""1"")) {
       return $this->getLiveUrlForEntity($entity);
     }
@@ -190,28 +190,29 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
       /** @var \Drupal\Core\Entity\RevisionableInterface $entity */
       $rel = NULL;
 
-      // In Drupal terms, a ""working copy"" is the latest revision. It may or may not
-      // be a ""default"" revision. This revision is the working copy because it is
-      // the revision to which new work will be applied. In other words, it denotes
-      // the most recent revision which might be considered a work-in-progress.
+      // In Drupal terms, a ""working copy"" is the latest revision. It may or may
+      // not be a ""default"" revision. This revision is the working copy because
+      // it is the revision to which new work will be applied. In other words,
+      // it denotes the most recent revision which might be considered a
+      // work-in-progress.
       // @see \Drupal\jsonapi\Revisions\VersionByRel
       if ($entity->isLatestRevision()) {
         $rel = 'working-copy';
       }
 
-      // In Drupal terms, the ""latest version"" is the latest ""default"" revision. It
-      // may or may not have later revisions after it, as long as none of them are
-      // ""default"" revisions. This revision is the latest version because it is the
-      // last revision where work was considered finished. Typically, this means
-      // that it is the most recent ""published"" revision.
+      // In Drupal terms, the ""latest version"" is the latest ""default"" revision.
+      // It may or may not have later revisions after it, as long as none of
+      // them are ""default"" revisions. This revision is the latest version
+      // because it is the last revision where work was considered finished.
+      // Typically, this means that it is the most recent ""published"" revision.
       // @see \Drupal\jsonapi\Revisions\VersionByRel
       if ($entity->isDefaultRevision()) {
         $rel = 'latest-version';
       }
       $resource_version = $rel ? ""rel:$rel"" : ""id:{$entity->getRevisionId()}"";
     }
 
-    // TODO: Extract this to a service.
+    // @todo Extract this to a service.
     /** @var \Drupal\next\NextSettingsManagerInterface $next_settings */
     $next_settings = \Drupal::service('next.settings.manager');
     $preview_url_generator = $next_settings->getPreviewUrlGenerator();
@@ -228,8 +229,8 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
 
     $query = $preview_url->getOption('query');
 
-    // Add the plugin to the query.
-    // This allows next.js app to determine the preview strategy based on the plugin.
+    // Add the plugin to the query. This allows next.js app to determine the
+    // preview strategy based on the plugin.
     $query['plugin'] = $preview_url_generator->getId();
 
     // Add the locale to the query.

---FILE: modules/next/src/Event/EntityActionEventInterface.php---
@@ -20,7 +20,9 @@ interface EntityActionEventInterface {
   public const UPDATE_ACTION = 'update';
 
   /**
-   * The entity delete action. We use predelete because we need access to the entity for revalidating.
+   * The entity delete action.
+   *
+   * We use predelete because we need access to the entity for revalidating.
    */
   public const DELETE_ACTION = 'delete';
 

---FILE: modules/next/src/Event/EntityRevalidatedEvent.php---
@@ -2,8 +2,6 @@
 
 namespace Drupal\next\Event;
 
-use Drupal\Core\Entity\EntityInterface;
-
 /**
  * Defines an entity revalidated event.
  *

---FILE: modules/next/src/Form/NextEntityTypeConfigDeleteForm.php---
@@ -6,7 +6,7 @@
 use Drupal\Core\Url;
 
 /**
- * Provides a deletion confirmation form for the next_entity_type_config deletion form.
+ * Provides a deletion confirmation form for next_entity_type_config.
  */
 class NextEntityTypeConfigDeleteForm extends EntityDeleteForm {
 

---FILE: modules/next/src/Form/NextEntityTypeConfigForm.php---
@@ -62,8 +62,10 @@ class NextEntityTypeConfigForm extends EntityForm {
    */
   public function __construct(EntityTypeManagerInterface $entity_type_manager, EntityTypeBundleInfoInterface $entity_type_bundle_info, SiteResolverManagerInterface $site_resolver_manager, RevalidatorManagerInterface $revalidator_manager = NULL) {
     if (!$revalidator_manager) {
-      @trigger_error('Calling NextEntityTypeConfigForm::__construct() without the $revalidator_manager argument is deprecated in next:1.4.0. The $revalidator_manager argument will be required in next:2.0.0. See https://www.drupal.org/project/next/releases/1.4.0', E_USER_DEPRECATED);
+      @trigger_error('Calling NextEntityTypeConfigForm::__construct() without the $revalidator_manager argument is deprecated in next:1.4.0 and will be required in next:2.0.0. See https://www.drupal.org/node/3325622', E_USER_DEPRECATED);
+      // @codingStandardsIgnoreStart
       $revalidator_manager = \Drupal::service('plugin.manager.next.revalidator');
+      // @codingStandardsIgnoreEnd
     }
 
     $this->entityTypeManager = $entity_type_manager;

---FILE: modules/next/src/Form/NextSettingsForm.php---
@@ -43,8 +43,10 @@ class NextSettingsForm extends ConfigFormBase {
    */
   public function __construct(ConfigFactoryInterface $config_factory, SitePreviewerManagerInterface $site_previewer_manager, PreviewUrlGeneratorManagerInterface $preview_url_generator_manager = NULL) {
     if (!$preview_url_generator_manager) {
-      @trigger_error('Calling NextSettingsForm::__construct() without the $preview_url_generator_manager argument is deprecated in next:1.3.0. The $preview_url_generator_manager argument will be required in next:2.0.0. See https://www.drupal.org/project/next/releases/1.3.0', E_USER_DEPRECATED);
+      @trigger_error('Calling NextSettingsForm::__construct() without the $preview_url_generator_manager argument is deprecated in next:1.3.0 and will be required in next:2.0.0. See https://www.drupal.org/node/3308330', E_USER_DEPRECATED);
+      // @codingStandardsIgnoreStart
       $preview_url_generator_manager = \Drupal::service('plugin.manager.next.preview_url_generator');
+      // @codingStandardsIgnoreEnd
     }
 
     parent::__construct($config_factory);

---FILE: modules/next/src/NextEntityTypeManager.php---
@@ -65,7 +65,7 @@ public function getConfigEntityTypeIds() {
   public function getEntityFromRouteMatch(RouteMatchInterface $route_match): ?EntityInterface {
     $entity_types_ids = $this->getConfigEntityTypeIds();
 
-    // TODO: Handle all revisionable entity types.
+    // @todo Handle all revisionable entity types.
     $revision_routes = ['entity.node.revision', 'entity.node.latest_version'];
     if (in_array($route_match->getRouteName(), $revision_routes) && in_array('node', $entity_types_ids)) {
       $node_revision = $route_match->getParameter('node_revision');
@@ -93,9 +93,12 @@ public function getEntityFromRouteMatch(RouteMatchInterface $route_match): ?Enti
    * {@inheritdoc}
    */
   public function isEntityRevisionable(EntityInterface $entity): bool {
+    // @todo How do you do dependency injection on optional dependencies?
+    // @codingStandardsIgnoreStart
     if (\Drupal::hasService('jsonapi.resource_type.repository')) {
-      /* @var \Drupal\jsonapi\ResourceType\ResourceTypeRepositoryInterface $resource_type_repository */
+      /** @var \Drupal\jsonapi\ResourceType\ResourceTypeRepositoryInterface $resource_type_repository */
       $resource_type_repository = \Drupal::service('jsonapi.resource_type.repository');
+      // @codingStandardsIgnoreEnd
       $resource = $resource_type_repository->get($entity->getEntityTypeId(), $entity->bundle());
       return $resource->isVersionable() && $entity->getEntityType()->isRevisionable();
     }

---FILE: modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php---
@@ -11,7 +11,6 @@
 use Drupal\Core\Messenger\MessengerInterface;
 use Drupal\Core\Session\AccountProxyInterface;
 use Drupal\Core\Url;
-use Drupal\next\Annotation\PreviewUrlGenerator;
 use Drupal\next\Entity\NextSiteInterface;
 use Drupal\next\Exception\InvalidPreviewUrlRequest;
 use Drupal\next\Plugin\ConfigurablePreviewUrlGeneratorBase;

---FILE: modules/next/src/Plugin/Next/Revalidator/Path.php---
@@ -3,7 +3,6 @@
 namespace Drupal\next\Plugin\Next\Revalidator;
 
 use Drupal\Core\Form\FormStateInterface;
-use Drupal\next\Annotation\Revalidator;
 use Drupal\next\Event\EntityActionEvent;
 use Drupal\next\Plugin\ConfigurableRevalidatorBase;
 use Drupal\next\Plugin\RevalidatorInterface;

---FILE: modules/next/src/Plugin/Next/SitePreviewer/Iframe.php---
@@ -10,7 +10,6 @@
 use Drupal\Core\Form\FormBuilderInterface;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
-use Drupal\Core\Url;
 use Drupal\next\Form\IframeSitePreviewerSwitcherForm;
 use Drupal\next\Plugin\ConfigurableSitePreviewerBase;
 use Symfony\Component\DependencyInjection\ContainerInterface;
@@ -191,7 +190,7 @@ public function render(EntityInterface $entity, array $sites) {
           'class' => [
             $entity->isPublished() ? 'published' : '',
           ],
-        ]
+        ],
       ];
     }
 
@@ -243,8 +242,8 @@ public function render(EntityInterface $entity, array $sites) {
             'iframe_preview' => [
               'sync_route' => $this->configuration['sync_route'],
               'skip_routes' => array_map('trim', explode(""\n"", mb_strtolower($this->configuration['sync_route_skip_routes']))),
-            ]
-          ]
+            ],
+          ],
         ],
         'library' => [
           'next/site_preview.iframe',

---FILE: modules/next/src/Plugin/Next/SiteResolver/EntityReferenceField.php---
@@ -19,7 +19,8 @@
  * @SiteResolver(
  *  id = ""entity_reference_field"",
  *  label = ""Entity reference field"",
- *  description = ""This plugin allows you to select an entity reference field from which to resolve the Next.js site.""
+ *  description = ""This plugin allows you to select an entity reference field
+ *    from which to resolve the Next.js site.""
  * )
  */
 class EntityReferenceField extends ConfigurableSiteResolverBase implements ContainerFactoryPluginInterface {

---FILE: modules/next/src/Plugin/Next/SiteResolver/SiteSelector.php---
@@ -16,7 +16,8 @@
  * @SiteResolver(
  *  id = ""site_selector"",
  *  label = ""Site selector"",
- *  description = ""The site selector plugin allows you to manually select the Next.js sites for the entity type.""
+ *  description = ""The site selector plugin allows you to manually select the
+ *    Next.js sites for the entity type.""
  * )
  */
 class SiteSelector extends ConfigurableSiteResolverBase implements ContainerFactoryPluginInterface {

---FILE: modules/next/src/Plugin/RevalidatorBase.php---
@@ -6,7 +6,6 @@
 use Drupal\Core\Plugin\ContainerFactoryPluginInterface;
 use Drupal\Core\Plugin\PluginBase;
 use Drupal\next\NextSettingsManagerInterface;
-use GuzzleHttp\Client;
 use GuzzleHttp\ClientInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 

---FILE: modules/next/src/Plugin/RevalidatorInterface.php---
@@ -2,7 +2,6 @@
 
 namespace Drupal\next\Plugin;
 
-use Drupal\Core\Entity\EntityInterface;
 use Drupal\next\Event\EntityActionEvent;
 
 /**

---FILE: modules/next/src/Plugin/SitePreviewerManager.php---
@@ -6,7 +6,6 @@
 use Drupal\Core\Extension\ModuleHandlerInterface;
 use Drupal\Core\Plugin\DefaultPluginManager;
 use Drupal\next\Annotation\SitePreviewer;
-use Drupal\next\Annotation\SiteResolver;
 
 /**
  * Plugin manager for site previewers.

---FILE: modules/next/src/Render/MainContent/HtmlRenderer.php---
@@ -95,11 +95,11 @@ protected function prepare(array $main_content, Request $request, RouteMatchInte
       return $build;
     }
 
-    // TODO: Make this configurable?
+    // @todo Make this configurable?
     $entity_type_id = $entity->getEntityTypeId();
     $revision_routes = $entity->getEntityType()->isRevisionable() ? [
       ""entity.$entity_type_id.revision"",
-      ""entity.$entity_type_id.latest_version""
+      ""entity.$entity_type_id.latest_version"",
     ] : [];
     $routes = array_merge([""entity.$entity_type_id.canonical""], $revision_routes);
 

---FILE: modules/next/tests/src/Kernel/Controller/NextPreviewUrlControllerTest.php---
@@ -50,7 +50,7 @@ protected function setUp(): void {
       'id' => 'blog',
       'base_url' => 'https://blog.com',
       'preview_url' => 'https://blog.com/api/preview',
-      'preview_secret' => 'one'
+      'preview_secret' => 'one',
     ]);
     $this->nextSite->save();
 

---FILE: modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php---
@@ -63,7 +63,7 @@ public function testEnvironmentVariables() {
    */
   public function testOverriddenEnvironmentVariables() {
     $GLOBALS['config']['next.next_site.' . $this->nextSite->id()] = [
-      'preview_secret' => 'overridden'
+      'preview_secret' => 'overridden',
     ];
     $overridden_entity = NextSite::load($this->nextSite->id());
     $controller = NextSiteEntityController::create($this->container);

---FILE: modules/next/tests/src/Kernel/Entity/NextEntityTypeConfigTest.php---
@@ -52,7 +52,7 @@ protected function setUp(): void {
    */
   public function testSiteResolver() {
     $blog_site = NextSite::create([
-      'id' => 'blog'
+      'id' => 'blog',
     ]);
     $blog_site->save();
 
@@ -116,7 +116,7 @@ public function testSiteResolver() {
    */
   public function testRevalidator() {
     $blog_site = NextSite::create([
-      'id' => 'blog'
+      'id' => 'blog',
     ]);
     $blog_site->save();
 

---FILE: modules/next/tests/src/Kernel/Entity/NextSiteTest.php---
@@ -48,7 +48,7 @@ protected function setUp(): void {
       'id' => 'blog',
       'base_url' => 'https://blog.com',
       'preview_url' => 'https://blog.com/api/preview',
-      'preview_secret' => 'one'
+      'preview_secret' => 'one',
     ]);
     $this->nextSite->save();
 

---FILE: modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php---
@@ -6,7 +6,6 @@
 use Drupal\dblog\Controller\DbLogController;
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\next\Entity\NextEntityTypeConfig;
-use Drupal\node\Entity\NodeType;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 
 /**

---FILE: modules/next/tests/src/Kernel/NextEntityTypeManagerTest.php---
@@ -5,8 +5,6 @@
 use Drupal\KernelTests\KernelTestBase;
 use Drupal\next\Entity\NextEntityTypeConfig;
 use Drupal\next\Entity\NextSite;
-use Drupal\next\Plugin\Next\PreviewUrlGenerator\SimpleOauth;
-use Drupal\next\Plugin\Next\SitePreviewer\Iframe;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 
 /**
@@ -48,7 +46,7 @@ public function testGetSitesForEntity() {
     $this->assertEmpty($next_entity_type_manager->getSitesForEntity($page));
 
     $blog_site = NextSite::create([
-      'id' => 'blog'
+      'id' => 'blog',
     ]);
     $blog_site->save();
     $this->assertEmpty($next_entity_type_manager->getSitesForEntity($page));
@@ -93,7 +91,7 @@ public function testGetSiteResolver() {
     $this->assertEmpty($next_entity_type_manager->getSiteResolver($page));
 
     $blog_site = NextSite::create([
-      'id' => 'blog'
+      'id' => 'blog',
     ]);
     $blog_site->save();
     $this->assertEmpty($next_entity_type_manager->getSiteResolver($page));

---FILE: modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php---
@@ -57,7 +57,7 @@ public function testRevalidate() {
     $this->container->set('http_client', $client->reveal());
 
     $blog_site = NextSite::create([
-      'id' => 'blog'
+      'id' => 'blog',
     ]);
     $blog_site->save();
 
@@ -108,7 +108,7 @@ public function testRevalidate() {
     _drupal_shutdown_function();
 
     $entity_type_config->setRevalidatorConfiguration('path', [
-      'additional_paths' => ""/\n/blog""
+      'additional_paths' => ""/\n/blog"",
     ])->save();
 
     $client->request('GET', 'http://marketing.com/api/revalidate?slug=/node/3&secret=12345')->shouldBeCalled();

---FILE: modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php---
@@ -55,7 +55,7 @@ protected function setUp(): void {
       'id' => 'blog',
       'base_url' => 'https://blog.com',
       'preview_url' => 'https://blog.com/api/preview',
-      'preview_secret' => 'one'
+      'preview_secret' => 'one',
     ]);
     $blog->save();
 
@@ -64,7 +64,7 @@ protected function setUp(): void {
       'id' => 'marketing',
       'base_url' => 'https://marketing.com',
       'preview_url' => 'https://marketing.com/api/preview',
-      'preview_secret' => 'two'
+      'preview_secret' => 'two',
     ]);
     $marketing->save();
 

---FILE: modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php---
@@ -58,7 +58,7 @@ protected function setUp(): void {
       'id' => 'blog',
       'base_url' => 'https://blog.com',
       'preview_url' => 'https://blog.com/api/preview',
-      'preview_secret' => 'one'
+      'preview_secret' => 'one',
     ]);
     $blog->save();
 

---FILE: package.json---
@@ -17,7 +17,7 @@
     ""prepare"": ""lerna run prepare && husky install"",
     ""watch"": ""lerna run watch"",
     ""lint"": ""eslint --cache --ext .js,.jsx,.ts,.tsx ."",
-    ""phpcs"": ""./drupal/vendor/bin/phpcs -s -n --colors --standard=modules/next/phpcs.xml.dist modules/next"",
+    ""phpcs"": ""./drupal/vendor/bin/phpcs -p -s --colors --standard=modules/next/phpcs.xml modules/next"",
     ""test:next"": ""./drupal/vendor/bin/phpunit -c ./drupal/web modules/next"",
     ""sync:modules"": ""./scripts/sync-modules.sh \""modules/*\"""",
     ""sync:examples"": ""./scripts/sync-examples.sh \""examples/example-*\"""",",False,False,Data / Input Handling,6
chapter-three,next-drupal,050429c135c3b414934570c418950f599ab126af,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-17T18:28:49Z,GitHub,noreply@github.com,2023-10-17T18:28:49Z,"chore: update .nvmrc to use ""v16""

Fixes #555",.nvmrc,False,False,False,False,1,1,2,"---FILE: .nvmrc---
@@ -1 +1 @@
-v16.19.0
+v16",False,False,Dependency / Package,1
chapter-three,next-drupal,b0a7fd39c43b1a67eda5df971730f34b28c495c2,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-17T18:27:35Z,GitHub,noreply@github.com,2023-10-17T18:27:35Z,"chore: update GitHub issue templates' package chooser

Issue #554",.github/ISSUE_TEMPLATE/bug_report.yml;.github/ISSUE_TEMPLATE/feature_request.yml;.github/ISSUE_TEMPLATE/question.yml,False,False,False,False,5,3,8,"---FILE: .github/ISSUE_TEMPLATE/bug_report.yml---
@@ -13,6 +13,7 @@ body:
       label: Package containing the bug
       description: What package in this monorepo has the bug?
       options:
+        - Not package-specific
         - Im not sure
         - next (Drupal module)
         - next-drupal (NPM package)
@@ -31,7 +32,7 @@ body:
         - example-search-api
         - example-umami
         - example-webform
-      default: 0
+      default: 1
     validations:
       required: true
   - type: textarea

---FILE: .github/ISSUE_TEMPLATE/feature_request.yml---
@@ -8,6 +8,7 @@ body:
       label: Package
       description: The feature request is for what package in this monorepo?
       options:
+        - Not package-specific
         - Im not sure
         - next (Drupal module)
         - next-drupal (NPM package)
@@ -26,7 +27,7 @@ body:
         - example-search-api
         - example-umami
         - example-webform
-      default: 0
+      default: 1
     validations:
       required: true
   - type: textarea

---FILE: .github/ISSUE_TEMPLATE/question.yml---
@@ -8,7 +8,7 @@ body:
       label: Package
       description: The question is for what package in this monorepo?
       options:
-        - Not applicable
+        - Not package-specific
         - Im not sure
         - next (Drupal module)
         - next-drupal (NPM package)",False,False,Dependency / Package,4
chapter-three,next-drupal,bb9becc72af2997601382eb7ba0fff426c09e4d2,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-13T03:03:34Z,GitHub,noreply@github.com,2023-10-13T03:03:34Z,"ci(next): update CI test matrix (#548)

* ci(next): remove Drupal 9.4 from CI test matrix
* ci(next): add PHP 8.2 to CI test matrix
* ci(next): replace set-output with output parameter
   GitHub Actions' ""set-output"" is deprecated. See https://github.blog/changelog/2022-10-11-github-actions-deprecating-save-state-and-set-output-commands/
* ci(next): remove deprecated GH workflow
* ci: update GitHub actions versions

Fixes #543",.github/workflows/next-drupal-query.yml;.github/workflows/next-drupal.yml;.github/workflows/next.yml;.github/workflows/release-pr.yml;modules/next/.github/workflows/main.yml,False,False,False,False,15,77,92,"---FILE: .github/workflows/next-drupal-query.yml---
@@ -8,7 +8,7 @@ jobs:
   build:
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v4
       - name: Install modules
         run: yarn
       - name: Run tests

---FILE: .github/workflows/next-drupal.yml---
@@ -7,7 +7,7 @@ jobs:
   test:
     runs-on: ubuntu-latest
     steps:
-      - uses: actions/checkout@v3
+      - uses: actions/checkout@v4
         with:
           ref: ${{github.event.pull_request.head.ref}}
           repository: ${{github.event.pull_request.head.repo.full_name}}

---FILE: .github/workflows/next.yml---
@@ -10,11 +10,15 @@ jobs:
     runs-on: ubuntu-latest
     strategy:
       matrix:
-        php: [""8.0"", ""8.1""]
-        drupal: [""9.4"", ""9.5"", ""10.0""]
+        # Supported PHP versions: https://www.drupal.org/docs/getting-started/system-requirements/php-requirements
+        php: [""8.0"", ""8.1"", ""8.2""]
+        # Supported Drupal versions: https://www.drupal.org/project/drupal
+        drupal: [""9.5"", ""10.0""]
         exclude:
-          - php: ""8.0""
-            drupal: ""10.0""
+          - drupal: ""9.5""
+            php: ""8.2""
+          - drupal: ""10.0""
+            php: ""8.0""
     name: Drupal ${{ matrix.drupal }} - PHP ${{ matrix.php }}
     services:
       mysql:
@@ -26,7 +30,7 @@ jobs:
           - 3306
         options: --health-cmd=""mysqladmin ping"" --health-interval=10s --health-timeout=5s --health-retries=3
     steps:
-      - uses: actions/checkout@v2
+      - uses: actions/checkout@v4
       - uses: shivammathur/setup-php@v2
         with:
           php-version: ${{ matrix.php }}
@@ -37,12 +41,12 @@ jobs:
         id: composercache
         run: |
           cd modules/next
-          echo ""::set-output name=dir::$(composer config cache-files-dir)""
-      - uses: actions/cache@v2
+          echo ""dir=$(composer config cache-files-dir)"" >> ""$GITHUB_OUTPUT""
+      - uses: actions/cache@v3
         with:
           path: ${{ steps.composercache.outputs.dir }}
           key: ${{ runner.os }}-${{ matrix.drupal }}-composer-${{ hashFiles('**/composer.json') }}
-          restore-keys: ${{ runner.os }}-composer-
+          restore-keys: ${{ runner.os }}-${{ matrix.drupal }}-composer-
       - name: Setup problem matchers for PHPUnit
         run: echo ""::add-matcher::${{ runner.tool_cache }}/phpunit.json""
       - name: Setup Drupal

---FILE: .github/workflows/release-pr.yml---
@@ -10,7 +10,7 @@ jobs:
     environment: Preview
     steps:
       - name: Init
-        uses: actions/checkout@v3
+        uses: actions/checkout@v4
         with:
           ref: ${{ github.event.pull_request.head.sha }}
       - name: Setup Node

---FILE: modules/next/.github/workflows/main.yml---
@@ -1,66 +0,0 @@
-name: Tests
-on:
-  push:
-  pull_request:
-    branches:
-      - 8.x-1.x
-
-jobs:
-  phpunit:
-    runs-on: ubuntu-latest
-    strategy:
-      matrix:
-        include:
-          - drupal: ""^8.9""
-    name: Drupal ${{ matrix.drupal }}
-    services:
-      mysql:
-        image: mysql:5.7
-        env:
-          MYSQL_ALLOW_EMPTY_PASSWORD: yes
-          MYSQL_DATABASE: db
-        ports:
-          - 3306
-        options: --health-cmd=""mysqladmin ping"" --health-interval=10s --health-timeout=5s --health-retries=3
-    steps:
-      - uses: actions/checkout@v2
-      - uses: shivammathur/setup-php@v2
-        with:
-          php-version: 7.1
-          extensions: dom, curl, libxml, mbstring, zip, pdo, mysql, pdo_mysql, bcmath, soap, intl, gd, exif, iconv
-          coverage: none
-          tools: composer:v1
-      - name: Get composer cache directory
-        id: composercache
-        run: echo ""::set-output name=dir::$(composer config cache-files-dir)""
-      - uses: actions/cache@v2
-        with:
-          path: ${{ steps.composercache.outputs.dir }}
-          key: ${{ runner.os }}-${{ matrix.drupal }}-composer-${{ hashFiles('**/composer.json') }}
-          restore-keys: ${{ runner.os }}-composer-
-      - name: Setup problem matchers for PHPUnit
-        run: echo ""::add-matcher::${{ runner.tool_cache }}/phpunit.json""
-      - name: Setup Drupal
-        run: |
-          COMPOSER_MEMORY_LIMIT=-1 composer create-project drupal/recommended-project:${{ matrix.drupal }} ~/drupal --no-interaction
-          cd ~/drupal
-          composer config extra.enable-patching true
-          composer config extra.compile-mode all
-          composer config minimum-stability dev
-          composer config prefer-stable true
-          composer config preferred-install dist
-          composer config repositories.0 path $GITHUB_WORKSPACE
-          composer config repositories.1 composer https://packages.drupal.org/8
-          COMPOSER_MEMORY_LIMIT=-1 composer require drupal/core-dev:${{ matrix.drupal }} --no-suggest
-      - name: Copy module
-        run: cp -R ../next-drupal-module ~/drupal/web/modules/next
-      - name: Run php built-in server
-        run: php -S 127.0.0.1:8080 -t ~/drupal/web &
-      - name: Run PHPUnit
-        run: |
-          cd ~/drupal/web
-          ../vendor/bin/phpunit -c core modules/next
-        env:
-          SYMFONY_DEPRECATIONS_HELPER: weak
-          SIMPLETEST_DB: mysql://root:@127.0.0.1:${{ job.services.mysql.ports[3306] }}/db
-          SIMPLETEST_BASE_URL: http://127.0.0.1:8080",False,False,Rendering / Conversion,3
chapter-three,next-drupal,8f2837f1d3cd82146a9cce3296b876586f928264,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-13T02:59:57Z,GitHub,noreply@github.com,2023-10-13T02:59:57Z,"ci(next): fix Drupal version constraints in Composer commands (#546)

Fixes #545",.github/workflows/next.yml,False,False,False,False,2,2,4,"---FILE: .github/workflows/next.yml---
@@ -47,7 +47,7 @@ jobs:
         run: echo ""::add-matcher::${{ runner.tool_cache }}/phpunit.json""
       - name: Setup Drupal
         run: |
-          COMPOSER_MEMORY_LIMIT=-1 composer create-project drupal/recommended-project:${{ matrix.drupal }} ~/drupal --no-interaction --no-install
+          COMPOSER_MEMORY_LIMIT=-1 composer create-project drupal/recommended-project:${{ matrix.drupal }}.x ~/drupal --no-interaction --no-install
           cd ~/drupal
           composer config extra.enable-patching true
           composer config extra.compile-mode all
@@ -57,7 +57,7 @@ jobs:
           composer config repositories.0 path $GITHUB_WORKSPACE
           composer config repositories.1 composer https://packages.drupal.org/8
           composer config allow-plugins true -n
-          COMPOSER_MEMORY_LIMIT=-1 composer require drupal/core-dev:${{ matrix.drupal }} --no-suggest --no-install
+          COMPOSER_MEMORY_LIMIT=-1 composer require drupal/core-dev --no-install
           composer install
       - name: Add phpspec/prophecy-phpunit
         run: |",False,False,Rendering / Conversion,3
chapter-three,next-drupal,e097c2cb077095ab81e005f0354ca6c446dcfa28,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-10T19:13:08Z,GitHub,noreply@github.com,2023-10-10T19:13:08Z,"chore: configure GitHub issue templates (#539)

Fixes #531",.github/ISSUE_TEMPLATE/bug_report.yml;.github/ISSUE_TEMPLATE/feature_request.yml;.github/ISSUE_TEMPLATE/question.yml;.github/pull_request_template.md,False,False,False,False,188,0,188,"---FILE: .github/ISSUE_TEMPLATE/bug_report.yml---
@@ -0,0 +1,64 @@
+# Useful docs:
+# https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/configuring-issue-templates-for-your-repository#configuring-the-template-chooser
+# https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/syntax-for-issue-forms
+# https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/syntax-for-githubs-form-schema
+
+name: Bug Report
+description: File a bug report
+labels: [""bug"", ""triage""]
+body:
+  - type: dropdown
+    id: package
+    attributes:
+      label: Package containing the bug
+      description: What package in this monorepo has the bug?
+      options:
+        - Im not sure
+        - next (Drupal module)
+        - next-drupal (NPM package)
+        - basic-starter
+        - graphql-starter
+        - example-auth
+        - example-blog
+        - example-client
+        - example-custom-auth
+        - example-custom-cache
+        - example-custom-fetcher
+        - example-custom-serializer
+        - example-graphql
+        - example-marketing
+        - example-query
+        - example-search-api
+        - example-umami
+        - example-webform
+      default: 0
+    validations:
+      required: true
+  - type: textarea
+    id: description
+    attributes:
+      label: Describe the bug
+      value: |
+        A clear and concise description of what the bug is.
+
+        If applicable, add screenshots to help explain your problem.
+
+        ### Expected behavior
+
+        A clear and concise description of what you expected to happen.
+
+        ### Steps to reproduce:
+
+        1. First '...'
+        2. Then '....'
+        3. 
+
+        ### Additional context
+
+        Add any other context about the problem here.
+    validations:
+      required: true
+  - type: markdown
+    attributes:
+      value: |
+        <p align=""right""><em><strong>Thanks</strong> for taking the time to fill out this bug report!</em></p>

---FILE: .github/ISSUE_TEMPLATE/feature_request.yml---
@@ -0,0 +1,53 @@
+name: Feature Request
+description: Suggest an idea for this project
+labels: [""enhancement"", ""triage""]
+body:
+  - type: dropdown
+    id: package
+    attributes:
+      label: Package
+      description: The feature request is for what package in this monorepo?
+      options:
+        - Im not sure
+        - next (Drupal module)
+        - next-drupal (NPM package)
+        - basic-starter
+        - graphql-starter
+        - example-auth
+        - example-blog
+        - example-client
+        - example-custom-auth
+        - example-custom-cache
+        - example-custom-fetcher
+        - example-custom-serializer
+        - example-graphql
+        - example-marketing
+        - example-query
+        - example-search-api
+        - example-umami
+        - example-webform
+      default: 0
+    validations:
+      required: true
+  - type: textarea
+    id: description
+    attributes:
+      label: Describe the feature request
+      value: |
+        A clear and concise description of what the request is. If your feature request is related to a problem, please describe it.
+
+        If applicable, add screenshots to help explain your issue.
+
+        ### Describe the solution you'd like
+
+        ### Describe alternatives you've considered
+
+        ### Additional context
+
+        Add any other context about the problem here.
+    validations:
+      required: true
+  - type: markdown
+    attributes:
+      value: |
+        <p align=""right""><em><strong>Thanks</strong> for taking the time to fill out this feature request!</em></p>

---FILE: .github/ISSUE_TEMPLATE/question.yml---
@@ -0,0 +1,50 @@
+name: Question
+description: Ask a question or make a support request
+labels: [""question"", ""triage""]
+body:
+  - type: dropdown
+    id: package
+    attributes:
+      label: Package
+      description: The question is for what package in this monorepo?
+      options:
+        - Not applicable
+        - Im not sure
+        - next (Drupal module)
+        - next-drupal (NPM package)
+        - basic-starter
+        - graphql-starter
+        - example-auth
+        - example-blog
+        - example-client
+        - example-custom-auth
+        - example-custom-cache
+        - example-custom-fetcher
+        - example-custom-serializer
+        - example-graphql
+        - example-marketing
+        - example-query
+        - example-search-api
+        - example-umami
+        - example-webform
+      default: 1
+    validations:
+      required: true
+  - type: textarea
+    id: description
+    attributes:
+      label: Ask the question
+      value: |
+        A clear and concise description of what the question is.
+
+        If applicable, add screenshots to help explain your issue.
+
+        ### Additional context
+
+        Add any other context about the question here.
+    validations:
+      required: true
+  - type: markdown
+    attributes:
+      value: |
+        <p align=""right""><em><strong>Thanks</strong> for taking the time to fill out this request form!</em></p>

---FILE: .github/pull_request_template.md---
@@ -0,0 +1,21 @@
+This pull request is for: (mark with an ""x"")
+- [ ] `examples/*`
+- [ ] `modules/next`
+- [ ] `packages/next-drupal`
+- [ ] `starters/basic-starter`
+- [ ] `starters/graphql-starter`
+- [ ] Other
+
+GitHub Issue: #
+_Please add a link to the GitHub issue
+where this problem is discussed._
+
+- [ ] I need help adding tests. (mark with an ""x"")
+  _Code changes need test coverage. If you don't know
+  how to make tests, check this box to ask for help._
+
+## Describe your changes
+
+A clear and concise description of what the request is.
+
+If applicable, add screenshots to help explain your issue.",False,False,Documentation / Formatting,6
chapter-three,next-drupal,0ed773e10d5c220a18027b25e2280c5e27730eb6,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-10T16:41:34Z,GitHub,noreply@github.com,2023-10-10T16:41:34Z,"chore(next): fix failing phpcs error (#541)

Fixes #540",modules/next/src/Form/NextSettingsForm.php,False,False,False,False,2,2,4,"---FILE: modules/next/src/Form/NextSettingsForm.php---
@@ -6,10 +6,10 @@
 use Drupal\Core\Form\ConfigFormBase;
 use Drupal\Core\Form\FormStateInterface;
 use Drupal\Core\Form\SubformState;
-use Drupal\next\Plugin\ConfigurableSitePreviewerInterface;
 use Drupal\next\Plugin\ConfigurablePreviewUrlGeneratorInterface;
-use Drupal\next\Plugin\SitePreviewerManagerInterface;
+use Drupal\next\Plugin\ConfigurableSitePreviewerInterface;
 use Drupal\next\Plugin\PreviewUrlGeneratorManagerInterface;
+use Drupal\next\Plugin\SitePreviewerManagerInterface;
 use Symfony\Component\DependencyInjection\ContainerInterface;
 
 /**",False,False,Rendering / Conversion,0
chapter-three,next-drupal,d943216f847160afeac6a72ec76e023a00c89d6e,John Albin Wilkins,virtually.johnalbin@gmail.com,2023-10-10T16:40:09Z,GitHub,noreply@github.com,2023-10-10T16:40:09Z,"build: fix commitlint integration and add semantic commit message docs (#537)

* build: update husky dependency
* build: fix commitlint integration
* docs: add help text for semantic commit messages

Fixes #536",.commitlintrc.json;.husky/commit-msg;CONTRIBUTING.md;package.json;yarn.lock,False,False,False,False,109,7,116,"---FILE: .commitlintrc.json---
@@ -1,3 +1,4 @@
 {
-  ""extends"": [""@commitlint/config-conventional""]
+  ""extends"": [""@commitlint/config-conventional""],
+  ""helpUrl"": ""https://github.com/chapter-three/next-drupal/blob/main/CONTRIBUTING.md#commits""
 }

---FILE: .husky/commit-msg---
@@ -1,4 +1,4 @@
 #!/usr/bin/env sh
 . ""$(dirname -- ""$0"")/_/husky.sh""
 
-npx commitlint --edit $1
+npx --no -- commitlint --edit ${1}

---FILE: CONTRIBUTING.md---
@@ -1,6 +1,6 @@
 # Contributing
 
-Thanks for your interest in contributing to Next.js for Drupal. We're happy to have you here. 
+Thanks for your interest in contributing to Next.js for Drupal. We're happy to have you here.
 
 Please take a moment to review this document before submitting your first pull request.
 
@@ -90,3 +90,104 @@ yarn phpcs
 
 Please ensure that the tests are passing when submitting a pull request. If you're adding new features, please include tests.
 
+## Commits
+
+This project uses git commit messages that follow the [Conventional Commits format](https://www.conventionalcommits.org/en/v1.0.0/). A minor change to your commit message style can:
+
+- make you a better programmer
+- helps to automate the CHANGELOG generated for other developers
+
+Dont worry. You can still submit a Pull Request and if you dont properly use semantic commit messages, we will edit the commits to add them. But we like them, so you might too.
+
+### Format of the commit message:
+
+```
+<type>(<scope>)<!>: <subject>
+
+<body>
+
+<footer>
+```
+
+### Example commit message
+
+```
+feat(next-drupual): add support for Next.js 13 and React 18
+
+Next-drupal now requires Next.js 12 or 13 and React 17 or 18.
+
+BREAKING CHANGE:
+Dropped support for Next.js 11 and React 16.
+
+Fixes #371
+```
+
+### Commit first line  `<type>(<scope>)!: <subject>`
+
+The first line includes a brief description of the change in the `<subject>` after the semicolon. The type and scope should always be lowercase as shown below.
+
+#### Allowed `<type>` values:
+
+-  `feat` A new feature
+-  `fix` A bug fix
+-  `docs` Documentation only changes
+-  `style` Code formatting changes (like missing semicolons, etc.) that do not affect the meaning of the code
+-  `refactor` A code change that neither fixes a bug nor adds a feature
+-  `perf` A code change that improves performance
+-  `test` Adding missing tests or correcting existing tests
+-  `build` Changes that affect the build system or external dependencies (example scopes: lerna, yarn)
+-  `ci` Changes to our CI configuration files and scripts
+-  `chore` Other changes that don't modify src or test files
+-  `revert` Reverts a previous commit
+
+#### Example `(<scope>)` values:
+
+To include the change in a specific package of this monorepo, the scope should be the name of the folder inside:
+
+- `/packages/*`
+- `/modules/*`
+- `/examples/*`
+
+For example:
+
+- `next-drupal` For changes in `/packages/next-drupal`
+- `next` For changes in `/modules/next`
+- `basic-starter` For changes in `/starters/basic-starter`
+- `example-auth` For changes in `/examples/example-auth`
+
+The `<scope>` can be empty (e.g. if the change is a global or difficult to assign to a single component), in which case the parentheses are omitted and the first line just becomes: `<type>: <subject>`
+
+The `<!>` is optional. It must be used for a BREAKING CHANGE. For example, `fix(widgets)!: Fix incompatibility with widget v2` indicates the bugfix required a breaking change.
+
+### Commit message `<body>`
+
+The `<body>` is optional. Just as in the `<subject>`, use the imperative, present tense: ""change"" not ""changed"" nor ""changes"". Message body should include motivation for the change and contrasts with previous behavior.
+
+### Commit message `<footer>`
+
+The commit message footer can have multiple paragraphs in it.
+
+#### Referencing issues
+
+Closed issues should be listed on a separate line in the footer prefixed with ""Fixes"" keyword like this:
+
+```
+Fixes #234
+```
+
+or in the case of multiple issues:
+
+```
+Fixes #123, #245, #992
+```
+
+#### Breaking changes
+
+All breaking changes have to be mentioned in footer with the description of the change, justification and migration notes.
+
+```
+BREAKING CHANGE:
+
+Dropped support for Next.js 11 and React 16. Users
+requiring these older versions should stick to v1.6.
+```

---FILE: package.json---
@@ -14,7 +14,7 @@
     ""test"": ""jest"",
     ""dev"": ""turbo run dev --parallel"",
     ""dev:starter"": ""lerna run --parallel --scope drupal --scope basic-starter dev"",
-    ""prepare"": ""lerna run prepare"",
+    ""prepare"": ""lerna run prepare && husky install"",
     ""watch"": ""lerna run watch"",
     ""lint"": ""eslint --cache --ext .js,.jsx,.ts,.tsx ."",
     ""phpcs"": ""./drupal/vendor/bin/phpcs -s -n --colors --standard=modules/next/phpcs.xml.dist modules/next"",

---FILE: yarn.lock---
@@ -7545,9 +7545,9 @@ humanize-ms@^1.2.1:
     ms ""^2.0.0""
 
 husky@^8.0.2:
-  version ""8.0.2""
-  resolved ""https://registry.yarnpkg.com/husky/-/husky-8.0.2.tgz#5816a60db02650f1f22c8b69b928fd6bcd77a236""
-  integrity sha512-Tkv80jtvbnkK3mYWxPZePGFpQ/tT3HNSs/sasF9P2YfkMezDl3ON37YN6jUUI4eTg5LcyVynlb6r4eyvOmspvg==
+  version ""8.0.3""
+  resolved ""https://registry.yarnpkg.com/husky/-/husky-8.0.3.tgz#4936d7212e46d1dea28fef29bb3a108872cd9184""
+  integrity sha512-+dQSyqPh4x1hlO1swXBiNb2HzTDN1I2IGLQx1GrBuiqFJfoMrnZWwVmatvSiO+Iz8fBUnf+lekwNo4c2LlXItg==
 
 i18next-fs-backend@^2.1.1:
   version ""2.1.1""",False,False,Documentation / Formatting,4
chapter-three,next-drupal,0ea225b37a3b0735dae5a6bd0e03a1dd9adcf97b,Ruslan Zainetdinov,skiffle.rus@gmail.com,2023-07-14T19:24:35Z,GitHub,noreply@github.com,2023-07-14T19:24:35Z,docs(www): Update deserialize.mdx to fix the broken link (#503),www/content/docs/reference/deserialize.mdx,False,False,False,False,1,1,2,"---FILE: www/content/docs/reference/deserialize.mdx---
@@ -18,7 +18,7 @@ const resource = drupal.deserialize(body, options?)
 
 ## Notes
 
-- To provide your own custom deserializer, see the [deserializer docs](/docs/deserializer).
+- To provide your own custom deserializer, see the [serializer docs](/docs/serializer).
 
 ---
 ",False,False,Documentation / Formatting,4
chapter-three,next-drupal,a89fa512e48196267f306e021cac704f39ad5e76,shadcn,m@shadcn.com,2023-05-04T07:23:41Z,shadcn,m@shadcn.com,2023-05-04T07:23:41Z,fix: update deps,yarn.lock,False,False,False,False,2,32,34,"---FILE: yarn.lock---
@@ -3300,58 +3300,28 @@
   resolved ""https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.5.tgz#5f19d2b85a98e9558036f6a3cacc8819420f05cf""
   integrity sha512-JCB8C6SnDoQf0cNycqd/35A7MjcnK+ZTqE7judS6o7utxUCg6imJg3QK2qzHKszlTjcj2cn+NwMB2i96ubpj7w==
 
-""@types/react-dom@17.0.2"":
+""@types/react-dom@17.0.2"", ""@types/react-dom@^18.0.9"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-17.0.2.tgz#35654cf6c49ae162d5bc90843d5437dc38008d43""
   integrity sha512-Icd9KEgdnFfJs39KyRyr0jQ7EKhq8U6CcHRMGAS45fp5qgUvxL3ujUCfWFttUK2UErqZNj97t9gsVPNAqcwoCg==
   dependencies:
     ""@types/react"" ""*""
 
-""@types/react-dom@^18.0.9"":
-  version ""18.0.11""
-  resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-18.0.11.tgz#321351c1459bc9ca3d216aefc8a167beec334e33""
-  integrity sha512-O38bPbI2CWtgw/OoQoY+BRelw7uysmXbWvw3nLWO21H1HSh+GOlqPuXshJfjmpNlKiiSDG9cc1JZAaMmVdcTlw==
-  dependencies:
-    ""@types/react"" ""*""
-
-""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"":
+""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"", ""@types/react@^17.0.43"", ""@types/react@^18.0.26"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.2.tgz#3de24c4efef902dd9795a49c75f760cbe4f7a5a8""
   integrity sha512-Xt40xQsrkdvjn1EyWe1Bc0dJLcil/9x2vAuW7ya+PuQip4UYUaXyhzWmAbwRsdMgwOFHpfp7/FFZebDU6Y8VHA==
   dependencies:
     ""@types/prop-types"" ""*""
     csstype ""^3.0.2""
 
-""@types/react@^17.0.43"":
-  version ""17.0.53""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.53.tgz#10d4d5999b8af3d6bc6a9369d7eb953da82442ab""
-  integrity sha512-1yIpQR2zdYu1Z/dc1OxC+MA6GR240u3gcnP4l6mvj/PJiVaqHsQPmWttsvHsfnhfPbU2FuGmo0wSITPygjBmsw==
-  dependencies:
-    ""@types/prop-types"" ""*""
-    ""@types/scheduler"" ""*""
-    csstype ""^3.0.2""
-
-""@types/react@^18.0.26"":
-  version ""18.0.28""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-18.0.28.tgz#accaeb8b86f4908057ad629a26635fe641480065""
-  integrity sha512-RD0ivG1kEztNBdoAK7lekI9M+azSnitIn85h4iOiaLjaTrMjzslhaqCGaI4IyCJ1RljWiLCEu4jyrLLgqxBTew==
-  dependencies:
-    ""@types/prop-types"" ""*""
-    ""@types/scheduler"" ""*""
-    csstype ""^3.0.2""
-
 ""@types/resolve@1.17.1"":
   version ""1.17.1""
   resolved ""https://registry.yarnpkg.com/@types/resolve/-/resolve-1.17.1.tgz#3afd6ad8967c77e4376c598a82ddd58f46ec45d6""
   integrity sha512-yy7HuzQhj0dhGpD8RLXSZWEkLsV9ibvxvi6EiJ3bkqLAO1RGo0WbkWQiwpRlSFymTJRz0d3k5LM3kkx8ArDbLw==
   dependencies:
     ""@types/node"" ""*""
 
-""@types/scheduler@*"":
-  version ""0.16.2""
-  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.2.tgz#1a62f89525723dde24ba1b01b092bf5df8ad4d39""
-  integrity sha512-hppQEBDmlwhFAXKJX2KnWLYu5yMfi91yazPb2l+lbJiwW+wdo1gNeRA+3RgNSO39WYX2euey41KEwnqesU2Jew==
-
 ""@types/sinonjs__fake-timers@8.1.1"":
   version ""8.1.1""
   resolved ""https://registry.yarnpkg.com/@types/sinonjs__fake-timers/-/sinonjs__fake-timers-8.1.1.tgz#b49c2c70150141a15e0fa7e79cf1f92a72934ce3""",False,False,Dependency / Package,1
chapter-three,next-drupal,1a0d19423e930d4d8520224cc2e52fc6df1209ca,Ruslan,skiffle.rus@gmail.com,2023-05-01T07:58:34Z,GitHub,noreply@github.com,2023-05-01T07:58:34Z,"docs(www): fix typos on ""Page Limit"" page (#439)

Co-authored-by: shadcn <m@shadcn.com>",www/content/guides/page-limit.mdx,False,False,False,False,2,2,4,"---FILE: www/content/guides/page-limit.mdx---
@@ -17,7 +17,7 @@ Tip: If you have a site with a large number of pages, consider using on-demand g
 
 ## Configuration
 
-To override the page max size, set the following `parameter` in your Drupal `settings.yml` file and clear caches.
+To override the page max size, set the following `parameter` in your Drupal `services.yml` file and clear caches.
 
 ```yaml
 parameters:
@@ -59,7 +59,7 @@ const articles = await drupal.getResourceCollection(""node--article"", {
 })
 ```
 
-The following will return 100 items (`next_jsonapi.max_size` hard limit - Overridden using `path`):
+The following will return 100 items (`next_jsonapi.size_max` hard limit - Overridden using `path`):
 
 ```ts
 const articles = await drupal.getResourceCollection(""node--article"", {",False,False,Documentation / Formatting,4
chapter-three,next-drupal,350408dc5b4020afeb2c2f7aae39359623b39c9a,shadcn,m@shadcn.com,2023-05-01T07:03:33Z,GitHub,noreply@github.com,2023-05-01T07:03:33Z,fix: update next-auth (#492),.github/workflows/next.yml;drupal/composer.lock;examples/example-auth/package.json;examples/example-umami/package.json;yarn.lock,False,False,False,False,312,509,821,"---FILE: .github/workflows/next.yml---
@@ -11,10 +11,10 @@ jobs:
     strategy:
       matrix:
         php: [""8.0"", ""8.1""]
-        drupal: [""9.3"", ""9.4"", ""10.0.0-rc1""]
+        drupal: [""9.4"", ""9.5"", ""10.0""]
         exclude:
           - php: ""8.0""
-            drupal: ""10.0.0-rc1""
+            drupal: ""10.0""
     name: Drupal ${{ matrix.drupal }} - PHP ${{ matrix.php }}
     services:
       mysql:

---FILE: drupal/composer.lock---
@@ -1368,103 +1368,6 @@
       },
       ""time"": ""2022-07-02T10:48:51+00:00""
     },
-    {
-      ""name"": ""doctrine/cache"",
-      ""version"": ""1.13.0"",
-      ""source"": {
-        ""type"": ""git"",
-        ""url"": ""https://github.com/doctrine/cache.git"",
-        ""reference"": ""56cd022adb5514472cb144c087393c1821911d09""
-      },
-      ""dist"": {
-        ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/doctrine/cache/zipball/56cd022adb5514472cb144c087393c1821911d09"",
-        ""reference"": ""56cd022adb5514472cb144c087393c1821911d09"",
-        ""shasum"": """"
-      },
-      ""require"": {
-        ""php"": ""~7.1 || ^8.0""
-      },
-      ""conflict"": {
-        ""doctrine/common"": "">2.2,<2.4""
-      },
-      ""require-dev"": {
-        ""alcaeus/mongo-php-adapter"": ""^1.1"",
-        ""cache/integration-tests"": ""dev-master"",
-        ""doctrine/coding-standard"": ""^9"",
-        ""mongodb/mongodb"": ""^1.1"",
-        ""phpunit/phpunit"": ""^7.5 || ^8.5 || ^9.5"",
-        ""predis/predis"": ""~1.0"",
-        ""psr/cache"": ""^1.0 || ^2.0 || ^3.0"",
-        ""symfony/cache"": ""^4.4 || ^5.4 || ^6"",
-        ""symfony/var-exporter"": ""^4.4 || ^5.4 || ^6""
-      },
-      ""suggest"": {
-        ""alcaeus/mongo-php-adapter"": ""Required to use legacy MongoDB driver""
-      },
-      ""type"": ""library"",
-      ""autoload"": {
-        ""psr-4"": {
-          ""Doctrine\\Common\\Cache\\"": ""lib/Doctrine/Common/Cache""
-        }
-      },
-      ""notification-url"": ""https://packagist.org/downloads/"",
-      ""license"": [""MIT""],
-      ""authors"": [
-        {
-          ""name"": ""Guilherme Blanco"",
-          ""email"": ""guilhermeblanco@gmail.com""
-        },
-        {
-          ""name"": ""Roman Borschel"",
-          ""email"": ""roman@code-factory.org""
-        },
-        {
-          ""name"": ""Benjamin Eberlei"",
-          ""email"": ""kontakt@beberlei.de""
-        },
-        {
-          ""name"": ""Jonathan Wage"",
-          ""email"": ""jonwage@gmail.com""
-        },
-        {
-          ""name"": ""Johannes Schmitt"",
-          ""email"": ""schmittjoh@gmail.com""
-        }
-      ],
-      ""description"": ""PHP Doctrine Cache library is a popular cache implementation that supports many different drivers such as redis, memcache, apc, mongodb and others."",
-      ""homepage"": ""https://www.doctrine-project.org/projects/cache.html"",
-      ""keywords"": [
-        ""abstraction"",
-        ""apcu"",
-        ""cache"",
-        ""caching"",
-        ""couchdb"",
-        ""memcached"",
-        ""php"",
-        ""redis"",
-        ""xcache""
-      ],
-      ""support"": {
-        ""issues"": ""https://github.com/doctrine/cache/issues"",
-        ""source"": ""https://github.com/doctrine/cache/tree/1.13.0""
-      },
-      ""funding"": [
-        {
-          ""url"": ""https://www.doctrine-project.org/sponsorship.html"",
-          ""type"": ""custom""
-        },
-        {
-          ""url"": ""https://www.patreon.com/phpdoctrine"",
-          ""type"": ""patreon""
-        },
-        {
-          ""url"": ""https://tidelift.com/funding/github/packagist/doctrine%2Fcache"",
-          ""type"": ""tidelift""
-        }
-      ],
-      ""time"": ""2022-05-20T20:06:54+00:00""
-    },
     {
       ""name"": ""doctrine/collections"",
       ""version"": ""1.8.0"",
@@ -1530,46 +1433,36 @@
     },
     {
       ""name"": ""doctrine/common"",
-      ""version"": ""2.13.3"",
+      ""version"": ""3.4.3"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/doctrine/common.git"",
-        ""reference"": ""f3812c026e557892c34ef37f6ab808a6b567da7f""
+        ""reference"": ""8b5e5650391f851ed58910b3e3d48a71062eeced""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/doctrine/common/zipball/f3812c026e557892c34ef37f6ab808a6b567da7f"",
-        ""reference"": ""f3812c026e557892c34ef37f6ab808a6b567da7f"",
+        ""url"": ""https://api.github.com/repos/doctrine/common/zipball/8b5e5650391f851ed58910b3e3d48a71062eeced"",
+        ""reference"": ""8b5e5650391f851ed58910b3e3d48a71062eeced"",
         ""shasum"": """"
       },
       ""require"": {
-        ""doctrine/annotations"": ""^1.0"",
-        ""doctrine/cache"": ""^1.0"",
-        ""doctrine/collections"": ""^1.0"",
-        ""doctrine/event-manager"": ""^1.0"",
-        ""doctrine/inflector"": ""^1.0"",
-        ""doctrine/lexer"": ""^1.0"",
-        ""doctrine/persistence"": ""^1.3.3"",
-        ""doctrine/reflection"": ""^1.0"",
+        ""doctrine/persistence"": ""^2.0 || ^3.0"",
         ""php"": ""^7.1 || ^8.0""
       },
       ""require-dev"": {
-        ""doctrine/coding-standard"": ""^1.0"",
-        ""phpstan/phpstan"": ""^0.11"",
-        ""phpstan/phpstan-phpunit"": ""^0.11"",
-        ""phpunit/phpunit"": ""^7.0"",
+        ""doctrine/coding-standard"": ""^9.0 || ^10.0"",
+        ""doctrine/collections"": ""^1"",
+        ""phpstan/phpstan"": ""^1.4.1"",
+        ""phpstan/phpstan-phpunit"": ""^1"",
+        ""phpunit/phpunit"": ""^7.5.20 || ^8.5 || ^9.0"",
         ""squizlabs/php_codesniffer"": ""^3.0"",
-        ""symfony/phpunit-bridge"": ""^4.0.5""
+        ""symfony/phpunit-bridge"": ""^6.1"",
+        ""vimeo/psalm"": ""^4.4""
       },
       ""type"": ""library"",
-      ""extra"": {
-        ""branch-alias"": {
-          ""dev-master"": ""2.11.x-dev""
-        }
-      },
       ""autoload"": {
         ""psr-4"": {
-          ""Doctrine\\Common\\"": ""lib/Doctrine/Common""
+          ""Doctrine\\Common\\"": ""src""
         }
       },
       ""notification-url"": ""https://packagist.org/downloads/"",
@@ -1600,12 +1493,12 @@
           ""email"": ""ocramius@gmail.com""
         }
       ],
-      ""description"": ""PHP Doctrine Common project is a library that provides additional functionality that other Doctrine projects depend on such as better reflection support, persistence interfaces, proxies, event system and much more."",
+      ""description"": ""PHP Doctrine Common project is a library that provides additional functionality that other Doctrine projects depend on such as better reflection support, proxies and much more."",
       ""homepage"": ""https://www.doctrine-project.org/projects/common.html"",
       ""keywords"": [""common"", ""doctrine"", ""php""],
       ""support"": {
         ""issues"": ""https://github.com/doctrine/common/issues"",
-        ""source"": ""https://github.com/doctrine/common/tree/2.13.x""
+        ""source"": ""https://github.com/doctrine/common/tree/3.4.3""
       },
       ""funding"": [
         {
@@ -1621,7 +1514,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2020-06-05T16:46:05+00:00""
+      ""time"": ""2022-10-09T11:47:59+00:00""
     },
     {
       ""name"": ""doctrine/deprecations"",
@@ -1666,30 +1559,29 @@
     },
     {
       ""name"": ""doctrine/event-manager"",
-      ""version"": ""1.2.0"",
+      ""version"": ""2.0.0"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/doctrine/event-manager.git"",
-        ""reference"": ""95aa4cb529f1e96576f3fda9f5705ada4056a520""
+        ""reference"": ""750671534e0241a7c50ea5b43f67e23eb5c96f32""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/doctrine/event-manager/zipball/95aa4cb529f1e96576f3fda9f5705ada4056a520"",
-        ""reference"": ""95aa4cb529f1e96576f3fda9f5705ada4056a520"",
+        ""url"": ""https://api.github.com/repos/doctrine/event-manager/zipball/750671534e0241a7c50ea5b43f67e23eb5c96f32"",
+        ""reference"": ""750671534e0241a7c50ea5b43f67e23eb5c96f32"",
         ""shasum"": """"
       },
       ""require"": {
-        ""doctrine/deprecations"": ""^0.5.3 || ^1"",
-        ""php"": ""^7.1 || ^8.0""
+        ""php"": ""^8.1""
       },
       ""conflict"": {
         ""doctrine/common"": ""<2.9""
       },
       ""require-dev"": {
-        ""doctrine/coding-standard"": ""^9 || ^10"",
-        ""phpstan/phpstan"": ""~1.4.10 || ^1.8.8"",
-        ""phpunit/phpunit"": ""^7.5 || ^8.5 || ^9.5"",
-        ""vimeo/psalm"": ""^4.24""
+        ""doctrine/coding-standard"": ""^10"",
+        ""phpstan/phpstan"": ""^1.8.8"",
+        ""phpunit/phpunit"": ""^9.5"",
+        ""vimeo/psalm"": ""^4.28""
       },
       ""type"": ""library"",
       ""autoload"": {
@@ -1736,7 +1628,7 @@
       ],
       ""support"": {
         ""issues"": ""https://github.com/doctrine/event-manager/issues"",
-        ""source"": ""https://github.com/doctrine/event-manager/tree/1.2.0""
+        ""source"": ""https://github.com/doctrine/event-manager/tree/2.0.0""
       },
       ""funding"": [
         {
@@ -1752,101 +1644,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-10-12T20:51:15+00:00""
-    },
-    {
-      ""name"": ""doctrine/inflector"",
-      ""version"": ""1.4.4"",
-      ""source"": {
-        ""type"": ""git"",
-        ""url"": ""https://github.com/doctrine/inflector.git"",
-        ""reference"": ""4bd5c1cdfcd00e9e2d8c484f79150f67e5d355d9""
-      },
-      ""dist"": {
-        ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/doctrine/inflector/zipball/4bd5c1cdfcd00e9e2d8c484f79150f67e5d355d9"",
-        ""reference"": ""4bd5c1cdfcd00e9e2d8c484f79150f67e5d355d9"",
-        ""shasum"": """"
-      },
-      ""require"": {
-        ""php"": ""^7.1 || ^8.0""
-      },
-      ""require-dev"": {
-        ""doctrine/coding-standard"": ""^8.0"",
-        ""phpstan/phpstan"": ""^0.12"",
-        ""phpstan/phpstan-phpunit"": ""^0.12"",
-        ""phpstan/phpstan-strict-rules"": ""^0.12"",
-        ""phpunit/phpunit"": ""^7.0 || ^8.0 || ^9.0""
-      },
-      ""type"": ""library"",
-      ""extra"": {
-        ""branch-alias"": {
-          ""dev-master"": ""2.0.x-dev""
-        }
-      },
-      ""autoload"": {
-        ""psr-4"": {
-          ""Doctrine\\Inflector\\"": ""lib/Doctrine/Inflector"",
-          ""Doctrine\\Common\\Inflector\\"": ""lib/Doctrine/Common/Inflector""
-        }
-      },
-      ""notification-url"": ""https://packagist.org/downloads/"",
-      ""license"": [""MIT""],
-      ""authors"": [
-        {
-          ""name"": ""Guilherme Blanco"",
-          ""email"": ""guilhermeblanco@gmail.com""
-        },
-        {
-          ""name"": ""Roman Borschel"",
-          ""email"": ""roman@code-factory.org""
-        },
-        {
-          ""name"": ""Benjamin Eberlei"",
-          ""email"": ""kontakt@beberlei.de""
-        },
-        {
-          ""name"": ""Jonathan Wage"",
-          ""email"": ""jonwage@gmail.com""
-        },
-        {
-          ""name"": ""Johannes Schmitt"",
-          ""email"": ""schmittjoh@gmail.com""
-        }
-      ],
-      ""description"": ""PHP Doctrine Inflector is a small library that can perform string manipulations with regard to upper/lowercase and singular/plural forms of words."",
-      ""homepage"": ""https://www.doctrine-project.org/projects/inflector.html"",
-      ""keywords"": [
-        ""inflection"",
-        ""inflector"",
-        ""lowercase"",
-        ""manipulation"",
-        ""php"",
-        ""plural"",
-        ""singular"",
-        ""strings"",
-        ""uppercase"",
-        ""words""
-      ],
-      ""support"": {
-        ""issues"": ""https://github.com/doctrine/inflector/issues"",
-        ""source"": ""https://github.com/doctrine/inflector/tree/1.4.4""
-      },
-      ""funding"": [
-        {
-          ""url"": ""https://www.doctrine-project.org/sponsorship.html"",
-          ""type"": ""custom""
-        },
-        {
-          ""url"": ""https://www.patreon.com/phpdoctrine"",
-          ""type"": ""patreon""
-        },
-        {
-          ""url"": ""https://tidelift.com/funding/github/packagist/doctrine%2Finflector"",
-          ""type"": ""tidelift""
-        }
-      ],
-      ""time"": ""2021-04-16T17:34:40+00:00""
+      ""time"": ""2022-10-12T20:59:15+00:00""
     },
     {
       ""name"": ""doctrine/lexer"",
@@ -1918,45 +1716,41 @@
     },
     {
       ""name"": ""doctrine/persistence"",
-      ""version"": ""1.3.8"",
+      ""version"": ""3.1.4"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/doctrine/persistence.git"",
-        ""reference"": ""7a6eac9fb6f61bba91328f15aa7547f4806ca288""
+        ""reference"": ""8bf8ab15960787f1a49d405f6eb8c787b4841119""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/doctrine/persistence/zipball/7a6eac9fb6f61bba91328f15aa7547f4806ca288"",
-        ""reference"": ""7a6eac9fb6f61bba91328f15aa7547f4806ca288"",
+        ""url"": ""https://api.github.com/repos/doctrine/persistence/zipball/8bf8ab15960787f1a49d405f6eb8c787b4841119"",
+        ""reference"": ""8bf8ab15960787f1a49d405f6eb8c787b4841119"",
         ""shasum"": """"
       },
       ""require"": {
-        ""doctrine/annotations"": ""^1.0"",
-        ""doctrine/cache"": ""^1.0"",
-        ""doctrine/collections"": ""^1.0"",
-        ""doctrine/event-manager"": ""^1.0"",
-        ""doctrine/reflection"": ""^1.2"",
-        ""php"": ""^7.1 || ^8.0""
+        ""doctrine/event-manager"": ""^1 || ^2"",
+        ""php"": ""^7.2 || ^8.0"",
+        ""psr/cache"": ""^1.0 || ^2.0 || ^3.0""
       },
       ""conflict"": {
-        ""doctrine/common"": ""<2.10@dev""
+        ""doctrine/common"": ""<2.10""
       },
       ""require-dev"": {
-        ""doctrine/coding-standard"": ""^6.0"",
-        ""phpstan/phpstan"": ""^0.11"",
-        ""phpunit/phpunit"": ""^7.0 || ^8.0 || ^9.0"",
-        ""vimeo/psalm"": ""^3.11""
+        ""composer/package-versions-deprecated"": ""^1.11"",
+        ""doctrine/coding-standard"": ""^11"",
+        ""doctrine/common"": ""^3.0"",
+        ""phpstan/phpstan"": ""1.9.4"",
+        ""phpstan/phpstan-phpunit"": ""^1"",
+        ""phpstan/phpstan-strict-rules"": ""^1.1"",
+        ""phpunit/phpunit"": ""^8.5 || ^9.5"",
+        ""symfony/cache"": ""^4.4 || ^5.4 || ^6.0"",
+        ""vimeo/psalm"": ""4.30.0 || 5.3.0""
       },
       ""type"": ""library"",
-      ""extra"": {
-        ""branch-alias"": {
-          ""dev-master"": ""1.3.x-dev""
-        }
-      },
       ""autoload"": {
         ""psr-4"": {
-          ""Doctrine\\Common\\"": ""lib/Doctrine/Common"",
-          ""Doctrine\\Persistence\\"": ""lib/Doctrine/Persistence""
+          ""Doctrine\\Persistence\\"": ""src/Persistence""
         }
       },
       ""notification-url"": ""https://packagist.org/downloads/"",
@@ -1988,11 +1782,11 @@
         }
       ],
       ""description"": ""The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine object mappers share."",
-      ""homepage"": ""https://doctrine-project.org/projects/persistence.html"",
+      ""homepage"": ""https://www.doctrine-project.org/projects/persistence.html"",
       ""keywords"": [""mapper"", ""object"", ""odm"", ""orm"", ""persistence""],
       ""support"": {
         ""issues"": ""https://github.com/doctrine/persistence/issues"",
-        ""source"": ""https://github.com/doctrine/persistence/tree/1.3.x""
+        ""source"": ""https://github.com/doctrine/persistence/tree/3.1.4""
       },
       ""funding"": [
         {
@@ -2008,7 +1802,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2020-06-20T12:56:16+00:00""
+      ""time"": ""2023-02-03T11:13:07+00:00""
     },
     {
       ""name"": ""doctrine/reflection"",
@@ -2789,16 +2583,16 @@
     },
     {
       ""name"": ""drupal/core"",
-      ""version"": ""9.5.1"",
+      ""version"": ""9.5.8"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/drupal/core.git"",
-        ""reference"": ""083636264b027984694eb6d1e592f148ec24c637""
+        ""reference"": ""a9a1e4e1fe23fb8c83fd6aeafb740c1462a218fc""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/drupal/core/zipball/083636264b027984694eb6d1e592f148ec24c637"",
-        ""reference"": ""083636264b027984694eb6d1e592f148ec24c637"",
+        ""url"": ""https://api.github.com/repos/drupal/core/zipball/a9a1e4e1fe23fb8c83fd6aeafb740c1462a218fc"",
+        ""reference"": ""a9a1e4e1fe23fb8c83fd6aeafb740c1462a218fc"",
         ""shasum"": """"
       },
       ""require"": {
@@ -2945,22 +2739,22 @@
       ""license"": [""GPL-2.0-or-later""],
       ""description"": ""Drupal is an open source content management platform powering millions of websites and applications."",
       ""support"": {
-        ""source"": ""https://github.com/drupal/core/tree/9.5.1""
+        ""source"": ""https://github.com/drupal/core/tree/9.5.8""
       },
-      ""time"": ""2023-01-04T15:53:28+00:00""
+      ""time"": ""2023-04-19T16:14:39+00:00""
     },
     {
       ""name"": ""drupal/core-composer-scaffold"",
-      ""version"": ""9.5.1"",
+      ""version"": ""9.5.8"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/drupal/core-composer-scaffold.git"",
-        ""reference"": ""df1f779d3f94500f6cc791427aa729e0ba4b2464""
+        ""reference"": ""c78779acff7b39fc0f29ff1edd710361c15ed87b""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/drupal/core-composer-scaffold/zipball/df1f779d3f94500f6cc791427aa729e0ba4b2464"",
-        ""reference"": ""df1f779d3f94500f6cc791427aa729e0ba4b2464"",
+        ""url"": ""https://api.github.com/repos/drupal/core-composer-scaffold/zipball/c78779acff7b39fc0f29ff1edd710361c15ed87b"",
+        ""reference"": ""c78779acff7b39fc0f29ff1edd710361c15ed87b"",
         ""shasum"": """"
       },
       ""require"": {
@@ -2991,13 +2785,13 @@
       ""homepage"": ""https://www.drupal.org/project/drupal"",
       ""keywords"": [""drupal""],
       ""support"": {
-        ""source"": ""https://github.com/drupal/core-composer-scaffold/tree/9.5.1""
+        ""source"": ""https://github.com/drupal/core-composer-scaffold/tree/9.5.8""
       },
-      ""time"": ""2022-06-19T16:14:18+00:00""
+      ""time"": ""2023-03-09T21:29:23+00:00""
     },
     {
       ""name"": ""drupal/core-project-message"",
-      ""version"": ""9.5.1"",
+      ""version"": ""9.5.8"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/drupal/core-project-message.git"",
@@ -3028,22 +2822,22 @@
       ""homepage"": ""https://www.drupal.org/project/drupal"",
       ""keywords"": [""drupal""],
       ""support"": {
-        ""source"": ""https://github.com/drupal/core-project-message/tree/9.5.1""
+        ""source"": ""https://github.com/drupal/core-project-message/tree/9.5.8""
       },
       ""time"": ""2022-02-24T17:40:53+00:00""
     },
     {
       ""name"": ""drupal/core-recommended"",
-      ""version"": ""9.5.1"",
+      ""version"": ""9.5.8"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/drupal/core-recommended.git"",
-        ""reference"": ""9004418593163c787ff9057e31cf76063dd282dc""
+        ""reference"": ""74db3999d3432b7433b399fe76fa6ff6f126bed9""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/drupal/core-recommended/zipball/9004418593163c787ff9057e31cf76063dd282dc"",
-        ""reference"": ""9004418593163c787ff9057e31cf76063dd282dc"",
+        ""url"": ""https://api.github.com/repos/drupal/core-recommended/zipball/74db3999d3432b7433b399fe76fa6ff6f126bed9"",
+        ""reference"": ""74db3999d3432b7433b399fe76fa6ff6f126bed9"",
         ""shasum"": """"
       },
       ""require"": {
@@ -3052,7 +2846,7 @@
         ""doctrine/annotations"": ""~1.13.3"",
         ""doctrine/lexer"": ""~1.2.3"",
         ""doctrine/reflection"": ""~1.2.3"",
-        ""drupal/core"": ""9.5.1"",
+        ""drupal/core"": ""9.5.8"",
         ""egulias/email-validator"": ""~3.2.1"",
         ""guzzlehttp/guzzle"": ""~6.5.8"",
         ""guzzlehttp/promises"": ""~1.5.2"",
@@ -3083,7 +2877,7 @@
         ""symfony/event-dispatcher-contracts"": ""~v1.1.13"",
         ""symfony/http-client-contracts"": ""~v2.5.2"",
         ""symfony/http-foundation"": ""~v4.4.49"",
-        ""symfony/http-kernel"": ""~v4.4.49"",
+        ""symfony/http-kernel"": ""~v4.4.50"",
         ""symfony/mime"": ""~v5.4.13"",
         ""symfony/polyfill-ctype"": ""~v1.27.0"",
         ""symfony/polyfill-iconv"": ""~v1.27.0"",
@@ -3099,7 +2893,7 @@
         ""symfony/translation"": ""~v4.4.47"",
         ""symfony/translation-contracts"": ""~v2.5.2"",
         ""symfony/validator"": ""~v4.4.48"",
-        ""symfony/var-dumper"": ""~v5.4.14"",
+        ""symfony/var-dumper"": ""~v5.4.19"",
         ""symfony/yaml"": ""~v4.4.45"",
         ""twig/twig"": ""~v2.15.4"",
         ""typo3/phar-stream-wrapper"": ""~v3.1.7""
@@ -3112,9 +2906,9 @@
       ""license"": [""GPL-2.0-or-later""],
       ""description"": ""Core and its dependencies with known-compatible minor versions. Require this project INSTEAD OF drupal/core."",
       ""support"": {
-        ""source"": ""https://github.com/drupal/core-recommended/tree/9.5.1""
+        ""source"": ""https://github.com/drupal/core-recommended/tree/9.5.8""
       },
-      ""time"": ""2023-01-04T15:53:28+00:00""
+      ""time"": ""2023-04-19T16:14:39+00:00""
     },
     {
       ""name"": ""drupal/ctools"",
@@ -6578,16 +6372,16 @@
     },
     {
       ""name"": ""guzzlehttp/psr7"",
-      ""version"": ""1.9.0"",
+      ""version"": ""1.9.1"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/guzzle/psr7.git"",
-        ""reference"": ""e98e3e6d4f86621a9b75f623996e6bbdeb4b9318""
+        ""reference"": ""e4490cabc77465aaee90b20cfc9a770f8c04be6b""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/guzzle/psr7/zipball/e98e3e6d4f86621a9b75f623996e6bbdeb4b9318"",
-        ""reference"": ""e98e3e6d4f86621a9b75f623996e6bbdeb4b9318"",
+        ""url"": ""https://api.github.com/repos/guzzle/psr7/zipball/e4490cabc77465aaee90b20cfc9a770f8c04be6b"",
+        ""reference"": ""e4490cabc77465aaee90b20cfc9a770f8c04be6b"",
         ""shasum"": """"
       },
       ""require"": {
@@ -6606,11 +6400,6 @@
         ""laminas/laminas-httphandlerrunner"": ""Emit PSR-7 responses""
       },
       ""type"": ""library"",
-      ""extra"": {
-        ""branch-alias"": {
-          ""dev-master"": ""1.9-dev""
-        }
-      },
       ""autoload"": {
         ""files"": [""src/functions_include.php""],
         ""psr-4"": {
@@ -6664,7 +6453,7 @@
       ],
       ""support"": {
         ""issues"": ""https://github.com/guzzle/psr7/issues"",
-        ""source"": ""https://github.com/guzzle/psr7/tree/1.9.0""
+        ""source"": ""https://github.com/guzzle/psr7/tree/1.9.1""
       },
       ""funding"": [
         {
@@ -6680,7 +6469,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-06-20T21:43:03+00:00""
+      ""time"": ""2023-04-17T16:00:37+00:00""
     },
     {
       ""name"": ""justinrainbow/json-schema"",
@@ -7865,16 +7654,16 @@
     },
     {
       ""name"": ""nikic/php-parser"",
-      ""version"": ""v4.15.2"",
+      ""version"": ""v4.15.4"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/nikic/PHP-Parser.git"",
-        ""reference"": ""f59bbe44bf7d96f24f3e2b4ddc21cd52c1d2adbc""
+        ""reference"": ""6bb5176bc4af8bcb7d926f88718db9b96a2d4290""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/nikic/PHP-Parser/zipball/f59bbe44bf7d96f24f3e2b4ddc21cd52c1d2adbc"",
-        ""reference"": ""f59bbe44bf7d96f24f3e2b4ddc21cd52c1d2adbc"",
+        ""url"": ""https://api.github.com/repos/nikic/PHP-Parser/zipball/6bb5176bc4af8bcb7d926f88718db9b96a2d4290"",
+        ""reference"": ""6bb5176bc4af8bcb7d926f88718db9b96a2d4290"",
         ""shasum"": """"
       },
       ""require"": {
@@ -7908,9 +7697,9 @@
       ""keywords"": [""parser"", ""php""],
       ""support"": {
         ""issues"": ""https://github.com/nikic/PHP-Parser/issues"",
-        ""source"": ""https://github.com/nikic/PHP-Parser/tree/v4.15.2""
+        ""source"": ""https://github.com/nikic/PHP-Parser/tree/v4.15.4""
       },
-      ""time"": ""2022-11-12T15:38:23+00:00""
+      ""time"": ""2023-03-05T19:49:14+00:00""
     },
     {
       ""name"": ""paragonie/random_compat"",
@@ -8077,16 +7866,16 @@
     },
     {
       ""name"": ""pear/pear-core-minimal"",
-      ""version"": ""v1.10.11"",
+      ""version"": ""v1.10.13"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/pear/pear-core-minimal.git"",
-        ""reference"": ""68d0d32ada737153b7e93b8d3c710ebe70ac867d""
+        ""reference"": ""aed862e95fd286c53cc546734868dc38ff4b5b1d""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/pear/pear-core-minimal/zipball/68d0d32ada737153b7e93b8d3c710ebe70ac867d"",
-        ""reference"": ""68d0d32ada737153b7e93b8d3c710ebe70ac867d"",
+        ""url"": ""https://api.github.com/repos/pear/pear-core-minimal/zipball/aed862e95fd286c53cc546734868dc38ff4b5b1d"",
+        ""reference"": ""aed862e95fd286c53cc546734868dc38ff4b5b1d"",
         ""shasum"": """"
       },
       ""require"": {
@@ -8117,7 +7906,7 @@
         ""issues"": ""http://pear.php.net/bugs/search.php?cmd=display&package_name[]=PEAR"",
         ""source"": ""https://github.com/pear/pear-core-minimal""
       },
-      ""time"": ""2021-08-10T22:31:03+00:00""
+      ""time"": ""2023-04-19T19:15:47+00:00""
     },
     {
       ""name"": ""pear/pear_exception"",
@@ -8424,21 +8213,21 @@
     },
     {
       ""name"": ""psr/http-factory"",
-      ""version"": ""1.0.1"",
+      ""version"": ""1.0.2"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/php-fig/http-factory.git"",
-        ""reference"": ""12ac7fcd07e5b077433f5f2bee95b3a771bf61be""
+        ""reference"": ""e616d01114759c4c489f93b099585439f795fe35""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/php-fig/http-factory/zipball/12ac7fcd07e5b077433f5f2bee95b3a771bf61be"",
-        ""reference"": ""12ac7fcd07e5b077433f5f2bee95b3a771bf61be"",
+        ""url"": ""https://api.github.com/repos/php-fig/http-factory/zipball/e616d01114759c4c489f93b099585439f795fe35"",
+        ""reference"": ""e616d01114759c4c489f93b099585439f795fe35"",
         ""shasum"": """"
       },
       ""require"": {
         ""php"": "">=7.0.0"",
-        ""psr/http-message"": ""^1.0""
+        ""psr/http-message"": ""^1.0 || ^2.0""
       },
       ""type"": ""library"",
       ""extra"": {
@@ -8456,7 +8245,7 @@
       ""authors"": [
         {
           ""name"": ""PHP-FIG"",
-          ""homepage"": ""http://www.php-fig.org/""
+          ""homepage"": ""https://www.php-fig.org/""
         }
       ],
       ""description"": ""Common interfaces for PSR-7 HTTP message factories"",
@@ -8471,9 +8260,9 @@
         ""response""
       ],
       ""support"": {
-        ""source"": ""https://github.com/php-fig/http-factory/tree/master""
+        ""source"": ""https://github.com/php-fig/http-factory/tree/1.0.2""
       },
-      ""time"": ""2019-04-30T12:38:16+00:00""
+      ""time"": ""2023-04-10T20:10:41+00:00""
     },
     {
       ""name"": ""psr/http-message"",
@@ -10081,16 +9870,16 @@
     },
     {
       ""name"": ""symfony/http-kernel"",
-      ""version"": ""v4.4.49"",
+      ""version"": ""v4.4.50"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/symfony/http-kernel.git"",
-        ""reference"": ""4e36db8103062c62b3882b1bd297b02de6b021c4""
+        ""reference"": ""aa6df6c045f034aa13ac752fc234bb300b9488ef""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/symfony/http-kernel/zipball/4e36db8103062c62b3882b1bd297b02de6b021c4"",
-        ""reference"": ""4e36db8103062c62b3882b1bd297b02de6b021c4"",
+        ""url"": ""https://api.github.com/repos/symfony/http-kernel/zipball/aa6df6c045f034aa13ac752fc234bb300b9488ef"",
+        ""reference"": ""aa6df6c045f034aa13ac752fc234bb300b9488ef"",
         ""shasum"": """"
       },
       ""require"": {
@@ -10161,7 +9950,7 @@
       ""description"": ""Provides a structured process for converting a Request into a Response"",
       ""homepage"": ""https://symfony.com"",
       ""support"": {
-        ""source"": ""https://github.com/symfony/http-kernel/tree/v4.4.49""
+        ""source"": ""https://github.com/symfony/http-kernel/tree/v4.4.50""
       },
       ""funding"": [
         {
@@ -10177,7 +9966,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-11-28T17:58:43+00:00""
+      ""time"": ""2023-02-01T08:01:31+00:00""
     },
     {
       ""name"": ""symfony/mime"",
@@ -11377,16 +11166,16 @@
     },
     {
       ""name"": ""symfony/string"",
-      ""version"": ""v6.2.2"",
+      ""version"": ""v6.2.8"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/symfony/string.git"",
-        ""reference"": ""863219fd713fa41cbcd285a79723f94672faff4d""
+        ""reference"": ""193e83bbd6617d6b2151c37fff10fa7168ebddef""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/symfony/string/zipball/863219fd713fa41cbcd285a79723f94672faff4d"",
-        ""reference"": ""863219fd713fa41cbcd285a79723f94672faff4d"",
+        ""url"": ""https://api.github.com/repos/symfony/string/zipball/193e83bbd6617d6b2151c37fff10fa7168ebddef"",
+        ""reference"": ""193e83bbd6617d6b2151c37fff10fa7168ebddef"",
         ""shasum"": """"
       },
       ""require"": {
@@ -11430,7 +11219,7 @@
       ""homepage"": ""https://symfony.com"",
       ""keywords"": [""grapheme"", ""i18n"", ""string"", ""unicode"", ""utf-8"", ""utf8""],
       ""support"": {
-        ""source"": ""https://github.com/symfony/string/tree/v6.2.2""
+        ""source"": ""https://github.com/symfony/string/tree/v6.2.8""
       },
       ""funding"": [
         {
@@ -11446,7 +11235,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-12-14T16:11:27+00:00""
+      ""time"": ""2023-03-20T16:06:02+00:00""
     },
     {
       ""name"": ""symfony/translation"",
@@ -11713,16 +11502,16 @@
     },
     {
       ""name"": ""symfony/var-dumper"",
-      ""version"": ""v5.4.17"",
+      ""version"": ""v5.4.23"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/symfony/var-dumper.git"",
-        ""reference"": ""ad74890513d07060255df2575703daf971de92c7""
+        ""reference"": ""9a8a5b6d6508928174ded2109e29328a55342a42""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/symfony/var-dumper/zipball/ad74890513d07060255df2575703daf971de92c7"",
-        ""reference"": ""ad74890513d07060255df2575703daf971de92c7"",
+        ""url"": ""https://api.github.com/repos/symfony/var-dumper/zipball/9a8a5b6d6508928174ded2109e29328a55342a42"",
+        ""reference"": ""9a8a5b6d6508928174ded2109e29328a55342a42"",
         ""shasum"": """"
       },
       ""require"": {
@@ -11771,7 +11560,7 @@
       ""homepage"": ""https://symfony.com"",
       ""keywords"": [""debug"", ""dump""],
       ""support"": {
-        ""source"": ""https://github.com/symfony/var-dumper/tree/v5.4.17""
+        ""source"": ""https://github.com/symfony/var-dumper/tree/v5.4.23""
       },
       ""funding"": [
         {
@@ -11787,20 +11576,20 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-12-22T10:31:03+00:00""
+      ""time"": ""2023-04-18T09:26:27+00:00""
     },
     {
       ""name"": ""symfony/var-exporter"",
-      ""version"": ""v6.2.3"",
+      ""version"": ""v6.2.10"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/symfony/var-exporter.git"",
-        ""reference"": ""d055d12b20b42e407e607460e7552a1fe6d27f08""
+        ""reference"": ""9a07920c2058bafee921ce4d90aeef2193837d63""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/symfony/var-exporter/zipball/d055d12b20b42e407e607460e7552a1fe6d27f08"",
-        ""reference"": ""d055d12b20b42e407e607460e7552a1fe6d27f08"",
+        ""url"": ""https://api.github.com/repos/symfony/var-exporter/zipball/9a07920c2058bafee921ce4d90aeef2193837d63"",
+        ""reference"": ""9a07920c2058bafee921ce4d90aeef2193837d63"",
         ""shasum"": """"
       },
       ""require"": {
@@ -11836,12 +11625,12 @@
         ""export"",
         ""hydrate"",
         ""instantiate"",
-        ""lazy loading"",
+        ""lazy-loading"",
         ""proxy"",
         ""serialize""
       ],
       ""support"": {
-        ""source"": ""https://github.com/symfony/var-exporter/tree/v6.2.3""
+        ""source"": ""https://github.com/symfony/var-exporter/tree/v6.2.10""
       },
       ""funding"": [
         {
@@ -11857,7 +11646,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-12-22T17:55:15+00:00""
+      ""time"": ""2023-04-21T08:33:05+00:00""
     },
     {
       ""name"": ""symfony/yaml"",
@@ -12501,16 +12290,16 @@
     },
     {
       ""name"": ""composer/ca-bundle"",
-      ""version"": ""1.3.4"",
+      ""version"": ""1.3.5"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/composer/ca-bundle.git"",
-        ""reference"": ""69098eca243998b53eed7a48d82dedd28b447cd5""
+        ""reference"": ""74780ccf8c19d6acb8d65c5f39cd72110e132bbd""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/composer/ca-bundle/zipball/69098eca243998b53eed7a48d82dedd28b447cd5"",
-        ""reference"": ""69098eca243998b53eed7a48d82dedd28b447cd5"",
+        ""url"": ""https://api.github.com/repos/composer/ca-bundle/zipball/74780ccf8c19d6acb8d65c5f39cd72110e132bbd"",
+        ""reference"": ""74780ccf8c19d6acb8d65c5f39cd72110e132bbd"",
         ""shasum"": """"
       },
       ""require"": {
@@ -12549,7 +12338,7 @@
       ""support"": {
         ""irc"": ""irc://irc.freenode.org/composer"",
         ""issues"": ""https://github.com/composer/ca-bundle/issues"",
-        ""source"": ""https://github.com/composer/ca-bundle/tree/1.3.4""
+        ""source"": ""https://github.com/composer/ca-bundle/tree/1.3.5""
       },
       ""funding"": [
         {
@@ -12565,20 +12354,20 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-10-12T12:08:29+00:00""
+      ""time"": ""2023-01-11T08:27:00+00:00""
     },
     {
       ""name"": ""composer/composer"",
-      ""version"": ""2.2.18"",
+      ""version"": ""2.2.21"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/composer/composer.git"",
-        ""reference"": ""84175907664ca8b73f73f4883e67e886dfefb9f5""
+        ""reference"": ""978198befc71de0b18fc1fc5a472c03b184b504a""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/composer/composer/zipball/84175907664ca8b73f73f4883e67e886dfefb9f5"",
-        ""reference"": ""84175907664ca8b73f73f4883e67e886dfefb9f5"",
+        ""url"": ""https://api.github.com/repos/composer/composer/zipball/978198befc71de0b18fc1fc5a472c03b184b504a"",
+        ""reference"": ""978198befc71de0b18fc1fc5a472c03b184b504a"",
         ""shasum"": """"
       },
       ""require"": {
@@ -12640,7 +12429,7 @@
       ""support"": {
         ""irc"": ""ircs://irc.libera.chat:6697/composer"",
         ""issues"": ""https://github.com/composer/composer/issues"",
-        ""source"": ""https://github.com/composer/composer/tree/2.2.18""
+        ""source"": ""https://github.com/composer/composer/tree/2.2.21""
       },
       ""funding"": [
         {
@@ -12656,7 +12445,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-08-20T09:33:38+00:00""
+      ""time"": ""2023-02-15T12:07:40+00:00""
     },
     {
       ""name"": ""composer/metadata-minifier"",
@@ -12923,35 +12712,38 @@
     },
     {
       ""name"": ""dealerdirect/phpcodesniffer-composer-installer"",
-      ""version"": ""v0.7.2"",
+      ""version"": ""v1.0.0"",
       ""source"": {
         ""type"": ""git"",
-        ""url"": ""https://github.com/Dealerdirect/phpcodesniffer-composer-installer.git"",
-        ""reference"": ""1c968e542d8843d7cd71de3c5c9c3ff3ad71a1db""
+        ""url"": ""https://github.com/PHPCSStandards/composer-installer.git"",
+        ""reference"": ""4be43904336affa5c2f70744a348312336afd0da""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/Dealerdirect/phpcodesniffer-composer-installer/zipball/1c968e542d8843d7cd71de3c5c9c3ff3ad71a1db"",
-        ""reference"": ""1c968e542d8843d7cd71de3c5c9c3ff3ad71a1db"",
+        ""url"": ""https://api.github.com/repos/PHPCSStandards/composer-installer/zipball/4be43904336affa5c2f70744a348312336afd0da"",
+        ""reference"": ""4be43904336affa5c2f70744a348312336afd0da"",
         ""shasum"": """"
       },
       ""require"": {
         ""composer-plugin-api"": ""^1.0 || ^2.0"",
-        ""php"": "">=5.3"",
+        ""php"": "">=5.4"",
         ""squizlabs/php_codesniffer"": ""^2.0 || ^3.1.0 || ^4.0""
       },
       ""require-dev"": {
         ""composer/composer"": ""*"",
+        ""ext-json"": ""*"",
+        ""ext-zip"": ""*"",
         ""php-parallel-lint/php-parallel-lint"": ""^1.3.1"",
-        ""phpcompatibility/php-compatibility"": ""^9.0""
+        ""phpcompatibility/php-compatibility"": ""^9.0"",
+        ""yoast/phpunit-polyfills"": ""^1.0""
       },
       ""type"": ""composer-plugin"",
       ""extra"": {
-        ""class"": ""Dealerdirect\\Composer\\Plugin\\Installers\\PHPCodeSniffer\\Plugin""
+        ""class"": ""PHPCSStandards\\Composer\\Plugin\\Installers\\PHPCodeSniffer\\Plugin""
       },
       ""autoload"": {
         ""psr-4"": {
-          ""Dealerdirect\\Composer\\Plugin\\Installers\\PHPCodeSniffer\\"": ""src/""
+          ""PHPCSStandards\\Composer\\Plugin\\Installers\\PHPCodeSniffer\\"": ""src/""
         }
       },
       ""notification-url"": ""https://packagist.org/downloads/"",
@@ -12965,7 +12757,7 @@
         },
         {
           ""name"": ""Contributors"",
-          ""homepage"": ""https://github.com/Dealerdirect/phpcodesniffer-composer-installer/graphs/contributors""
+          ""homepage"": ""https://github.com/PHPCSStandards/composer-installer/graphs/contributors""
         }
       ],
       ""description"": ""PHP_CodeSniffer Standards Composer Installer Plugin"",
@@ -12989,37 +12781,37 @@
         ""tests""
       ],
       ""support"": {
-        ""issues"": ""https://github.com/dealerdirect/phpcodesniffer-composer-installer/issues"",
-        ""source"": ""https://github.com/dealerdirect/phpcodesniffer-composer-installer""
+        ""issues"": ""https://github.com/PHPCSStandards/composer-installer/issues"",
+        ""source"": ""https://github.com/PHPCSStandards/composer-installer""
       },
-      ""time"": ""2022-02-04T12:51:07+00:00""
+      ""time"": ""2023-01-05T11:28:13+00:00""
     },
     {
       ""name"": ""doctrine/instantiator"",
-      ""version"": ""1.5.0"",
+      ""version"": ""2.0.0"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/doctrine/instantiator.git"",
-        ""reference"": ""0a0fa9780f5d4e507415a065172d26a98d02047b""
+        ""reference"": ""c6222283fa3f4ac679f8b9ced9a4e23f163e80d0""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/doctrine/instantiator/zipball/0a0fa9780f5d4e507415a065172d26a98d02047b"",
-        ""reference"": ""0a0fa9780f5d4e507415a065172d26a98d02047b"",
+        ""url"": ""https://api.github.com/repos/doctrine/instantiator/zipball/c6222283fa3f4ac679f8b9ced9a4e23f163e80d0"",
+        ""reference"": ""c6222283fa3f4ac679f8b9ced9a4e23f163e80d0"",
         ""shasum"": """"
       },
       ""require"": {
-        ""php"": ""^7.1 || ^8.0""
+        ""php"": ""^8.1""
       },
       ""require-dev"": {
-        ""doctrine/coding-standard"": ""^9 || ^11"",
+        ""doctrine/coding-standard"": ""^11"",
         ""ext-pdo"": ""*"",
         ""ext-phar"": ""*"",
-        ""phpbench/phpbench"": ""^0.16 || ^1"",
-        ""phpstan/phpstan"": ""^1.4"",
-        ""phpstan/phpstan-phpunit"": ""^1"",
-        ""phpunit/phpunit"": ""^7.5 || ^8.5 || ^9.5"",
-        ""vimeo/psalm"": ""^4.30 || ^5.4""
+        ""phpbench/phpbench"": ""^1.2"",
+        ""phpstan/phpstan"": ""^1.9.4"",
+        ""phpstan/phpstan-phpunit"": ""^1.3"",
+        ""phpunit/phpunit"": ""^9.5.27"",
+        ""vimeo/psalm"": ""^5.4""
       },
       ""type"": ""library"",
       ""autoload"": {
@@ -13041,7 +12833,7 @@
       ""keywords"": [""constructor"", ""instantiate""],
       ""support"": {
         ""issues"": ""https://github.com/doctrine/instantiator/issues"",
-        ""source"": ""https://github.com/doctrine/instantiator/tree/1.5.0""
+        ""source"": ""https://github.com/doctrine/instantiator/tree/2.0.0""
       },
       ""funding"": [
         {
@@ -13057,18 +12849,24 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-12-30T00:15:36+00:00""
+      ""time"": ""2022-12-30T00:23:10+00:00""
     },
     {
       ""name"": ""drupal/coder"",
-      ""version"": ""8.3.16"",
+      ""version"": ""8.3.18"",
       ""source"": {
         ""type"": ""git"",
-        ""url"": ""https://git.drupalcode.org/project/coder.git"",
-        ""reference"": ""d6f6112e5e84ff4f6baaada223c93dadbd6d3887""
+        ""url"": ""https://github.com/pfrenssen/coder.git"",
+        ""reference"": ""d5911f812b69ca3bda5524899bdd06b3b4e687ff""
+      },
+      ""dist"": {
+        ""type"": ""zip"",
+        ""url"": ""https://api.github.com/repos/pfrenssen/coder/zipball/d5911f812b69ca3bda5524899bdd06b3b4e687ff"",
+        ""reference"": ""d5911f812b69ca3bda5524899bdd06b3b4e687ff"",
+        ""shasum"": """"
       },
       ""require"": {
-        ""dealerdirect/phpcodesniffer-composer-installer"": ""^0.7.1"",
+        ""dealerdirect/phpcodesniffer-composer-installer"": ""^0.7.1 || ^1.0.0"",
         ""ext-mbstring"": ""*"",
         ""php"": "">=7.1"",
         ""sirbrillig/phpcs-variable-analysis"": ""^2.11.7"",
@@ -13096,11 +12894,11 @@
         ""issues"": ""https://www.drupal.org/project/issues/coder"",
         ""source"": ""https://www.drupal.org/project/coder""
       },
-      ""time"": ""2022-08-20T17:31:46+00:00""
+      ""time"": ""2023-04-18T12:07:59+00:00""
     },
     {
       ""name"": ""drupal/core-dev"",
-      ""version"": ""9.5.1"",
+      ""version"": ""9.5.8"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/drupal/core-dev.git"",
@@ -13142,7 +12940,7 @@
       ""license"": [""GPL-2.0-or-later""],
       ""description"": ""require-dev dependencies from drupal/drupal; use in addition to drupal/core-recommended to run tests from drupal/core."",
       ""support"": {
-        ""source"": ""https://github.com/drupal/core-dev/tree/9.5.1""
+        ""source"": ""https://github.com/drupal/core-dev/tree/9.5.8""
       },
       ""time"": ""2022-07-27T00:23:55+00:00""
     },
@@ -13381,16 +13179,16 @@
     },
     {
       ""name"": ""myclabs/deep-copy"",
-      ""version"": ""1.11.0"",
+      ""version"": ""1.11.1"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/myclabs/DeepCopy.git"",
-        ""reference"": ""14daed4296fae74d9e3201d2c4925d1acb7aa614""
+        ""reference"": ""7284c22080590fb39f2ffa3e9057f10a4ddd0e0c""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/myclabs/DeepCopy/zipball/14daed4296fae74d9e3201d2c4925d1acb7aa614"",
-        ""reference"": ""14daed4296fae74d9e3201d2c4925d1acb7aa614"",
+        ""url"": ""https://api.github.com/repos/myclabs/DeepCopy/zipball/7284c22080590fb39f2ffa3e9057f10a4ddd0e0c"",
+        ""reference"": ""7284c22080590fb39f2ffa3e9057f10a4ddd0e0c"",
         ""shasum"": """"
       },
       ""require"": {
@@ -13418,15 +13216,15 @@
       ""keywords"": [""clone"", ""copy"", ""duplicate"", ""object"", ""object graph""],
       ""support"": {
         ""issues"": ""https://github.com/myclabs/DeepCopy/issues"",
-        ""source"": ""https://github.com/myclabs/DeepCopy/tree/1.11.0""
+        ""source"": ""https://github.com/myclabs/DeepCopy/tree/1.11.1""
       },
       ""funding"": [
         {
           ""url"": ""https://tidelift.com/funding/github/packagist/myclabs/deep-copy"",
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-03-03T13:19:32+00:00""
+      ""time"": ""2023-03-08T13:26:56+00:00""
     },
     {
       ""name"": ""phar-io/manifest"",
@@ -13639,24 +13437,27 @@
     },
     {
       ""name"": ""phpdocumentor/type-resolver"",
-      ""version"": ""1.6.2"",
+      ""version"": ""1.7.1"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/phpDocumentor/TypeResolver.git"",
-        ""reference"": ""48f445a408c131e38cab1c235aa6d2bb7a0bb20d""
+        ""reference"": ""dfc078e8af9c99210337325ff5aa152872c98714""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/phpDocumentor/TypeResolver/zipball/48f445a408c131e38cab1c235aa6d2bb7a0bb20d"",
-        ""reference"": ""48f445a408c131e38cab1c235aa6d2bb7a0bb20d"",
+        ""url"": ""https://api.github.com/repos/phpDocumentor/TypeResolver/zipball/dfc078e8af9c99210337325ff5aa152872c98714"",
+        ""reference"": ""dfc078e8af9c99210337325ff5aa152872c98714"",
         ""shasum"": """"
       },
       ""require"": {
+        ""doctrine/deprecations"": ""^1.0"",
         ""php"": ""^7.4 || ^8.0"",
-        ""phpdocumentor/reflection-common"": ""^2.0""
+        ""phpdocumentor/reflection-common"": ""^2.0"",
+        ""phpstan/phpdoc-parser"": ""^1.13""
       },
       ""require-dev"": {
         ""ext-tokenizer"": ""*"",
+        ""phpbench/phpbench"": ""^1.2"",
         ""phpstan/extension-installer"": ""^1.1"",
         ""phpstan/phpstan"": ""^1.8"",
         ""phpstan/phpstan-phpunit"": ""^1.1"",
@@ -13686,33 +13487,34 @@
       ""description"": ""A PSR-5 based resolver of Class names, Types and Structural Element Names"",
       ""support"": {
         ""issues"": ""https://github.com/phpDocumentor/TypeResolver/issues"",
-        ""source"": ""https://github.com/phpDocumentor/TypeResolver/tree/1.6.2""
+        ""source"": ""https://github.com/phpDocumentor/TypeResolver/tree/1.7.1""
       },
-      ""time"": ""2022-10-14T12:47:21+00:00""
+      ""time"": ""2023-03-27T19:02:04+00:00""
     },
     {
       ""name"": ""phpspec/prophecy"",
-      ""version"": ""v1.16.0"",
+      ""version"": ""v1.17.0"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/phpspec/prophecy.git"",
-        ""reference"": ""be8cac52a0827776ff9ccda8c381ac5b71aeb359""
+        ""reference"": ""15873c65b207b07765dbc3c95d20fdf4a320cbe2""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/phpspec/prophecy/zipball/be8cac52a0827776ff9ccda8c381ac5b71aeb359"",
-        ""reference"": ""be8cac52a0827776ff9ccda8c381ac5b71aeb359"",
+        ""url"": ""https://api.github.com/repos/phpspec/prophecy/zipball/15873c65b207b07765dbc3c95d20fdf4a320cbe2"",
+        ""reference"": ""15873c65b207b07765dbc3c95d20fdf4a320cbe2"",
         ""shasum"": """"
       },
       ""require"": {
-        ""doctrine/instantiator"": ""^1.2"",
+        ""doctrine/instantiator"": ""^1.2 || ^2.0"",
         ""php"": ""^7.2 || 8.0.* || 8.1.* || 8.2.*"",
         ""phpdocumentor/reflection-docblock"": ""^5.2"",
         ""sebastian/comparator"": ""^3.0 || ^4.0"",
         ""sebastian/recursion-context"": ""^3.0 || ^4.0""
       },
       ""require-dev"": {
         ""phpspec/phpspec"": ""^6.0 || ^7.0"",
+        ""phpstan/phpstan"": ""^1.9"",
         ""phpunit/phpunit"": ""^8.0 || ^9.0""
       },
       ""type"": ""library"",
@@ -13744,9 +13546,9 @@
       ""keywords"": [""Double"", ""Dummy"", ""fake"", ""mock"", ""spy"", ""stub""],
       ""support"": {
         ""issues"": ""https://github.com/phpspec/prophecy/issues"",
-        ""source"": ""https://github.com/phpspec/prophecy/tree/v1.16.0""
+        ""source"": ""https://github.com/phpspec/prophecy/tree/v1.17.0""
       },
-      ""time"": ""2022-11-29T15:06:56+00:00""
+      ""time"": ""2023-02-02T15:41:36+00:00""
     },
     {
       ""name"": ""phpspec/prophecy-phpunit"",
@@ -13797,16 +13599,16 @@
     },
     {
       ""name"": ""phpstan/phpdoc-parser"",
-      ""version"": ""1.15.3"",
+      ""version"": ""1.20.3"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/phpstan/phpdoc-parser.git"",
-        ""reference"": ""61800f71a5526081d1b5633766aa88341f1ade76""
+        ""reference"": ""6c04009f6cae6eda2f040745b6b846080ef069c2""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/phpstan/phpdoc-parser/zipball/61800f71a5526081d1b5633766aa88341f1ade76"",
-        ""reference"": ""61800f71a5526081d1b5633766aa88341f1ade76"",
+        ""url"": ""https://api.github.com/repos/phpstan/phpdoc-parser/zipball/6c04009f6cae6eda2f040745b6b846080ef069c2"",
+        ""reference"": ""6c04009f6cae6eda2f040745b6b846080ef069c2"",
         ""shasum"": """"
       },
       ""require"": {
@@ -13832,29 +13634,29 @@
       ""description"": ""PHPDoc parser with support for nullable, intersection and generic types"",
       ""support"": {
         ""issues"": ""https://github.com/phpstan/phpdoc-parser/issues"",
-        ""source"": ""https://github.com/phpstan/phpdoc-parser/tree/1.15.3""
+        ""source"": ""https://github.com/phpstan/phpdoc-parser/tree/1.20.3""
       },
-      ""time"": ""2022-12-20T20:56:55+00:00""
+      ""time"": ""2023-04-25T09:01:03+00:00""
     },
     {
       ""name"": ""phpunit/php-code-coverage"",
-      ""version"": ""9.2.23"",
+      ""version"": ""9.2.26"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/sebastianbergmann/php-code-coverage.git"",
-        ""reference"": ""9f1f0f9a2fbb680b26d1cf9b61b6eac43a6e4e9c""
+        ""reference"": ""443bc6912c9bd5b409254a40f4b0f4ced7c80ea1""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/sebastianbergmann/php-code-coverage/zipball/9f1f0f9a2fbb680b26d1cf9b61b6eac43a6e4e9c"",
-        ""reference"": ""9f1f0f9a2fbb680b26d1cf9b61b6eac43a6e4e9c"",
+        ""url"": ""https://api.github.com/repos/sebastianbergmann/php-code-coverage/zipball/443bc6912c9bd5b409254a40f4b0f4ced7c80ea1"",
+        ""reference"": ""443bc6912c9bd5b409254a40f4b0f4ced7c80ea1"",
         ""shasum"": """"
       },
       ""require"": {
         ""ext-dom"": ""*"",
         ""ext-libxml"": ""*"",
         ""ext-xmlwriter"": ""*"",
-        ""nikic/php-parser"": ""^4.14"",
+        ""nikic/php-parser"": ""^4.15"",
         ""php"": "">=7.3"",
         ""phpunit/php-file-iterator"": ""^3.0.3"",
         ""phpunit/php-text-template"": ""^2.0.2"",
@@ -13869,8 +13671,8 @@
         ""phpunit/phpunit"": ""^9.3""
       },
       ""suggest"": {
-        ""ext-pcov"": ""*"",
-        ""ext-xdebug"": ""*""
+        ""ext-pcov"": ""PHP extension that provides line coverage"",
+        ""ext-xdebug"": ""PHP extension that provides line coverage as well as branch and path coverage""
       },
       ""type"": ""library"",
       ""extra"": {
@@ -13895,15 +13697,15 @@
       ""keywords"": [""coverage"", ""testing"", ""xunit""],
       ""support"": {
         ""issues"": ""https://github.com/sebastianbergmann/php-code-coverage/issues"",
-        ""source"": ""https://github.com/sebastianbergmann/php-code-coverage/tree/9.2.23""
+        ""source"": ""https://github.com/sebastianbergmann/php-code-coverage/tree/9.2.26""
       },
       ""funding"": [
         {
           ""url"": ""https://github.com/sebastianbergmann"",
           ""type"": ""github""
         }
       ],
-      ""time"": ""2022-12-28T12:41:10+00:00""
+      ""time"": ""2023-03-06T12:58:08+00:00""
     },
     {
       ""name"": ""phpunit/php-file-iterator"",
@@ -14123,20 +13925,20 @@
     },
     {
       ""name"": ""phpunit/phpunit"",
-      ""version"": ""9.5.27"",
+      ""version"": ""9.6.7"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/sebastianbergmann/phpunit.git"",
-        ""reference"": ""a2bc7ffdca99f92d959b3f2270529334030bba38""
+        ""reference"": ""c993f0d3b0489ffc42ee2fe0bd645af1538a63b2""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/sebastianbergmann/phpunit/zipball/a2bc7ffdca99f92d959b3f2270529334030bba38"",
-        ""reference"": ""a2bc7ffdca99f92d959b3f2270529334030bba38"",
+        ""url"": ""https://api.github.com/repos/sebastianbergmann/phpunit/zipball/c993f0d3b0489ffc42ee2fe0bd645af1538a63b2"",
+        ""reference"": ""c993f0d3b0489ffc42ee2fe0bd645af1538a63b2"",
         ""shasum"": """"
       },
       ""require"": {
-        ""doctrine/instantiator"": ""^1.3.1"",
+        ""doctrine/instantiator"": ""^1.3.1 || ^2"",
         ""ext-dom"": ""*"",
         ""ext-json"": ""*"",
         ""ext-libxml"": ""*"",
@@ -14165,14 +13967,14 @@
         ""sebastian/version"": ""^3.0.2""
       },
       ""suggest"": {
-        ""ext-soap"": ""*"",
-        ""ext-xdebug"": ""*""
+        ""ext-soap"": ""To be able to generate mocks based on WSDL files"",
+        ""ext-xdebug"": ""PHP extension that provides line coverage as well as branch and path coverage""
       },
       ""bin"": [""phpunit""],
       ""type"": ""library"",
       ""extra"": {
         ""branch-alias"": {
-          ""dev-master"": ""9.5-dev""
+          ""dev-master"": ""9.6-dev""
         }
       },
       ""autoload"": {
@@ -14193,7 +13995,8 @@
       ""keywords"": [""phpunit"", ""testing"", ""xunit""],
       ""support"": {
         ""issues"": ""https://github.com/sebastianbergmann/phpunit/issues"",
-        ""source"": ""https://github.com/sebastianbergmann/phpunit/tree/9.5.27""
+        ""security"": ""https://github.com/sebastianbergmann/phpunit/security/policy"",
+        ""source"": ""https://github.com/sebastianbergmann/phpunit/tree/9.6.7""
       },
       ""funding"": [
         {
@@ -14209,7 +14012,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-12-09T07:31:23+00:00""
+      ""time"": ""2023-04-14T08:58:40+00:00""
     },
     {
       ""name"": ""react/promise"",
@@ -14613,16 +14416,16 @@
     },
     {
       ""name"": ""sebastian/environment"",
-      ""version"": ""5.1.4"",
+      ""version"": ""5.1.5"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/sebastianbergmann/environment.git"",
-        ""reference"": ""1b5dff7bb151a4db11d49d90e5408e4e938270f7""
+        ""reference"": ""830c43a844f1f8d5b7a1f6d6076b784454d8b7ed""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/sebastianbergmann/environment/zipball/1b5dff7bb151a4db11d49d90e5408e4e938270f7"",
-        ""reference"": ""1b5dff7bb151a4db11d49d90e5408e4e938270f7"",
+        ""url"": ""https://api.github.com/repos/sebastianbergmann/environment/zipball/830c43a844f1f8d5b7a1f6d6076b784454d8b7ed"",
+        ""reference"": ""830c43a844f1f8d5b7a1f6d6076b784454d8b7ed"",
         ""shasum"": """"
       },
       ""require"": {
@@ -14656,15 +14459,15 @@
       ""keywords"": [""Xdebug"", ""environment"", ""hhvm""],
       ""support"": {
         ""issues"": ""https://github.com/sebastianbergmann/environment/issues"",
-        ""source"": ""https://github.com/sebastianbergmann/environment/tree/5.1.4""
+        ""source"": ""https://github.com/sebastianbergmann/environment/tree/5.1.5""
       },
       ""funding"": [
         {
           ""url"": ""https://github.com/sebastianbergmann"",
           ""type"": ""github""
         }
       ],
-      ""time"": ""2022-04-03T09:37:03+00:00""
+      ""time"": ""2023-02-03T06:03:51+00:00""
     },
     {
       ""name"": ""sebastian/exporter"",
@@ -14953,16 +14756,16 @@
     },
     {
       ""name"": ""sebastian/recursion-context"",
-      ""version"": ""4.0.4"",
+      ""version"": ""4.0.5"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/sebastianbergmann/recursion-context.git"",
-        ""reference"": ""cd9d8cf3c5804de4341c283ed787f099f5506172""
+        ""reference"": ""e75bd0f07204fec2a0af9b0f3cfe97d05f92efc1""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/sebastianbergmann/recursion-context/zipball/cd9d8cf3c5804de4341c283ed787f099f5506172"",
-        ""reference"": ""cd9d8cf3c5804de4341c283ed787f099f5506172"",
+        ""url"": ""https://api.github.com/repos/sebastianbergmann/recursion-context/zipball/e75bd0f07204fec2a0af9b0f3cfe97d05f92efc1"",
+        ""reference"": ""e75bd0f07204fec2a0af9b0f3cfe97d05f92efc1"",
         ""shasum"": """"
       },
       ""require"": {
@@ -14997,18 +14800,18 @@
         }
       ],
       ""description"": ""Provides functionality to recursively process PHP variables"",
-      ""homepage"": ""http://www.github.com/sebastianbergmann/recursion-context"",
+      ""homepage"": ""https://github.com/sebastianbergmann/recursion-context"",
       ""support"": {
         ""issues"": ""https://github.com/sebastianbergmann/recursion-context/issues"",
-        ""source"": ""https://github.com/sebastianbergmann/recursion-context/tree/4.0.4""
+        ""source"": ""https://github.com/sebastianbergmann/recursion-context/tree/4.0.5""
       },
       ""funding"": [
         {
           ""url"": ""https://github.com/sebastianbergmann"",
           ""type"": ""github""
         }
       ],
-      ""time"": ""2020-10-26T13:17:30+00:00""
+      ""time"": ""2023-02-03T06:07:39+00:00""
     },
     {
       ""name"": ""sebastian/resource-operations"",
@@ -15063,16 +14866,16 @@
     },
     {
       ""name"": ""sebastian/type"",
-      ""version"": ""3.2.0"",
+      ""version"": ""3.2.1"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/sebastianbergmann/type.git"",
-        ""reference"": ""fb3fe09c5f0bae6bc27ef3ce933a1e0ed9464b6e""
+        ""reference"": ""75e2c2a32f5e0b3aef905b9ed0b179b953b3d7c7""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/sebastianbergmann/type/zipball/fb3fe09c5f0bae6bc27ef3ce933a1e0ed9464b6e"",
-        ""reference"": ""fb3fe09c5f0bae6bc27ef3ce933a1e0ed9464b6e"",
+        ""url"": ""https://api.github.com/repos/sebastianbergmann/type/zipball/75e2c2a32f5e0b3aef905b9ed0b179b953b3d7c7"",
+        ""reference"": ""75e2c2a32f5e0b3aef905b9ed0b179b953b3d7c7"",
         ""shasum"": """"
       },
       ""require"": {
@@ -15103,15 +14906,15 @@
       ""homepage"": ""https://github.com/sebastianbergmann/type"",
       ""support"": {
         ""issues"": ""https://github.com/sebastianbergmann/type/issues"",
-        ""source"": ""https://github.com/sebastianbergmann/type/tree/3.2.0""
+        ""source"": ""https://github.com/sebastianbergmann/type/tree/3.2.1""
       },
       ""funding"": [
         {
           ""url"": ""https://github.com/sebastianbergmann"",
           ""type"": ""github""
         }
       ],
-      ""time"": ""2022-09-12T14:47:03+00:00""
+      ""time"": ""2023-02-03T06:13:03+00:00""
     },
     {
       ""name"": ""sebastian/version"",
@@ -15263,16 +15066,16 @@
     },
     {
       ""name"": ""sirbrillig/phpcs-variable-analysis"",
-      ""version"": ""v2.11.10"",
+      ""version"": ""v2.11.16"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/sirbrillig/phpcs-variable-analysis.git"",
-        ""reference"": ""0f25a3766f26df91d6bdda0c8931303fc85499d7""
+        ""reference"": ""dc5582dc5a93a235557af73e523c389aac9a8e88""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/sirbrillig/phpcs-variable-analysis/zipball/0f25a3766f26df91d6bdda0c8931303fc85499d7"",
-        ""reference"": ""0f25a3766f26df91d6bdda0c8931303fc85499d7"",
+        ""url"": ""https://api.github.com/repos/sirbrillig/phpcs-variable-analysis/zipball/dc5582dc5a93a235557af73e523c389aac9a8e88"",
+        ""reference"": ""dc5582dc5a93a235557af73e523c389aac9a8e88"",
         ""shasum"": """"
       },
       ""require"": {
@@ -15312,36 +15115,36 @@
         ""source"": ""https://github.com/sirbrillig/phpcs-variable-analysis"",
         ""wiki"": ""https://github.com/sirbrillig/phpcs-variable-analysis/wiki""
       },
-      ""time"": ""2023-01-05T18:45:16+00:00""
+      ""time"": ""2023-03-31T16:46:32+00:00""
     },
     {
       ""name"": ""slevomat/coding-standard"",
-      ""version"": ""8.8.0"",
+      ""version"": ""8.11.1"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/slevomat/coding-standard.git"",
-        ""reference"": ""59e25146a4ef0a7b194c5bc55b32dd414345db89""
+        ""reference"": ""af87461316b257e46e15bb041dca6fca3796d822""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/slevomat/coding-standard/zipball/59e25146a4ef0a7b194c5bc55b32dd414345db89"",
-        ""reference"": ""59e25146a4ef0a7b194c5bc55b32dd414345db89"",
+        ""url"": ""https://api.github.com/repos/slevomat/coding-standard/zipball/af87461316b257e46e15bb041dca6fca3796d822"",
+        ""reference"": ""af87461316b257e46e15bb041dca6fca3796d822"",
         ""shasum"": """"
       },
       ""require"": {
         ""dealerdirect/phpcodesniffer-composer-installer"": ""^0.6.2 || ^0.7 || ^1.0"",
         ""php"": ""^7.2 || ^8.0"",
-        ""phpstan/phpdoc-parser"": "">=1.15.2 <1.16.0"",
+        ""phpstan/phpdoc-parser"": "">=1.20.0 <1.21.0"",
         ""squizlabs/php_codesniffer"": ""^3.7.1""
       },
       ""require-dev"": {
         ""phing/phing"": ""2.17.4"",
         ""php-parallel-lint/php-parallel-lint"": ""1.3.2"",
-        ""phpstan/phpstan"": ""1.4.10|1.9.6"",
-        ""phpstan/phpstan-deprecation-rules"": ""1.1.1"",
-        ""phpstan/phpstan-phpunit"": ""1.0.0|1.3.3"",
-        ""phpstan/phpstan-strict-rules"": ""1.4.4"",
-        ""phpunit/phpunit"": ""7.5.20|8.5.21|9.5.27""
+        ""phpstan/phpstan"": ""1.10.14"",
+        ""phpstan/phpstan-deprecation-rules"": ""1.1.3"",
+        ""phpstan/phpstan-phpunit"": ""1.3.11"",
+        ""phpstan/phpstan-strict-rules"": ""1.5.1"",
+        ""phpunit/phpunit"": ""7.5.20|8.5.21|9.6.6|10.1.1""
       },
       ""type"": ""phpcodesniffer-standard"",
       ""extra"": {
@@ -15351,7 +15154,7 @@
       },
       ""autoload"": {
         ""psr-4"": {
-          ""SlevomatCodingStandard\\"": ""SlevomatCodingStandard""
+          ""SlevomatCodingStandard\\"": ""SlevomatCodingStandard/""
         }
       },
       ""notification-url"": ""https://packagist.org/downloads/"",
@@ -15360,7 +15163,7 @@
       ""keywords"": [""dev"", ""phpcs""],
       ""support"": {
         ""issues"": ""https://github.com/slevomat/coding-standard/issues"",
-        ""source"": ""https://github.com/slevomat/coding-standard/tree/8.8.0""
+        ""source"": ""https://github.com/slevomat/coding-standard/tree/8.11.1""
       },
       ""funding"": [
         {
@@ -15372,20 +15175,20 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2023-01-09T10:46:13+00:00""
+      ""time"": ""2023-04-24T08:19:01+00:00""
     },
     {
       ""name"": ""squizlabs/php_codesniffer"",
-      ""version"": ""3.7.1"",
+      ""version"": ""3.7.2"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/squizlabs/PHP_CodeSniffer.git"",
-        ""reference"": ""1359e176e9307e906dc3d890bcc9603ff6d90619""
+        ""reference"": ""ed8e00df0a83aa96acf703f8c2979ff33341f879""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/squizlabs/PHP_CodeSniffer/zipball/1359e176e9307e906dc3d890bcc9603ff6d90619"",
-        ""reference"": ""1359e176e9307e906dc3d890bcc9603ff6d90619"",
+        ""url"": ""https://api.github.com/repos/squizlabs/PHP_CodeSniffer/zipball/ed8e00df0a83aa96acf703f8c2979ff33341f879"",
+        ""reference"": ""ed8e00df0a83aa96acf703f8c2979ff33341f879"",
         ""shasum"": """"
       },
       ""require"": {
@@ -15414,13 +15217,13 @@
       ],
       ""description"": ""PHP_CodeSniffer tokenizes PHP, JavaScript and CSS files and detects violations of a defined set of coding standards."",
       ""homepage"": ""https://github.com/squizlabs/PHP_CodeSniffer"",
-      ""keywords"": [""phpcs"", ""standards""],
+      ""keywords"": [""phpcs"", ""standards"", ""static analysis""],
       ""support"": {
         ""issues"": ""https://github.com/squizlabs/PHP_CodeSniffer/issues"",
         ""source"": ""https://github.com/squizlabs/PHP_CodeSniffer"",
         ""wiki"": ""https://github.com/squizlabs/PHP_CodeSniffer/wiki""
       },
-      ""time"": ""2022-06-18T07:21:10+00:00""
+      ""time"": ""2023-02-22T23:07:41+00:00""
     },
     {
       ""name"": ""symfony/browser-kit"",
@@ -15559,16 +15362,16 @@
     },
     {
       ""name"": ""symfony/phpunit-bridge"",
-      ""version"": ""v5.4.17"",
+      ""version"": ""v5.4.23"",
       ""source"": {
         ""type"": ""git"",
         ""url"": ""https://github.com/symfony/phpunit-bridge.git"",
-        ""reference"": ""2232d32115383602fd7702dfd51e81178364b679""
+        ""reference"": ""1572c5b7cad812bdf0414d89a32a33a2dafb38ba""
       },
       ""dist"": {
         ""type"": ""zip"",
-        ""url"": ""https://api.github.com/repos/symfony/phpunit-bridge/zipball/2232d32115383602fd7702dfd51e81178364b679"",
-        ""reference"": ""2232d32115383602fd7702dfd51e81178364b679"",
+        ""url"": ""https://api.github.com/repos/symfony/phpunit-bridge/zipball/1572c5b7cad812bdf0414d89a32a33a2dafb38ba"",
+        ""reference"": ""1572c5b7cad812bdf0414d89a32a33a2dafb38ba"",
         ""shasum"": """"
       },
       ""require"": {
@@ -15614,7 +15417,7 @@
       ""description"": ""Provides utilities for PHPUnit, especially user deprecation notices management"",
       ""homepage"": ""https://symfony.com"",
       ""support"": {
-        ""source"": ""https://github.com/symfony/phpunit-bridge/tree/v5.4.17""
+        ""source"": ""https://github.com/symfony/phpunit-bridge/tree/v5.4.23""
       },
       ""funding"": [
         {
@@ -15630,7 +15433,7 @@
           ""type"": ""tidelift""
         }
       ],
-      ""time"": ""2022-12-27T08:11:33+00:00""
+      ""time"": ""2023-04-18T09:42:03+00:00""
     },
     {
       ""name"": ""theseer/tokenizer"",

---FILE: examples/example-auth/package.json---
@@ -18,7 +18,7 @@
     ""@tailwindcss/typography"": ""^0.5.1"",
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.2.3"",
-    ""next-auth"": ""^4.0.5"",
+    ""next-auth"": ""^4.22.1"",
     ""next-drupal"": ""^1.6.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2""

---FILE: examples/example-umami/package.json---
@@ -23,7 +23,7 @@
     ""i18next"": ""^22.4.10"",
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.2.3"",
-    ""next-auth"": ""4.3.4"",
+    ""next-auth"": ""^4.22.1"",
     ""next-drupal"": ""^1.6.0"",
     ""next-i18next"": ""^13.1.5"",
     ""node-cache"": ""^5.1.2"",

---FILE: yarn.lock---
@@ -1189,7 +1189,7 @@
     core-js-pure ""^3.20.2""
     regenerator-runtime ""^0.13.4""
 
-""@babel/runtime@^7.10.2"", ""@babel/runtime@^7.12.5"", ""@babel/runtime@^7.14.6"", ""@babel/runtime@^7.15.4"", ""@babel/runtime@^7.16.3"", ""@babel/runtime@^7.18.9"", ""@babel/runtime@^7.8.4"":
+""@babel/runtime@^7.10.2"", ""@babel/runtime@^7.12.5"", ""@babel/runtime@^7.14.6"", ""@babel/runtime@^7.15.4"", ""@babel/runtime@^7.18.9"", ""@babel/runtime@^7.8.4"":
   version ""7.18.9""
   resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.18.9.tgz#b4fcfce55db3d2e5e080d2490f608a3b9f407f4a""
   integrity sha512-lkqXDcvlFT5rvEjiu6+QYO+1GXrEHRo2LOtS7E4GtX5ESIZOgepqsZBVIj6Pv+a6zqsya9VCgiK1KAK4BvJDAw==
@@ -2859,10 +2859,10 @@
   dependencies:
     ""@octokit/openapi-types"" ""^12.10.0""
 
-""@panva/hkdf@^1.0.1"":
-  version ""1.0.2""
-  resolved ""https://registry.yarnpkg.com/@panva/hkdf/-/hkdf-1.0.2.tgz#bab0f09d09de9fd83628220d496627681bc440d6""
-  integrity sha512-MSAs9t3Go7GUkMhpKC44T58DJ5KGk2vBo+h1cqQeqlMfdGkxaVB78ZWpv9gYi/g2fa4sopag9gJsNvS8XGgWJA==
+""@panva/hkdf@^1.0.2"":
+  version ""1.1.1""
+  resolved ""https://registry.yarnpkg.com/@panva/hkdf/-/hkdf-1.1.1.tgz#ab9cd8755d1976e72fc77a00f7655a64efe6cd5d""
+  integrity sha512-dhPeilub1NuIG0X5Kvhh9lH4iW3ZsHlnzwgwbOlgwQ2wG1IqFzsgHqmKPk3WzsdWAeaxKJxgM0+W433RmN45GA==
 
 ""@pkgr/utils@^2.3.1"":
   version ""2.3.1""
@@ -5088,10 +5088,10 @@ convert-source-map@^1.4.0, convert-source-map@^1.6.0, convert-source-map@^1.7.0:
   dependencies:
     safe-buffer ""~5.1.1""
 
-cookie@^0.4.1:
-  version ""0.4.2""
-  resolved ""https://registry.yarnpkg.com/cookie/-/cookie-0.4.2.tgz#0e41f24de5ecf317947c82fc789e06a884824432""
-  integrity sha512-aSWTXFzaKWkvHO1Ny/s+ePFpvKsPnjc551iI41v3ny/ow6tBG5Vd+FuqGNhh1LxOmVzOlGUriIlOaokOvhaStA==
+cookie@^0.5.0:
+  version ""0.5.0""
+  resolved ""https://registry.yarnpkg.com/cookie/-/cookie-0.5.0.tgz#d1f5d71adec6558c58f389987c366aa47e994f8b""
+  integrity sha512-YZ3GUyn/o8gfKJlnlX7g7xq4gyO6OSuhGPKaaGssGB2qgDUS0gPgtTvoyZLTt9Ab6dC4hfc9dV5arkvc/OCmrw==
 
 copy-to-clipboard@^3.3.1:
   version ""3.3.1""
@@ -8696,10 +8696,10 @@ joi@^17.4.0:
     ""@sideway/formula"" ""^3.0.0""
     ""@sideway/pinpoint"" ""^2.0.0""
 
-jose@^4.1.4, jose@^4.3.7:
-  version ""4.9.3""
-  resolved ""https://registry.yarnpkg.com/jose/-/jose-4.9.3.tgz#890abd3f26725fe0f2aa720bc2f7835702b624db""
-  integrity sha512-f8E/z+T3Q0kA9txzH2DKvH/ds2uggcw0m3vVPSB9HrSkrQ7mojjifvS7aR8cw+lQl2Fcmx9npwaHpM/M3GD8UQ==
+jose@^4.11.4, jose@^4.14.1:
+  version ""4.14.4""
+  resolved ""https://registry.yarnpkg.com/jose/-/jose-4.14.4.tgz#59e09204e2670c3164ee24cbfe7115c6f8bff9ca""
+  integrity sha512-j8GhLiKmUAh+dsFXlX1aJCbt5KMibuKb+d7j1JaOJG6s2UjX1PQlW+OKB/sD4a/5ZYF4RcmYmLSndOoU3Lt/3g==
 
 js-sdsl@^4.1.4:
   version ""4.2.0""
@@ -10016,17 +10016,17 @@ neo-async@^2.6.0:
   resolved ""https://registry.yarnpkg.com/neo-async/-/neo-async-2.6.2.tgz#b4aafb93e3aeb2d8174ca53cf163ab7d7308305f""
   integrity sha512-Yd3UES5mWCSqR+qNT93S3UoYUkqAZ9lLg8a7g9rimsWmYGK8cVToA4/sF3RrshdyV3sAGMXVUmpMYOw+dLpOuw==
 
-next-auth@^4.0.5, next-auth@^4.3.4:
-  version ""4.10.3""
-  resolved ""https://registry.yarnpkg.com/next-auth/-/next-auth-4.10.3.tgz#0a952dd5004fd2ac2ba414c990922cf9b33951a3""
-  integrity sha512-7zc4aXYc/EEln7Pkcsn21V1IevaTZsMLJwapfbnKA4+JY0+jFzWbt5p/ljugesGIrN4VOZhpZIw50EaFZyghJQ==
+next-auth@^4.22.1:
+  version ""4.22.1""
+  resolved ""https://registry.yarnpkg.com/next-auth/-/next-auth-4.22.1.tgz#1ea5084e38867966dc6492a71c6729c8f5cfa96b""
+  integrity sha512-NTR3f6W7/AWXKw8GSsgSyQcDW6jkslZLH8AiZa5PQ09w1kR8uHtR9rez/E9gAq/o17+p0JYHE8QjF3RoniiObA==
   dependencies:
-    ""@babel/runtime"" ""^7.16.3""
-    ""@panva/hkdf"" ""^1.0.1""
-    cookie ""^0.4.1""
-    jose ""^4.3.7""
+    ""@babel/runtime"" ""^7.20.13""
+    ""@panva/hkdf"" ""^1.0.2""
+    cookie ""^0.5.0""
+    jose ""^4.11.4""
     oauth ""^0.9.15""
-    openid-client ""^5.1.0""
+    openid-client ""^5.4.0""
     preact ""^10.6.3""
     preact-render-to-string ""^5.1.19""
     uuid ""^8.3.2""
@@ -10415,7 +10415,7 @@ object-assign@^4.1.0, object-assign@^4.1.1:
   resolved ""https://registry.yarnpkg.com/object-assign/-/object-assign-4.1.1.tgz#2109adc7965887cfc05cbbd442cac8bfbb360863""
   integrity sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==
 
-object-hash@^2.0.1:
+object-hash@^2.2.0:
   version ""2.2.0""
   resolved ""https://registry.yarnpkg.com/object-hash/-/object-hash-2.2.0.tgz#5ad518581eefc443bd763472b8ff2e9c2c0d54a5""
   integrity sha512-gScRMn0bS5fH+IuwyIFgnh9zBdo4DV+6GhygmWM9HyNJSgS0hScp1f5vjtm7oIIOiT9trXrShAkLFSc2IqKNgw==
@@ -10554,10 +10554,10 @@ octal@^1.0.0:
   resolved ""https://registry.yarnpkg.com/octal/-/octal-1.0.0.tgz#63e7162a68efbeb9e213588d58e989d1e5c4530b""
   integrity sha512-nnda7W8d+A3vEIY+UrDQzzboPf1vhs4JYVhff5CDkq9QNoZY7Xrxeo/htox37j9dZf7yNHevZzqtejWgy1vCqQ==
 
-oidc-token-hash@^5.0.1:
-  version ""5.0.1""
-  resolved ""https://registry.yarnpkg.com/oidc-token-hash/-/oidc-token-hash-5.0.1.tgz#ae6beec3ec20f0fd885e5400d175191d6e2f10c6""
-  integrity sha512-EvoOtz6FIEBzE+9q253HsLCVRiK/0doEJ2HCvvqMQb3dHZrP3WlJKYtJ55CRTw4jmYomzH4wkPuCj/I3ZvpKxQ==
+oidc-token-hash@^5.0.3:
+  version ""5.0.3""
+  resolved ""https://registry.yarnpkg.com/oidc-token-hash/-/oidc-token-hash-5.0.3.tgz#9a229f0a1ce9d4fc89bcaee5478c97a889e7b7b6""
+  integrity sha512-IF4PcGgzAr6XXSff26Sk/+P4KZFJVuHAJZj3wgO3vX2bMdNVp/QXTP3P7CEm9V1IdG8lDLY3HhiqpsE/nOwpPw==
 
 once@1.4.0, once@^1.3.0, once@^1.3.1, once@^1.4.0:
   version ""1.4.0""
@@ -10582,15 +10582,15 @@ open@^8.4.0:
     is-docker ""^2.1.1""
     is-wsl ""^2.2.0""
 
-openid-client@^5.1.0:
-  version ""5.1.8""
-  resolved ""https://registry.yarnpkg.com/openid-client/-/openid-client-5.1.8.tgz#3a24910288b32c32f548fb6e391f44178ce6370f""
-  integrity sha512-EPxJY6bT7YIYQEXSGxRC5flQ3GUhLy98ufdto6+BVBrFGPmwjUpy4xBcYuU/Wt9nPkO/3EgljBrr6Ezx4lp1RQ==
+openid-client@^5.4.0:
+  version ""5.4.2""
+  resolved ""https://registry.yarnpkg.com/openid-client/-/openid-client-5.4.2.tgz#8692bcc2a40ef3426c5ba5c11f7493599e93ccc7""
+  integrity sha512-lIhsdPvJ2RneBm3nGBBhQchpe3Uka//xf7WPHTIglery8gnckvW7Bd9IaQzekzXJvWthCMyi/xVEyGW0RFPytw==
   dependencies:
-    jose ""^4.1.4""
+    jose ""^4.14.1""
     lru-cache ""^6.0.0""
-    object-hash ""^2.0.1""
-    oidc-token-hash ""^5.0.1""
+    object-hash ""^2.2.0""
+    oidc-token-hash ""^5.0.3""
 
 optionator@^0.8.1:
   version ""0.8.3""",False,False,Dependency / Package,4
chapter-three,next-drupal,6059eb6e1f5a5fec985e61f45e0d7596670623fa,Bojan Bogdanovic,info@designfreaks.nl,2023-04-20T05:26:08Z,GitHub,noreply@github.com,2023-04-20T05:26:08Z,fix(next): add cacheability metadata from the entity url (#473),modules/next/src/Event/EntityActionEvent.php,False,False,False,False,1,1,2,"---FILE: modules/next/src/Event/EntityActionEvent.php---
@@ -75,7 +75,7 @@ public static function createFromEntity(EntityInterface $entity, string $action)
     $next_entity_type_manager = \Drupal::service('next.entity_type.manager');
 
     $sites = $next_entity_type_manager->getSitesForEntity($entity);
-    $url = $entity->hasLinkTemplate('canonical') ? $entity->toUrl()->toString() : NULL;
+    $url = $entity->hasLinkTemplate('canonical') ? $entity->toUrl()->toString(TRUE)->getGeneratedUrl() : NULL;
 
     return new static($entity, $action, $sites, $url);
   }",False,False,Implementation / Logic,3
chapter-three,next-drupal,0094f16729fd414101380c5d2ee3d1eb8fb72c6e,shadcn,m@shadcn.com,2023-02-23T07:44:46Z,shadcn,m@shadcn.com,2023-02-23T07:44:46Z,docs(www): update patch for decoupled_router,www/content/tutorials/graphql/apply-patches.mdx;www/content/tutorials/quick-start/apply-patches.mdx,False,False,False,False,2,2,4,"---FILE: www/content/tutorials/graphql/apply-patches.mdx---
@@ -24,7 +24,7 @@ At the time of this writing, there are two patches we need to wire everything to
             ""Get same results on different request"": ""https://www.drupal.org/files/issues/2019-07-18/change_request_type-63049395-09.patch""
         },
         ""drupal/decoupled_router"": {
-            ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2022-12-01/decouple_router-3111456-resolve-language-issue-58--get-translation.patch""
+            ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2022-11-30/decouple_router-3111456-resolve-language-issue-58.patch""
         }
     },
 		// highlight-end

---FILE: www/content/tutorials/quick-start/apply-patches.mdx---
@@ -18,7 +18,7 @@ At the time of this writing, there are two patches we need to wire everything to
             ""Get same results on different request"": ""https://www.drupal.org/files/issues/2019-07-18/change_request_type-63049395-09.patch""
         },
         ""drupal/decoupled_router"": {
-            ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2022-12-01/decouple_router-3111456-resolve-language-issue-58--get-translation.patch""
+            ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2022-11-30/decouple_router-3111456-resolve-language-issue-58.patch""
         }
     },
 		// highlight-end",False,False,Documentation / Formatting,4
chapter-three,next-drupal,0a8e832739784407a32a275bb0e4b8348822dc6c,shadcn,m@shadcn.com,2023-02-21T06:33:30Z,shadcn,m@shadcn.com,2023-02-21T06:33:30Z,fix(example-umami): pin next-auth,examples/example-umami/package.json,False,False,False,False,1,1,2,"---FILE: examples/example-umami/package.json---
@@ -23,7 +23,7 @@
     ""i18next"": ""^22.4.10"",
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.2.3"",
-    ""next-auth"": ""^4.3.4"",
+    ""next-auth"": ""4.3.4"",
     ""next-drupal"": ""^1.6.0"",
     ""next-i18next"": ""^13.1.5"",
     ""node-cache"": ""^5.1.2"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,ac28e568e31d18bf7a772b5e30a40baf3869c906,shadcn,m@shadcn.com,2023-02-21T06:28:55Z,shadcn,m@shadcn.com,2023-02-21T06:28:55Z,fix(example-umami): update next-i18next,examples/example-umami/package.json;yarn.lock,False,False,False,False,68,26,94,"---FILE: examples/example-umami/package.json---
@@ -20,16 +20,18 @@
     ""drupal-jsonapi-params"": ""^2.0.0"",
     ""formidable"": ""^3.2.4"",
     ""html-react-parser"": ""^1.4.14"",
+    ""i18next"": ""^22.4.10"",
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.2.3"",
     ""next-auth"": ""^4.3.4"",
     ""next-drupal"": ""^1.6.0"",
-    ""next-i18next"": ""^11.0.0"",
+    ""next-i18next"": ""^13.1.5"",
     ""node-cache"": ""^5.1.2"",
     ""nprogress"": ""^0.2.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
     ""react-highlight-words"": ""^0.18.0"",
+    ""react-i18next"": ""^12.1.5"",
     ""sharp"": ""^0.30.4"",
     ""swr"": ""^1.3.0""
   },

---FILE: yarn.lock---
@@ -1189,13 +1189,20 @@
     core-js-pure ""^3.20.2""
     regenerator-runtime ""^0.13.4""
 
-""@babel/runtime@^7.10.2"", ""@babel/runtime@^7.12.5"", ""@babel/runtime@^7.14.5"", ""@babel/runtime@^7.14.6"", ""@babel/runtime@^7.15.4"", ""@babel/runtime@^7.16.3"", ""@babel/runtime@^7.17.2"", ""@babel/runtime@^7.18.6"", ""@babel/runtime@^7.18.9"", ""@babel/runtime@^7.8.4"":
+""@babel/runtime@^7.10.2"", ""@babel/runtime@^7.12.5"", ""@babel/runtime@^7.14.6"", ""@babel/runtime@^7.15.4"", ""@babel/runtime@^7.16.3"", ""@babel/runtime@^7.18.9"", ""@babel/runtime@^7.8.4"":
   version ""7.18.9""
   resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.18.9.tgz#b4fcfce55db3d2e5e080d2490f608a3b9f407f4a""
   integrity sha512-lkqXDcvlFT5rvEjiu6+QYO+1GXrEHRo2LOtS7E4GtX5ESIZOgepqsZBVIj6Pv+a6zqsya9VCgiK1KAK4BvJDAw==
   dependencies:
     regenerator-runtime ""^0.13.4""
 
+""@babel/runtime@^7.20.13"", ""@babel/runtime@^7.20.6"":
+  version ""7.21.0""
+  resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.21.0.tgz#5b55c9d394e5fcf304909a8b00c07dc217b56673""
+  integrity sha512-xwII0//EObnq89Ji5AKYQaRYiW/nZ3llSv29d49IuxPhKbtJoLP+9QUUZ4nVragQVtaVGeZrpB+ZtG/Pdy/POw==
+  dependencies:
+    regenerator-runtime ""^0.13.11""
+
 ""@babel/template@^7.12.7"", ""@babel/template@^7.18.6"", ""@babel/template@^7.3.3"":
   version ""7.18.6""
   resolved ""https://registry.yarnpkg.com/@babel/template/-/template-7.18.6.tgz#1283f4993e00b929d6e2d3c72fdc9168a2977a31""
@@ -3293,28 +3300,58 @@
   resolved ""https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.5.tgz#5f19d2b85a98e9558036f6a3cacc8819420f05cf""
   integrity sha512-JCB8C6SnDoQf0cNycqd/35A7MjcnK+ZTqE7judS6o7utxUCg6imJg3QK2qzHKszlTjcj2cn+NwMB2i96ubpj7w==
 
-""@types/react-dom@17.0.2"", ""@types/react-dom@^18.0.9"":
+""@types/react-dom@17.0.2"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-17.0.2.tgz#35654cf6c49ae162d5bc90843d5437dc38008d43""
   integrity sha512-Icd9KEgdnFfJs39KyRyr0jQ7EKhq8U6CcHRMGAS45fp5qgUvxL3ujUCfWFttUK2UErqZNj97t9gsVPNAqcwoCg==
   dependencies:
     ""@types/react"" ""*""
 
-""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"", ""@types/react@^17.0.43"", ""@types/react@^18.0.26"":
+""@types/react-dom@^18.0.9"":
+  version ""18.0.11""
+  resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-18.0.11.tgz#321351c1459bc9ca3d216aefc8a167beec334e33""
+  integrity sha512-O38bPbI2CWtgw/OoQoY+BRelw7uysmXbWvw3nLWO21H1HSh+GOlqPuXshJfjmpNlKiiSDG9cc1JZAaMmVdcTlw==
+  dependencies:
+    ""@types/react"" ""*""
+
+""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.2.tgz#3de24c4efef902dd9795a49c75f760cbe4f7a5a8""
   integrity sha512-Xt40xQsrkdvjn1EyWe1Bc0dJLcil/9x2vAuW7ya+PuQip4UYUaXyhzWmAbwRsdMgwOFHpfp7/FFZebDU6Y8VHA==
   dependencies:
     ""@types/prop-types"" ""*""
     csstype ""^3.0.2""
 
+""@types/react@^17.0.43"":
+  version ""17.0.53""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.53.tgz#10d4d5999b8af3d6bc6a9369d7eb953da82442ab""
+  integrity sha512-1yIpQR2zdYu1Z/dc1OxC+MA6GR240u3gcnP4l6mvj/PJiVaqHsQPmWttsvHsfnhfPbU2FuGmo0wSITPygjBmsw==
+  dependencies:
+    ""@types/prop-types"" ""*""
+    ""@types/scheduler"" ""*""
+    csstype ""^3.0.2""
+
+""@types/react@^18.0.26"":
+  version ""18.0.28""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-18.0.28.tgz#accaeb8b86f4908057ad629a26635fe641480065""
+  integrity sha512-RD0ivG1kEztNBdoAK7lekI9M+azSnitIn85h4iOiaLjaTrMjzslhaqCGaI4IyCJ1RljWiLCEu4jyrLLgqxBTew==
+  dependencies:
+    ""@types/prop-types"" ""*""
+    ""@types/scheduler"" ""*""
+    csstype ""^3.0.2""
+
 ""@types/resolve@1.17.1"":
   version ""1.17.1""
   resolved ""https://registry.yarnpkg.com/@types/resolve/-/resolve-1.17.1.tgz#3afd6ad8967c77e4376c598a82ddd58f46ec45d6""
   integrity sha512-yy7HuzQhj0dhGpD8RLXSZWEkLsV9ibvxvi6EiJ3bkqLAO1RGo0WbkWQiwpRlSFymTJRz0d3k5LM3kkx8ArDbLw==
   dependencies:
     ""@types/node"" ""*""
 
+""@types/scheduler@*"":
+  version ""0.16.2""
+  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.2.tgz#1a62f89525723dde24ba1b01b092bf5df8ad4d39""
+  integrity sha512-hppQEBDmlwhFAXKJX2KnWLYu5yMfi91yazPb2l+lbJiwW+wdo1gNeRA+3RgNSO39WYX2euey41KEwnqesU2Jew==
+
 ""@types/sinonjs__fake-timers@8.1.1"":
   version ""8.1.1""
   resolved ""https://registry.yarnpkg.com/@types/sinonjs__fake-timers/-/sinonjs__fake-timers-8.1.1.tgz#b49c2c70150141a15e0fa7e79cf1f92a72934ce3""
@@ -7542,17 +7579,17 @@ husky@^8.0.2:
   resolved ""https://registry.yarnpkg.com/husky/-/husky-8.0.2.tgz#5816a60db02650f1f22c8b69b928fd6bcd77a236""
   integrity sha512-Tkv80jtvbnkK3mYWxPZePGFpQ/tT3HNSs/sasF9P2YfkMezDl3ON37YN6jUUI4eTg5LcyVynlb6r4eyvOmspvg==
 
-i18next-fs-backend@^1.1.4:
-  version ""1.1.4""
-  resolved ""https://registry.yarnpkg.com/i18next-fs-backend/-/i18next-fs-backend-1.1.4.tgz#d0e9b9ed2fa7a0f11002d82b9fa69c3c3d6482da""
-  integrity sha512-/MfAGMP0jHonV966uFf9PkWWuDjPYLIcsipnSO3NxpNtAgRUKLTwvm85fEmsF6hGeu0zbZiCQ3W74jwO6K9uXA==
+i18next-fs-backend@^2.1.1:
+  version ""2.1.1""
+  resolved ""https://registry.yarnpkg.com/i18next-fs-backend/-/i18next-fs-backend-2.1.1.tgz#07c6393be856c5a398e3dfc1257bf8439841cd89""
+  integrity sha512-FTnj+UmNgT3YRml5ruRv0jMZDG7odOL/OP5PF5mOqvXud2vHrPOOs68Zdk6iqzL47cnnM0ZVkK2BAvpFeDJToA==
 
-i18next@^21.8.13:
-  version ""21.8.14""
-  resolved ""https://registry.yarnpkg.com/i18next/-/i18next-21.8.14.tgz#03a3a669ef4520aadd9d152c80596f600e287c6a""
-  integrity sha512-4Yi+DtexvMm/Yw3Q9fllzY12SgLk+Mcmar+rCAccsOPul/2UmnBzoHbTGn/L48IPkFcmrNaH7xTLboBWIbH6pw==
+i18next@^22.4.10:
+  version ""22.4.10""
+  resolved ""https://registry.yarnpkg.com/i18next/-/i18next-22.4.10.tgz#cfbfc412c6bc83e3c16564f47e6a5c145255960e""
+  integrity sha512-3EqgGK6fAJRjnGgfkNSStl4mYLCjUoJID338yVyLMj5APT67HUtWoqSayZewiiC5elzMUB1VEUwcmSCoeQcNEA==
   dependencies:
-    ""@babel/runtime"" ""^7.17.2""
+    ""@babel/runtime"" ""^7.20.6""
 
 iconv-lite@0.4.24, iconv-lite@^0.4.24:
   version ""0.4.24""
@@ -9994,18 +10031,16 @@ next-auth@^4.0.5, next-auth@^4.3.4:
     preact-render-to-string ""^5.1.19""
     uuid ""^8.3.2""
 
-next-i18next@^11.0.0:
-  version ""11.3.0""
-  resolved ""https://registry.yarnpkg.com/next-i18next/-/next-i18next-11.3.0.tgz#bfce51d8df07fb5cd61097423eeb7d744e09ae25""
-  integrity sha512-xl0oIRtiVrk9ZaWBRUbNk/prva4Htdu59o9rFWzd9ax/KemaDVuTTuBZTQMkmXohUQk/MJ7w1rV/mICL6TzyGw==
+next-i18next@^13.1.5:
+  version ""13.1.5""
+  resolved ""https://registry.yarnpkg.com/next-i18next/-/next-i18next-13.1.5.tgz#04b824bbbe0865d2ff1e6efaf19b0dcfd63c9a93""
+  integrity sha512-gULKQNQmFYIW6C45cb5ZOHa+sw8XUkibFHTqRqrcfbAa1fcBCh3TgX1KtzA0vzeh9R93BkkvFhm+FuhO3kR9jQ==
   dependencies:
-    ""@babel/runtime"" ""^7.18.6""
+    ""@babel/runtime"" ""^7.20.13""
     ""@types/hoist-non-react-statics"" ""^3.3.1""
     core-js ""^3""
     hoist-non-react-statics ""^3.3.2""
-    i18next ""^21.8.13""
-    i18next-fs-backend ""^1.1.4""
-    react-i18next ""^11.18.0""
+    i18next-fs-backend ""^2.1.1""
 
 next-mdx-remote@^2.1.3:
   version ""2.1.4""
@@ -11643,12 +11678,12 @@ react-hook-form@^7.25.3, react-hook-form@^7.8.6:
   resolved ""https://registry.yarnpkg.com/react-hook-form/-/react-hook-form-7.33.1.tgz#8c4410e3420788d3b804d62cc4c142915c2e46d0""
   integrity sha512-ydTfTxEJdvgjCZBj5DDXRc58oTEfnFupEwwTAQ9FSKzykEJkX+3CiAkGtAMiZG7IPWHuzgT6AOBfogiKhUvKgg==
 
-react-i18next@^11.18.0:
-  version ""11.18.1""
-  resolved ""https://registry.yarnpkg.com/react-i18next/-/react-i18next-11.18.1.tgz#ba86ed09069e129b8623a28f2b9a03d7f105ea6f""
-  integrity sha512-S8cl4mvIOSA7OQCE5jNy2yhv705Vwi+7PinpqKIYcBmX/trJtHKqrf6CL67WJSA8crr2JU+oxE9jn9DQIrQezg==
+react-i18next@^12.1.5:
+  version ""12.1.5""
+  resolved ""https://registry.yarnpkg.com/react-i18next/-/react-i18next-12.1.5.tgz#b65f5733dd2f96188a9359c009b7dbe27443f009""
+  integrity sha512-7PQAv6DA0TcStG96fle+8RfTwxVbHVlZZJPoEszwUNvDuWpGldJmNWa3ZPesEsZQZGF6GkzwvEh6p57qpFD2gQ==
   dependencies:
-    ""@babel/runtime"" ""^7.14.5""
+    ""@babel/runtime"" ""^7.20.6""
     html-parse-stringify ""^3.0.1""
 
 react-is@^16.13.1, react-is@^16.7.0:
@@ -11890,6 +11925,11 @@ regenerate@^1.4.2:
   resolved ""https://registry.yarnpkg.com/regenerate/-/regenerate-1.4.2.tgz#b9346d8827e8f5a32f7ba29637d398b69014848a""
   integrity sha512-zrceR/XhGYU/d/opr2EKO7aRHUeiBI8qjtfHqADTwZd6Szfy16la6kqD0MIUs5z5hx6AaKa+PixpPrR289+I0A==
 
+regenerator-runtime@^0.13.11:
+  version ""0.13.11""
+  resolved ""https://registry.yarnpkg.com/regenerator-runtime/-/regenerator-runtime-0.13.11.tgz#f6dca3e7ceec20590d07ada785636a90cdca17f9""
+  integrity sha512-kY1AZVr2Ra+t+piVaJ4gxaFaReZVH40AKNo7UCX6W+dEwBo/2oZJzqfuN1qLq1oL45o56cPaTXELwrTh8Fpggg==
+
 regenerator-runtime@^0.13.4:
   version ""0.13.9""
   resolved ""https://registry.yarnpkg.com/regenerator-runtime/-/regenerator-runtime-0.13.9.tgz#8925742a98ffd90814988d7566ad30ca3b263b52""",False,False,Data / Input Handling,3
chapter-three,next-drupal,34215a4201da7be151b3de40a35b8246ea405e45,shadcn,m@shadcn.com,2023-01-05T10:52:44Z,GitHub,noreply@github.com,2023-01-05T10:52:44Z,fix(next): add ProphecyTrait to PathRevalidatorTest (#413),modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php,False,False,False,False,2,0,2,"---FILE: modules/next/tests/src/Kernel/Plugin/PathRevalidatorTest.php---
@@ -7,6 +7,7 @@
 use Drupal\next\Entity\NextSite;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 use GuzzleHttp\ClientInterface;
+use Prophecy\PhpUnit\ProphecyTrait;
 
 /**
  * Tests the path revalidator plugin.
@@ -18,6 +19,7 @@
 class PathRevalidatorTest extends KernelTestBase {
 
   use NodeCreationTrait;
+  use ProphecyTrait;
 
   /**
    * {@inheritdoc}",False,False,Rendering / Conversion,0
chapter-three,next-drupal,a5221a4c29bf283a9a698ba7fad6a49d38cc4933,Bojan Bogdanovic,info@designfreaks.nl,2023-01-05T10:44:28Z,GitHub,noreply@github.com,2023-01-05T10:44:28Z,fix(next): fallback on parent build instead of throwing exception when no site is configured on entity (#409),modules/next/src/Render/MainContent/HtmlRenderer.php,False,False,False,False,1,1,2,"---FILE: modules/next/src/Render/MainContent/HtmlRenderer.php---
@@ -114,7 +114,7 @@ protected function prepare(array $main_content, Request $request, RouteMatchInte
 
     $sites = $next_entity_type_config->getSiteResolver()->getSitesForEntity($entity);
     if (!count($sites)) {
-      throw new \Exception('Next.js sites for the entity could not be resolved.');
+      return $build;
     }
 
     $config = $this->configFactory->get('next.settings');",False,False,Rendering / Conversion,0
chapter-three,next-drupal,0dadba788e77771dc098facf1403b5dc5bbd4d9f,shadcn,arshad@chummun.com,2022-12-21T17:31:45Z,GitHub,noreply@github.com,2022-12-21T17:31:45Z,"fix(next): switch from InputBag::get to InputBag::all (#404)

* fix(next): switch from InputBag::get to InputBag::all

See https://github.com/symfony/symfony/blob/6.2/src/Symfony/Component/HttpFoundation/CHANGELOG.md#60

* fix(next): refactor query all

* fix(next): phpcs warning",modules/next/modules/next_jsonapi/src/Controller/EntityResource.php,False,False,False,False,4,2,6,"---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -72,13 +72,15 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
       return $params;
     }
 
+    $query = $request->query->all();
+
     // Increase the max size if path is requested as the first field.
     // We do this to overcome the max size limit when building paths for
     // getStaticPaths.
     // SPEC: https://jsonapi.org/format/#fetching-sparse-fieldsets
     $sparse_fieldset = array_map(function ($item) {
       return explode(',', $item);
-    }, $request->query->get('fields'));
+    }, $query['fields']);
 
     if (!isset($sparse_fieldset[$resource_type->getTypeName()])) {
       return $params;
@@ -94,7 +96,7 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
     $max = $this->maxSize;
 
     // Fallback to page[limit] if set.
-    if (($page = $request->query->get('page')) && isset($page['limit']) && $page['limit'] < $max) {
+    if (isset($query['page']) && ($page = $query['page']) && isset($page['limit']) && $page['limit'] < $max) {
       $max = $page['limit'];
     }
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,74ee03376b0f62d57d69e81d2b010caac1ee1650,shadcn,arshad@chummun.com,2022-12-21T06:11:34Z,GitHub,noreply@github.com,2022-12-21T06:11:34Z,fix(next): add missing @group annotation (#402),modules/next/tests/src/Kernel/Event/EntityActionEventTest.php;modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php,False,False,False,False,4,0,4,"---FILE: modules/next/tests/src/Kernel/Event/EntityActionEventTest.php---
@@ -10,6 +10,8 @@
 
 /**
  * Tests the EntityActionEvent.
+ *
+ * @group next
  */
 class EntityActionEventTest extends KernelTestBase {
 

---FILE: modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php---
@@ -11,6 +11,8 @@
 
 /**
  * Tests the EntityRevalidatedEvent.
+ *
+ * @group next
  */
 class EntityRevalidatedEventTest extends KernelTestBase {
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,925a23993fa4b8e1041443b14cbe0cbbfef9113a,shadcn,arshad@chummun.com,2022-12-06T15:58:30Z,GitHub,noreply@github.com,2022-12-06T15:58:30Z,"1.6.0 (#390)

* feat(next): implement entity revalidated event

* chore(next): phpcs warnings

hehe ci is working

* docs(www): add documentation for on-demand revalidation

* feat(basic-starter): add DRUPAL_REVALIDATE_SECRET variable

* feat(graphql-starter): add DRUPAL_REVALIDATE_SECRET variable

* docs(www): update docs for environment variables

* fix(www): add redirect for /docs/on-demand-revalidation

* docs(www): add next-drupal 1.6.0 blog post

* docs(www): update blog post

* feat(www): add new learn section

* feat: implement rehype-pretty-code for blog pages",modules/next/next.services.yml;modules/next/src/Event/EntityRevalidatedEvent.php;modules/next/src/EventSubscriber/EntityActionEventRevalidateSubscriber.php;modules/next/src/EventSubscriber/EntityActionEventSubscriberBase.php;modules/next/tests/modules/next_tests/next_tests.services.yml;modules/next/tests/modules/next_tests/src/EventSubscriber/EntityRevalidatedEventSubscriber.php;modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php;starters/basic-starter/.env.example;starters/basic-starter/pages/api/revalidate.ts;starters/graphql-starter/.env.example;starters/graphql-starter/pages/api/revalidate.ts;www/components/mdx.tsx;www/config/docs.ts;www/config/guides.ts;www/config/site.ts;www/config/tutorials.ts;www/content/blog/next-drupal-1-6.mdx;www/content/docs/entity-events.mdx;www/content/docs/environment-variables.mdx;www/content/docs/faq.mdx;www/content/docs/revalidator.mdx;www/content/docs/upgrade-guide.mdx;www/content/guides/on-demand-revalidation.mdx;www/content/tutorials/on-demand-revalidation/configure-entity-types.mdx;www/content/tutorials/on-demand-revalidation/configure-revalidate-route.mdx;www/content/tutorials/on-demand-revalidation/configure-site.mdx;www/content/tutorials/on-demand-revalidation/done.mdx;www/content/tutorials/on-demand-revalidation/index.mdx;www/content/tutorials/quick-start/done.mdx;www/next.config.js;www/package.json;www/pages/_app.tsx;www/pages/blog/[...slug].tsx;www/pages/index.tsx;www/pages/learn/index.tsx;www/styles/mdx.css;yarn.lock,False,False,False,False,1032,96,1128,"---FILE: modules/next/next.services.yml---
@@ -13,13 +13,18 @@ services:
     parent: default_plugin_manager
   next.entity_type.manager:
     class: Drupal\next\NextEntityTypeManager
-    arguments: [ ""@entity_type.manager"" ]
+    arguments: [""@entity_type.manager""]
   next.settings.manager:
     class: Drupal\next\NextSettingsManager
-    arguments: [ ""@config.factory"", ""@plugin.manager.next.site_previewer"", ""@plugin.manager.next.preview_url_generator"" ]
+    arguments:
+      [
+        ""@config.factory"",
+        ""@plugin.manager.next.site_previewer"",
+        ""@plugin.manager.next.preview_url_generator"",
+      ]
   next.preview_secret_generator:
     class: Drupal\next\PreviewSecretGenerator
-    arguments: [ ""@private_key"" ]
+    arguments: [""@private_key""]
   next.main_content_renderer.html:
     class: Drupal\next\Render\MainContent\HtmlRenderer
     decorates: main_content_renderer.html
@@ -43,14 +48,20 @@ services:
     class: Drupal\next\NextUninstallValidator
     tags:
       - { name: module_install.uninstall_validator }
-    arguments: [ '@plugin.manager.next.preview_url_generator', '@next.settings.manager' ]
+    arguments:
+      [""@plugin.manager.next.preview_url_generator"", ""@next.settings.manager""]
     lazy: true
   logger.channel.next:
     parent: logger.channel_base
-    arguments: [ 'next' ]
+    arguments: [""next""]
   next.entity_action_event_revalidate_subscriber:
     class: Drupal\next\EventSubscriber\EntityActionEventRevalidateSubscriber
-    arguments: ['@next.entity_type.manager', '@next.settings.manager', '@logger.channel.next']
+    arguments:
+      [
+        ""@next.entity_type.manager"",
+        ""@next.settings.manager"",
+        ""@logger.channel.next"",
+        ""@event_dispatcher"",
+      ]
     tags:
       - { name: event_subscriber }
-

---FILE: modules/next/src/Event/EntityRevalidatedEvent.php---
@@ -2,6 +2,8 @@
 
 namespace Drupal\next\Event;
 
+use Drupal\Core\Entity\EntityInterface;
+
 /**
  * Defines an entity revalidated event.
  *
@@ -16,6 +18,19 @@ class EntityRevalidatedEvent extends EntityActionEvent implements EntityRevalida
    */
   protected bool $revalidated;
 
+  /**
+   * Helper to create an entity action event.
+   *
+   * @param \Drupal\next\Event\EntityActionEventInterface $event
+   *   The entity action event.
+   *
+   * @return \Drupal\next\Event\EntityRevalidatedEvent
+   *   An instance of entity action event.
+   */
+  public static function createFromEntityActionEvent(EntityActionEventInterface $event): self {
+    return new static($event->getEntity(), $event->getAction(), $event->getSites(), $event->getEntityUrl());
+  }
+
   /**
    * {@inheritdoc}
    */

---FILE: modules/next/src/EventSubscriber/EntityActionEventRevalidateSubscriber.php---
@@ -4,6 +4,7 @@
 
 use Drupal\next\Event\EntityActionEvent;
 use Drupal\next\Event\EntityEvents;
+use Drupal\next\Event\EntityRevalidatedEvent;
 
 /**
  * Defines an event subscriber for revalidating entity.
@@ -29,7 +30,12 @@ public static function getSubscribedEvents() {
    */
   public function onAction(EntityActionEvent $event) {
     if ($revalidator = $this->nextEntityTypeManager->getRevalidator($event->getEntity())) {
-      $revalidator->revalidate($event);
+      $revalidated = $revalidator->revalidate($event);
+
+      // Dispatch post revalidation event.
+      $revalidated_event = EntityRevalidatedEvent::createFromEntityActionEvent($event);
+      $revalidated_event->setRevalidated($revalidated);
+      $this->eventDispatcher->dispatch($revalidated_event, EntityEvents::ENTITY_REVALIDATED);
     }
 
     return NULL;

---FILE: modules/next/src/EventSubscriber/EntityActionEventSubscriberBase.php---
@@ -3,11 +3,10 @@
 namespace Drupal\next\EventSubscriber;
 
 use Drupal\Core\Logger\LoggerChannelInterface;
-use Drupal\next\Event\EntityActionEvent;
-use Drupal\next\Event\EntityEvents;
 use Drupal\next\NextEntityTypeManagerInterface;
 use Drupal\next\NextSettingsManagerInterface;
 use Symfony\Component\EventDispatcher\EventSubscriberInterface;
+use Symfony\Contracts\EventDispatcher\EventDispatcherInterface;
 
 /**
  * Defines an entity action event subscriber.
@@ -35,6 +34,13 @@ abstract class EntityActionEventSubscriberBase implements EventSubscriberInterfa
    */
   protected LoggerChannelInterface $logger;
 
+  /**
+   * The event dispatcher.
+   *
+   * @var \Symfony\Component\EventDispatcher\EventDispatcherInterface
+   */
+  protected EventDispatcherInterface $eventDispatcher;
+
   /**
    * EntityActionEventSubscriber constructor.
    *
@@ -44,11 +50,14 @@ abstract class EntityActionEventSubscriberBase implements EventSubscriberInterfa
    *   The next settings manager.
    * @param \Drupal\Core\Logger\LoggerChannelInterface $logger
    *   The logger channel.
+   * @param \Symfony\Component\EventDispatcher\EventDispatcherInterface $event_dispatcher
+   *   The event dispatcher.
    */
-  public function __construct(NextEntityTypeManagerInterface $next_entity_type_manager, NextSettingsManagerInterface $next_settings_manager, LoggerChannelInterface $logger) {
+  public function __construct(NextEntityTypeManagerInterface $next_entity_type_manager, NextSettingsManagerInterface $next_settings_manager, LoggerChannelInterface $logger, EventDispatcherInterface $event_dispatcher) {
     $this->nextEntityTypeManager = $next_entity_type_manager;
     $this->nextSettingsManager = $next_settings_manager;
     $this->logger = $logger;
+    $this->eventDispatcher = $event_dispatcher;
   }
 
 }

---FILE: modules/next/tests/modules/next_tests/next_tests.services.yml---
@@ -1,6 +1,11 @@
 services:
   next_tests.entity_action_event_subscriber:
     class: Drupal\next_tests\EventSubscriber\EntityActionEventSubscriber
-    arguments: [ '@logger.channel.default' ]
+    arguments: [""@logger.channel.default""]
+    tags:
+      - { name: event_subscriber }
+  next_tests.entity_revalidated_event_subscriber:
+    class: Drupal\next_tests\EventSubscriber\EntityRevalidatedEventSubscriber
+    arguments: [""@logger.channel.default""]
     tags:
       - { name: event_subscriber }

---FILE: modules/next/tests/modules/next_tests/src/EventSubscriber/EntityRevalidatedEventSubscriber.php---
@@ -0,0 +1,55 @@
+<?php
+
+namespace Drupal\next_tests\EventSubscriber;
+
+use Drupal\Core\Logger\LoggerChannelInterface;
+use Drupal\next\Event\EntityEvents;
+use Drupal\next\Event\EntityRevalidatedEventInterface;
+use Symfony\Component\EventDispatcher\EventSubscriberInterface;
+
+/**
+ * Defines an event subscriber for entity revalidated events.
+ */
+class EntityRevalidatedEventSubscriber implements EventSubscriberInterface {
+
+  /**
+   * The logger channel.
+   *
+   * @var \Drupal\Core\Logger\LoggerChannelInterface
+   */
+  protected LoggerChannelInterface $logger;
+
+  /**
+   * EntityActionEventSubscriber constructor.
+   *
+   * @param \Drupal\Core\Logger\LoggerChannelInterface $logger
+   *   The logger channel.
+   */
+  public function __construct(LoggerChannelInterface $logger) {
+    $this->logger = $logger;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function getSubscribedEvents() {
+    $events[EntityEvents::ENTITY_REVALIDATED] = ['onRevalidated'];
+    return $events;
+  }
+
+  /**
+   * Logs the event.
+   *
+   * @param \Drupal\next\Event\EntityRevalidatedEventInterface $event
+   *   The event.
+   */
+  public function onRevalidated(EntityRevalidatedEventInterface $event) {
+    $this->logger->notice('Entity @label, action @action, revalidated @revalidated.', [
+      '@event' => EntityEvents::ENTITY_REVALIDATED,
+      '@label' => $event->getEntity()->label(),
+      '@action' => $event->getAction(),
+      '@revalidated' => (int) $event->isRevalidated(),
+    ]);
+  }
+
+}

---FILE: modules/next/tests/src/Kernel/Event/EntityRevalidatedEventTest.php---
@@ -0,0 +1,108 @@
+<?php
+
+namespace Drupal\Tests\next\Kernel\Event;
+
+use Drupal\Core\Database\Database;
+use Drupal\dblog\Controller\DbLogController;
+use Drupal\KernelTests\KernelTestBase;
+use Drupal\next\Entity\NextEntityTypeConfig;
+use Drupal\node\Entity\NodeType;
+use Drupal\Tests\node\Traits\NodeCreationTrait;
+
+/**
+ * Tests the EntityRevalidatedEvent.
+ */
+class EntityRevalidatedEventTest extends KernelTestBase {
+
+  use NodeCreationTrait;
+
+  /**
+   * {@inheritdoc}
+   */
+  protected static $modules = [
+    'filter',
+    'next',
+    'next_tests',
+    'node',
+    'system',
+    'user',
+    'dblog',
+  ];
+
+  /**
+   * {@inheritdoc}
+   */
+  protected function setUp(): void {
+    parent::setUp();
+
+    $this->installEntitySchema('node');
+    $this->installEntitySchema('user');
+    $this->installEntitySchema('next_entity_type_config');
+    $this->installConfig(['filter', 'next', 'system', 'user']);
+    $this->installSchema('dblog', ['watchdog']);
+    $this->installSchema('system', ['sequences']);
+    $this->installSchema('node', ['node_access']);
+    $this->installSchema('user', ['users_data']);
+
+    // Create entity type config.
+    $entity_type_config = NextEntityTypeConfig::create([
+      'id' => 'node.page',
+      'site_resolver' => 'site_selector',
+      'configuration' => [
+        'sites' => [
+          'blog' => 'blog',
+        ],
+      ],
+      'revalidator' => 'path',
+      'revalidator_configuration' => [
+        'revalidate_page' => TRUE,
+      ],
+    ]);
+    $entity_type_config->save();
+  }
+
+  /**
+   * Test entity revalidated events.
+   */
+  public function testEntityRevalidatedEvents() {
+    $page = $this->createNode(['type' => 'page', 'title' => 'A page']);
+
+    // Insert.
+    $page->save();
+    _drupal_shutdown_function();
+    $this->assertLogsContains(""Entity A page, action insert, revalidated 0."");
+
+    // Update.
+    $page->set('title', 'A page updated')->save();
+    _drupal_shutdown_function();
+    $this->assertLogsContains(""Entity A page updated, action update, revalidated 0."");
+
+    // Delete.
+    $page->delete();
+    _drupal_shutdown_function();
+    $this->assertLogsContains(""Entity A page updated, action delete, revalidated 0."");
+  }
+
+  /**
+   * Helper to assert logs.
+   *
+   * @param string $message
+   *   The message to assert in the logs.
+   */
+  protected function assertLogsContains(string $message) {
+    $logs = Database::getConnection()
+      ->select('watchdog', 'wd')
+      ->fields('wd', ['message', 'variables'])
+      ->condition('type', 'system')
+      ->execute()
+      ->fetchAll();
+
+    $controller = DbLogController::create($this->container);
+    $messages = array_map(function ($log) use ($controller) {
+      return (string) $controller->formatMessage($log);
+    }, $logs);
+
+    $this->assertContains($message, $messages);
+  }
+
+}

---FILE: starters/basic-starter/.env.example---
@@ -2,5 +2,5 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=https://dev.next-drupal.org
 NEXT_IMAGE_DOMAIN=dev.next-drupal.org
 
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file
+# Required for On-demand Revalidation
+DRUPAL_REVALIDATE_SECRET=secret
\ No newline at end of file

---FILE: starters/basic-starter/pages/api/revalidate.ts---
@@ -8,7 +8,7 @@ export default async function handler(
   const secret = request.query.secret as string
 
   // Validate secret.
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 

---FILE: starters/graphql-starter/.env.example---
@@ -6,5 +6,5 @@ NEXT_IMAGE_DOMAIN=dev.next-drupal.org
 DRUPAL_CLIENT_ID=
 DRUPAL_CLIENT_SECRET=
 
-# Required for Preview Mode
-DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file
+# Required for On-demand Revalidation
+DRUPAL_REVALIDATE_SECRET=secret
\ No newline at end of file

---FILE: starters/graphql-starter/pages/api/revalidate.ts---
@@ -8,7 +8,7 @@ export default async function handler(
   const secret = request.query.secret as string
 
   // Validate secret.
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
     return response.status(401).json({ message: ""Invalid secret."" })
   }
 

---FILE: www/components/mdx.tsx---
@@ -41,6 +41,14 @@ export const mdxComponents = {
     </code>
   ),
   pre: (props) => {
+    if (props[""data-theme""]) {
+      return (
+        <pre
+          className=""mt-6 mb-4 overflow-x-auto rounded-lg bg-slate-900 py-4""
+          {...props}
+        />
+      )
+    }
     return <div className=""flex-1 my-10"" {...props} />
   },
   table: (props) => (
@@ -54,7 +62,19 @@ export const mdxComponents = {
   th: ({ align, ...props }) => {
     return <th align={align} {...props} />
   },
-  code: CodeBlock,
+  code: ({ ...props }) => {
+    // This is using Prism remark.
+    if (props.children && props.className) {
+      return <CodeBlock {...props} />
+    }
+
+    return (
+      <code
+        className=""relative rounded border bg-slate-300 bg-opacity-25 py-[0.2rem] px-[0.3rem] font-mono text-sm text-slate-600""
+        {...props}
+      />
+    )
+  },
   Callout,
   Link,
   Img: ({ src, width, height, layout, alt, children, ...props }) => (

---FILE: www/config/docs.ts---
@@ -221,6 +221,14 @@ export const docsConfig: DocsConfig = {
           title: ""SiteResolver"",
           href: ""/docs/site-resolver"",
         },
+        {
+          title: ""Revalidator"",
+          href: ""/docs/revalidator"",
+        },
+        {
+          title: ""Entity Events"",
+          href: ""/docs/entity-events"",
+        },
       ],
     },
   ],

---FILE: www/config/guides.ts---
@@ -21,10 +21,6 @@ export const guidesConfig: GuidesConfig = {
           title: ""JSON:API Params"",
           href: ""/guides/jsonapi-params"",
         },
-        {
-          title: ""On-demand Revalidation"",
-          href: ""/guides/on-demand-revalidation"",
-        },
         {
           title: ""TypeScript"",
           href: ""/guides/typescript"",

---FILE: www/config/site.ts---
@@ -11,6 +11,11 @@ export const site: SiteConfig = {
       href: ""/learn/quick-start"",
       activePathNames: [""/learn/[...slug]""],
     },
+    {
+      title: ""Learn"",
+      href: ""/learn"",
+      activePathNames: [""/learn/[...slug]""],
+    },
     {
       title: ""Docs"",
       href: ""/docs"",
@@ -39,7 +44,7 @@ export const site: SiteConfig = {
   },
   versions: [
     {
-      version: ""v1.5.0"",
+      version: ""v1.6.0"",
       active: true,
     },
     {

---FILE: www/config/tutorials.ts---
@@ -1,14 +1,26 @@
 export const tutorialsConfig = [
   {
     title: ""Quick Start"",
+    excerpt: ""Get Started with Next.js for Drupal using JSON:API."",
+    url: ""/learn/quick-start"",
     items: [],
   },
   {
     title: ""Quick Start (GraphQL)"",
+    excerpt: ""Get Started with Next.js for Drupal using GraphQL."",
+    url: ""/learn/graphql"",
     items: [],
   },
   {
     title: ""Preview Mode"",
+    excerpt: ""Implement Preview Mode for Entity Types."",
+    url: ""/learn/preview-mode"",
+    items: [],
+  },
+  {
+    title: ""On-demand Revalidation"",
+    excerpt: ""Implement On-demand Revalidation"",
+    url: ""/learn/on-demand-revalidation"",
     items: [],
   },
 ]

---FILE: www/content/blog/next-drupal-1-6.mdx---
@@ -0,0 +1,138 @@
+---
+title: Next-Drupal 1.6
+author: shadcn
+date: December 06, 2022
+created: ""2022-12-06""
+excerpt: Next.js 13, React 18, Drupal 10 and Stable On-demand Revalidation.
+published: true
+---
+
+Today's release is a big one. We are announcing support for **Next.js 13** and **Drupal 10**.
+
+We also rewrote the implementation for on-demand revalidation. The Drupal module now ships with **stable on-demand revalidation** built on top of Drupal events API and plugin system.
+
+We are approaching **3000+** downloads per week. Thanks everyone. 
+
+---
+
+## Next.js 13
+
+We have updated `next-drupal` and the (JSON:API and GraphQL) starters to Next.js 13.
+
+You can now safely update your site and start implementing new Next.js 13 features such as the new `<Image />` and `<Link />` components, add `@next/font`...etc.
+
+```sh
+yarn add next-drupal@latest
+```
+
+---
+
+## Drupal 10
+
+The `next` module has been updated to Drupal 10. We've removed all deprecated code and APIs.
+
+**Note: This also means, as of `1.6.0`, we are stopping Drupal 8 support. You can upgrade your site to Drupal 9.3+ or Drupal 10 when it's released.**
+
+---
+
+## On-demand Revalidation
+
+The implementation for On-demand Revalidation has been completely rewritten in `1.6.0` and is now stable.
+
+On-demand Revalidation is now built on top of Drupal's Events API and `Revalidator` plugins.
+
+You can provide your own `Revalidator` plugins to execute custom code when an entity is inserted, updated or deleted.
+
+```php showLineNumbers title=""custom_module/src/Plugin/Next/Revalidator/CustomRevalidator.php""
+<?php
+
+namespace Drupal\custom_module\Plugin\Next\Revalidator;
+
+use Drupal\next\Event\EntityActionEvent;
+use Drupal\next\Plugin\RevalidatorBase;
+
+/**
+ * Provides a custom revalidator.
+ *
+ * @Revalidator(
+ *  id = ""custom"",
+ *  label = ""Custom Revalidator"",
+ *  description = ""Description for the custom revalidator""
+ * )
+ */
+class CustomRevalidator extends RevalidatorBase {
+
+  /**
+   * {@inheritdoc}
+   */
+  public function revalidate(EntityActionEvent $event): bool {
+	// Called when entity is created, updated or deleted.
+  }
+
+}
+```
+
+See the [docs for Revalidator plugins](/docs/revalidator).
+
+### Entity Events
+
+We have also added entity events so you can build your own event subscribers for when an entity is inserted, updated or updated.
+
+You can also use event subscribers to execute code **post revalidation**.
+
+```php showLineNumbers title=""custom_module/src/EventSubscriber/EventSubscriber.php""
+<?php
+
+namespace Drupal\next_tests\EventSubscriber;
+
+use Drupal\next\Event\EntityEvents;
+use Drupal\next\Event\EntityRevalidatedEventInterface;
+use Symfony\Component\EventDispatcher\EventSubscriberInterface;
+
+/**
+ * Defines an event subscriber for entity revalidated events.
+ */
+class EventSubscriber implements EventSubscriberInterface {
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function getSubscribedEvents() {
+    $events[EntityEvents::ENTITY_REVALIDATED] = ['onRevalidated'];
+    return $events;
+  }
+
+  /**
+   * Responds to entity revalidated.
+   *
+   * @param \Drupal\next\Event\EntityRevalidatedEventInterface $event
+   *   The event.
+   */
+  public function onRevalidated(EntityRevalidatedEventInterface $event) {
+    if ($event->isRevalidated()) {
+	 // Do something if entity has been successfully revalidated.
+	}
+  }
+
+}
+```
+
+---
+
+## Version Matching
+
+As of `1.6.0`, we are going to match minor versions for `next-drupal` and `next` module.
+
+Bumping a minor in `next-drupal` will bump same in `next` module.
+
+<Callout>
+
+Note: To match minor for `next-drupal 1.6.0`, we are skipping `next 1.5.0`.
+
+</Callout>
+
+---
+
+## Upgrading
+
+You can upgrade to `1.6.0` by following our upgrade guide [here](/docs/upgrade-guide).

---FILE: www/content/docs/entity-events.mdx---
@@ -0,0 +1,96 @@
+---
+title: Entity Events
+excerpt: Events and Events Subscribers.
+---
+
+## Events
+
+| Name                               | Description                                     |
+| ---------------------------------- | ----------------------------------------------- |
+| `EntityEvents::ENTITY_ACTION`      | When an entity is inserted, updated or deleted. |
+| `EntityEvents::ENTITY_REVALIDATED` | When an entity is revalidated                   |
+
+---
+
+## EventSubscribers
+
+### Entity insert, update or delete
+
+Create an event subscriber when an entity is inserted, updated or deleted: `EntityEvents::ENTITY_ACTION`.
+
+```php title=custom_module/src/EventSubscriber/EntityActionEventSubscriber.php
+<?php
+
+namespace Drupal\custom_module\EventSubscriber;
+
+use Drupal\next\Event\EntityActionEvent;
+use Drupal\next\Event\EntityEvents;
+use Symfony\Component\EventDispatcher\EventSubscriberInterface;
+
+/**
+ * Defines an event subscriber for entity action events.
+ */
+class EntityActionEventSubscriber implements EventSubscriberInterface {
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function getSubscribedEvents() {
+    $events[EntityEvents::ENTITY_ACTION] = ['onAction'];
+    return $events;
+  }
+
+  /**
+   * Responds to the action event.
+   *
+   * @param \Drupal\next\Event\EntityActionEvent $event
+   *   The event.
+   */
+  public function onAction(EntityActionEvent $event) {
+	// Get the action: insert, updated or delete.
+	$action = $event->getAction();
+  }
+
+}
+```
+
+### Revalidated
+
+Create an event subscriber when an entity is revalidated (**post revalidation**): `EntityEvents::ENTITY_REVALIDATED`.
+
+```php title=custom_module/src/EventSubscriber/EntityRevalidatedEventSubscriber.php
+<?php
+
+namespace Drupal\next_tests\EventSubscriber;
+
+use Drupal\next\Event\EntityEvents;
+use Drupal\next\Event\EntityRevalidatedEventInterface;
+use Symfony\Component\EventDispatcher\EventSubscriberInterface;
+
+/**
+ * Defines an event subscriber for entity revalidated events.
+ */
+class EntityRevalidatedEventSubscriber implements EventSubscriberInterface {
+
+  /**
+   * {@inheritdoc}
+   */
+  public static function getSubscribedEvents() {
+    $events[EntityEvents::ENTITY_REVALIDATED] = ['onRevalidated'];
+    return $events;
+  }
+
+  /**
+   * Responds to entity revalidated.
+   *
+   * @param \Drupal\next\Event\EntityRevalidatedEventInterface $event
+   *   The event.
+   */
+  public function onRevalidated(EntityRevalidatedEventInterface $event) {
+    if ($event->isRevalidated()) {
+	 // Do something if entity has been successfully revalidated.
+	}
+  }
+
+}
+```

---FILE: www/content/docs/environment-variables.mdx---
@@ -11,6 +11,9 @@ NEXT_IMAGE_DOMAIN=localhost
 # Required for Preview Mode
 DRUPAL_PREVIEW_SECRET=
 
+# Required for On-demand Revalidation
+DRUPAL_REVALIDATE_SECRET=
+
 # Authentication (Bearer)
 DRUPAL_CLIENT_ID=
 DRUPAL_CLIENT_SECRET=
@@ -55,6 +58,25 @@ const drupal = new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
 })
 ```
 
+## On-demand Revalidation
+
+Environment variables required for on-demand revalidation.
+
+| Name                       | Description                                                                                       |
+| -------------------------- | :------------------------------------------------------------------------------------------------ |
+| `DRUPAL_REVALIDATE_SECRET` | The secret for [on-demand revalidation](/docs/on-demand-revalidation). Example: `U2Y5bbkKJ08Ua8F` |
+
+```ts title=pages/api/revalidate.ts
+export default async function handler(request, response) {
+  const secret = request.query.secret as string
+
+  // Validate secret.
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
+    return response.status(401).json({ message: ""Invalid secret."" })
+  }
+}
+```
+
 ---
 
 ## Authentication (Bearer)

---FILE: www/content/docs/faq.mdx---
@@ -5,7 +5,7 @@ excerpt: Frequently Asked Questions about Next.js for Drupal
 
 ## Which Drupal versions are supported?
 
-Next.js for Drupal works requires Drupal 9.2+.
+Next.js for Drupal works requires Drupal 9.3+ and Drupal 10.
 
 ## Does it work without authentication?
 

---FILE: www/content/docs/revalidator.mdx---
@@ -0,0 +1,142 @@
+---
+title: Revalidator
+excerpt: Learn how to implement custom revalidator plugins.
+---
+
+To handle [On-demand Revalidation](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration#using-on-demand-revalidation), we use `Revalidator` plugins.
+
+A `Revalidator` plugin revalidates one or more Next.js sites when a Drupal entity is **inserted**, **updated** or **deleted**.
+
+Out of the box, the `next` module ships with the [`Path`](https://github.com/chapter-three/next-drupal/blob/main/modules/next/src/Plugin/Next/Revalidator/Path.php) revalidator. The `Path` revalidator revalidates a Next.js site based on the entity path.
+
+---
+
+## Custom Revalidator
+
+You can implement your own revalidator plugin using the Drupal Plugin API.
+
+```php title=custom_module/src/Plugin/Next/Revalidator/CustomRevalidator.php
+<?php
+
+namespace Drupal\custom_module\Plugin\Next\Revalidator;
+
+use Drupal\next\Event\EntityActionEvent;
+use Drupal\next\Plugin\RevalidatorBase;
+
+/**
+ * Provides a custom revalidator.
+ *
+ * @Revalidator(
+ *  id = ""custom"",
+ *  label = ""Custom Revalidator"",
+ *  description = ""Description for the custom revalidator""
+ * )
+ */
+class CustomRevalidator extends RevalidatorBase {
+
+  /**
+   * {@inheritdoc}
+   */
+  public function revalidate(EntityActionEvent $event): bool {
+	// Get the entity.
+    $entity = $event->getEntity();
+
+    // Get the sites configured for this entity.
+    $sites = $event->getSites();
+
+    // Get the action: insert, updated or delete.
+    $action = $event->getAction();
+  }
+
+}
+```
+
+Visit the configuration page of an entity type at `/admin/config/services/next/entity-types`.
+
+You should see **Custom Revalidator** available as a plugin under On-demand Revalidation. Select it and save.
+
+Now, whenever an entity is inserted, updated or deleted, the `CustomRevalidator::revalidate` function will be called.
+
+<Callout>
+
+**Note:** `revalidate` is called on [shutdown](https://api.drupal.org/api/drupal/core%21includes%21bootstrap.inc/function/drupal_register_shutdown_function/9.3.x). This means `dump()` calls will not be registered. Use a breakpoint instead.
+
+</Callout>
+
+---
+
+## Configurable Revalidator
+
+To implement a configurable `Revalidator` plugin, extend the `ConfigurableRevalidatorBase`.
+
+```php title=custom_module/src/Plugin/Next/Revalidator/ConfigurableRevalidator.php
+<?php
+
+namespace Drupal\custom_module\Plugin\Next\Revalidator;
+
+use Drupal\Core\Form\FormStateInterface;
+use Drupal\next\Event\EntityActionEvent;
+use Drupal\next\Plugin\ConfigurableRevalidatorBase;
+
+/**
+ * Provides a configuratble revalidator.
+ *
+ * @Revalidator(
+ *  id = ""configurable_revalidator"",
+ *  label = ""Configurable Revalidator"",
+ *  description = ""Description for the configurable revalidator""
+ * )
+ */
+class ConfigurableRevalidator extends ConfigurableRevalidatorBase {
+
+  /**
+   * {@inheritdoc}
+   */
+  public function defaultConfiguration() {
+    return [
+      'message' => NULL,
+    ];
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public function buildConfigurationForm(array $form, FormStateInterface $form_state) {
+    $form['message'] = [
+      '#type' => 'textfield',
+      '#title' => $this->t('Message'),
+      '#default_value' => $this->configuration['message'],
+    ];
+
+    return $form;
+  }
+
+  /**
+   * {@inheritdoc}
+   */
+  public function submitConfigurationForm(array &$form, FormStateInterface $form_state) {
+    $this->configuration['message'] = $form_state->getValue('message');
+  }
+
+
+  /**
+   * {@inheritdoc}
+   */
+  public function revalidate(EntityActionEvent $event): bool {
+    // Get the configuration.
+    $message = $this->configuration['message'];
+  }
+
+}
+```
+
+You should also provide the schema definition at `web/modules/custom/custom_module/config/custom_module.schema.yml`:
+
+```yml
+next.revalidator.configuration.configurable_revalidator:
+  type: mapping
+  mapping:
+    message:
+      type: string
+      label: ""Message""
+```

---FILE: www/content/docs/upgrade-guide.mdx---
@@ -3,6 +3,42 @@ title: Upgrade Guide
 excerpt: Guide for upgrading your site to use DrupalClient.
 ---
 
+## next-drupal 1.6.0
+
+1. Upgrade to the latest version
+
+```sh
+yarn add next-drupal@latest
+```
+
+<Callout>
+
+`next-drupal 1.6.0` adds support for Next.js 13 and React 18. To update your site to Next.js 13, see the [Upgrading from 12 to 13](https://nextjs.org/docs/upgrading#upgrading-from-12-to-13) guide on the Next.js site.
+
+</Callout>
+
+## next 1.6.0
+
+1. Upgrade your Drupal site to use `next 1.6.0`
+
+```sh
+composer require drupal/next
+```
+
+2. Run updates:
+
+```sh
+drush updb
+```
+
+<Callout>
+
+Running the updates will migrate the legacy `next_extras` on-demand revalidation configuration to entity type config.
+
+</Callout>
+
+---
+
 ## next 1.3.0
 
 1. Upgrade your Drupal site to use `next 1.3.0`

---FILE: www/content/guides/on-demand-revalidation.mdx---
@@ -1,57 +0,0 @@
----
-title: On-demand Revalidation
-excerpt: How to implement on-demand revalidation for instant content updates.
----
-
-Starting with `v12.1.0`, Next.js added support for [on-demand Incremental Static Regeneration](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration).
-
-<Callout icon="""">
-
-On-demand revalidation is experimental in Next.js 12.1.0, so we're shipping it in the `next_extras` module as experimental as well.
-
-</Callout>
-
-## Implementation
-
-1. On your Drupal site, visit `/admin/modules` and enable the **Next Extras** module.
-2. Next, visit `/admin/config/services/next/entity-types` and click edit next to an entity type.
-3. Under **Experimental** are the settings for revalidation.
-4. You can provide additional paths for revalidation under **Paths**.
-
-On the Next.js site, implement the following route.
-
-```ts title=pages/api/revalidate.ts
-import { NextApiRequest, NextApiResponse } from ""next""
-
-export default async function handler(
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  let slug = request.query.slug as string
-  const secret = request.query.secret as string
-
-  // Validate secret.
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
-    return response.status(401).json({ message: ""Invalid secret."" })
-  }
-
-  // Validate slug.
-  if (!slug) {
-    return response.status(400).json({ message: ""Invalid slug."" })
-  }
-
-  try {
-    await response.revalidate(slug)
-
-    return response.json({})
-  } catch (error) {
-    return response.status(404).json({
-      message: error.message,
-    })
-  }
-}
-```
-
-## Usage
-
-Now whenever the configured entity type is updated or deleted on your Drupal site, the `next_extras` module will ping your Next.js site to purge the cache and revalidate the page.

---FILE: www/content/tutorials/on-demand-revalidation/configure-entity-types.mdx---
@@ -0,0 +1,25 @@
+---
+title: Configure Entity Types
+excerpt: Configure on-demand revalidation for entity types
+weight: 350
+group: On-demand Revalidation
+---
+
+Next, we need to configure on-demand revalidation for the entity types.
+
+To enable on-demand revalidation for an entity type, we need to configure a **revalidator** plugin.
+
+<Callout>
+
+A _revalidator_ tells Drupal how to revalidate an entity when it is created, updated or deleted.
+
+</Callout>
+
+1. Visit `/admin/config/services/next/entity-types`
+2. Click **Configure entity type** or **Edit** an existing one
+3. Click **On-demand Revalidation**
+4. Select **Path** as the revalidator **Plugin**
+5. Check **Revalidate page**
+6. Click **Save**
+
+If you want to revalidate multiple pages, you can configure **Additional paths**. Example: you might want to revalidate the `/blog` landing page when an Article is created.

---FILE: www/content/tutorials/on-demand-revalidation/configure-revalidate-route.mdx---
@@ -0,0 +1,48 @@
+---
+title: Configure Revalidate Route
+excerpt: Revalidate routes in Next.js
+weight: 360
+group: On-demand Revalidation
+---
+
+Implement on-demand revalidation using an API routes at `/revalidate`.
+
+<Callout>
+
+If you're using the Basic Starter, revalidate route are already created for you. You can skip this step.
+
+</Callout>
+
+## /pages/api/revalidate.ts
+
+```ts title=pages/api/revalidate.ts
+import { NextApiRequest, NextApiResponse } from ""next""
+
+export default async function handler(
+  request: NextApiRequest,
+  response: NextApiResponse
+) {
+  let slug = request.query.slug as string
+  const secret = request.query.secret as string
+
+  // Validate secret.
+  if (secret !== process.env.DRUPAL_REVALIDATE_SECRET) {
+    return response.status(401).json({ message: ""Invalid secret."" })
+  }
+
+  // Validate slug.
+  if (!slug) {
+    return response.status(400).json({ message: ""Invalid slug."" })
+  }
+
+  try {
+    await response.revalidate(slug)
+
+    return response.json({})
+  } catch (error) {
+    return response.status(404).json({
+      message: error.message,
+    })
+  }
+}
+```

---FILE: www/content/tutorials/on-demand-revalidation/configure-site.mdx---
@@ -0,0 +1,18 @@
+---
+title: Configure Next.js site
+excerpt: Configure on-demand Revalidation for a Next.js site
+weight: 305
+group: On-demand Revalidation
+---
+
+Vist your Next.js site configuration page on Drupal to configure on-demand revalidation.
+
+1. Visit `/admin/config/services/next`.
+2. Click **Edit** next to your site.
+3. Click **On-demand Revalidation**.
+4. Fill in the following values:
+
+- **Revalidate URL**: `http://localhost:3000/api/revalidate`
+- **Revalidate secret**: `secret`
+
+5. Click **Save**

---FILE: www/content/tutorials/on-demand-revalidation/done.mdx---
@@ -0,0 +1,27 @@
+---
+title: Done
+weight: 400
+group: On-demand Revalidation
+---
+
+Congratulations. You have successfully configured on-demand revalidation for your entity types.
+
+When you create, update or delete an entity in Drupal, your Next.js site will be revalidated to show the updates.
+
+---
+
+## What's next?
+
+On-demand Revalidation is built on top of Drupal's Events API and Revalidator plugins.
+
+If you'd like to customize, extend or provide your own revalidator plugin, see the documentation [here](/docs/revalidator).
+
+See also the [Entity Events documentation](/docs/entity-events).
+
+---
+
+## Need help?
+
+If you need help, feel free to create an issue on [GitHub](https://github.com/chapter-three/next-drupal).
+
+You can also reach out on [Twitter](https://twitter.com/shadcn).

---FILE: www/content/tutorials/on-demand-revalidation/index.mdx---
@@ -0,0 +1,10 @@
+---
+title: Introduction
+excerpt: Enable on-demand ISR for content types.
+weight: 300
+group: On-demand Revalidation
+---
+
+[On-demand Revalidation](https://nextjs.org/docs/basic-features/data-fetching/incremental-static-regeneration#on-demand-revalidation) makes it easy to update your Next.js site when content on Drupal is created, updated or deleted.
+
+Starting with `v1.5.0`, Next.js for Drupal supports On-demand Revalidation configurable per entity types.

---FILE: www/content/tutorials/quick-start/done.mdx---
@@ -8,7 +8,7 @@ Congratulations. You have successfully install, configure and connect a Next.js
 
 ---
 
-## What's Next?
+## What's next?
 
 Take a look at the [documentation](/docs) to learn more about decoupling Drupal with Next.js.
 

---FILE: www/next.config.js---
@@ -12,11 +12,6 @@ module.exports = {
         destination: ""/learn"",
         permanent: true,
       },
-      {
-        source: ""/learn"",
-        destination: ""/learn/quick-start"",
-        permanent: false,
-      },
       {
         source: ""/docs/demo"",
         destination: ""/docs/examples"",
@@ -97,6 +92,16 @@ module.exports = {
         destination: ""/docs/typescript"",
         permanent: true,
       },
+      {
+        source: ""/guides/on-demand-revalidation"",
+        destination: ""/learn/on-demand-revalidation"",
+        permanent: true,
+      },
+      {
+        source: ""/docs/on-demand-revalidation"",
+        destination: ""/learn/on-demand-revalidation"",
+        permanent: true,
+      },
     ]
   },
 }

---FILE: www/package.json---
@@ -32,8 +32,10 @@
     ""autoprefixer"": ""^10.4.7"",
     ""eslint-config-next"": ""^12.0.10"",
     ""postcss"": ""^8.4.14"",
+    ""rehype-pretty-code"": ""^0.5.1"",
     ""remark-autolink-headings"": ""^6.0.1"",
     ""remark-slug"": ""^6.0.0"",
+    ""shiki"": ""^0.11.1"",
     ""tailwindcss"": ""^3.0.24"",
     ""typescript"": ""^4.5.5""
   }

---FILE: www/pages/_app.tsx---
@@ -5,6 +5,7 @@ import { Analytics } from ""@vercel/analytics/react""
 import { site } from ""config/site""
 
 import ""../styles/global.css""
+import ""../styles/mdx.css""
 
 export default function App({ Component, pageProps }) {
   return (

---FILE: www/pages/blog/[...slug].tsx---
@@ -56,6 +56,28 @@ export async function getStaticProps(context) {
         require(""remark-slug""),
         require(""remark-autolink-headings""),
       ],
+      rehypePlugins: [
+        [
+          require(""rehype-pretty-code""),
+          {
+            theme: ""github-dark"",
+
+            onVisitLine(node) {
+              // Prevent lines from collapsing in `display: grid` mode, and allow empty
+              // lines to be copy/pasted
+              if (node.children.length === 0) {
+                node.children = [{ type: ""text"", value: "" "" }]
+              }
+            },
+            onVisitHighlightedLine(node) {
+              node.properties.className.push(""line--highlighted"")
+            },
+            onVisitHighlightedWord(node) {
+              node.properties.className = [""word--highlighted""]
+            },
+          },
+        ],
+      ],
     },
   })
 

---FILE: www/pages/index.tsx---
@@ -35,12 +35,11 @@ export default function IndexPage({ features }: IndexPageProps) {
     <Layout title={site.name} description={site.description}>
       <section className=""relative px-6 pt-12 pb-8 md:py-12 md:pb-8"">
         <div className=""container max-w-4xl mx-auto text-center"">
-          <Link href=""/blog/next-1-4"" passHref>
-            <a className=""inline-flex space-x-1 mx-auto mb-4 bg-[#E10098]/40 hover:underline text-sm items-center rounded-full px-4 py-1 font-medium"">
-              <svg viewBox=""0 0 24 24"" className=""w-5 h-5"">
-                <path d=""M12.002 0a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm8.54 4.931a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm0 9.862a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm-8.54 4.931a2.138 2.138 0 1 0 0 4.276 2.138 2.138 0 1 0 0-4.276zm-8.542-4.93a2.138 2.138 0 1 0 0 4.276 2.138 2.138 0 1 0 0-4.277zm0-9.863a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm8.542-3.378L2.953 6.777v10.448l9.049 5.224 9.047-5.224V6.777zm0 1.601 7.66 13.27H4.34zm-1.387.371L3.97 15.037V7.363zm2.774 0 6.646 3.838v7.674zM5.355 17.44h13.293l-6.646 3.836z"" />
-              </svg>
-              <span>Announcing GraphQL support in Next.js for Drupal</span>
+          <Link href=""/blog/next-drupal-1-6"" passHref>
+            <a className=""inline-flex space-x-1 mx-auto mb-4 bg-[#111] text-white hover:underline text-sm items-center rounded-full px-4 py-1 font-medium"">
+              <span>
+                Next.js 13, Drupal 10 and Stable On-demand Revalidation
+              </span>
             </a>
           </Link>
           <h1 className=""text-4xl font-black tracking-tight text-center md:text-6xl lg:tracking-tighter lg:text-8xl"">

---FILE: www/pages/learn/index.tsx---
@@ -0,0 +1,54 @@
+import { getAllMdxNodes } from ""next-mdx/server""
+import Link from ""next/link""
+
+import { Tutorial } from ""types""
+import { Layout } from ""components/layout""
+import { tutorialsConfig } from ""config/tutorials""
+
+export interface LearnPageProps {
+  tutorials: Tutorial[]
+}
+
+export default function LearnPage({ tutorials }: LearnPageProps) {
+  return (
+    <Layout
+      title=""Learn""
+      description=""Get started with Next.js for Drupal, implement Preview Mode and add
+      On-demand Revalidation.""
+    >
+      <div className=""container max-w-4xl px-6 py-12 mx-auto xl:px-8"">
+        <h1 className=""text-3xl font-bold leading-tight sm:text-4xl md:text-5xl"">
+          Learn
+        </h1>
+        <p className=""mt-4 text-gray-700"">
+          Get started with Next.js for Drupal, implement Preview Mode and add
+          On-demand Revalidation.
+        </p>
+        <hr className=""py-6 mt-6"" />
+        <div className=""grid gap-10 sm:grid-cols-2"">
+          {tutorialsConfig.map((tutorial) => (
+            <article
+              key={tutorial.url}
+              className=""relative block p-6 bg-white border border-gray-200 rounded-lg shadow-md group""
+            >
+              <div>
+                <h2 className=""mb-2 text-xl font-bold tracking-tight text-gray-900 group-hover:text-primary"">
+                  <a>{tutorial.title}</a>
+                </h2>
+                {tutorial.excerpt ? (
+                  <p className=""my-4 text-gray-700"">{tutorial.excerpt}</p>
+                ) : null}
+              </div>
+              <Link href={tutorial.url} passHref>
+                <a className=""text-sm text-blue-500 transition-colors"">
+                  <span className=""absolute inset-0"" />
+                  Learn More 
+                </a>
+              </Link>
+            </article>
+          ))}
+        </div>
+      </div>
+    </Layout>
+  )
+}

---FILE: www/styles/mdx.css---
@@ -0,0 +1,32 @@
+[data-rehype-pretty-code-fragment] code {
+  @apply grid min-w-full break-words rounded-none border-0 bg-transparent p-0 text-sm text-black;
+  counter-reset: line;
+  box-decoration-break: clone;
+}
+[data-rehype-pretty-code-fragment] .line {
+  @apply px-4 py-1;
+}
+[data-rehype-pretty-code-fragment] [data-line-numbers] > .line::before {
+  counter-increment: line;
+  content: counter(line);
+  display: inline-block;
+  width: 1rem;
+  margin-right: 1rem;
+  text-align: right;
+  color: gray;
+}
+[data-rehype-pretty-code-fragment] .line--highlighted {
+  @apply bg-slate-300 bg-opacity-10;
+}
+[data-rehype-pretty-code-fragment] .line-highlighted span {
+  @apply relative;
+}
+[data-rehype-pretty-code-fragment] .word--highlighted {
+  @apply rounded-md bg-slate-300 bg-opacity-10 p-1;
+}
+[data-rehype-pretty-code-title] {
+  @apply mt-4 py-2 px-4 text-sm font-medium;
+}
+[data-rehype-pretty-code-title] + pre {
+  @apply mt-0;
+}

---FILE: yarn.lock---
@@ -3280,28 +3280,58 @@
   resolved ""https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.5.tgz#5f19d2b85a98e9558036f6a3cacc8819420f05cf""
   integrity sha512-JCB8C6SnDoQf0cNycqd/35A7MjcnK+ZTqE7judS6o7utxUCg6imJg3QK2qzHKszlTjcj2cn+NwMB2i96ubpj7w==
 
-""@types/react-dom@17.0.2"", ""@types/react-dom@^18.0.9"":
+""@types/react-dom@17.0.2"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-17.0.2.tgz#35654cf6c49ae162d5bc90843d5437dc38008d43""
   integrity sha512-Icd9KEgdnFfJs39KyRyr0jQ7EKhq8U6CcHRMGAS45fp5qgUvxL3ujUCfWFttUK2UErqZNj97t9gsVPNAqcwoCg==
   dependencies:
     ""@types/react"" ""*""
 
-""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"", ""@types/react@^17.0.43"", ""@types/react@^18.0.26"":
+""@types/react-dom@^18.0.9"":
+  version ""18.0.9""
+  resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-18.0.9.tgz#ffee5e4bfc2a2f8774b15496474f8e7fe8d0b504""
+  integrity sha512-qnVvHxASt/H7i+XG1U1xMiY5t+IHcPGUK7TDMDzom08xa7e86eCeKOiLZezwCKVxJn6NEiiy2ekgX8aQssjIKg==
+  dependencies:
+    ""@types/react"" ""*""
+
+""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.2.tgz#3de24c4efef902dd9795a49c75f760cbe4f7a5a8""
   integrity sha512-Xt40xQsrkdvjn1EyWe1Bc0dJLcil/9x2vAuW7ya+PuQip4UYUaXyhzWmAbwRsdMgwOFHpfp7/FFZebDU6Y8VHA==
   dependencies:
     ""@types/prop-types"" ""*""
     csstype ""^3.0.2""
 
+""@types/react@^17.0.43"":
+  version ""17.0.52""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.52.tgz#10d8b907b5c563ac014a541f289ae8eaa9bf2e9b""
+  integrity sha512-vwk8QqVODi0VaZZpDXQCmEmiOuyjEFPY7Ttaw5vjM112LOq37yz1CDJGrRJwA1fYEq4Iitd5rnjd1yWAc/bT+A==
+  dependencies:
+    ""@types/prop-types"" ""*""
+    ""@types/scheduler"" ""*""
+    csstype ""^3.0.2""
+
+""@types/react@^18.0.26"":
+  version ""18.0.26""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-18.0.26.tgz#8ad59fc01fef8eaf5c74f4ea392621749f0b7917""
+  integrity sha512-hCR3PJQsAIXyxhTNSiDFY//LhnMZWpNNr5etoCqx/iUfGc5gXWtQR2Phl908jVR6uPXacojQWTg4qRpkxTuGug==
+  dependencies:
+    ""@types/prop-types"" ""*""
+    ""@types/scheduler"" ""*""
+    csstype ""^3.0.2""
+
 ""@types/resolve@1.17.1"":
   version ""1.17.1""
   resolved ""https://registry.yarnpkg.com/@types/resolve/-/resolve-1.17.1.tgz#3afd6ad8967c77e4376c598a82ddd58f46ec45d6""
   integrity sha512-yy7HuzQhj0dhGpD8RLXSZWEkLsV9ibvxvi6EiJ3bkqLAO1RGo0WbkWQiwpRlSFymTJRz0d3k5LM3kkx8ArDbLw==
   dependencies:
     ""@types/node"" ""*""
 
+""@types/scheduler@*"":
+  version ""0.16.2""
+  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.2.tgz#1a62f89525723dde24ba1b01b092bf5df8ad4d39""
+  integrity sha512-hppQEBDmlwhFAXKJX2KnWLYu5yMfi91yazPb2l+lbJiwW+wdo1gNeRA+3RgNSO39WYX2euey41KEwnqesU2Jew==
+
 ""@types/sinonjs__fake-timers@8.1.1"":
   version ""8.1.1""
   resolved ""https://registry.yarnpkg.com/@types/sinonjs__fake-timers/-/sinonjs__fake-timers-8.1.1.tgz#b49c2c70150141a15e0fa7e79cf1f92a72934ce3""
@@ -8794,6 +8824,11 @@ jsonapi-serializer@^3.6.7:
     inflected ""^1.1.6""
     lodash ""^4.16.3""
 
+jsonc-parser@^3.0.0:
+  version ""3.2.0""
+  resolved ""https://registry.yarnpkg.com/jsonc-parser/-/jsonc-parser-3.2.0.tgz#31ff3f4c2b9793f89c67212627c51c6394f88e76""
+  integrity sha512-gfFQZrcTc8CnKXp6Y4/CBT3fTc0OVuDofpre4aEeEpSBPV5X5v4+Vmx+8snU7RLPrNHPKSgLxGo9YuQzz20o+w==
+
 jsonfile@^4.0.0:
   version ""4.0.0""
   resolved ""https://registry.yarnpkg.com/jsonfile/-/jsonfile-4.0.0.tgz#8771aae0799b64076b76640fca058f9c10e33ecb""
@@ -10807,6 +10842,11 @@ parse-json@^5.0.0, parse-json@^5.2.0:
     json-parse-even-better-errors ""^2.3.0""
     lines-and-columns ""^1.1.6""
 
+parse-numeric-range@^1.3.0:
+  version ""1.3.0""
+  resolved ""https://registry.yarnpkg.com/parse-numeric-range/-/parse-numeric-range-1.3.0.tgz#7c63b61190d61e4d53a1197f0c83c47bb670ffa3""
+  integrity sha512-twN+njEipszzlMJd4ONUYgSfZPDxgHhT9Ahed5uTigpQn90FggW4SA/AIPq/6a149fTbE9qBEcSwE3FAEp6wQQ==
+
 parse-passwd@^1.0.0:
   version ""1.0.0""
   resolved ""https://registry.yarnpkg.com/parse-passwd/-/parse-passwd-1.0.0.tgz#6d5b934a456993b23d37f40a382d6f1666a8e5c6""
@@ -11946,6 +11986,13 @@ regjsparser@^0.8.2:
   dependencies:
     jsesc ""~0.5.0""
 
+rehype-pretty-code@^0.5.1:
+  version ""0.5.1""
+  resolved ""https://registry.yarnpkg.com/rehype-pretty-code/-/rehype-pretty-code-0.5.1.tgz#f50f03733d7145987e01185db5160fdec1380ba2""
+  integrity sha512-v8kVq8eMAm0L1O7H2MH/79CO02tBVE60Bv6pPXiYsSE7YRn8o04sEG7nPj3Xg8pHYRGQsiczX3Pb63JuJtVKDg==
+  dependencies:
+    parse-numeric-range ""^1.3.0""
+
 remark-autolink-headings@^6.0.1:
   version ""6.1.0""
   resolved ""https://registry.yarnpkg.com/remark-autolink-headings/-/remark-autolink-headings-6.1.0.tgz#45fa1f8860e0fc6b78bcbc4b0f5d5dd696170e04""
@@ -12498,6 +12545,15 @@ shebang-regex@^3.0.0:
   resolved ""https://registry.yarnpkg.com/shebang-regex/-/shebang-regex-3.0.0.tgz#ae16f1644d873ecad843b0307b143362d4c42172""
   integrity sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==
 
+shiki@^0.11.1:
+  version ""0.11.1""
+  resolved ""https://registry.yarnpkg.com/shiki/-/shiki-0.11.1.tgz#df0f719e7ab592c484d8b73ec10e215a503ab8cc""
+  integrity sha512-EugY9VASFuDqOexOgXR18ZV+TbFrQHeCpEYaXamO+SZlsnT/2LxuLBX25GGtIrwaEVFXUAbUQ601SWE2rMwWHA==
+  dependencies:
+    jsonc-parser ""^3.0.0""
+    vscode-oniguruma ""^1.6.1""
+    vscode-textmate ""^6.0.0""
+
 side-channel@^1.0.4:
   version ""1.0.4""
   resolved ""https://registry.yarnpkg.com/side-channel/-/side-channel-1.0.4.tgz#efce5c8fdc104ee751b25c58d4290011fa5ea2cf""
@@ -14059,6 +14115,16 @@ void-elements@3.1.0:
   resolved ""https://registry.yarnpkg.com/void-elements/-/void-elements-3.1.0.tgz#614f7fbf8d801f0bb5f0661f5b2f5785750e4f09""
   integrity sha512-Dhxzh5HZuiHQhbvTW9AMetFfBHDMYpo23Uo9btPXgdYP+3T5S+p+jgNy7spra+veYhBP2dCSgxR/i2Y02h5/6w==
 
+vscode-oniguruma@^1.6.1:
+  version ""1.7.0""
+  resolved ""https://registry.yarnpkg.com/vscode-oniguruma/-/vscode-oniguruma-1.7.0.tgz#439bfad8fe71abd7798338d1cd3dc53a8beea94b""
+  integrity sha512-L9WMGRfrjOhgHSdOYgCt/yRMsXzLDJSL7BPrOZt73gU0iWO4mpqzqQzOz5srxqTvMBaR0XZTSrVWo4j55Rc6cA==
+
+vscode-textmate@^6.0.0:
+  version ""6.0.0""
+  resolved ""https://registry.yarnpkg.com/vscode-textmate/-/vscode-textmate-6.0.0.tgz#a3777197235036814ac9a92451492f2748589210""
+  integrity sha512-gu73tuZfJgu+mvCSy4UZwd2JXykjK9zAZsfmDeut5dx/1a7FeTk0XwJsSuqQn+cuMCGVbIBfl+s53X4T19DnzQ==
+
 w3c-hr-time@^1.0.2:
   version ""1.0.2""
   resolved ""https://registry.yarnpkg.com/w3c-hr-time/-/w3c-hr-time-1.0.2.tgz#0a89cdf5cc15822df9c360543676963e0cc308cd""",False,False,Documentation / Formatting,7
chapter-three,next-drupal,1b6eac52d03febb01ca0bea2a9cf83c86a18f437,shadcn,arshad@chummun.com,2022-12-06T07:38:58Z,GitHub,noreply@github.com,2022-12-06T07:38:58Z,"ci: test against Drupal 10 (#389)

* ci: test against Drupal 10

* ci: configure exclude for Drupal 10

* fix(next): update HTMLRenderer",.github/workflows/next.yml;modules/next/src/Render/MainContent/HtmlRenderer.php,False,False,False,False,5,2,7,"---FILE: .github/workflows/next.yml---
@@ -11,7 +11,10 @@ jobs:
     strategy:
       matrix:
         php: [""8.0"", ""8.1""]
-        drupal: [""9.3"", ""9.4""]
+        drupal: [""9.3"", ""9.4"", ""10.0.0-rc1""]
+        exclude:
+          - php: ""8.0""
+            drupal: ""10.0.0-rc1""
     name: Drupal ${{ matrix.drupal }} - PHP ${{ matrix.php }}
     services:
       mysql:

---FILE: modules/next/src/Render/MainContent/HtmlRenderer.php---
@@ -77,7 +77,7 @@ class HtmlRenderer extends CoreHtmlRenderer {
    *   The theme manager.
    */
   public function __construct(TitleResolverInterface $title_resolver, PluginManagerInterface $display_variant_manager, EventDispatcherInterface $event_dispatcher, ModuleHandlerInterface $module_handler, RendererInterface $renderer, RenderCacheInterface $render_cache, array $renderer_config, ConfigFactoryInterface $config_factory, NextEntityTypeManager $next_entity_type_manager, SitePreviewerManagerInterface $site_previewer_manager, ThemeManagerInterface $theme_manager) {
-    parent::__construct($title_resolver, $display_variant_manager, $event_dispatcher, $module_handler, $renderer, $render_cache, $renderer_config);
+    parent::__construct($title_resolver, $display_variant_manager, $event_dispatcher, $module_handler, $renderer, $render_cache, $renderer_config, $theme_manager);
     $this->configFactory = $config_factory;
     $this->nextEntityTypeManager = $next_entity_type_manager;
     $this->sitePreviewerManager = $site_previewer_manager;",False,False,Data / Input Handling,3
chapter-three,next-drupal,fb049bb6b51389b701d39647a37fe12eff84f0b1,shadcn,arshad@chummun.com,2022-12-05T17:53:26Z,GitHub,noreply@github.com,2022-12-05T17:53:26Z,"fix(next-drupal): check for versionable resource type  (#388)

* fix(next-drupal): check for revisionable resource type

* fix(next-drupal): check for default version in previewData and params",packages/next-drupal/src/client.ts,False,False,False,False,15,7,22,"---FILE: packages/next-drupal/src/client.ts---
@@ -544,9 +544,6 @@ export class DrupalClient {
     }
 
     options = {
-      // Add support for revisions for node by default.
-      // TODO: Make this required before stable?
-      isVersionable: /^node--/.test(type),
       deserialize: true,
       pathPrefix: ""/"",
       withAuth: this.getAuthFromContextAndOptions(context, options),
@@ -560,10 +557,21 @@ export class DrupalClient {
       locale: context.locale,
       defaultLocale: context.defaultLocale,
       withAuth: options?.withAuth,
-      params: {
-        resourceVersion: previewData?.resourceVersion,
-        ...options?.params,
-      },
+      params: options?.params,
+    }
+
+    // Check if resource is versionable.
+    // Add support for revisions for node by default.
+    const isVersionable = options.isVersionable || /^node--/.test(type)
+
+    // If the resource is versionable and no resourceVersion is supplied via params.
+    // Use the resourceVersion from previewData or fallback to the latest version.
+    if (
+      isVersionable &&
+      typeof options.params.resourceVersion === ""undefined""
+    ) {
+      options.params.resourceVersion =
+        previewData?.resourceVersion || ""rel:latest-version""
     }
 
     if (typeof input !== ""string"") {",False,False,Environment / Configuration,3
chapter-three,next-drupal,77ea3cf75453ee61ba80e915b57d2cb781e17fc8,shadcn,arshad@chummun.com,2022-12-01T14:02:28Z,GitHub,noreply@github.com,2022-12-01T14:02:28Z,"ci: fix release-pr workflow (#385)

* ci: remove edited

* fix: update condition

* fix: update condition

* ci: remove push from events trigger",.github/workflows/next-drupal.yml;.github/workflows/release-pr.yml,False,False,False,False,2,4,6,"---FILE: .github/workflows/next-drupal.yml---
@@ -1,6 +1,5 @@
 name: next-drupal
 on:
-  push:
   pull_request_target:
     types: [opened, reopened, synchronize, labeled, edited]
 

---FILE: .github/workflows/release-pr.yml---
@@ -1,13 +1,12 @@
 name: release-pr
 on:
   pull_request:
-    types: [opened, reopened, synchronize, labeled, edited]
+    types: [opened, reopened, synchronize, labeled]
 
 jobs:
   next-drupal:
     runs-on: ubuntu-latest
-    if: |
-      ${{ contains(github.event.pull_request.labels.*.name, 'release-pr: next-drupal') }}
+    if: ${{ contains(github.event.pull_request.labels.*.name, format('release-pr{0} next-drupal', ':')) }}
     environment: Preview
     steps:
       - name: Init",False,False,Data / Input Handling,3
chapter-three,next-drupal,8756574c9f2394d37cdfae5655a8e602150eb882,shadcn,arshad@chummun.com,2022-12-01T13:36:10Z,shadcn,arshad@chummun.com,2022-12-01T13:36:10Z,ci: fix condition,.github/workflows/release-pr.yml,False,False,False,False,2,3,5,"---FILE: .github/workflows/release-pr.yml---
@@ -6,9 +6,8 @@ on:
 jobs:
   next-drupal:
     runs-on: ubuntu-latest
-    env:
-      LABEL_NAME: ""release-pr: next-drupal""
-    if: ${{ github.event_name == 'pull_request' && contains(github.event.pull_request.labels.*.name, env.LABEL_NAME) }}
+    if: |
+      ${{ github.event_name == 'pull_request' && contains(github.event.pull_request.labels.*.name, 'release-pr: next-drupal') }}
     environment: Preview
     steps:
       - name: Init",False,False,Data / Input Handling,3
chapter-three,next-drupal,ca6668a706742c46e1318097db63f689b681aac2,shadcn,arshad@chummun.com,2022-12-01T13:34:15Z,shadcn,arshad@chummun.com,2022-12-01T13:34:15Z,ci: fix condition,.github/workflows/release-pr.yml,False,False,False,False,1,1,2,"---FILE: .github/workflows/release-pr.yml---
@@ -8,7 +8,7 @@ jobs:
     runs-on: ubuntu-latest
     env:
       LABEL_NAME: ""release-pr: next-drupal""
-    if: ${{ github.event_name == 'pull_request' && contains(github.event.pull_request.labels.*.name, ${{ env.LABEL_NAME }} ) }}
+    if: ${{ github.event_name == 'pull_request' && contains(github.event.pull_request.labels.*.name, env.LABEL_NAME) }}
     environment: Preview
     steps:
       - name: Init",False,False,Data / Input Handling,3
chapter-three,next-drupal,87ae38e1933142c1e4a51da64e31448aa135a4db,shadcn,arshad@chummun.com,2022-12-01T07:56:19Z,shadcn,arshad@chummun.com,2022-12-01T07:56:19Z,fix: delete dummy files,packages/next-drupal/src/client.ts;packages/next-drupal/src/foo.ts,False,False,False,False,2,3,5,"---FILE: packages/next-drupal/src/client.ts---
@@ -1010,8 +1010,8 @@ export class DrupalClient {
     if (this.useDefaultResourceTypeEntry) {
       const [id, bundle] = type.split(""--"")
       return (
-        `${this.baseUrl}` + 
-        (locale ? `/${locale}${this.apiPrefix}/` : `${this.apiPrefix}/`) + 
+        `${this.baseUrl}` +
+        (locale ? `/${locale}${this.apiPrefix}/` : `${this.apiPrefix}/`) +
         `${id}/${bundle}`
       )
     }

---FILE: packages/next-drupal/src/foo.ts---
@@ -1 +0,0 @@
-export const foo = ""bar""",False,False,Rendering / Conversion,0
chapter-three,next-drupal,f7767ecaece08f3800551c5da0b4fb49591cb2d0,shadcn,arshad@chummun.com,2022-12-01T07:28:28Z,shadcn,arshad@chummun.com,2022-12-01T07:28:28Z,fix: update handling of jwt token caching,examples/example-umami/lib/jwt.ts;examples/example-umami/pages/api/auth/[...nextauth].ts,False,False,False,False,30,33,63,"---FILE: examples/example-umami/lib/jwt.ts---
@@ -2,51 +2,43 @@ import { JWT } from ""next-auth/jwt""
 import { AccessToken } from ""next-drupal""
 import { cache } from ""./node-cache""
 
-// const JWT_CACHE_KEY = ""NEXT_AUTH_JWT_TOKEN""
+const JWT_CACHE_KEY = ""NEXT_AUTH_JWT_TOKEN""
 
 export async function getJWT(initialJWT: JWT): Promise<JWT> {
-  // We have a cached token, check the expiry date.
-  if (Date.now() < initialJWT?.accessTokenExpires) {
-    return initialJWT
-  }
-
-  // The token has expired, fetch a new one.
-  return await refreshAccessToken(initialJWT)
-}
-
-// export async function getJWT(initialJWT: JWT): Promise<JWT> {
-//   const key = `${JWT_CACHE_KEY}.${initialJWT.accessToken.access_token}`
+  const key = `${JWT_CACHE_KEY}.${initialJWT.accessToken.access_token}`
 
-//   const cachedJWT = cache.get<JWT>(key)
+  const cachedJWT = cache.get<JWT>(key)
 
-//   // We have nothing cached, return the initial token.
-//   if (!cachedJWT) {
-//     // Warm the cache with the initial token.
-//     cache.set(key, initialJWT, initialJWT.accessToken.expires_in)
+  // We have nothing cached, return the initial token.
+  if (!cachedJWT) {
+    // Warm the cache with the initial token.
+    cache.set(key, initialJWT, initialJWT.accessToken.expires_in)
 
-//     return initialJWT
-//   }
+    return initialJWT
+  }
 
-//   // We have a cached token, check the expiry date.
-//   if (Date.now() < cachedJWT.accessTokenExpires) {
-//     return cachedJWT
-//   }
+  // We have a cached token, check the expiry date.
+  if (Date.now() < cachedJWT.accessTokenExpires) {
+    return cachedJWT
+  }
 
-//   // The token has expired, fetch a new one.
-//   const newJWT = await refreshAccessToken(cachedJWT)
+  // The token has expired, fetch a new one.
+  const newJWT = await refreshAccessToken(cachedJWT)
 
-//   // Persist this to cache.
-//   cache.set(key, newJWT, newJWT.accessToken.expires_in)
+  // Persist this to cache.
+  cache.set(key, newJWT, newJWT.accessToken.expires_in)
 
-//   return newJWT
-// }
+  return newJWT
+}
 
-// export async function clearJWT() {
-//   cache.del(JWT_CACHE_KEY)
-// }
+export async function clearJWT(jwt: JWT) {
+  const key = `${JWT_CACHE_KEY}.${jwt.accessToken.access_token}`
+  cache.del(key)
+}
 
 // Helper to obtain a new access_token from a refresh token.
 async function refreshAccessToken(token: JWT): Promise<JWT> {
+  console.log(""Refreshing token"", { token })
   try {
     const formData = new URLSearchParams()
     formData.append(""grant_type"", ""refresh_token"")

---FILE: examples/example-umami/pages/api/auth/[...nextauth].ts---
@@ -2,7 +2,7 @@ import NextAuth, { User } from ""next-auth""
 import CredentialsProvider from ""next-auth/providers/credentials""
 import jwt_decode from ""jwt-decode""
 
-import { getJWT } from ""lib/jwt""
+import { clearJWT, getJWT } from ""lib/jwt""
 
 export default NextAuth({
   pages: {
@@ -45,6 +45,11 @@ export default NextAuth({
       },
     }),
   ],
+  events: {
+    signOut: async function ({ token }) {
+      return await clearJWT(token)
+    },
+  },
   callbacks: {
     async jwt({ token, user, account }) {
       if (account && user) {",False,False,Dependency / Package,1
chapter-three,next-drupal,9b33a37bd988aff7dcf858c7a841cabbc4ca433a,shadcn,arshad@chummun.com,2022-11-30T11:29:57Z,shadcn,arshad@chummun.com,2022-11-30T11:29:57Z,ci: fix typo,.github/workflows/next-drupal.yml,False,False,False,False,1,1,2,"---FILE: .github/workflows/next-drupal.yml---
@@ -3,7 +3,7 @@ on:
   push:
     branches: [main]
   pull_request:
-    types: [opened, reopened, synchronize, labelled, edited]
+    types: [opened, reopened, synchronize, labeled, edited]
 
 jobs:
   test:",False,False,Data / Input Handling,3
chapter-three,next-drupal,1f71191ed87d499676f10915af18a2057ae90ea0,shadcn,arshad@chummun.com,2022-11-29T17:14:32Z,shadcn,arshad@chummun.com,2022-11-29T17:14:32Z,fix: add prepublishonly,packages/next-drupal/package.json,False,False,False,False,2,1,3,"---FILE: packages/next-drupal/package.json---
@@ -18,7 +18,8 @@
   ""scripts"": {
     ""prepare"": ""microbundle --no-compress --jsx React.createElement"",
     ""dev"": ""microbundle watch --no-compress --jsx React.createElement"",
-    ""test"": ""jest""
+    ""test"": ""jest"",
+    ""prepublishOnly"": ""yarn prepare""
   },
   ""keywords"": [
     ""next.js"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,2ed39ebed172dc9d436d5257367f906938a4dc23,shadcn,arshad@chummun.com,2022-11-29T16:08:24Z,shadcn,arshad@chummun.com,2022-11-29T16:08:24Z,ci: fix event name,.github/workflows/next-drupal.yml,False,False,False,False,1,1,2,"---FILE: .github/workflows/next-drupal.yml---
@@ -22,7 +22,7 @@ jobs:
           DRUPAL_CLIENT_SECRET: ${{ secrets.DRUPAL_CLIENT_SECRET }}
   release-pr:
     runs-on: ubuntu-latest
-    if: ${{ github.event_name == 'pull_request' }}
+    if: ${{ github.event_name == 'pull_request_target' }}
     needs: test
     environment: Preview
     steps:",False,False,Data / Input Handling,3
chapter-three,next-drupal,fc7047bc9faf3d2913dd1483a4486e92bf4205b1,shadcn,arshad@chummun.com,2022-11-29T15:54:07Z,shadcn,arshad@chummun.com,2022-11-29T15:54:07Z,fix: only release pr if test passes,.github/workflows/next-drupal.yml;.github/workflows/release-pr.yml,False,False,False,False,38,44,82,"---FILE: .github/workflows/next-drupal.yml---
@@ -6,7 +6,7 @@ on:
     branches: [main]
 
 jobs:
-  build:
+  test:
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v2
@@ -20,3 +20,40 @@ jobs:
           DRUPAL_PASSWORD: ${{ secrets.DRUPAL_PASSWORD }}
           DRUPAL_CLIENT_ID: ${{ secrets.DRUPAL_CLIENT_ID }}
           DRUPAL_CLIENT_SECRET: ${{ secrets.DRUPAL_CLIENT_SECRET }}
+  release-pr:
+    runs-on: ubuntu-latest
+    if: ${{ github.event_name == 'pull_request' }}
+    needs: test
+    environment: Preview
+    steps:
+      - name: Init
+        uses: actions/checkout@v3
+      - name: Setup Node
+        uses: actions/setup-node@v3
+        with:
+          node-version: 16
+      - name: Install dependencies
+        run: yarn install
+      - name: Determine version
+        uses: ./.github/version-pr
+        id: determine-version
+        env:
+          PR_NUMBER: ${{ github.event.number }}
+      - name: Publish to npm
+        run: |
+          cd packages/next-drupal
+          echo ""//registry.npmjs.org/:_authToken=$NPM_TOKEN"" >> .npmrc
+          yarn publish --no-git-checks --access public --tag experimental
+        env:
+          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
+      - name: Comment version on PR
+        uses: NejcZdovc/comment-pr@v2
+        with:
+          message:
+            "" Experimental release [published  on npm](https://npmjs.com/package/next-drupal/v/${{ env.VERSION }})!\n \
+            ```sh\npnpm add next-drupal@${{ env.VERSION }}\n```\n \
+            ```sh\nyarn add next-drupal@${{ env.VERSION }}\n```\n \
+            ```sh\nnpm i next-drupal@${{ env.VERSION }}\n```""
+        env:
+          VERSION: ${{ steps.determine-version.outputs.version }}
+          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

---FILE: .github/workflows/release-pr.yml---
@@ -1,43 +0,0 @@
-name: Release PR
-
-on:
-  pull_request:
-
-jobs:
-  release-pr:
-    name: Publish PR
-    runs-on: ubuntu-latest
-    if: ${{ github.event_name == 'pull_request' }}
-    environment: Preview
-    steps:
-      - name: Init
-        uses: actions/checkout@v3
-      - name: Setup Node
-        uses: actions/setup-node@v3
-        with:
-          node-version: 16
-      - name: Install dependencies
-        run: yarn install
-      - name: Determine version
-        uses: ./.github/version-pr
-        id: determine-version
-        env:
-          PR_NUMBER: ${{ github.event.number }}
-      - name: Publish to npm
-        run: |
-          cd packages/next-drupal
-          echo ""//registry.npmjs.org/:_authToken=$NPM_TOKEN"" >> .npmrc
-          yarn publish --no-git-checks --access public --tag experimental
-        env:
-          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
-      - name: Comment version on PR
-        uses: NejcZdovc/comment-pr@v2
-        with:
-          message:
-            "" Experimental release [published  on npm](https://npmjs.com/package/next-drupal/v/${{ env.VERSION }})!\n \
-            ```sh\npnpm add next-drupal@${{ env.VERSION }}\n```\n \
-            ```sh\nyarn add next-drupal@${{ env.VERSION }}\n```\n \
-            ```sh\nnpm i next-drupal@${{ env.VERSION }}\n```""
-        env:
-          VERSION: ${{ steps.determine-version.outputs.version }}
-          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}",False,False,Data / Input Handling,3
chapter-three,next-drupal,1318f4ef29868c421b4f08742e5f0edfa94c86a6,Ankit Pathak,ankit.pathak@acquia.com,2022-09-30T03:24:42Z,Ankit Pathak,ankit.pathak@acquia.com,2022-11-23T07:54:51Z,Drupal 10 compatibility fixes.,modules/next/modules/next_extras/next_extras.info.yml;modules/next/modules/next_jsonapi/next_jsonapi.info.yml;modules/next/modules/next_jwt/next_jwt.info.yml;modules/next/next.info.yml;modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php,False,False,False,False,7,6,13,"---FILE: modules/next/modules/next_extras/next_extras.info.yml---
@@ -1,7 +1,7 @@
 name: Next.js Extras (Experimental)
 description: Adds extra (mostly experiemental) functionality to Next.js module
 type: module
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^8.8 || ^9 || ^10
 package: Web services
 dependencies:
   - next:next

---FILE: modules/next/modules/next_jsonapi/next_jsonapi.info.yml---
@@ -1,7 +1,7 @@
 name: ""Next.js JSON:API""
 type: module
 description: ""JSON:API Helpers for Next.js""
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^8.8 || ^9 || ^10
 package: Web services
 dependencies:
   - decoupled_router:decoupled_router

---FILE: modules/next/modules/next_jwt/next_jwt.info.yml---
@@ -1,7 +1,7 @@
 name: Next.js JWT (Experimental)
 type: module
 description: ""Generates preview URLs using JSON Web Token""
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^8.8 || ^9 || ^10
 package: Web services
 dependencies:
   - next:next

---FILE: modules/next/next.info.yml---
@@ -1,7 +1,7 @@
 name: Next.js
 description: Next.js + Drupal for Incremental Static Regeneration and Preview mode.
 type: module
-core_version_requirement: ^8.8 || ^9
+core_version_requirement: ^8.8 || ^9 || ^10
 package: Web services
 configure: entity.next_site.collection
 dependencies:

---FILE: modules/next/src/Plugin/Next/PreviewUrlGenerator/SimpleOauth.php---
@@ -187,7 +187,7 @@ public function validate(Request $request) {
    * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
    * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
    */
-  protected function getScopesForCurrentUser() {
+  protected function getScopesForCurrentUser(): array {
     $roles = $this->currentUser->getRoles(TRUE);
     $admin_role = $this->getAdminRole();
 
@@ -208,9 +208,10 @@ protected function getScopesForCurrentUser() {
    * @throws \Drupal\Component\Plugin\Exception\InvalidPluginDefinitionException
    * @throws \Drupal\Component\Plugin\Exception\PluginNotFoundException
    */
-  protected function getAdminRole() {
+  protected function getAdminRole(): ?string {
     $admin_roles = $this->entityTypeManager->getStorage('user_role')
       ->getQuery()
+      ->accessCheck(FALSE)
       ->condition('is_admin', TRUE)
       ->execute();
 ",False,False,Data / Input Handling,3
chapter-three,next-drupal,57247adb411cdcb18dca914a71c36ec81f60e85b,shadcn,arshad@chummun.com,2022-11-23T06:55:44Z,shadcn,arshad@chummun.com,2022-11-23T06:55:44Z,fix(next): phpcs warning,modules/next/tests/src/Kernel/Entity/NextSiteTest.php,False,False,False,False,0,3,3,"---FILE: modules/next/tests/src/Kernel/Entity/NextSiteTest.php---
@@ -8,9 +8,6 @@
 use Drupal\Tests\user\Traits\UserCreationTrait;
 use Drupal\user\Entity\User;
 
-/**
- * Tests the NextSite entity.
-
 /**
  * Tests the next_site entity.
  *",False,False,Rendering / Conversion,0
chapter-three,next-drupal,3804c15afeadfb8d8bc309b86000eb81e4a144dd,shadcn,arshad@chummun.com,2022-11-09T07:18:57Z,shadcn,arshad@chummun.com,2022-11-09T07:18:57Z,tests(next): fix merge conflicts,modules/next/tests/src/Kernel/Entity/NextSiteTest.php,False,False,False,False,1,11,12,"---FILE: modules/next/tests/src/Kernel/Entity/NextSiteTest.php---
@@ -2,21 +2,14 @@
 
 namespace Drupal\Tests\next\Kernel\Entity;
 
-use Drupal\Component\Serialization\Json;
 use Drupal\KernelTests\KernelTestBase;
-use Drupal\next\Controller\NextPreviewUrlController;
 use Drupal\next\Entity\NextSite;
 use Drupal\Tests\node\Traits\NodeCreationTrait;
 use Drupal\Tests\user\Traits\UserCreationTrait;
 use Drupal\user\Entity\User;
-use Symfony\Component\HttpFoundation\Request;
 
 /**
  * Tests the NextSite entity.
-namespace Drupal\Tests\next\Kernel\Plugin;
-
-use Drupal\KernelTests\KernelTestBase;
-use Drupal\next\Entity\NextSite;
 
 /**
  * Tests the next_site entity.
@@ -84,10 +77,7 @@ public function testGetPreviewUrlForEntity() {
     $preview_url = $this->nextSite->getPreviewUrlForEntity($node);
     $query = $preview_url->getOption('query');
     $this->assertSame('rel:latest-version', $query['resourceVersion']);
-  /**
-   * {@inheritdoc}
-   */
-  protected static $modules = ['next'];
+  }
 
   /**
    * @covers ::getBaseUrl",False,False,Dependency / Package,3
chapter-three,next-drupal,9e0d77bc056772bdf36600bcf24eaa916840dd5d,shadcn,arshad@chummun.com,2022-11-09T06:50:18Z,shadcn,arshad@chummun.com,2022-11-09T06:50:18Z,fix(next): no resourceVersion in query if not versionable,modules/next/src/Entity/NextSite.php;modules/next/tests/src/Kernel/Entity/NextSiteTest.php,False,False,False,False,85,1,86,"---FILE: modules/next/src/Entity/NextSite.php---
@@ -194,7 +194,9 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
         ->getId();
     }
 
-    $query['resourceVersion'] = $resource_version;
+    if ($resource_version) {
+      $query['resourceVersion'] = $resource_version;
+    }
 
     $preview_url->setOption('query', $query);
 

---FILE: modules/next/tests/src/Kernel/Entity/NextSiteTest.php---
@@ -0,0 +1,82 @@
+<?php
+
+namespace Drupal\Tests\next\Kernel\Entity;
+
+use Drupal\Component\Serialization\Json;
+use Drupal\KernelTests\KernelTestBase;
+use Drupal\next\Controller\NextPreviewUrlController;
+use Drupal\next\Entity\NextSite;
+use Drupal\Tests\node\Traits\NodeCreationTrait;
+use Drupal\Tests\user\Traits\UserCreationTrait;
+use Drupal\user\Entity\User;
+use Symfony\Component\HttpFoundation\Request;
+
+/**
+ * Tests the NextSite entity.
+ *
+ * @coversDefaultClass \Drupal\next\Entity\NextSite
+ *
+ * @group next
+ */
+class NextSiteTest extends KernelTestBase {
+
+  use NodeCreationTrait, UserCreationTrait;
+
+  /**
+   * {@inheritdoc}
+   */
+  protected static $modules = ['filter', 'next', 'node', 'system', 'user'];
+
+  /**
+   * The next_site entity.
+   *
+   * @var \Drupal\next\Entity\NextSiteInterface
+   */
+  protected $nextSite;
+
+  /**
+   * {@inheritdoc}
+   */
+  protected function setUp(): void {
+    parent::setUp();
+
+    $this->installEntitySchema('node');
+    $this->installEntitySchema('user');
+    $this->installConfig(['filter', 'next']);
+    $this->installSchema('system', ['sequences']);
+    $this->installSchema('node', ['node_access']);
+
+    $this->nextSite = NextSite::create([
+      'label' => 'Blog',
+      'id' => 'blog',
+      'base_url' => 'https://blog.com',
+      'preview_url' => 'https://blog.com/api/preview',
+      'preview_secret' => 'one'
+    ]);
+    $this->nextSite->save();
+
+    $this->setUpCurrentUser();
+  }
+
+  /**
+   * @covers ::getPreviewUrlForEntity
+   */
+  public function testGetPreviewUrlForEntity() {
+    $user = $this->createUser(['access content']);
+    $this->setCurrentUser($user);
+
+    // User entity type is not versionable.
+    // No resourceVersion in the query.
+    $preview_url = $this->nextSite->getPreviewUrlForEntity(User::load(1));
+    $query = $preview_url->getOption('query');
+    $this->assertNotContains('resourceVersion', array_keys($query));
+
+    // Node entity type is versionable.
+    // Expect a resourceVersion.
+    $node = $this->createNode();
+    $preview_url = $this->nextSite->getPreviewUrlForEntity($node);
+    $query = $preview_url->getOption('query');
+    $this->assertSame('rel:latest-version', $query['resourceVersion']);
+  }
+
+}",False,False,Data / Input Handling,3
chapter-three,next-drupal,aa9e40a9582ccc6063f8fc5bd057ad8019de3fa9,shadcn,arshad@chummun.com,2022-10-17T11:44:36Z,shadcn,arshad@chummun.com,2022-10-17T11:44:36Z,fix(next): size_max should be a hard limit,modules/next/modules/next_jsonapi/src/Controller/EntityResource.php;modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php,False,False,False,False,13,2,15,"---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -94,7 +94,7 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
     $max = $this->maxSize;
 
     // Fallback to page[limit] if set.
-    if (($page = $request->query->get('page')) && isset($page['limit'])) {
+    if (($page = $request->query->get('page')) && isset($page['limit']) && $page['limit'] < $max) {
       $max = $page['limit'];
     }
 

---FILE: modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php---
@@ -106,6 +106,17 @@ public function testPageLimit() {
     $data = $response->getResponseData()->getData();
     $this->assertSame(10, $data->count());
 
+    // With page limit over size max.
+    $request = Request::create('/jsonapi/node/article');
+    $request->query = new ParameterBag([
+      'page' => [
+        'limit' => 100,
+      ],
+    ]);
+    $response = $entity_resource->getCollection($resource_type, $request);
+    $data = $response->getResponseData()->getData();
+    $this->assertSame(50, $data->count());
+
     // With page limit and offset.
     $request = Request::create('/jsonapi/node/article');
     $request->query = new ParameterBag([
@@ -166,7 +177,7 @@ public function testPageLimit() {
     ]);
     $response = $entity_resource->getCollection($resource_type, $request);
     $data = $response->getResponseData()->getData();
-    $this->assertSame(80, $data->count());
+    $this->assertSame(60, $data->count());
   }
 
 }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,913300cc301f4f2824d6d2b186d734076c387fd8,shadcn,arshad@chummun.com,2022-10-17T11:25:23Z,shadcn,arshad@chummun.com,2022-10-17T11:25:23Z,fix(next): typo in @covers,modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php,False,False,False,False,1,1,2,"---FILE: modules/next/modules/next_jsonapi/tests/src/Kernel/Controller/EntityResourceTest.php---
@@ -79,7 +79,7 @@ public function register(ContainerBuilder $container) {
   /**
    * Tests the page limit.
    *
-   * @covers ::getJsonApiParams()
+   * @covers ::getJsonApiParams
    */
   public function testPageLimit() {
     /** @var \Drupal\next_jsonapi\Controller\EntityResource $entity_resource */",False,False,Documentation / Formatting,1
chapter-three,next-drupal,3cbb0f5ff68bc86caea596a44c8612a2786209c0,Brent Robbins,brent@variantstudios.com,2022-10-14T17:24:24Z,GitHub,noreply@github.com,2022-10-14T17:24:24Z,"Doc Updates for Create Oauth Client page (#315)

* fix(docs): added more detail to the Generate keys section

* docs(preview mode): added more detail to the Generate keys section

Co-authored-by: shadcn <arshad@chummun.com>",www/content/tutorials/preview-mode/create-oauth-client.mdx,False,False,False,False,4,3,7,"---FILE: www/content/tutorials/preview-mode/create-oauth-client.mdx---
@@ -65,10 +65,11 @@ Generate a pair of keys to encrypt the tokens. Store them outside of your docume
 
 1. Visit `/admin/config/people/simple_oauth`
 2. Click **Generate keys** to generate encryption keys for tokens
-3. Fill in **Directory for the keys**.
-4. Click **Generate**.
+3. Fill in **Directory for the keys**. For example a relative path like `../`
+4. Click **Generate**
+5. Click **Save configuration**
 
-You can also use `openssl` to generate keys:
+You can also use `openssl` to generate keys in the directory you used above:
 
 ```
 openssl genrsa -out private.key 2048",False,False,Documentation / Formatting,4
chapter-three,next-drupal,3ef818b596c7d863ce7f63e96298e42a687dfe15,shadcn,arshad@chummun.com,2022-10-14T08:38:10Z,shadcn,arshad@chummun.com,2022-10-14T08:38:10Z,fix(www): update version,www/config/site.ts,False,False,False,False,1,1,2,"---FILE: www/config/site.ts---
@@ -39,7 +39,7 @@ export const site: SiteConfig = {
   },
   versions: [
     {
-      version: ""v1.4.0"",
+      version: ""v1.5.0"",
       active: true,
     },
     {",False,False,Visualization / Plotting,3
chapter-three,next-drupal,99b6c543a91a23f31df149a604f11202a6433a79,shadcn,arshad@chummun.com,2022-10-14T08:34:56Z,shadcn,arshad@chummun.com,2022-10-14T08:35:30Z,fix(example-umami): remove localePath config,examples/example-umami/next-i18next.config.js,False,False,False,False,0,1,1,"---FILE: examples/example-umami/next-i18next.config.js---
@@ -6,6 +6,5 @@ module.exports = {
   i18n: {
     defaultLocale: config.defaultLocale,
     locales: Object.keys(config.locales),
-    localePath: path.resolve(""./public/locales""),
   },
 }",False,False,Environment / Configuration,1
chapter-three,next-drupal,d1671c275a91d4e3032dc35d8f4e2e1b8a6ff8b0,shadcn,arshad@chummun.com,2022-10-14T08:08:54Z,shadcn,arshad@chummun.com,2022-10-14T08:08:54Z,fix(www): docsearch class,www/pages/guides/[...slug].tsx;www/pages/learn/[...slug].tsx,False,False,False,False,2,2,4,"---FILE: www/pages/guides/[...slug].tsx---
@@ -30,7 +30,7 @@ export default function GuidesPage({ guide, toc }: GuidesPageProps) {
           <SidebarNav items={guidesConfig.links} />
         </aside>
         <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-1 xl:grid xl:grid-cols-3 xl:gap-18"">
-          <div className=""col-span-2 pt-4 sm:pt-6 md:pt-10 GuideSearch-content main-content"">
+          <div className=""col-span-2 pt-4 sm:pt-6 md:pt-10 DocSearch-content main-content"">
             <h1 className=""text-3xl font-bold leading-tight sm:text-4xl md:text-5xl"">
               {guide.frontMatter.title}
             </h1>

---FILE: www/pages/learn/[...slug].tsx---
@@ -102,7 +102,7 @@ export default function TutorialPage({
           </div>
         </aside>
         <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-1 xl:grid xl:grid-cols-3 xl:gap-18"">
-          <div className=""col-span-2 pt-4 sm:pt-6 md:pt-10 GuideSearch-content main-content"">
+          <div className=""col-span-2 pt-4 sm:pt-6 md:pt-10 DocSearch-content main-content"">
             <h1 className=""text-3xl font-bold leading-tight sm:text-4xl"">
               {tutorial.frontMatter.title}
             </h1>",False,False,Rendering / Conversion,0
chapter-three,next-drupal,84b5faf0edf5abd8def991cef7fcfbc9e0f25155,shadcn,arshad@chummun.com,2022-10-03T13:11:53Z,shadcn,arshad@chummun.com,2022-10-03T13:11:53Z,fix(next): catch all exceptions,modules/next/src/Plugin/Next/Revalidator/Path.php,False,False,False,False,1,1,2,"---FILE: modules/next/src/Plugin/Next/Revalidator/Path.php---
@@ -106,7 +106,7 @@ public function revalidate(EntityInterface $entity, array $sites, string $action
             }
           }
         }
-        catch (RequestException $exception) {
+        catch (\Exception $exception) {
           watchdog_exception('next', $exception);
         }
       }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,57dc6a682712139ebd46fffae916f6c8f0fe9118,shadcn,arshad@chummun.com,2022-09-26T13:58:57Z,shadcn,arshad@chummun.com,2022-09-26T13:58:57Z,fix(next-drupal): update the headers for getAccessToken,packages/next-drupal/src/client.ts;packages/next-drupal/tests/client.test.ts,False,False,False,False,2,0,2,"---FILE: packages/next-drupal/src/client.ts---
@@ -1345,6 +1345,7 @@ export class DrupalClient {
       method: ""POST"",
       headers: {
         Authorization: `Basic ${basic}`,
+        Accept: ""application/json"",
         ""Content-Type"": ""application/x-www-form-urlencoded"",
       },
       body,

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -141,6 +141,7 @@ describe(""auth"", () => {
       `${BASE_URL}/oauth/token`,
       expect.objectContaining({
         headers: {
+          Accept: ""application/json"",
           Authorization: `Basic ${basic}`,
           ""Content-Type"": ""application/x-www-form-urlencoded"",
         },",False,False,Dependency / Package,1
chapter-three,next-drupal,df31cbb65f7439a0957e1bbc842f9713bcf4efa4,shadcn,arshad@chummun.com,2022-09-26T11:59:00Z,shadcn,arshad@chummun.com,2022-09-26T11:59:00Z,test(next): fix the SimpleOauthPreviewUrlGenerator tests,modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php,False,False,False,False,7,2,9,"---FILE: modules/next/tests/src/Kernel/Plugin/SimpleOauthPreviewUrlGeneratorTest.php---
@@ -225,10 +225,15 @@ public function providerValidateForInvalidBody() {
         ""The provided secret has expired."",
       ],
       [
-        $query,
+        [
+          'slug' => '/node/1',
+          'timestamp' => strtotime('60 seconds'),
+          'scope' => 'llama',
+          'secret' => 'secret',
+        ],
         """",
         TRUE,
-      ]
+      ],
     ];
   }
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,fab643356c5530eaec1b4b74a378dd003725a73b,shadcn,arshad@chummun.com,2022-09-07T10:15:00Z,shadcn,arshad@chummun.com,2022-09-07T10:15:00Z,fix(www): add published field to blog,www/content/blog/DEfYGE3Xe8-next-drupal-1-5.mdx;www/content/blog/next-drupal-1-3.mdx;www/content/blog/next-drupal-1-4.mdx;www/pages/blog/index.tsx;www/types/index.ts,False,False,False,False,9,1,10,"---FILE: www/content/blog/DEfYGE3Xe8-next-drupal-1-5.mdx---
@@ -4,6 +4,7 @@ author: shadcn
 date: September 07, 2022
 created: ""2022-09-07""
 excerpt: Next-Drupal 1.5 and Next 1.3 for Drupal ships with preview url generators.
+published: false
 ---
 
 In this release of Next 1.3, the Drupal module, and Next-Drupal 1.5, we're introducing _Preview URL Generators_.

---FILE: www/content/blog/next-drupal-1-3.mdx---
@@ -4,6 +4,7 @@ author: shadcn
 date: April 19, 2022
 created: ""2022-04-19""
 excerpt: Next-Drupal 1.3 ships with an experimental JSON:API client with support for custom auth, serializer, fetcher and caching.
+published: true
 ---
 
 Since releasing `next-drupal 1.0` last December, we have seen incredible adoption. Our community has grown beyond expectations. We are now approaching **1000+** downloads per week.

---FILE: www/content/blog/next-drupal-1-4.mdx---
@@ -4,6 +4,7 @@ author: shadcn
 date: June 14, 2022
 created: ""2022-06-14""
 excerpt: DrupalClient is stable. It has full CRUD support and comes with more authentication methods. We rewrote the docs and worked on a brand new demo site.
+published: true
 ---
 
 In April, we released `next-drupal 1.3` with `DrupalClient`, a powerful and customizable JSON:API client for fetching data from Drupal.

---FILE: www/pages/blog/index.tsx---
@@ -56,9 +56,13 @@ export default function BlogsPage({ blogs }: BlogsPageProps) {
 }
 
 export async function getStaticProps(context) {
+  const blogs = (await getAllMdxNodes<Blog>(""blog"", context)).filter(
+    (post) => post.frontMatter.published
+  )
+
   return {
     props: {
-      blogs: await getAllMdxNodes<Blog>(""blog"", context),
+      blogs,
     },
   }
 }

---FILE: www/types/index.ts---
@@ -18,6 +18,7 @@ export type Doc = MdxNode<{
 
 export type Blog = MdxNode<{
   title: string
+  published: boolean
   excerpt?: string
   date?: string
   author?: string",False,False,Documentation / Formatting,6
chapter-three,next-drupal,99bf2b6afaf55d5955d03971d186b7da42ce8f35,shadcn,arshad@chummun.com,2022-08-24T18:13:21Z,shadcn,arshad@chummun.com,2022-08-24T18:13:21Z,fix(example-query): use context for fetching content,examples/example-query/pages/[...slug].tsx;examples/example-query/queries/list--articles--related.ts;examples/example-query/queries/node--article.ts;examples/example-query/queries/node--landing_page.ts;examples/example-query/queries/node--page.ts,False,False,False,False,30,12,42,"---FILE: examples/example-query/pages/[...slug].tsx---
@@ -61,6 +61,7 @@ export async function getStaticProps(context) {
 
   const resource = await queries.getData(type, {
     context,
+    path,
     id: path.entity.uuid,
   })
 

---FILE: examples/example-query/queries/list--articles--related.ts---
@@ -4,6 +4,7 @@ import {
   QueryOptsWithPagination,
   withPagination,
   QueryFormatter,
+  QueryOpts,
 } from ""next-drupal-query""
 
 import { ArticleRelated } from ""types""
@@ -29,13 +30,18 @@ export const params: QueryParams<ParamOpts> = (opts) => {
   return withPagination(params, opts)
 }
 
-export const data: QueryData<ParamOpts, DrupalNodeArticle[]> = async (
+type DataOpts = QueryOpts<{
+  excludeIds?: string[]
+}>
+
+export const data: QueryData<DataOpts, DrupalNodeArticle[]> = async (
   opts
 ): Promise<DrupalNodeArticle[]> => {
-  return await drupal.getResourceCollection<DrupalNodeArticle[]>(
+  return await drupal.getResourceCollectionFromContext<DrupalNodeArticle[]>(
     ""node--article"",
+    opts.context,
     {
-      params: params(opts).getQueryObject(),
+      params: params({ excludeIds: opts.excludeIds }).getQueryObject(),
     }
   )
 }

---FILE: examples/example-query/queries/node--article.ts---
@@ -10,12 +10,14 @@ import { DrupalNodeArticle } from ""types/drupal""
 import { drupal } from ""lib/drupal""
 import { queries } from ""queries""
 import { absoluteUrl, formatDate } from ""lib/utils""
+import { DrupalTranslatedPath } from ""next-drupal""
 
 export const params: QueryParams<null> = () => {
   return queries.getParams().addInclude([""field_image"", ""uid""])
 }
 
 type DataOpts = QueryOpts<{
+  path: DrupalTranslatedPath
   id: string
 }>
 
@@ -26,14 +28,15 @@ type NodeArticleData = {
 
 export const data: QueryData<DataOpts, NodeArticleData> = async (opts) => {
   return {
-    node: await drupal.getResource<DrupalNodeArticle>(
-      ""node--article"",
-      opts?.id,
+    node: await drupal.getResourceFromContext<DrupalNodeArticle>(
+      opts.path,
+      opts.context,
       {
         params: params().getQueryObject(),
       }
     ),
     relatedArticles: await queries.getData(""list--articles--related"", {
+      context: opts.context,
       excludeIds: [opts?.id],
       page: 0,
       limit: 3,

---FILE: examples/example-query/queries/node--landing_page.ts---
@@ -4,6 +4,7 @@ import {
   QueryOpts,
   QueryParams,
 } from ""next-drupal-query""
+import { DrupalTranslatedPath } from ""next-drupal""
 
 import { LandingPage } from ""types""
 import { drupal } from ""lib/drupal""
@@ -22,15 +23,16 @@ export const params: QueryParams<null> = () => {
 }
 
 type DataOpts = QueryOpts<{
+  path: DrupalTranslatedPath
   id: string
 }>
 
 export const data: QueryData<DataOpts, DrupalNodeLandingPage> = async (
   opts
 ) => {
-  return await drupal.getResource<DrupalNodeLandingPage>(
-    ""node--landing_page"",
-    opts?.id,
+  return await drupal.getResourceFromContext<DrupalNodeLandingPage>(
+    opts.path,
+    opts.context,
     {
       params: params().getQueryObject(),
     }

---FILE: examples/example-query/queries/node--page.ts---
@@ -4,6 +4,7 @@ import {
   QueryOpts,
   QueryParams,
 } from ""next-drupal-query""
+import { DrupalTranslatedPath } from ""next-drupal""
 
 import { Page } from ""types""
 import { DrupalNodePage } from ""types/drupal""
@@ -17,15 +18,20 @@ export const params: QueryParams<null> = () => {
 }
 
 type DataOpts = QueryOpts<{
+  path: DrupalTranslatedPath
   id: string
 }>
 
 export const data: QueryData<DataOpts, DrupalNodePage> = async (
   opts
 ): Promise<DrupalNodePage> => {
-  return await drupal.getResource<DrupalNodePage>(""node--page"", opts?.id, {
-    params: params().getQueryObject(),
-  })
+  return await drupal.getResourceFromContext<DrupalNodePage>(
+    opts.path,
+    opts.context,
+    {
+      params: params().getQueryObject(),
+    }
+  )
 }
 
 export const formatter: QueryFormatter<DrupalNodePage, Page> = (node) => {",False,False,Environment / Configuration,3
chapter-three,next-drupal,f38931b2dd22c09cb5abdbdd6c07a941b7c63e2f,shadcn,arshad@chummun.com,2022-08-24T17:57:35Z,shadcn,arshad@chummun.com,2022-08-24T17:57:35Z,fix(next): ensure page params are respected when using sparse fieldsets,modules/next/modules/next_jsonapi/src/Controller/EntityResource.php,False,False,False,False,1,1,2,"---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -68,7 +68,7 @@ public function __construct(EntityTypeManagerInterface $entity_type_manager, Ent
    */
   protected function getJsonApiParams(Request $request, ResourceType $resource_type) {
     $params = parent::getJsonApiParams($request, $resource_type);
-    if (!$request->query->has('fields')) {
+    if (!$request->query->has('fields') || $request->query->has('page')) {
       return $params;
     }
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,910ca41ca230e5948fbe9d880bed04232d004306,Alex Ahumada,alejandro.ahumadaperez@cadiz.es,2022-08-05T11:27:14Z,Alex Ahumada,alejandro.ahumadaperez@cadiz.es,2022-08-05T11:27:14Z,fix: Warning title element received an array with more than 1 element,examples/example-blog/components/meta.tsx;examples/example-marketing/components/meta.tsx;examples/example-umami/components/meta.tsx,False,False,False,False,3,3,6,"---FILE: examples/example-blog/components/meta.tsx---
@@ -35,7 +35,7 @@ export function Meta({ title, tags }: MetaProps) {
         })
       ) : (
         <>
-          <title>{title} | Next.js for Drupal</title>
+          <title>{`${title} | Next.js for Drupal`}</title>
           <meta
             name=""description""
             content=""A Next.js blog powered by a Drupal backend.""

---FILE: examples/example-marketing/components/meta.tsx---
@@ -35,7 +35,7 @@ export function Meta({ title, tags }: MetaProps) {
         })
       ) : (
         <>
-          <title>{title} | Next.js for Drupal</title>
+          <title>{`${title} | Next.js for Drupal`}</title>
           <meta
             name=""description""
             content=""A Next.js blog powered by a Drupal backend.""

---FILE: examples/example-umami/components/meta.tsx---
@@ -20,7 +20,7 @@ export function Meta({ title, description }: MetaProps) {
         href={absoluteURL(router.asPath !== ""/"" ? router.asPath : """")}
       />
       <title>
-        {title} | {siteConfig.name}
+        {`${title} | ${siteConfig.name}`}
       </title>
       <meta name=""description"" content={description || siteConfig.slogan} />
       <meta",False,False,Dependency / Package,3
chapter-three,next-drupal,578a11ba967b534e92d6e05e5510bf2f62159566,shadcn,arshad@chummun.com,2022-07-27T08:54:29Z,shadcn,arshad@chummun.com,2022-07-27T08:54:29Z,docs(www): add known issues page,www/config/docs.ts;www/content/docs/known-issues.mdx,False,False,False,False,16,0,16,"---FILE: www/config/docs.ts---
@@ -27,6 +27,10 @@ export const docsConfig: DocsConfig = {
           href: ""https://github.com/chapter-three/next-drupal/blob/main/CHANGELOG.md"",
           external: true,
         },
+        {
+          title: ""Known Issues"",
+          href: ""/docs/known-issues"",
+        },
       ],
     },
     {

---FILE: www/content/docs/known-issues.mdx---
@@ -0,0 +1,12 @@
+---
+title: Known Issues
+excerpt: A list of known issues and troubleshooting guides.
+---
+
+## Laravel Valet
+
+If you're using Laravel Valet 2, there's a bug running JSON:API as reported [here](https://github.com/laravel/valet/issues/771).
+
+### Solution
+
+Upgrade to Laravel Valet 3 or use the patch from [laravel/valet#771](https://github.com/laravel/valet/issues/771).",False,False,Documentation / Formatting,7
chapter-three,next-drupal,258019f5bc0fa34e3ce3a824f99b28ea60b5ad30,shadcn,arshad@chummun.com,2022-07-27T07:08:10Z,shadcn,arshad@chummun.com,2022-07-27T07:08:10Z,feat(basic-starter): fix jsonapi params to work with vanilla drupal,starters/basic-starter/.env.example;starters/basic-starter/components/layout.tsx;starters/basic-starter/components/node--article--teaser.tsx;starters/basic-starter/components/node--article.tsx;starters/basic-starter/package.json;starters/basic-starter/pages/[...slug].tsx;starters/basic-starter/pages/index.tsx;yarn.lock,False,False,False,False,68,15,83,"---FILE: starters/basic-starter/.env.example---
@@ -1,3 +1,3 @@
 # See https://next-drupal.org/docs/environment-variables
-NEXT_PUBLIC_DRUPAL_BASE_URL=https://cms.next-drupal.org
-NEXT_IMAGE_DOMAIN=cms.next-drupal.org
\ No newline at end of file
+NEXT_PUBLIC_DRUPAL_BASE_URL=https://example.com
+NEXT_IMAGE_DOMAIN=example.com
\ No newline at end of file

---FILE: starters/basic-starter/components/layout.tsx---
@@ -14,6 +14,11 @@ export function Layout({ children }) {
                 Next.js for Drupal
               </a>
             </Link>
+            <Link href=""https://next-drupal.org/docs"" passHref>
+              <a target=""_blank"" rel=""external"" className=""hover:text-blue-600"">
+                Read the docs
+              </a>
+            </Link>
           </div>
         </header>
         <main className=""container py-10 mx-auto"">{children}</main>

---FILE: starters/basic-starter/components/node--article--teaser.tsx---
@@ -25,15 +25,15 @@ export function NodeArticleTeaser({ node, ...props }: NodeArticleTeaserProps) {
         ) : null}
         <span> - {formatDate(node.created)}</span>
       </div>
-      {node.field_media_image?.field_media_image && (
+      {node.field_image && (
         <figure className=""my-4"">
           <Image
-            src={absoluteUrl(node.field_media_image.field_media_image.uri.url)}
+            src={absoluteUrl(node.field_image.uri.url)}
             width={768}
             height={480}
             layout=""responsive""
             objectFit=""cover""
-            alt={node.field_media_image.field_media_image.resourceIdObjMeta.alt}
+            alt={node.field_image.resourceIdObjMeta.alt}
           />
         </figure>
       )}

---FILE: starters/basic-starter/components/node--article.tsx---
@@ -20,19 +20,20 @@ export function NodeArticle({ node, ...props }: NodeArticleProps) {
         ) : null}
         <span> - {formatDate(node.created)}</span>
       </div>
-      {node.field_media_image.field_media_image && (
+      {node.field_image && (
         <figure>
           <Image
-            src={absoluteUrl(node.field_media_image.field_media_image.uri.url)}
+            src={absoluteUrl(node.field_image.uri.url)}
             width={768}
             height={400}
             layout=""responsive""
             objectFit=""cover""
-            alt={node.field_media_image.field_media_image.resourceIdObjMeta.alt}
+            alt={node.field_image.resourceIdObjMeta.alt}
+            priority
           />
-          {node.field_media_image.field_media_image.resourceIdObjMeta.title && (
+          {node.field_image.resourceIdObjMeta.title && (
             <figcaption className=""py-2 text-sm text-center text-gray-600"">
-              {node.field_media_image.field_media_image.resourceIdObjMeta.title}
+              {node.field_image.resourceIdObjMeta.title}
             </figcaption>
           )}
         </figure>

---FILE: starters/basic-starter/package.json---
@@ -15,7 +15,8 @@
     ""next"": ""^12.1.4"",
     ""next-drupal"": ""^1.4.0"",
     ""react"": ""^17.0.2"",
-    ""react-dom"": ""^17.0.2""
+    ""react-dom"": ""^17.0.2"",
+    ""sharp"": ""^0.30.7""
   },
   ""devDependencies"": {
     ""@types/node"": ""^17.0.23"",

---FILE: starters/basic-starter/pages/[...slug].tsx---
@@ -52,7 +52,7 @@ export async function getStaticProps(
   let params = {}
   if (type === ""node--article"") {
     params = {
-      include: ""field_media_image.field_media_image,uid"",
+      include: ""field_image,uid"",
     }
   }
 

---FILE: starters/basic-starter/pages/index.tsx---
@@ -46,8 +46,8 @@ export async function getStaticProps(
     {
       params: {
         ""filter[status]"": 1,
-        ""fields[node--article]"": ""title,path,field_media_image,uid,created"",
-        include: ""field_media_image.field_media_image,uid"",
+        ""fields[node--article]"": ""title,path,field_image,uid,created"",
+        include: ""field_image,uid"",
         sort: ""-created"",
       },
     }

---FILE: yarn.lock---
@@ -3053,21 +3053,35 @@
   dependencies:
     ""@types/react"" ""*""
 
-""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"", ""@types/react@^17.0.43"":
+""@types/react@*"", ""@types/react@17.0.2"", ""@types/react@^17.0.0"":
   version ""17.0.2""
   resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.2.tgz#3de24c4efef902dd9795a49c75f760cbe4f7a5a8""
   integrity sha512-Xt40xQsrkdvjn1EyWe1Bc0dJLcil/9x2vAuW7ya+PuQip4UYUaXyhzWmAbwRsdMgwOFHpfp7/FFZebDU6Y8VHA==
   dependencies:
     ""@types/prop-types"" ""*""
     csstype ""^3.0.2""
 
+""@types/react@^17.0.43"":
+  version ""17.0.47""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.47.tgz#4ee71aaf4c5a9e290e03aa4d0d313c5d666b3b78""
+  integrity sha512-mk0BL8zBinf2ozNr3qPnlu1oyVTYq+4V7WA76RgxUAtf0Em/Wbid38KN6n4abEkvO4xMTBWmnP1FtQzgkEiJoA==
+  dependencies:
+    ""@types/prop-types"" ""*""
+    ""@types/scheduler"" ""*""
+    csstype ""^3.0.2""
+
 ""@types/resolve@1.17.1"":
   version ""1.17.1""
   resolved ""https://registry.yarnpkg.com/@types/resolve/-/resolve-1.17.1.tgz#3afd6ad8967c77e4376c598a82ddd58f46ec45d6""
   integrity sha512-yy7HuzQhj0dhGpD8RLXSZWEkLsV9ibvxvi6EiJ3bkqLAO1RGo0WbkWQiwpRlSFymTJRz0d3k5LM3kkx8ArDbLw==
   dependencies:
     ""@types/node"" ""*""
 
+""@types/scheduler@*"":
+  version ""0.16.2""
+  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.2.tgz#1a62f89525723dde24ba1b01b092bf5df8ad4d39""
+  integrity sha512-hppQEBDmlwhFAXKJX2KnWLYu5yMfi91yazPb2l+lbJiwW+wdo1gNeRA+3RgNSO39WYX2euey41KEwnqesU2Jew==
+
 ""@types/sinonjs__fake-timers@8.1.1"":
   version ""8.1.1""
   resolved ""https://registry.yarnpkg.com/@types/sinonjs__fake-timers/-/sinonjs__fake-timers-8.1.1.tgz#b49c2c70150141a15e0fa7e79cf1f92a72934ce3""
@@ -10757,6 +10771,24 @@ prebuild-install@^7.1.0:
     tar-fs ""^2.0.0""
     tunnel-agent ""^0.6.0""
 
+prebuild-install@^7.1.1:
+  version ""7.1.1""
+  resolved ""https://registry.yarnpkg.com/prebuild-install/-/prebuild-install-7.1.1.tgz#de97d5b34a70a0c81334fd24641f2a1702352e45""
+  integrity sha512-jAXscXWMcCK8GgCoHOfIr0ODh5ai8mj63L2nWrjuAgXE6tDyYGnx4/8o/rCgU+B4JSyZBKbeZqzhtwtC3ovxjw==
+  dependencies:
+    detect-libc ""^2.0.0""
+    expand-template ""^2.0.3""
+    github-from-package ""0.0.0""
+    minimist ""^1.2.3""
+    mkdirp-classic ""^0.5.3""
+    napi-build-utils ""^1.0.1""
+    node-abi ""^3.3.0""
+    pump ""^3.0.0""
+    rc ""^1.2.7""
+    simple-get ""^4.0.0""
+    tar-fs ""^2.0.0""
+    tunnel-agent ""^0.6.0""
+
 prelude-ls@^1.2.1:
   version ""1.2.1""
   resolved ""https://registry.yarnpkg.com/prelude-ls/-/prelude-ls-1.2.1.tgz#debc6489d7a6e6b0e7611888cec880337d316396""
@@ -11902,6 +11934,20 @@ sharp@^0.30.4:
     tar-fs ""^2.1.1""
     tunnel-agent ""^0.6.0""
 
+sharp@^0.30.7:
+  version ""0.30.7""
+  resolved ""https://registry.yarnpkg.com/sharp/-/sharp-0.30.7.tgz#7862bda98804fdd1f0d5659c85e3324b90d94c7c""
+  integrity sha512-G+MY2YW33jgflKPTXXptVO28HvNOo9G3j0MybYAHeEmby+QuD2U98dT6ueht9cv/XDqZspSpIhoSW+BAKJ7Hig==
+  dependencies:
+    color ""^4.2.3""
+    detect-libc ""^2.0.1""
+    node-addon-api ""^5.0.0""
+    prebuild-install ""^7.1.1""
+    semver ""^7.3.7""
+    simple-get ""^4.0.1""
+    tar-fs ""^2.1.1""
+    tunnel-agent ""^0.6.0""
+
 shebang-command@^1.2.0:
   version ""1.2.0""
   resolved ""https://registry.yarnpkg.com/shebang-command/-/shebang-command-1.2.0.tgz#44aac65b695b03398968c39f363fee5deafdf1ea""",False,False,Data / Input Handling,3
chapter-three,next-drupal,14d0b362f0a9de7dcb48e0d045acb45d11a70c48,Alex Ahumada,projectsperminute@gmail.com,2022-07-19T16:41:04Z,Alex Ahumada,projectsperminute@gmail.com,2022-07-19T16:41:04Z,fix: Update Metatag patch for 8.x-1.21,drupal/composer.json,False,False,False,False,1,1,2,"---FILE: drupal/composer.json---
@@ -148,7 +148,7 @@
           ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2021-05-05/3111456-34.patch""
       },
       ""drupal/metatag"": {
-        ""Support JSON API, REST, GraphQL and custom normalizations"": ""https://www.drupal.org/files/issues/2021-12-21/metatag-data-type-support-2945817-132.patch""
+        ""Support JSON API, REST, GraphQL and custom normalizations"": ""https://www.drupal.org/files/issues/2022-07-13/metatag-data-type-support-2945817-148_0.patch""
       }
     }
   }",False,False,Data / Input Handling,3
chapter-three,next-drupal,c7d0198471621e793fb9ab519779ca6420f81caa,Ivan Kacala,ivan.kacala@slovenskoit.sk,2022-07-12T12:16:40Z,Ivan Kacala,ivan.kacala@slovenskoit.sk,2022-07-12T12:16:40Z,useDefaultResourceTypeEntry-locale-fix,packages/next-drupal/src/client.ts,False,False,False,False,3,2,5,"---FILE: packages/next-drupal/src/client.ts---
@@ -1011,8 +1011,9 @@ export class DrupalClient {
     if (this.useDefaultResourceTypeEntry) {
       const [id, bundle] = type.split(""--"")
       return (
-        `${this.baseUrl}${this.apiPrefix}/` +
-        (locale ? `${locale}/${id}/${bundle}` : `${id}/${bundle}`)
+        `${this.baseUrl}` + 
+        (locale ? `/${locale}${this.apiPrefix}/` : `${this.apiPrefix}/`) + 
+        `${id}/${bundle}`
       )
     }
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,63ccf819018914ee59f2982fdef7fef02c6cd479,shadcn,arshad@chummun.com,2022-06-14T15:20:27Z,shadcn,arshad@chummun.com,2022-06-14T15:20:27Z,fix(next-drupal): return null for path not found in translatePath,packages/next-drupal/src/client.ts;packages/next-drupal/tests/client.test.ts,False,False,False,False,11,10,21,"---FILE: packages/next-drupal/src/client.ts---
@@ -909,8 +909,9 @@ export class DrupalClient {
     })
 
     if (!response?.ok) {
-      await this.handleJsonApiErrors(response)
-
+      // Do not throw errors here.
+      // Otherwise next.js will catch error and throw a 500.
+      // We want a 404.
       return null
     }
 

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -1463,12 +1463,12 @@ describe(""translatePath"", () => {
     expect(path).toEqual(path2)
   })
 
-  test(""it throws an error for path not found"", async () => {
+  test(""it returns null for path not found"", async () => {
     const client = new DrupalClient(BASE_URL)
 
-    await expect(client.translatePath(""/path-not-found"")).rejects.toThrow(
-      ""Unable to resolve path /path-not-found.""
-    )
+    const path = await client.translatePath(""/path-not-found"")
+
+    expect(path).toBeNull()
   })
 
   test(""it makes un-authenticated requests by default"", async () => {
@@ -1527,7 +1527,7 @@ describe(""translatePathFromContext"", () => {
     expect(path).toMatchSnapshot()
   })
 
-  test(""it throws an error for path not found"", async () => {
+  test(""it returns null for path not found"", async () => {
     const client = new DrupalClient(BASE_URL)
 
     const context: GetStaticPropsContext = {
@@ -1536,9 +1536,9 @@ describe(""translatePathFromContext"", () => {
       },
     }
 
-    await expect(client.translatePathFromContext(context)).rejects.toThrow(
-      ""Unable to resolve path /path-not-found.""
-    )
+    const path = await client.translatePathFromContext(context)
+
+    expect(path).toBeNull()
   })
 
   test(""it translates a path with pathPrefix"", async () => {",False,False,Implementation / Logic,3
chapter-three,next-drupal,ef053145d0c3d3189bd20bd34d815315f1b62d14,shadcn,arshad@chummun.com,2022-06-14T11:04:49Z,shadcn,arshad@chummun.com,2022-06-14T11:04:49Z,fix(www): update styles for sidebar,www/components/callout.tsx;www/config/guides.ts;www/pages/guides/[...slug].tsx;www/pages/learn/[...slug].tsx,False,False,False,False,56,108,164,"---FILE: www/components/callout.tsx---
@@ -6,10 +6,10 @@ interface CalloutProps {
 export function Callout({ children, icon, ...props }: CalloutProps) {
   return (
     <div
-      className=""flex items-center p-4 my-6 border border-l-4 border-blue-400 rounded-md bg-blue-50 callout""
+      className=""flex items-start p-4 my-6 border border-l-4 border-blue-400 rounded-md bg-blue-50 callout""
       {...props}
     >
-      {icon && <span className=""mr-2 text-2xl"">{icon}</span>}
+      {icon && <span className=""mr-4 text-2xl"">{icon}</span>}
       <div>{children}</div>
     </div>
   )

---FILE: www/config/guides.ts---
@@ -13,6 +13,10 @@ export const guidesConfig: GuidesConfig = {
           title: ""JSON:API Params"",
           href: ""/guides/jsonapi-params"",
         },
+        {
+          title: ""On-demand Revalidation"",
+          href: ""/guides/on-demand-revalidation"",
+        },
         {
           title: ""TypeScript"",
           href: ""/guides/typescript"",
@@ -41,10 +45,6 @@ export const guidesConfig: GuidesConfig = {
           title: ""Search API"",
           href: ""/guides/search-api"",
         },
-        {
-          title: ""On-demand Revalidation"",
-          href: ""/guides/on-demand-revalidation"",
-        },
         {
           title: ""Filter by Site"",
           href: ""/guides/filter-by-site"",

---FILE: www/pages/guides/[...slug].tsx---
@@ -25,11 +25,11 @@ export default function GuidesPage({ guide, toc }: GuidesPageProps) {
       title={guide.frontMatter.title}
       description={guide.frontMatter.excerpt}
     >
-      <div className=""container px-6 mx-auto md:gap-10 xl:gap-10 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-4 lg:grid xl:px-8"">
-        <aside className=""hidden col-span-2 py-10 pr-4 border-r xl:col-span-1 lg:flex"">
+      <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[260px_1fr] lg:px-4 lg:grid xl:px-6"">
+        <aside className=""sticky top-0 hidden max-h-screen col-span-2 pt-10 pb-64 pl-2 pr-4 overflow-y-auto border-r xl:col-span-1 lg:flex"">
           <SidebarNav items={guidesConfig.links} />
         </aside>
-        <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-3 xl:grid xl:grid-cols-3 xl:gap-24"">
+        <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-1 xl:grid xl:grid-cols-3 xl:gap-18"">
           <div className=""col-span-2 pt-4 sm:pt-6 md:pt-10 GuideSearch-content main-content"">
             <h1 className=""text-3xl font-bold leading-tight sm:text-4xl md:text-5xl"">
               {guide.frontMatter.title}

---FILE: www/pages/learn/[...slug].tsx---
@@ -2,14 +2,13 @@ import Link from ""next/link""
 import { getMdxNode, getMdxPaths, getAllMdxNodes } from ""next-mdx/server""
 import { useHydrate } from ""next-mdx/client""
 import classNames from ""classnames""
+import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
 
 import { Tutorial } from ""types""
 import { tutorialsConfig } from ""config/tutorials""
 import { Layout } from ""components/layout""
 import { Pager } from ""components/pager""
 import { mdxComponents } from ""components/mdx""
-import { Video } from ""components/video""
-import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
 import { Toc } from ""components/toc""
 
 export interface TutorialPageProps {
@@ -45,75 +44,33 @@ export default function TutorialPage({
       title={tutorial.frontMatter.title}
       description={tutorial.frontMatter.excerpt}
     >
-      <div className=""container px-6 mx-auto md:gap-10 xl:gap-10 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-4 lg:grid xl:px-6"">
-        <aside className=""hidden col-span-2 py-10 pr-4 border-r xl:col-span-1 lg:block"">
+      <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[260px_1fr] lg:px-4 lg:grid xl:px-6"">
+        <aside className=""sticky top-0 hidden max-h-screen col-span-2 pt-10 pb-64 pl-2 pr-4 overflow-y-auto border-r xl:col-span-1 lg:block"">
           {tutorials.map((group, index) => (
-            <div key={index} className=""mb-12"">
-              <h4 className=""pl-6 mb-2 text-sm font-medium"">{group.title}</h4>
-              <ul className=""grid grid-flow-row gap-2 auto-rows-max"">
+            <div key={index} className=""mb-12 -ml-2"">
+              <h4 className=""px-2 py-1 mb-1 text-sm font-medium rounded-md"">
+                {group.title}
+              </h4>
+              <div className=""grid grid-flow-row text-sm auto-rows-max"">
                 {group.items.map((wiz) => (
-                  <li
-                    key={wiz.hash}
-                    className={classNames(
-                      ""flex items-center"",
-                      tutorial.frontMatter.weight > wiz.frontMatter.weight &&
-                        tutorial.frontMatter.group === wiz.frontMatter.group
-                        ? ""line-through opacity-50""
-                        : ""opacity-100""
-                    )}
-                  >
-                    <div className=""flex items-center justify-center w-4 h-4 mr-2"">
-                      {wiz.hash === tutorial.hash ? (
-                        <svg
-                          xmlns=""http://www.w3.org/2000/svg""
-                          className=""w-2 h-2""
-                          viewBox=""0 0 24 24""
-                          fill=""none""
-                          stroke=""currentColor""
-                          strokeWidth=""2""
-                          strokeLinecap=""round""
-                          strokeLinejoin=""round""
-                        >
-                          <circle cx=""12"" cy=""12"" r=""10"" />
-                        </svg>
-                      ) : (
-                        <svg
-                          xmlns=""http://www.w3.org/2000/svg""
-                          className={classNames(
-                            ""w-4 h-4"",
-                            tutorial.frontMatter.weight >=
-                              wiz.frontMatter.weight &&
-                              tutorial.frontMatter.group ===
-                                wiz.frontMatter.group
-                              ? ""visible""
-                              : ""invisible""
-                          )}
-                          viewBox=""0 0 24 24""
-                          fill=""none""
-                          stroke=""currentColor""
-                          strokeWidth=""2""
-                          strokeLinecap=""round""
-                          strokeLinejoin=""round""
-                        >
-                          <path d=""M20 6L9 17l-5-5"" />
-                        </svg>
+                  <Link key={wiz.hash} href={wiz.url} passHref>
+                    <a
+                      className={classNames(
+                        ""px-2 py-2 flex items-center w-full rounded-md hover:underline text-black"",
+                        tutorial.frontMatter.weight > wiz.frontMatter.weight &&
+                          tutorial.frontMatter.group === wiz.frontMatter.group
+                          ? ""line-through opacity-50""
+                          : ""opacity-100"",
+                        {
+                          ""bg-blue-50"": wiz.hash === tutorial.hash,
+                        }
                       )}
-                    </div>
-                    <Link href={wiz.url} passHref>
-                      <a
-                        className={classNames(
-                          ""text-sm hover:text-black"",
-                          wiz.hash === tutorial.hash
-                            ? ""text-black font-semibold""
-                            : ""text-gray-700""
-                        )}
-                      >
-                        {wiz.frontMatter.title}
-                      </a>
-                    </Link>
-                  </li>
+                    >
+                      {wiz.frontMatter.title}
+                    </a>
+                  </Link>
                 ))}
-              </ul>
+              </div>
             </div>
           ))}
           <div className=""p-4 mt-5 border rounded-md border-blue-50 bg-blue-50 callout"">
@@ -144,39 +101,30 @@ export default function TutorialPage({
             </p>
           </div>
         </aside>
-        <div className=""col-span-4 pt-4 pb-10 xl:col-span-3 sm:pt-6 md:pt-10 DocSearch-content"">
-          <div>
-            <div>
-              <h1 className=""text-3xl font-bold leading-tight sm:text-4xl md:text-5xl"">
-                {tutorial.frontMatter.title}
-              </h1>
-              {tutorial.frontMatter.excerpt ? (
-                <p className=""text-lg font-light text-gray-700 md:mt-2 md:text-2xl"">
-                  {tutorial.frontMatter.excerpt}
-                </p>
-              ) : null}
-            </div>
-          </div>
-          <hr className=""my-6"" />
-          {tutorial.frontMatter.video ? (
-            <Video src={tutorial.frontMatter.video} heading=""Play Video"" />
-          ) : null}
-          <div className=""items-start grid-cols-3 gap-20 md:grid"">
-            <div className=""col-span-2"">
-              {content}
-              <Pager links={links} />
-            </div>
-            <aside className=""sticky top-0 hidden pt-4 xl:block"">
-              {toc.items?.length && (
-                <div className=""p-4 border rounded-md"">
-                  <h2 className=""mb-1 text-sm font-medium rounded-md"">
-                    On this page
-                  </h2>
-                  <Toc tree={toc} />
-                </div>
-              )}
-            </aside>
+        <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-1 xl:grid xl:grid-cols-3 xl:gap-18"">
+          <div className=""col-span-2 pt-4 sm:pt-6 md:pt-10 GuideSearch-content main-content"">
+            <h1 className=""text-3xl font-bold leading-tight sm:text-4xl"">
+              {tutorial.frontMatter.title}
+            </h1>
+            {tutorial.frontMatter.excerpt ? (
+              <p className=""mt-2 text-lg font-light text-gray-700 md:text-xl"">
+                {tutorial.frontMatter.excerpt}
+              </p>
+            ) : null}
+            <hr className=""my-6"" />
+            {content}
+            <Pager links={links} />
           </div>
+          <aside className=""sticky top-0 hidden pt-10 xl:block"">
+            {toc.items?.length && (
+              <div className=""p-4 border rounded-md"">
+                <h2 className=""mb-1 text-sm font-medium rounded-md"">
+                  On this page
+                </h2>
+                <Toc tree={toc} />
+              </div>
+            )}
+          </aside>
         </div>
       </div>
     </Layout>",False,False,Dependency / Package,4
chapter-three,next-drupal,4ba259d5d26dc428eac442216e60ac19e7a1c4c8,shadcn,arshad@chummun.com,2022-06-14T09:50:08Z,shadcn,arshad@chummun.com,2022-06-14T09:50:08Z,fix(www): update sidebar width,www/pages/docs/[[...slug]].tsx,False,False,False,False,1,1,2,"---FILE: www/pages/docs/[[...slug]].tsx---
@@ -22,7 +22,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
 
   return (
     <Layout title={doc.frontMatter.title} description={doc.frontMatter.excerpt}>
-      <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[250px_1fr] lg:px-4 lg:grid xl:px-6"">
+      <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[260px_1fr] lg:px-4 lg:grid xl:px-6"">
         <aside className=""sticky top-0 hidden max-h-screen col-span-2 pt-10 pb-64 pl-2 pr-4 overflow-y-auto border-r xl:col-span-1 lg:flex"">
           <SidebarNav items={docsConfig.links} />
         </aside>",False,False,Dependency / Package,4
chapter-three,next-drupal,e6c55d52eff9ccf03d48738ccd64ed862e6b49f8,shadcn,arshad@chummun.com,2022-06-14T03:28:00Z,shadcn,arshad@chummun.com,2022-06-14T03:28:00Z,fix(www): update responsive styles,www/components/layout.tsx;www/pages/docs/[[...slug]].tsx;www/styles/global.css,False,False,False,False,5,5,10,"---FILE: www/components/layout.tsx---
@@ -171,11 +171,11 @@ export function Layout({
               </button>
               <div className=""flex items-center space-x-8"">
                 <Link href=""/"" passHref>
-                  <a className=""items-center flex-shrink hidden font-semibold sm:flex sm:text-lg"">
+                  <a className=""items-center flex-shrink hidden font-semibold sm:flex sm:text-lg lg:text-base xl:text-lg"">
                     {site.name}
                   </a>
                 </Link>
-                <div className=""flex-grow hidden grid-flow-col gap-6 mr-4 lg:grid lg:mr-4 lg:gap-6 auto-cols-max"">
+                <div className=""flex-grow hidden grid-flow-col gap-6 mr-4 lg:grid lg:mr-4 lg:gap-4 xl:gap-6 auto-cols-max"">
                   {site.links.map((link) => {
                     const isActive =
                       pathname === link.href ||

---FILE: www/pages/docs/[[...slug]].tsx---
@@ -22,8 +22,8 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
 
   return (
     <Layout title={doc.frontMatter.title} description={doc.frontMatter.excerpt}>
-      <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[250px_1fr] lg:grid xl:px-8"">
-        <aside className=""sticky top-0 hidden max-h-screen col-span-2 pt-10 pb-64 pr-4 overflow-auto border-r xl:col-span-1 lg:flex"">
+      <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[250px_1fr] lg:px-4 lg:grid xl:px-6"">
+        <aside className=""sticky top-0 hidden max-h-screen col-span-2 pt-10 pb-64 pl-2 pr-4 overflow-y-auto border-r xl:col-span-1 lg:flex"">
           <SidebarNav items={docsConfig.links} />
         </aside>
         <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-1 xl:grid xl:grid-cols-3 xl:gap-18"">

---FILE: www/styles/global.css---
@@ -309,5 +309,5 @@ pre.is-highlighted:hover .token-line {
 }
 
 .DocSearch.DocSearch-Button {
-  @apply md:min-w-[200px] xl:min-w-[250px] md:bg-gray-100;
+  @apply md:min-w-[200px] lg:min-w-[120px] xl:min-w-[250px] md:bg-gray-100;
 }",False,False,Dependency / Package,4
chapter-three,next-drupal,03497ee27057c795a8bcef5e209ec113a6faca5d,shadcn,arshad@chummun.com,2022-06-14T03:19:10Z,shadcn,arshad@chummun.com,2022-06-14T03:19:10Z,fix(www): update docs sidebar scroll,www/pages/docs/[[...slug]].tsx;www/pages/learn/[...slug].tsx,False,False,False,False,2,2,4,"---FILE: www/pages/docs/[[...slug]].tsx---
@@ -23,7 +23,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
   return (
     <Layout title={doc.frontMatter.title} description={doc.frontMatter.excerpt}>
       <div className=""container px-6 mx-auto md:gap-10 xl:gap-8 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-[250px_1fr] lg:grid xl:px-8"">
-        <aside className=""hidden col-span-2 py-10 pr-4 border-r xl:col-span-1 lg:flex"">
+        <aside className=""sticky top-0 hidden max-h-screen col-span-2 pt-10 pb-64 pr-4 overflow-auto border-r xl:col-span-1 lg:flex"">
           <SidebarNav items={docsConfig.links} />
         </aside>
         <div className=""items-start col-span-4 gap-12 pb-10 xl:col-span-1 xl:grid xl:grid-cols-3 xl:gap-18"">

---FILE: www/pages/learn/[...slug].tsx---
@@ -10,7 +10,7 @@ import { Pager } from ""components/pager""
 import { mdxComponents } from ""components/mdx""
 import { Video } from ""components/video""
 import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
-import { Toc } from ""@/core/components/toc""
+import { Toc } from ""components/toc""
 
 export interface TutorialPageProps {
   tutorial: Tutorial",False,False,Dependency / Package,4
chapter-three,next-drupal,2fb2883b5d7abb1b48d46f09ed17496621ff23a9,shadcn,arshad@chummun.com,2022-06-13T16:22:42Z,shadcn,arshad@chummun.com,2022-06-13T16:22:42Z,docs(www): fix docs,www/components/card.tsx;www/components/example-card.tsx;www/components/mdx.tsx;www/components/sidebar-nav.tsx;www/config/docs.ts;www/content/blog/next-drupal-1-3.mdx;www/content/docs/cache.mdx;www/content/docs/client.mdx;www/content/docs/configuration.mdx;www/content/docs/creating-resources.mdx;www/content/docs/deleting-resources.mdx;www/content/docs/environment-variables.mdx;www/content/docs/fetcher.mdx;www/content/docs/fetching-resources.mdx;www/content/docs/index.mdx;www/content/docs/pages.mdx;www/content/docs/serializer.mdx;www/content/docs/typescript.mdx;www/content/docs/updating-resources.mdx;www/content/docs/upgrade-guide.mdx;www/styles/global.css;www/tsconfig.json,False,False,False,False,226,186,412,"---FILE: www/components/card.tsx---
@@ -0,0 +1,54 @@
+import * as React from ""react""
+import classNames from ""classnames""
+import Link, { LinkProps } from ""next/link""
+
+interface CardProps extends LinkProps {
+  children?: React.ReactNode
+}
+
+export function Card({ children, href, ...props }: CardProps) {
+  return (
+    <Link href={href} passHref {...props}>
+      <a
+        className={classNames(
+          ""block p-6 bg-white group border border-gray-200 rounded-lg shadow-md card""
+        )}
+      >
+        {children}
+      </a>
+    </Link>
+  )
+}
+
+type CardHeadingProps = React.HTMLAttributes<HTMLHeadingElement>
+
+export function CardHeading({
+  children,
+  className,
+  ...props
+}: CardHeadingProps) {
+  return (
+    <h3
+      className={classNames(
+        ""mb-2 text-xl font-bold tracking-tight text-gray-900 group-hover:text-primary"",
+        className
+      )}
+      {...props}
+    >
+      {children}
+    </h3>
+  )
+}
+
+type CardBodyProps = React.HTMLAttributes<HTMLDivElement>
+
+export function CardBody({ children, className, ...props }: CardBodyProps) {
+  return (
+    <div
+      className={classNames(""font-normal text-gray-700"", className)}
+      {...props}
+    >
+      {children}
+    </div>
+  )
+}

---FILE: www/components/example-card.tsx---
@@ -1,35 +0,0 @@
-import Link from ""next/link""
-
-interface ExampleCardProps {
-  heading: string
-  text?: string
-  links?: {
-    title: string
-    href: string
-  }[]
-}
-
-export function ExampleCard({
-  heading,
-  text,
-  links,
-  ...props
-}: ExampleCardProps) {
-  return (
-    <div className=""p-6 mb-6 border rounded-lg"" {...props}>
-      <h4 className=""font-bold"">{heading}</h4>
-      <p className=""mt-1 text-gray-600"">{text}</p>
-      <ul className=""mt-4"">
-        {links?.map((link) => (
-          <li key={link.href} className=""mb-1"">
-            <Link href={link.href}>
-              <a className=""text-sm text-blue-700 hover:underline"">
-                {link.title}
-              </a>
-            </Link>
-          </li>
-        ))}
-      </ul>
-    </div>
-  )
-}

---FILE: www/components/mdx.tsx---
@@ -4,7 +4,7 @@ import Image from ""next/image""
 import { Callout } from ""components/callout""
 import { Video } from ""components/video""
 import { CodeBlock } from ""components/code-block""
-import { ExampleCard } from ""@/core/components/example-card""
+import { Card, CardHeading, CardBody } from ""components/card""
 
 export const mdxComponents = {
   p: (props) => <p className=""mb-6 leading-relaxed text-black"" {...props} />,
@@ -74,5 +74,7 @@ export const mdxComponents = {
     </figure>
   ),
   Video,
-  ExampleCard,
+  Card,
+  CardHeading,
+  CardBody,
 }

---FILE: www/components/sidebar-nav.tsx---
@@ -38,7 +38,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
         <Link key={index} href={item.href} passHref>
           <a
             className={classNames(
-              ""px-2 py-2 flex w-full rounded-md hover:underline text-black"",
+              ""px-2 py-2 flex items-center w-full rounded-md hover:underline text-black"",
               {
                 ""bg-blue-50"": asPath === item.href,
               }
@@ -47,7 +47,23 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
             target={item.external && ""_blank""}
             rel={item.external ? ""noreferrer"" : """"}
           >
-            {item.title}
+            {item.title}{"" ""}
+            {item.external && (
+              <svg
+                xmlns=""http://www.w3.org/2000/svg""
+                className=""w-3 h-3 ml-1""
+                fill=""none""
+                viewBox=""0 0 24 24""
+                stroke=""currentColor""
+                strokeWidth=""2""
+              >
+                <path
+                  strokeLinecap=""round""
+                  strokeLinejoin=""round""
+                  d=""M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14""
+                />
+              </svg>
+            )}
           </a>
         </Link>
       ))}

---FILE: www/config/docs.ts---
@@ -97,7 +97,7 @@ export const docsConfig: DocsConfig = {
       items: [
         {
           title: ""Authentication"",
-          href: ""/docs/auth"",
+          href: ""/docs/authentication"",
         },
         {
           title: ""Fetcher"",

---FILE: www/content/blog/next-drupal-1-3.mdx---
@@ -40,7 +40,7 @@ The `DrupalClient` is available in `next-drupal ^1.3.0` as **experimental**.
 </Callout>
 
 ```ts title=lib/drupal.ts
-import { Experimental_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 const drupal = new DrupalClient(""https://example.com"")
 

---FILE: www/content/docs/cache.mdx---
@@ -3,10 +3,14 @@ title: Caching
 excerpt: Using a custom cache for resources.
 ---
 
-The `DrupalClient` has support for caching resources. Example: you can fetch data once and re-use during builds.
+The `DrupalClient` has support for caching resources.
+
+This is handy when dealing with global data: you can fetch data once and re-use during builds.
 
 You can provide your own cache implementation using the [`cache`](/docs/configuration#cache) option.
 
+---
+
 ## Example
 
 Here's an example on how you can use Redis to cache resources.
@@ -18,7 +22,7 @@ Note: as of `next-drupal 1.3.0`, only `getResource` and `getMenu` support cachin
 </Callout>
 
 ```ts title=lib/drupal.ts
-import { Experiment_DrupalClient as DrupalClient, DataCache } from ""next-drupal""
+import { DrupalClient, DataCache } from ""next-drupal""
 import Redis from ""ioredis""
 
 const redis = new Redis(process.env.REDIS_URL)
@@ -33,7 +37,7 @@ export const redisCache: DataCache = {
   },
 }
 
-export const drupal = new Experiment_DrupalClient(
+export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,
   {
     cache: redisCache,

---FILE: www/content/docs/client.mdx---
@@ -9,21 +9,25 @@ You can use the `DrupalClient` to fetch JSON:API data from Drupal to build stati
 
 It also comes with full support for JSON:API write operations which means you can create JSON:API resources from Next.js to Drupal.
 
+---
+
 ## Features
 
 1. Customizable JSON:API client for data fetching.
-2. Helpers to fetching resources, menus, views and search indices.
+2. Helpers for fetching resources, menus, views and search indices.
 3. Helpers for JSON:API write operations (POST, PATCH, and DELETE)
 4. Support for custom auth (`Bearer`, `Basic`, `Next-Auth` or bring your own).
 5. Support for custom serializers.
 6. Support for custom fetcher.
 7. Support for cached resources (memory cache, redis...etc).
-8. Improved error messages.
+8. Human-readable error messages.
+
+---
 
 ## Usage
 
 ```ts
-import { Experimental_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 // Create a new DrupalClient.
 const drupal = new DrupalClient(""https://example.com"")

---FILE: www/content/docs/configuration.mdx---
@@ -8,7 +8,7 @@ excerpt: Initialization and options for DrupalClient.
 To create a new `DrupalClient`, use the following initialization:
 
 ```ts
-import { Experimental_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 const drupal = new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL)
 ```
@@ -173,7 +173,7 @@ Set whether the client should use authenticated requests by default. If set to `
 
 ### useDefaultResourceTypeEntry
 
-- **Default value**: `false`
+- **Default value**: `true`
 - **Required**: No
 
 By default, the client will make a request to JSON:API to retrieve the index.

---FILE: www/content/docs/creating-resources.mdx---
@@ -57,6 +57,8 @@ const article = await drupal.createResource(""node--article"", {
 })
 ```
 
+See the API reference for [createResource](/docs/reference/createresource).
+
 ---
 
 ## createFileResource
@@ -96,6 +98,8 @@ const media = await drupal.createResource<DrupalMedia>(""media--image"", {
 })
 ```
 
+See the API reference for [createFileResource](/docs/reference/createfileresource).
+
 ---
 
 ## Authentication

---FILE: www/content/docs/deleting-resources.mdx---
@@ -18,12 +18,14 @@ The `DrupalClient` ships with a `deleteResource` method for deleting JSON:API re
 Delete an article by id.
 
 ```ts
-const article = await drupal.deleteResource(
+const deleted = await drupal.deleteResource(
   ""node--article"",
   ""a937dd34-5407-4fff-8594-fccaaa5bb72a"" // <-- Article ID
 )
 ```
 
+See the API reference for [deleteResource](/docs/reference/deleteresource).
+
 ---
 
 ## Authentication
@@ -33,7 +35,7 @@ To make authenticated requests when deleting resources, use the `withAuth` optio
 See the [authentication docs](/docs/authentication) for the supported authentication methods.
 
 ```ts
-const article = await drupal.deleteResource(
+const deleted = await drupal.deleteResource(
   ""node--article"",
   ""a937dd34-5407-4fff-8594-fccaaa5bb72a"",
   // highlight-start

---FILE: www/content/docs/environment-variables.mdx---
@@ -24,7 +24,7 @@ DRUPAL_PASSWORD=
 
 ## Required
 
-These environment variables are required initializing a new `DrupalClient`.
+These environment variables are required for initializing a new `DrupalClient`.
 
 | Name                          | Description                                                                                                                |
 | ----------------------------- | :------------------------------------------------------------------------------------------------------------------------- |

---FILE: www/content/docs/fetcher.mdx---
@@ -3,11 +3,13 @@ title: Fetcher
 excerpt: Using a custom fetcher with DrupalClient.
 ---
 
-The `DrupalClient` uses Next.js polyfilled `fetch` as the default fetcher.
+The `DrupalClient` uses the polyfilled `fetch` from Next.js as the default fetcher.
 
 You can provide your own using the [`fetcher`](/docs/configuration#fetcher) option.
 
-### Example
+---
+
+## Example
 
 Here's how you can replace the default fetcher with [cross-fetch](https://github.com/lquixada/cross-fetch).
 
@@ -18,7 +20,7 @@ We're using **cross-fetch** instead of **node-fetch** because it is compatible w
 </Callout>
 
 ```ts title=lib/drupal.ts
-import { Experiment_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 import crossFetch from ""cross-fetch""
 
 // Create a custom fetcher.

---FILE: www/content/docs/fetching-resources.mdx---
@@ -7,7 +7,7 @@ The `DrupalClient` ships with helpers to fetch JSON:API data from Drupal.
 
 You can fetch a single resource, `getResource` or a collection of resources, `getResourceCollection`.
 
-Every helper methods:
+Every helper method:
 
 - Accepts a resource type: `node--article` or `taxonomy_term--tags`.
 - A `params` option for query params: `fields`, `include`, `filter`, ...etc
@@ -55,6 +55,8 @@ const block = await drupal.getResource(
 )
 ```
 
+See the API reference for [getResource](/docs/reference/getresource).
+
 ---
 
 ## getResourceFromContext
@@ -67,6 +69,8 @@ If you're using [internationalization](https://nextjs.org/docs/advanced-features
 const article = await drupal.getResourceFromContext(""node--article"", context)
 ```
 
+See the API reference for [getResourceFromContext](/docs/reference/getresourcefromcontext).
+
 ---
 
 ## getResourceCollection
@@ -88,6 +92,8 @@ const articles = await drupal.getResourceCollection(""node--article"", {
 })
 ```
 
+See the API reference for [getResourceCollection](/docs/reference/getresourcecollection).
+
 ---
 
 ## getResourceCollectionFromContext
@@ -103,6 +109,8 @@ const articles = await drupal.getResourceCollectionFromContext(
 )
 ```
 
+See the API reference for [getResourceCollectionFromContext](/docs/reference/getresourcecollectionfromcontext).
+
 ---
 
 ## getMenu
@@ -119,6 +127,8 @@ Fetch a menu by name
 const menu = await drupal.getMenu(""main"")
 ```
 
+See the API reference for [getMenu](/docs/reference/getmenu).
+
 ---
 
 ## getView
@@ -135,6 +145,8 @@ Fetch a view by name and display_id.
 const view = await drupal.getView(""promoted_items--block_1"")
 ```
 
+See the API reference for [getView](/docs/reference/getview).
+
 ---
 
 ## getSearchIndex
@@ -155,28 +167,7 @@ const results = await drupal.getSearchIndex(indexName, {
 })
 ```
 
----
-
-## translatePath
-
-Fetch information about a path.
-
-```ts
-const path = await drupal.translatePath(""/articles/slug-of-article"")
-```
-
----
-
-## translatePathFromContext
-
-Fetch information about a path in `getStaticProps/getServerSideProps` with context.
-
-```ts
-const path = await drupal.translatePathFromContext(
-  ""/articles/slug-of-article"",
-  context
-)
-```
+See the API reference for [getSearchIndex](/docs/reference/getsearch).
 
 ---
 

---FILE: www/content/docs/index.mdx---
@@ -3,53 +3,38 @@ title: Next.js for Drupal
 excerpt: Next-generation front end for your Drupal site.
 ---
 
-<Img
-  src=""/images/meta.jpg""
-  width=""690""
-  height=""375""
-  layout=""responsive""
-  mb=""10""
-/>
-
-## Features
-
-- **Supports Incremental Static Regeneration:** Your content changes are live instantly.
-- **Iframe preview:** With site switcher and other preview modes.
-- **Multi-sites:** Great for _write once, publish everywhere_.
-- **Supports revision previews, draft content and content moderation**.
-- **Menu, Views and Internationalization built-in**.
-- **Extensible via plugins:** Create your own site previewer and resolvers.
-
-## Screenshots
-
-<Img
-  src=""/images/screenshot-01.jpeg""
-  width=""960""
-  height=""560""
-  layout=""responsive""
-  alt=""Write once. Publish everywhere.""
-  mb=""10""
->
-  <>Write once. Publish everywhere.</>
-</Img>
-
-<Img
-  src=""/images/screenshot-02.jpeg""
-  width=""690""
-  height=""350""
-  layout=""responsive""
-  alt=""Plugins for site resolvers""
-  mb=""10""
->
-  <>Plugins for site resolvers</>
-</Img>
-
-<Img
-  src=""/images/screenshot-03.jpeg""
-  width=""690""
-  height=""350""
-  layout=""responsive""
-  alt=""Inline Preview""
->
-  <>Inline Preview</>
-</Img>
+Welcome to the next-drupal documentation.
+
+This documentation covers `next-drupal 1.3+`.
+
+If you're using an older version, you can find the documentation [here](https://v1.next-drupal.org).
+
+## Helpful links
+
+<Card href=""/learn/quick-start"">
+  <CardHeading>Quick Start</CardHeading>
+  <CardBody>
+    <p>A step by step guide to decouple Drupal using Next.js and JSON:API.</p>
+  </CardBody>
+</Card>
+
+<Card href=""/docs/client"">
+  <CardHeading>DrupalClient</CardHeading>
+  <CardBody>
+    <p>A powerful JSON:API client for Drupal.</p>
+  </CardBody>
+</Card>
+
+<Card href=""/docs/fetching-resources"">
+  <CardHeading>JSON:API</CardHeading>
+  <CardBody>
+    <p>Learn how to fetch resources from JSON:API.</p>
+  </CardBody>
+</Card>
+
+<Card href=""/docs/reference"">
+  <CardHeading>API Reference</CardHeading>
+  <CardBody>
+    <p>API Reference for DrupalClient.</p>
+  </CardBody>
+</Card>

---FILE: www/content/docs/pages.mdx---
@@ -7,6 +7,8 @@ In Next.js, you fetch server-side data in either `getStaticProps` or `getServerS
 
 The `DrupalClient` provides several functions to help you query JSON:API resources from Drupal.
 
+---
+
 ## Basic Example
 
 Here's an example which uses `getResource` to fetch a `page` node by ID:
@@ -180,4 +182,4 @@ export async function getStaticProps(context) {
 
 ## Reference
 
-See the [reference](/docs/reference) section for more examples of fetching resources and collection of resources.
+See the [fetching JSON:API resources](/docs/fetching-resources) section for more examples of fetching resources and collection of resources.

---FILE: www/content/docs/serializer.mdx---
@@ -7,12 +7,14 @@ The `DrupalClient` uses [jsona](https://github.com/olosegres/jsona) as the defau
 
 You can provide your own using the [`serializer`](/docs/client/configuration#serializer) option.
 
+---
+
 ## Example
 
 Here's how you can replace the default serializer with [jsonapi-serializer](https://github.com/SeyZ/jsonapi-serializer).
 
 ```ts title=lib/drupal.ts
-import { Experiment_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 import { Deserializer } from ""jsonapi-serializer""
 
 // Create a custom serializer.

---FILE: www/content/docs/typescript.mdx---
@@ -3,11 +3,15 @@ title: TypeScript
 excerpt: Using built-in types with DrupalClient.
 ---
 
-Every helper methods for the `DrupalClient` has full TypeScript support.
+Every helper method for the `DrupalClient` has full TypeScript support.
 
 The `next-drupal` module ships with some default basic types you can use.
 
-## DrupalNode
+---
+
+## Built-in Types
+
+### DrupalNode
 
 ```ts
 export interface DrupalNode extends JsonApiResourceWithPath {
@@ -21,15 +25,19 @@ export interface DrupalNode extends JsonApiResourceWithPath {
 }
 ```
 
-## DrupalBlock
+---
+
+### DrupalBlock
 
 ```ts
 export interface DrupalBlock extends JsonApiResource {
   info: string
 }
 ```
 
-## DrupalMedia
+---
+
+### DrupalMedia
 
 ```ts
 export interface DrupalMedia extends JsonApiResource {
@@ -41,7 +49,9 @@ export interface DrupalMedia extends JsonApiResource {
 }
 ```
 
-## DrupalFile
+---
+
+### DrupalFile
 
 ```ts
 export interface DrupalFile extends JsonApiResource {
@@ -66,7 +76,9 @@ export interface DrupalFileMeta {
 }
 ```
 
-## DrupalTaxonomyTerm
+---
+
+### DrupalTaxonomyTerm
 
 ```ts
 export interface DrupalTaxonomyTerm extends JsonApiResourceWithPath {
@@ -79,7 +91,9 @@ export interface DrupalTaxonomyTerm extends JsonApiResourceWithPath {
 }
 ```
 
-## DrupalUser
+---
+
+### DrupalUser
 
 ```ts
 export interface DrupalUser extends JsonApiResourceWithPath {
@@ -91,7 +105,9 @@ export interface DrupalUser extends JsonApiResourceWithPath {
 }
 ```
 
-## DrupalView
+---
+
+### DrupalView
 
 ```ts
 /* eslint-disable  @typescript-eslint/no-explicit-any */
@@ -103,7 +119,9 @@ export interface DrupalView<T = Record<string, any>[]> {
 }
 ```
 
-## DrupalParagraph
+---
+
+### DrupalParagraph
 
 ```ts
 export interface DrupalParagraph extends JsonApiResource {
@@ -112,7 +130,9 @@ export interface DrupalParagraph extends JsonApiResource {
 }
 ```
 
-## PathAlias
+---
+
+### PathAlias
 
 ```ts
 export type PathAlias = {
@@ -122,7 +142,9 @@ export type PathAlias = {
 }
 ```
 
-## DrupalMenuLinkContent
+---
+
+### DrupalMenuLinkContent
 
 ```ts
 export interface DrupalMenuLinkContent {
@@ -147,7 +169,9 @@ export interface DrupalMenuLinkContent {
 }
 ```
 
-## DrupalTranslatedPath
+---
+
+### DrupalTranslatedPath
 
 ```ts
 export interface DrupalTranslatedPath {
@@ -177,3 +201,15 @@ export interface DrupalTranslatedPath {
   }[]
 }
 ```
+
+---
+
+## Extending Types
+
+To extend the built-in types, create a file at `types/drupal.d.ts` and extend the types as follows.
+
+```ts title=types/drupal.d.ts
+interface Article extends DrupalNode {
+  field_foo: string
+}
+```

---FILE: www/content/docs/updating-resources.mdx---
@@ -55,6 +55,8 @@ const article = await drupal.updateResource(
 )
 ```
 
+See the API reference for [updateResource](/docs/reference/updateresource).
+
 ---
 
 ## Authentication

---FILE: www/content/docs/upgrade-guide.mdx---
@@ -5,7 +5,7 @@ excerpt: Guide for upgrading your site to use DrupalClient.
 
 <Callout icon="""">
 
-The `DrupalClient` is an optional feature. If you're running a site using `next-drupal 1.2 or below`, you can safely upgrade your site to `next-drupal 1.3.0` without any breaking changes.
+The `DrupalClient` is an optional feature. If you're running a site using `next-drupal 1.2 or below`, you can safely upgrade your site without any breaking changes.
 
 </Callout>
 
@@ -18,7 +18,7 @@ yarn add next-drupal@latest
 2. Create a new `DrupalClient` in `lib/drupal.ts`
 
 ```ts title=lib/drupal.ts
-import { Experiment_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,

---FILE: www/styles/global.css---
@@ -127,6 +127,14 @@ article .table-container {
   overflow: auto;
 }
 
+.card + .card {
+  @apply mt-6;
+}
+
+.card p:last-child {
+  @apply mb-0;
+}
+
 /**
  * MIT License
  * Copyright (c) 2018 Sarah Drasner

---FILE: www/tsconfig.json---
@@ -1,11 +1,7 @@
 {
   ""compilerOptions"": {
     ""target"": ""es5"",
-    ""lib"": [
-      ""dom"",
-      ""dom.iterable"",
-      ""esnext""
-    ],
+    ""lib"": [""dom"", ""dom.iterable"", ""esnext""],
     ""allowJs"": true,
     ""skipLibCheck"": true,
     ""strict"": false,
@@ -18,43 +14,8 @@
     ""isolatedModules"": true,
     ""jsx"": ""preserve"",
     ""baseUrl"": ""./"",
-    ""paths"": {
-      ""@/core/config/*"": [
-        ""core/config/*""
-      ],
-      ""@/core/components/*"": [
-        ""components/*""
-      ],
-      ""@/core/hooks/*"": [
-        ""hooks/*""
-      ],
-      ""@/core/types"": [
-        ""types""
-      ],
-      ""@/core/utils/*"": [
-        ""core/utils/*""
-      ],
-      ""@/components/*"": [
-        ""src/components/*""
-      ],
-      ""@/utils/*"": [
-        ""src/utils/*""
-      ],
-      ""@/config/*"": [
-        ""config/*""
-      ],
-      ""@/scenes/*"": [
-        ""src/scenes/*""
-      ]
-    },
     ""incremental"": true
   },
-  ""include"": [
-    ""next-env.d.ts"",
-    ""**/*.ts"",
-    ""**/*.tsx""
-  ],
-  ""exclude"": [
-    ""node_modules""
-  ]
+  ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
+  ""exclude"": [""node_modules""]
 }",False,False,Documentation / Formatting,7
chapter-three,next-drupal,d54015fe973137932e1d8d1e7eb666599cf128b2,shadcn,arshad@chummun.com,2022-06-13T10:31:41Z,shadcn,arshad@chummun.com,2022-06-13T10:31:41Z,fix(next-drupal): import missing type,packages/next-drupal/src/client.ts,False,False,False,False,1,0,1,"---FILE: packages/next-drupal/src/client.ts---
@@ -34,6 +34,7 @@ import type {
   DrupalClientAuthClientIdSecret,
   JsonApiCreateFileResourceBody,
   DrupalView,
+  DrupalFile,
 } from ""./types""
 import { logger as defaultLogger } from ""./logger""
 import { JsonApiErrors } from ""./jsonapi-errors""",False,False,Dependency / Package,1
chapter-three,next-drupal,47132d9190c00a9de000a36912fa8fdf986b7c56,shadcn,arshad@chummun.com,2022-06-13T09:39:09Z,shadcn,arshad@chummun.com,2022-06-13T09:39:09Z,fix(example-umami): update createFileResource,examples/example-umami/components/form--article.tsx;examples/example-umami/pages/api/articles/index.ts,False,False,False,False,4,3,7,"---FILE: examples/example-umami/components/form--article.tsx---
@@ -31,7 +31,7 @@ export function FormArticle({ className, ...props }: FormArticleProps) {
 
       return setFormStatus({
         status: ""error"",
-        message: errors.map((error) => error.detail),
+        message: errors?.map((error) => error.detail),
       })
     }
 

---FILE: examples/example-umami/pages/api/articles/index.ts---
@@ -62,11 +62,12 @@ export default async function handler(
     // createMediaFileResource is a helper to create file binaries for media.
     // See https://www.drupal.org/node/3024331.
     const file = await drupal.createFileResource<DrupalFile>(
-      ""media--image"",
+      ""file--file"",
       {
         data: {
-          type: ""field_media_image"",
           attributes: {
+            type: ""media--image"",
+            field: ""field_media_image"",
             filename: fields.image.newFilename,
             file: await fs.readFile(fields.image.filepath),
           },",False,False,Implementation / Logic,3
chapter-three,next-drupal,611f8fb7ee4c7aef1ca652a1c15f6378e8cd576f,shadcn,arshad@chummun.com,2022-06-13T08:11:40Z,shadcn,arshad@chummun.com,2022-06-13T08:11:40Z,fix(client): update types for getMenu and getView,packages/next-drupal/src/client.ts,False,False,False,False,2,2,4,"---FILE: packages/next-drupal/src/client.ts---
@@ -1118,7 +1118,7 @@ export class Experiment_DrupalClient {
     return response.end()
   }
 
-  async getMenu<T extends DrupalMenuLinkContent>(
+  async getMenu<T = DrupalMenuLinkContent>(
     name: string,
     options?: JsonApiWithLocaleOptions &
       JsonApiWithAuthOptions &
@@ -1205,7 +1205,7 @@ export class Experiment_DrupalClient {
       : {}
   }
 
-  async getView<T>(
+  async getView<T = JsonApiResource>(
     name: string,
     options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions
   ): Promise<DrupalView<T>> {",False,False,Dependency / Package,1
chapter-three,next-drupal,abcea720fbb9ae1924681ea5b1242869856ea665,shadcn,arshad@chummun.com,2022-06-10T08:41:01Z,shadcn,arshad@chummun.com,2022-06-10T08:41:01Z,"fix(next-drupal): remove fix for localized resources

Sites can handle this in implementation.",packages/next-drupal/src/get-resource.ts,False,False,False,False,3,3,6,"---FILE: packages/next-drupal/src/get-resource.ts---
@@ -62,9 +62,9 @@ export async function getResourceFromContext<T extends JsonApiResource>(
   // TODO: Figure out if we want this behavior.
   // For now this causes a bug where a non-i18n sites builds (ISR) pages for
   // localized pages.
-  if (!context.locale && !resource?.default_langcode) {
-    return null
-  }
+  // if (!context.locale && !resource?.default_langcode) {
+  //   return null
+  // }
 
   return resource
 }",False,False,Implementation / Logic,3
chapter-three,next-drupal,13bbac26097f3e24f0f90b9f25560bfe7ce946b3,shadcn,arshad@chummun.com,2022-06-05T07:17:29Z,shadcn,arshad@chummun.com,2022-06-05T07:17:29Z,fix(next-drupal): update response type for client.getView,packages/next-drupal/src/client.ts;packages/next-drupal/src/types.ts,False,False,False,False,4,10,14,"---FILE: packages/next-drupal/src/client.ts---
@@ -33,6 +33,7 @@ import type {
   DrupalClientAuthAccessToken,
   DrupalClientAuthClientIdSecret,
   JsonApiCreateFileResourceBody,
+  DrupalView,
 } from ""./types""
 import { logger as defaultLogger } from ""./logger""
 import { JsonApiErrors } from ""./jsonapi-errors""
@@ -1207,12 +1208,7 @@ export class Experiment_DrupalClient {
   async getView<T>(
     name: string,
     options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions
-  ): Promise<{
-    id: string
-    results: T
-    meta: JsonApiResponse[""meta""]
-    links: JsonApiResponse[""links""]
-  }> {
+  ): Promise<DrupalView<T>> {
     options = {
       withAuth: this.withAuth,
       deserialize: true,

---FILE: packages/next-drupal/src/types.ts---
@@ -482,8 +482,6 @@ export interface DrupalUser extends JsonApiResourceWithPath {
 export interface DrupalView<T = Record<string, any>[]> {
   id: string
   results: T
-  meta: {
-    count?: number
-    [key: string]: any
-  }
+  meta: JsonApiResponse[""meta""]
+  links: JsonApiResponse[""links""]
 }",False,False,Dependency / Package,1
chapter-three,next-drupal,9d239c49ae7fc5895e9a34176cf1d5657cd0aab9,shadcn,arshad@chummun.com,2022-06-02T15:56:58Z,shadcn,arshad@chummun.com,2022-06-02T15:56:58Z,fix(next-drupal): duh,examples/example-umami/next-i18next.config.js,False,False,False,False,2,0,2,"---FILE: examples/example-umami/next-i18next.config.js---
@@ -1,3 +1,5 @@
+const path = require(""path"")
+
 const config = require(""./site.config"")
 
 module.exports = {",False,False,Dependency / Package,3
chapter-three,next-drupal,18b72da75be6ebfb5abf64ad52a7f4dd56d30b9c,shadcn,arshad@chummun.com,2022-06-02T15:33:32Z,shadcn,arshad@chummun.com,2022-06-02T15:33:32Z,fix(example-umami): update logo classes,examples/example-umami/components/header.tsx,False,False,False,False,2,2,4,"---FILE: examples/example-umami/components/header.tsx---
@@ -36,8 +36,8 @@ export function Header({ menus }: HeaderProps) {
       </div>
       <div className=""container relative flex-wrap items-center justify-between py-6 md:flex lg:py-10"">
         <Link href=""/"" passHref>
-          <a className=""flex justify-start w-48 h-12 lg:h-16 lg:w-52"">
-            <Logo className=""text-primary"" />
+          <a className=""flex justify-start"">
+            <Logo className=""w-48 h-12 text-primary lg:h-16 lg:w-52"" />
             <span className=""sr-only"">{siteConfig.name}</span>
           </a>
         </Link>",False,False,Dependency / Package,1
chapter-three,next-drupal,74781c027d89c255a05e15abcd5919d824237ff0,shadcn,arshad@chummun.com,2022-06-02T07:14:46Z,shadcn,arshad@chummun.com,2022-06-02T07:14:46Z,fix(basic-starter-client): rename api pages to .ts,starters/basic-starter-client/pages/api/exit-preview.ts;starters/basic-starter-client/pages/api/preview.ts,False,False,False,False,0,0,0,,False,False,Rendering / Conversion,0
chapter-three,next-drupal,40456b08ae288c441195fe38b8d5008736bfce05,shadcn,arshad@chummun.com,2022-06-02T07:14:30Z,shadcn,arshad@chummun.com,2022-06-02T07:14:30Z,fix(basic-starter): rename api pages to .ts,starters/basic-starter/pages/api/exit-preview.ts;starters/basic-starter/pages/api/preview.ts,False,False,False,False,0,0,0,,False,False,Rendering / Conversion,0
chapter-three,next-drupal,f4c6cc6b4ee44d89deaed7a6d67867811be78a96,shadcn,arshad@chummun.com,2022-06-01T19:38:32Z,shadcn,arshad@chummun.com,2022-06-01T19:38:32Z,test(next-drupal): add error handling tests,packages/next-drupal/tests/crud.test.ts,False,False,False,False,150,1,151,"---FILE: packages/next-drupal/tests/crud.test.ts---
@@ -92,7 +92,7 @@ describe(""createResource"", () => {
     expect(article.field_media_image.name).toEqual(mediaImage.name)
   })
 
-  it(""creates a localized resource"", async () => {
+  test(""it creates a localized resource"", async () => {
     const client = new DrupalClient(BASE_URL, {
       auth: {
         username: process.env.DRUPAL_USERNAME,
@@ -111,6 +111,65 @@ describe(""createResource"", () => {
 
     expect(article.langcode).toEqual(""es"")
   })
+
+  test(""it throws an error for missing required attributes"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        username: process.env.DRUPAL_USERNAME,
+        password: process.env.DRUPAL_PASSWORD,
+      },
+    })
+
+    await expect(
+      client.createResource(""node--article"", {
+        data: {
+          attributes: {},
+        },
+      })
+    ).rejects.toThrow(
+      ""422 Unprocessable Entity\ntitle: This value should not be null.""
+    )
+  })
+
+  test(""it throws an error for invalid attributes"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        username: process.env.DRUPAL_USERNAME,
+        password: process.env.DRUPAL_PASSWORD,
+      },
+    })
+
+    await expect(
+      client.createResource(""node--article"", {
+        data: {
+          attributes: {
+            title: ""TEST: Article"",
+            body: {
+              value: [""invalid-array-value""],
+            },
+          },
+        },
+      })
+    ).rejects.toThrow(
+      ""422 Unprocessable Entity\nbody.0.value: This value should be of the correct primitive type.""
+    )
+
+    await expect(
+      client.createResource(""node--article"", {
+        data: {
+          attributes: {
+            title: ""TEST: Article"",
+            body: {
+              value: ""This is the body field"",
+              format: ""invalid_format"",
+            },
+          },
+        },
+      })
+    ).rejects.toThrow(
+      ""422 Unprocessable Entity\nbody.0.format: The value you selected is not a valid choice.""
+    )
+  })
 })
 
 describe(""updateResource"", () => {
@@ -213,6 +272,81 @@ describe(""updateResource"", () => {
     expect(updatedArticle.field_media_image.id).toEqual(mediaImage.id)
     expect(updatedArticle.field_media_image.name).toEqual(mediaImage.name)
   })
+
+  test(""it throws an error for missing required attributes"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        username: process.env.DRUPAL_USERNAME,
+        password: process.env.DRUPAL_PASSWORD,
+      },
+    })
+
+    const article = await client.createResource<DrupalNode>(""node--article"", {
+      data: {
+        attributes: {
+          title: ""TEST New article"",
+        },
+      },
+    })
+
+    await expect(
+      client.updateResource(""node--article"", article.id, {
+        data: {
+          attributes: {
+            title: null,
+          },
+        },
+      })
+    ).rejects.toThrow(
+      ""422 Unprocessable Entity\ntitle: This value should not be null.""
+    )
+  })
+
+  test(""it throws an error for invalid attributes"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        username: process.env.DRUPAL_USERNAME,
+        password: process.env.DRUPAL_PASSWORD,
+      },
+    })
+
+    const article = await client.createResource<DrupalNode>(""node--article"", {
+      data: {
+        attributes: {
+          title: ""TEST New article"",
+        },
+      },
+    })
+
+    await expect(
+      client.updateResource(""node--article"", article.id, {
+        data: {
+          attributes: {
+            body: {
+              value: [""invalid-array-value""],
+            },
+          },
+        },
+      })
+    ).rejects.toThrow(
+      ""422 Unprocessable Entity\nbody.0.value: This value should be of the correct primitive type.""
+    )
+
+    await expect(
+      client.updateResource(""node--article"", article.id, {
+        data: {
+          attributes: {
+            body: {
+              value: ""This is the body field"",
+              format: ""invalid_format"",
+            },
+          },
+        },
+      })
+    ).rejects.toThrow(
+      ""422 Unprocessable Entity\nbody.0.format: The value you selected is not a valid choice.""
+    )
+  })
 })
 
 describe(""deleteResource"", () => {
@@ -242,4 +376,19 @@ describe(""deleteResource"", () => {
       '404 Not Found\nThe ""entity"" parameter was not converted for the path ""/jsonapi/node/article/{entity}"" (route name: ""jsonapi.node--article.individual"")'
     )
   })
+
+  test(""it throws an error for invalid resource"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        username: process.env.DRUPAL_USERNAME,
+        password: process.env.DRUPAL_PASSWORD,
+      },
+    })
+
+    await expect(
+      client.deleteResource(""node--article"", ""invalid-id"")
+    ).rejects.toThrow(
+      '404 Not Found\nThe ""entity"" parameter was not converted for the path ""/jsonapi/node/article/{entity}"" (route name: ""jsonapi.node--article.individual.delete"")'
+    )
+  })
 })",False,False,Documentation / Formatting,3
chapter-three,next-drupal,b166ef09d2c8201a3a5f6d771eb23f6f330c7916,shadcn,arshad@chummun.com,2022-06-01T17:51:19Z,shadcn,arshad@chummun.com,2022-06-01T17:51:19Z,fix(next-drupal): update missing opts from access token,packages/next-drupal/src/client.ts;packages/next-drupal/tests/client.test.ts,False,False,False,False,60,42,102,"---FILE: packages/next-drupal/src/client.ts---
@@ -54,23 +54,23 @@ function isBasicAuth(
   auth: Experiment_DrupalClientOptions[""auth""]
 ): auth is DrupalClientAuthUsernamePassword {
   return (
-    (auth as DrupalClientAuthUsernamePassword).username !== undefined ||
-    (auth as DrupalClientAuthUsernamePassword).password !== undefined
+    (auth as DrupalClientAuthUsernamePassword)?.username !== undefined ||
+    (auth as DrupalClientAuthUsernamePassword)?.password !== undefined
   )
 }
 
 function isAccessTokenAuth(
   auth: Experiment_DrupalClientOptions[""auth""]
 ): auth is DrupalClientAuthAccessToken {
-  return (auth as DrupalClientAuthAccessToken).access_token !== undefined
+  return (auth as DrupalClientAuthAccessToken)?.access_token !== undefined
 }
 
 function isClientIdSecretAuth(
   auth: Experiment_DrupalClient[""auth""]
 ): auth is DrupalClientAuthClientIdSecret {
   return (
-    (auth as DrupalClientAuthClientIdSecret).clientId !== undefined ||
-    (auth as DrupalClientAuthClientIdSecret).clientSecret !== undefined
+    (auth as DrupalClientAuthClientIdSecret)?.clientId !== undefined ||
+    (auth as DrupalClientAuthClientIdSecret)?.clientSecret !== undefined
   )
 }
 
@@ -1326,23 +1326,26 @@ export class Experiment_DrupalClient {
       return this.accessToken
     }
 
-    if (!opts.clientId || !opts.clientSecret) {
+    if (!opts?.clientId || !opts?.clientSecret) {
       if (typeof this._auth === ""undefined"") {
         throw new Error(
           ""auth is not configured. See https://next-drupal.org/docs/client/auth""
         )
       }
     }
 
-    if (!isClientIdSecretAuth(this._auth) || !isClientIdSecretAuth(opts)) {
+    if (
+      !isClientIdSecretAuth(this._auth) ||
+      (opts && !isClientIdSecretAuth(opts))
+    ) {
       throw new Error(
         `'clientId' and 'clientSecret' required. See https://next-drupal.org/docs/client/auth`
       )
     }
 
-    const clientId = opts.clientId || this._auth.clientId
-    const clientSecret = opts.clientSecret || this._auth.clientSecret
-    const url = this.buildUrl(opts.url || this._auth.url || DEFAULT_AUTH_URL)
+    const clientId = opts?.clientId || this._auth.clientId
+    const clientSecret = opts?.clientSecret || this._auth.clientSecret
+    const url = this.buildUrl(opts?.url || this._auth.url || DEFAULT_AUTH_URL)
 
     if (this._token && Date.now() < this.tokenExpiresOn) {
       this._debug(`Using existing access token.`)

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -77,14 +77,17 @@ describe(""auth"", () => {
     const url = client.buildUrl(""/jsonapi"").toString()
 
     await client.fetch(url, { withAuth: true })
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: {
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
-        Authorization: ""Basic YWRtaW46cGFzc3dvcmQ="",
-      },
-      withAuth: true,
-    })
+    expect(customFetch).toHaveBeenCalledWith(
+      url,
+      expect.objectContaining({
+        headers: {
+          ""Content-Type"": ""application/vnd.api+json"",
+          Accept: ""application/vnd.api+json"",
+          Authorization: ""Basic YWRtaW46cGFzc3dvcmQ="",
+        },
+        withAuth: true,
+      })
+    )
   })
 
   test(""it accepts callback for auth"", async () => {
@@ -100,14 +103,17 @@ describe(""auth"", () => {
     const url = client.buildUrl(""/jsonapi"").toString()
 
     await client.fetch(url, { withAuth: true })
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: {
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
-        Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
-      },
-      withAuth: true,
-    })
+    expect(customFetch).toHaveBeenCalledWith(
+      url,
+      expect.objectContaining({
+        headers: {
+          ""Content-Type"": ""application/vnd.api+json"",
+          Accept: ""application/vnd.api+json"",
+          Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
+        },
+        withAuth: true,
+      })
+    )
   })
 
   test(""it accepts clientId and clientSecret for auth"", async () => {
@@ -308,9 +314,12 @@ describe(""headers"", () => {
     const url = ""http://example.com""
 
     await client.fetch(url)
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: { foo: ""bar"" },
-    })
+    expect(customFetch).toHaveBeenCalledWith(
+      url,
+      expect.objectContaining({
+        headers: { foo: ""bar"" },
+      })
+    )
   })
 
   test(""it allows setting custom headers with custom auth"", async () => {
@@ -329,13 +338,16 @@ describe(""headers"", () => {
 
     await client.fetch(url, { withAuth: true })
 
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: {
-        foo: ""bar"",
-        Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
-      },
-      withAuth: true,
-    })
+    expect(customFetch).toHaveBeenCalledWith(
+      url,
+      expect.objectContaining({
+        headers: {
+          foo: ""bar"",
+          Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
+        },
+        withAuth: true,
+      })
+    )
   })
 })
 
@@ -430,12 +442,15 @@ describe(""fetch"", () => {
     const url = client.buildUrl(""/jsonapi"").toString()
 
     await client.fetch(url)
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: {
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
-      },
-    })
+    expect(customFetch).toHaveBeenCalledWith(
+      url,
+      expect.objectContaining({
+        headers: {
+          ""Content-Type"": ""application/vnd.api+json"",
+          Accept: ""application/vnd.api+json"",
+        },
+      })
+    )
 
     await client.fetch(url, {
       headers: {",False,False,Dependency / Package,1
chapter-three,next-drupal,fa3e864fda741e22c9aeb2a0167a4a0cbcfeb733,shadcn,arshad@chummun.com,2022-06-01T17:37:35Z,shadcn,arshad@chummun.com,2022-06-01T17:37:35Z,fix(next-drupal): update translatePath handling,packages/next-drupal/src/client.ts,False,False,False,False,2,0,2,"---FILE: packages/next-drupal/src/client.ts---
@@ -902,6 +902,8 @@ export class Experiment_DrupalClient {
     })
 
     if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+
       return null
     }
 ",False,False,Implementation / Logic,3
chapter-three,next-drupal,a4d3d3806637b17868e8d21fe1f383636a9c47d1,shadcn,arshad@chummun.com,2022-06-01T17:28:10Z,shadcn,arshad@chummun.com,2022-06-01T17:28:10Z,fix(next-drupal): update handling for string errors,packages/next-drupal/src/client.ts;packages/next-drupal/src/jsonapi-errors.ts,False,False,False,False,6,2,8,"---FILE: packages/next-drupal/src/client.ts---
@@ -216,8 +216,8 @@ export class Experiment_DrupalClient {
   /* eslint-disable @typescript-eslint/no-explicit-any */
   async fetch(input: RequestInfo, init?: FetchOptions): Promise<Response> {
     init = {
-      credentials: ""include"",
       ...init,
+      credentials: ""include"",
       headers: {
         ...this._headers,
         ...init?.headers,

---FILE: packages/next-drupal/src/jsonapi-errors.ts---
@@ -1,7 +1,7 @@
 import { JsonApiError } from ""./types""
 
 export class JsonApiErrors extends Error {
-  errors: JsonApiError[]
+  errors: JsonApiError[] | string
   statusCode: number
 
   constructor(errors: JsonApiError[], statusCode: number) {
@@ -13,6 +13,10 @@ export class JsonApiErrors extends Error {
   }
 
   private static formatMessage(errors) {
+    if (typeof errors === ""string"") {
+      return errors
+    }
+
     const [error] = errors
 
     let message = `${error.status} ${error.title}`",False,False,Dependency / Package,1
chapter-three,next-drupal,f9a281ab51d4abcf865672fd3a9ed07c6f7feb3a,shadcn,arshad@chummun.com,2022-06-01T17:18:53Z,shadcn,arshad@chummun.com,2022-06-01T17:18:53Z,fix(next-drupal): update message handling in jsonapi-errors,packages/next-drupal/src/jsonapi-errors.ts,False,False,False,False,3,2,5,"---FILE: packages/next-drupal/src/jsonapi-errors.ts---
@@ -9,10 +9,11 @@ export class JsonApiErrors extends Error {
 
     this.errors = errors
     this.statusCode = statusCode
+    this.message = JsonApiErrors.formatMessage(errors)
   }
 
-  get message() {
-    const [error] = this.errors
+  private static formatMessage(errors) {
+    const [error] = errors
 
     let message = `${error.status} ${error.title}`
 ",False,False,Dependency / Package,1
chapter-three,next-drupal,c0ddc9c6dd5a18f07e7981311df347367ff593d2,shadcn,arshad@chummun.com,2022-06-01T16:28:29Z,shadcn,arshad@chummun.com,2022-06-01T16:28:29Z,feat(next-drupal): update error handling,packages/next-drupal/src/client.ts;packages/next-drupal/src/index.ts;packages/next-drupal/src/jsonapi-errors.ts;packages/next-drupal/src/types.ts,False,False,False,False,124,15,139,"---FILE: packages/next-drupal/src/client.ts---
@@ -32,8 +32,10 @@ import type {
   DrupalClientAuthUsernamePassword,
   DrupalClientAuthAccessToken,
   DrupalClientAuthClientIdSecret,
+  JsonApiCreateMediaFileResourceBody,
 } from ""./types""
 import { logger as defaultLogger } from ""./logger""
+import { JsonApiErrors } from ""./jsonapi-errors""
 
 const DEFAULT_API_PREFIX = ""/jsonapi""
 const DEFAULT_FRONT_PAGE = ""/home""
@@ -214,8 +216,8 @@ export class Experiment_DrupalClient {
   /* eslint-disable @typescript-eslint/no-explicit-any */
   async fetch(input: RequestInfo, init?: FetchOptions): Promise<Response> {
     init = {
-      ...init,
       credentials: ""include"",
+      ...init,
       headers: {
         ...this._headers,
         ...init?.headers,
@@ -307,17 +309,7 @@ export class Experiment_DrupalClient {
 
     this._debug(`Using default fetch (polyfilled by Next.js).`)
 
-    const response = await fetch(input, init)
-
-    if (response?.ok) {
-      return response
-    }
-
-    const message = await this.formatErrorResponse(response)
-
-    this.throwError(new Error(message))
-
-    return null
+    return await fetch(input, init)
   }
 
   async createResource<T extends JsonApiResource>(
@@ -350,6 +342,51 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
+    const json = await response.json()
+
+    return options.deserialize ? this.deserialize(json) : json
+  }
+
+  async createMediaFileResource<T = JsonApiResource>(
+    type: string,
+    body: JsonApiCreateMediaFileResourceBody,
+    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions
+  ): Promise<T> {
+    options = {
+      deserialize: true,
+      withAuth: true,
+      ...options,
+    }
+
+    const apiPath = await this.getEntryForResourceType(
+      type,
+      options?.locale !== options?.defaultLocale ? options.locale : undefined
+    )
+
+    const url = this.buildUrl(`${apiPath}/${body.data.type}`, options?.params)
+
+    this._debug(`Creating file resource for media of type ${type}.`)
+    this._debug(url.toString())
+
+    const response = await this.fetch(url.toString(), {
+      method: ""POST"",
+      headers: {
+        ""Content-Type"": ""application/octet-stream"",
+        Accept: ""application/vnd.api+json"",
+        ""Content-Disposition"": `file; filename=""${body.data.attributes.filename}""`,
+      },
+      body: body.data.attributes.file,
+      withAuth: options.withAuth,
+    })
+
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const json = await response.json()
 
     return options.deserialize ? this.deserialize(json) : json
@@ -387,6 +424,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const json = await response.json()
 
     return options.deserialize ? this.deserialize(json) : json
@@ -418,6 +459,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     return response.status === 204
   }
 
@@ -462,6 +507,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const json = await response.json()
 
     if (options.withCache) {
@@ -683,6 +732,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const json = await response.json()
 
     return options.deserialize ? this.deserialize(json) : json
@@ -1105,6 +1158,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const data = await response.json()
 
     const items = options.deserialize ? this.deserialize(data) : data
@@ -1177,6 +1234,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const data = await response.json()
 
     const results = options.deserialize ? this.deserialize(data) : data
@@ -1213,6 +1274,10 @@ export class Experiment_DrupalClient {
       withAuth: options.withAuth,
     })
 
+    if (!response?.ok) {
+      await this.handleJsonApiErrors(response)
+    }
+
     const json = await response.json()
 
     return options.deserialize ? this.deserialize(json) : json
@@ -1296,7 +1361,7 @@ export class Experiment_DrupalClient {
     })
 
     if (!response?.ok) {
-      this.throwError(new Error(response?.statusText))
+      await this.handleJsonApiErrors(response)
     }
 
     const result: AccessToken = await response.json()
@@ -1314,7 +1379,7 @@ export class Experiment_DrupalClient {
     return this.serializer.deserialize(body, options)
   }
 
-  private async formatErrorResponse(response: Response) {
+  private async getErrorsFromResponse(response: Response) {
     const type = response.headers.get(""content-type"")
 
     if (type === ""application/json"") {
@@ -1329,7 +1394,7 @@ export class Experiment_DrupalClient {
       const _error: JsonApiResponse = await response.json()
 
       if (_error?.errors?.length) {
-        return this.formatJsonApiErrors(_error.errors)
+        return _error.errors
       }
     }
 
@@ -1363,4 +1428,11 @@ export class Experiment_DrupalClient {
 
     throw error
   }
+
+  private async handleJsonApiErrors(response: Response) {
+    if (!response?.ok) {
+      const errors = await this.getErrorsFromResponse(response)
+      throw new JsonApiErrors(errors, response.status)
+    }
+  }
 }

---FILE: packages/next-drupal/src/index.ts---
@@ -19,3 +19,4 @@ export {
 } from ""./utils""
 
 export * from ""./client""
+export * from ""./jsonapi-errors""

---FILE: packages/next-drupal/src/jsonapi-errors.ts---
@@ -0,0 +1,25 @@
+import { JsonApiError } from ""./types""
+
+export class JsonApiErrors extends Error {
+  errors: JsonApiError[]
+  statusCode: number
+
+  constructor(errors: JsonApiError[], statusCode: number) {
+    super()
+
+    this.errors = errors
+    this.statusCode = statusCode
+  }
+
+  get message() {
+    const [error] = this.errors
+
+    let message = `${error.status} ${error.title}`
+
+    if (error.detail) {
+      message += `\n${error.detail}`
+    }
+
+    return message
+  }
+}

---FILE: packages/next-drupal/src/types.ts---
@@ -267,6 +267,17 @@ export interface JsonApiCreateResourceBody {
   }
 }
 
+export interface JsonApiCreateMediaFileResourceBody {
+  data: {
+    /** The name of the file field on the media entity. Example: field_media_image */
+    type: string
+    attributes: {
+      filename: string
+      file: Buffer
+    }
+  }
+}
+
 export interface JsonApiUpdateResourceBody {
   data: {
     type?: string",False,False,Implementation / Logic,3
chapter-three,next-drupal,18690e10a829104068693b93fa84e5987d59de21,shadcn,arshad@chummun.com,2022-05-09T08:37:41Z,GitHub,noreply@github.com,2022-05-09T08:37:41Z,"feat(next-drupal): introduce throwJsonApiErrors option (#196)

- When set to true, throwJsonApiErrors will throw errors which are shown in the Next.js overlay.
- This is set to true by default in non-production environments.
- In production, all errors are logged to the console and never thrown.",packages/next-drupal/src/client.ts;packages/next-drupal/src/types.ts,False,False,False,False,64,26,90,"---FILE: packages/next-drupal/src/client.ts---
@@ -54,6 +54,8 @@ export class Experiment_DrupalClient {
 
   private cache: Experiment_DrupalClientOptions[""cache""]
 
+  private throwJsonApiErrors?: Experiment_DrupalClientOptions[""throwJsonApiErrors""]
+
   private logger: Experiment_DrupalClientOptions[""logger""]
 
   private fetcher?: Experiment_DrupalClientOptions[""fetcher""]
@@ -106,6 +108,7 @@ export class Experiment_DrupalClient {
       previewSecret,
       accessToken,
       forceIframeSameSiteCookie = false,
+      throwJsonApiErrors = true,
     } = options
 
     this.baseUrl = baseUrl
@@ -123,6 +126,12 @@ export class Experiment_DrupalClient {
     this.cache = cache
     this.accessToken = accessToken
     this.forceIframeSameSiteCookie = forceIframeSameSiteCookie
+    this.throwJsonApiErrors = throwJsonApiErrors
+
+    // Do not throw errors in production.
+    if (process.env.NODE_ENV === ""production"") {
+      this.throwJsonApiErrors = false
+    }
 
     this._debug(""Debug mode is on."")
   }
@@ -208,16 +217,9 @@ export class Experiment_DrupalClient {
 
     const message = await this.formatErrorResponse(response)
 
-    // Only throw errors in development
-    if (process.env.NODE_ENV !== ""production"") {
-      throw new Error(message)
-    } else {
-      if (this.debug) {
-        this.logger.error(message)
-      }
+    this.throwError(new Error(message))
 
-      return null
-    }
+    return null
   }
 
   async getResource<T extends JsonApiResource>(
@@ -437,7 +439,7 @@ export class Experiment_DrupalClient {
       if (json?.router?.body) {
         const error = JSON.parse(json.router.body)
         if (error?.message) {
-          throw new Error(error.message)
+          this.throwError(new Error(error.message))
         }
       }
 
@@ -447,7 +449,7 @@ export class Experiment_DrupalClient {
     const data = JSON.parse(json[""resolvedResource#uri{0}""]?.body)
 
     if (data.errors) {
-      throw new Error(this.formatJsonApiErrors(data.errors))
+      this.throwError(new Error(this.formatJsonApiErrors(data.errors)))
     }
 
     return options.deserialize ? this.deserialize(data) : data
@@ -727,8 +729,12 @@ export class Experiment_DrupalClient {
 
       return await response.json()
     } catch (error) {
-      throw new Error(
-        `Failed to fetch JSON:API index at ${url.toString()} - ${error.message}`
+      this.throwError(
+        new Error(
+          `Failed to fetch JSON:API index at ${url.toString()} - ${
+            error.message
+          }`
+        )
       )
     }
   }
@@ -778,15 +784,15 @@ export class Experiment_DrupalClient {
       request.query
 
     if (secret !== this.previewSecret) {
-      return response.status(401).json({
-        message: options?.errorMessages.secret || ""Invalid preview secret."",
-      })
+      return response
+        .status(401)
+        .json(options?.errorMessages.secret || ""Invalid preview secret."")
     }
 
     if (!slug) {
       return response
         .status(401)
-        .end({ message: options?.errorMessages.slug || ""Invalid slug."" })
+        .end(options?.errorMessages.slug || ""Invalid slug."")
     }
 
     let _options: GetResourcePreviewUrlOptions = {
@@ -809,20 +815,29 @@ export class Experiment_DrupalClient {
       ..._options,
     })
 
-    if (!entity || !entity?.path) {
-      throw new Error(
-        `The path attribute is missing for entity with slug ${slug}`
-      )
+    const missingEntityErrorMessage = `The entity with slug ${slug} coud not be found. If the entity exists on your Drupal site, make sure the proper permissions are configured so that Next.js can access it.`
+    const missingPathAliasErrorMessage = `The path alias is missing for entity with slug ${slug}.`
+
+    if (!entity) {
+      this.throwError(new Error(missingEntityErrorMessage))
+
+      return response.status(404).end(missingEntityErrorMessage)
+    }
+
+    if (!entity?.path?.alias) {
+      this.throwError(new Error(missingPathAliasErrorMessage))
+
+      return response.status(404).end(missingPathAliasErrorMessage)
     }
 
-    const url = entity?.default_langcode
-      ? entity.path.alias
+    const url = entity.default_langcode
+      ? entity?.path.alias
       : `/${entity.path.langcode}${entity.path.alias}`
 
     if (!url) {
-      response
+      return response
         .status(404)
-        .end({ message: options?.errorMessages.slug || ""Invalid slug"" })
+        .end(options?.errorMessages.slug || ""Invalid slug"")
     }
 
     response.setPreviewData({
@@ -1071,7 +1086,7 @@ export class Experiment_DrupalClient {
     })
 
     if (!response?.ok) {
-      throw new Error(response?.statusText)
+      this.throwError(new Error(response?.statusText))
     }
 
     const result: AccessToken = await response.json()
@@ -1126,4 +1141,16 @@ export class Experiment_DrupalClient {
   private _debug(message) {
     !!this.debug && this.logger.debug(message)
   }
+
+  // Error handling.
+  // If throwErrors is enable, we show errors in the Next.js overlay.
+  // Otherwise we log the errors even if debugging is turned off.
+  // In production, errors are always logged never thrown.
+  private throwError(error: Error) {
+    if (!this.throwJsonApiErrors) {
+      return this.logger.error(error)
+    }
+
+    throw error
+  }
 }

---FILE: packages/next-drupal/src/types.ts---
@@ -67,6 +67,17 @@ export type Experiment_DrupalClientOptions = {
    * [Documentation](https://next-drupal.org/docs/client/configuration#cache)
    */
   cache?: DataCache
+
+  /**
+   * If set to true, JSON:API errors are thrown in non-production environments. The errors are shown in the Next.js overlay.
+   *
+   * **Default value**: `true`
+   * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client/configuration#throwjsonapierrors)
+   */
+  throwJsonApiErrors?: boolean
+
   /**
    * Override the default logger. You can use this to send logs to a third-party service.
    *",False,False,Implementation / Logic,3
chapter-three,next-drupal,89f7b0f4a6b00cc4a67e3af1be1517f4b56e46c1,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-05-05T11:48:11Z,GitHub,noreply@github.com,2022-05-05T11:48:11Z,"chore(deps-dev): bump @types/node from 17.0.23 to 17.0.31 (#193)

Bumps [@types/node](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/node) from 17.0.23 to 17.0.31.
- [Release notes](https://github.com/DefinitelyTyped/DefinitelyTyped/releases)
- [Commits](https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/node)

---
updated-dependencies:
- dependency-name: ""@types/node""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",yarn.lock,False,False,False,False,3,3,6,"---FILE: yarn.lock---
@@ -3019,9 +3019,9 @@
   integrity sha512-jhuKLIRrhvCPLqwPcx6INqmKeiA5EWrsCOPhrlFSrbrmU4ZMPjj5Ul/oLCMDO98XRUIwVm78xICz4EPCektzeQ==
 
 ""@types/node@*"", ""@types/node@^17.0.21"", ""@types/node@^17.0.23"":
-  version ""17.0.23""
-  resolved ""https://registry.yarnpkg.com/@types/node/-/node-17.0.23.tgz#3b41a6e643589ac6442bdbd7a4a3ded62f33f7da""
-  integrity sha512-UxDxWn7dl97rKVeVS61vErvw086aCYhDLyvRQZ5Rk65rZKepaFdm53GeqXaKBuOhED4e9uWq34IC3TdSdJJ2Gw==
+  version ""17.0.31""
+  resolved ""https://registry.yarnpkg.com/@types/node/-/node-17.0.31.tgz#a5bb84ecfa27eec5e1c802c6bbf8139bdb163a5d""
+  integrity sha512-AR0x5HbXGqkEx9CadRH3EBYx/VkiUgZIhP4wvPn/+5KIsgpNoyFaRlVe0Zlx9gRtg8fA06a9tskE2MSN7TcG4Q==
 
 ""@types/node@>=12"":
   version ""17.0.29""",False,False,Dependency / Package,1
chapter-three,next-drupal,044d5bab6e807b20b2a7448b3e9c38367af86011,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-05-05T11:47:58Z,GitHub,noreply@github.com,2022-05-05T11:47:58Z,"chore(deps-dev): bump postcss from 8.4.12 to 8.4.13 (#192)

Bumps [postcss](https://github.com/postcss/postcss) from 8.4.12 to 8.4.13.
- [Release notes](https://github.com/postcss/postcss/releases)
- [Changelog](https://github.com/postcss/postcss/blob/main/CHANGELOG.md)
- [Commits](https://github.com/postcss/postcss/compare/8.4.12...8.4.13)

---
updated-dependencies:
- dependency-name: postcss
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",yarn.lock,False,False,False,False,8,8,16,"---FILE: yarn.lock---
@@ -9461,10 +9461,10 @@ nanoclone@^0.2.1:
   resolved ""https://registry.yarnpkg.com/nanoclone/-/nanoclone-0.2.1.tgz#dd4090f8f1a110d26bb32c49ed2f5b9235209ed4""
   integrity sha512-wynEP02LmIbLpcYw8uBKpcfF6dmg2vcpKqxeH5UcoKEYdExslsdUA4ugFauuaeYdTB76ez6gJW8XAZ6CgkXYxA==
 
-nanoid@^3.1.30, nanoid@^3.3.1:
-  version ""3.3.2""
-  resolved ""https://registry.yarnpkg.com/nanoid/-/nanoid-3.3.2.tgz#c89622fafb4381cd221421c69ec58547a1eec557""
-  integrity sha512-CuHBogktKwpm5g2sRgv83jEy2ijFzBwMoYA60orPDR7ynsLijJDqgsi4RDGj3OJpy3Ieb+LYwiRmIOGyytgITA==
+nanoid@^3.1.30, nanoid@^3.3.3:
+  version ""3.3.4""
+  resolved ""https://registry.yarnpkg.com/nanoid/-/nanoid-3.3.4.tgz#730b67e3cd09e2deacf03c027c81c9d9dbc5e8ab""
+  integrity sha512-MqBkQh/OHTS2egovRtLk45wEyNXwF+cokD+1YPf9u5VfJiRdAiRwB2froX5Co9Rh20xs4siNPm8naNotSD6RBw==
 
 napi-build-utils@^1.0.1:
   version ""1.0.2""
@@ -10718,11 +10718,11 @@ postcss@8.4.5:
     source-map-js ""^1.0.1""
 
 postcss@^8.1.6, postcss@^8.2.1, postcss@^8.3.5, postcss@^8.4.1, postcss@^8.4.12, postcss@^8.4.5, postcss@^8.4.6:
-  version ""8.4.12""
-  resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.12.tgz#1e7de78733b28970fa4743f7da6f3763648b1905""
-  integrity sha512-lg6eITwYe9v6Hr5CncVbK70SoioNQIq81nsaG86ev5hAidQvmOeETBqs7jm43K2F5/Ley3ytDtriImV6TpNiSg==
+  version ""8.4.13""
+  resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.13.tgz#7c87bc268e79f7f86524235821dfdf9f73e5d575""
+  integrity sha512-jtL6eTBrza5MPzy8oJLFuUscHDXTV5KcLlqAWHl5q5WYRfnNRGSmOZmOZ1T6Gy7A99mOZfqungmZMpMmCVJ8ZA==
   dependencies:
-    nanoid ""^3.3.1""
+    nanoid ""^3.3.3""
     picocolors ""^1.0.0""
     source-map-js ""^1.0.2""
 ",False,False,Dependency / Package,1
chapter-three,next-drupal,68c093f4c0427ab5efddb2f63515fad41052b7fd,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-05-05T06:43:11Z,GitHub,noreply@github.com,2022-05-05T06:43:11Z,"chore(deps): bump next-auth from 4.3.2 to 4.3.4 (#186)

Bumps [next-auth](https://github.com/nextauthjs/next-auth) from 4.3.2 to 4.3.4.
- [Release notes](https://github.com/nextauthjs/next-auth/releases)
- [Changelog](https://github.com/nextauthjs/next-auth/blob/main/CHANGELOG.md)
- [Commits](https://github.com/nextauthjs/next-auth/compare/next-auth@v4.3.2...next-auth@v4.3.4)

---
updated-dependencies:
- dependency-name: next-auth
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",yarn.lock,False,False,False,False,3,3,6,"---FILE: yarn.lock---
@@ -9485,9 +9485,9 @@ neo-async@^2.6.0:
   integrity sha512-Yd3UES5mWCSqR+qNT93S3UoYUkqAZ9lLg8a7g9rimsWmYGK8cVToA4/sF3RrshdyV3sAGMXVUmpMYOw+dLpOuw==
 
 next-auth@^4.0.5:
-  version ""4.3.2""
-  resolved ""https://registry.yarnpkg.com/next-auth/-/next-auth-4.3.2.tgz#eb4976511fb19766d0397bd4de45eee87c5c1998""
-  integrity sha512-yj9HN9p81Fg3dkrq4Y0FxjfgupiABac7o+ve47j5GPLjo1qE2FFX1pr7g7mwQ1HDUCoGhLmgBpFBR8+pdWgFfQ==
+  version ""4.3.4""
+  resolved ""https://registry.yarnpkg.com/next-auth/-/next-auth-4.3.4.tgz#7b241e34e1f68632768cef8ee289e33256cb2b19""
+  integrity sha512-8dGkNicbxY2BYsJq4uOJIEsGt39wXj5AViTBsVfbRQqtAFmZmXYHutf90VBmobm8rT2+Xl60HDUTkuVVK+x+xw==
   dependencies:
     ""@babel/runtime"" ""^7.16.3""
     ""@panva/hkdf"" ""^1.0.1""",False,False,Dependency / Package,1
chapter-three,next-drupal,ca65e62118c733b7bd857ae3ab395b3dc4fbbbe8,shadcn,arshad@chummun.com,2022-05-02T18:11:06Z,shadcn,arshad@chummun.com,2022-05-02T18:11:06Z,fix(next-drupal): skip subrequests if path is passed to getResourceFromContext,packages/next-drupal/src/client.ts,False,False,False,False,27,19,46,"---FILE: packages/next-drupal/src/client.ts---
@@ -281,18 +281,7 @@ export class Experiment_DrupalClient {
   ): Promise<T> {
     const type = typeof input === ""string"" ? input : input.jsonapi.resourceName
 
-    if (typeof input !== ""string"") {
-      // Fix for subrequests and translation.
-      // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
-      // @shadcn, note to self:
-      // Given an entity at /example with no translation.
-      // When we try to translate /es/example, decoupled router will properly
-      // translate to the untranslated version and set the locale to es.
-      // However a subrequests to /es/subrequests for decoupled router will fail.
-      if (context.locale && input.entity.langcode !== context.locale) {
-        context.locale = input.entity.langcode
-      }
-    }
+    const previewData = context.previewData as { resourceVersion?: string }
 
     options = {
       // Add support for revisions for node by default.
@@ -305,13 +294,7 @@ export class Experiment_DrupalClient {
       ...options,
     }
 
-    const path = this.getPathFromContext(context, {
-      pathPrefix: options?.pathPrefix,
-    })
-
-    const previewData = context.previewData as { resourceVersion?: string }
-
-    const resource = await this.getResourceByPath<T>(path, {
+    const _options = {
       deserialize: options.deserialize,
       isVersionable: options.isVersionable,
       locale: context.locale,
@@ -321,8 +304,33 @@ export class Experiment_DrupalClient {
         resourceVersion: previewData?.resourceVersion,
         ...options?.params,
       },
+    }
+
+    if (typeof input !== ""string"") {
+      // Fix for subrequests and translation.
+      // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
+      // @shadcn, note to self:
+      // Given an entity at /example with no translation.
+      // When we try to translate /es/example, decoupled router will properly
+      // translate to the untranslated version and set the locale to es.
+      // However a subrequests to /es/subrequests for decoupled router will fail.
+      if (context.locale && input.entity.langcode !== context.locale) {
+        context.locale = input.entity.langcode
+      }
+
+      // Given we already have the path info, we can skip subrequests and just make a simple
+      // request to the Drupal site to get the entity.
+      if (input.entity?.uuid) {
+        return await this.getResource<T>(type, input.entity.uuid, _options)
+      }
+    }
+
+    const path = this.getPathFromContext(context, {
+      pathPrefix: options?.pathPrefix,
     })
 
+    const resource = await this.getResourceByPath<T>(path, _options)
+
     // If no locale is passed, skip entity if not default_langcode.
     // This happens because decoupled_router will still translate the path
     // to a resource.",False,False,Implementation / Logic,3
chapter-three,next-drupal,7f8770882f853cb59986d1e912709304a149b77c,shadcn,arshad@chummun.com,2022-05-02T18:06:19Z,shadcn,arshad@chummun.com,2022-05-02T18:06:19Z,fix(www): update active links for learn section,www/config/site.ts;www/pages/learn/[...slug].tsx,False,False,False,False,1,0,1,"---FILE: www/config/site.ts---
@@ -9,6 +9,7 @@ export const site: SiteConfig = {
     {
       title: ""Get Started"",
       href: ""/learn/quick-start"",
+      activePathNames: [""/learn/[...slug]""],
     },
     {
       title: ""Docs"",",False,False,Documentation / Formatting,3
chapter-three,next-drupal,bae2d1ade520f0edd19a9479074c4d31580052ba,Eirik Stanghelle Morland,eirik@morland.no,2022-04-29T19:00:12Z,GitHub,noreply@github.com,2022-04-29T19:00:12Z,docs(www): fix typo (area => are) (#187),www/tutorials/quick-start/create-consumer.mdx,False,False,False,False,1,1,2,"---FILE: www/tutorials/quick-start/create-consumer.mdx---
@@ -34,4 +34,4 @@ openssl rsa -in private.key -pubout > public.key
 
 3. Click **Save**
 
-_Important: note the client id (uuid) and the secret. These area going to be used as environment variables for the Next.js site._
+_Important: note the client id (uuid) and the secret. These are going to be used as environment variables for the Next.js site._",False,False,Documentation / Formatting,4
chapter-three,next-drupal,314841aeb4fef984799037e77404b3d66ca20eed,shadcn,arshad@chummun.com,2022-04-28T12:25:19Z,shadcn,arshad@chummun.com,2022-04-28T12:25:19Z,fix(example-auth): update token name in refreshAccessToken,examples/example-auth/pages/api/auth/[...nextauth].ts,False,False,False,False,2,2,4,"---FILE: examples/example-auth/pages/api/auth/[...nextauth].ts---
@@ -108,8 +108,8 @@ async function refreshAccessToken(token) {
     const formData = new URLSearchParams()
 
     formData.append(""grant_type"", ""refresh_token"")
-    formData.append(""client_id"", process.env.DRUPAL_CLIENT_ID)
-    formData.append(""client_secret"", process.env.DRUPAL_CLIENT_SECRET)
+    formData.append(""client_id"", process.env.OAUTH_CLIENT_ID)
+    formData.append(""client_secret"", process.env.OAUTH_CLIENT_SECRET)
     formData.append(""refresh_token"", token.refreshToken)
 
     const response = await fetch(",False,False,Dependency / Package,1
chapter-three,next-drupal,e63f21e7e05b38e728e043b6efc05ace540eba06,shadcn,arshad@chummun.com,2022-04-27T02:15:33Z,shadcn,arshad@chummun.com,2022-04-27T02:15:33Z,fix(www): update twitter link,www/pages/blog/[...slug].tsx;www/pages/blog/index.tsx,False,False,False,False,2,2,4,"---FILE: www/pages/blog/[...slug].tsx---
@@ -26,7 +26,7 @@ export default function BlogsPage({ blog }: BlogsPageProps) {
         <p className=""mt-4 text-gray-700"">
           {blog.frontMatter.date} -{"" ""}
           <a
-            href=""https://twitter.com""
+            href=""https://twitter.com/shadcn""
             target=""_blank""
             rel=""noreferrer nofollow""
             className=""text-blue-600""

---FILE: www/pages/blog/index.tsx---
@@ -30,7 +30,7 @@ export default function BlogsPage({ blogs }: BlogsPageProps) {
             <p className=""mt-2 text-gray-700"">
               {blog.frontMatter.date} -{"" ""}
               <a
-                href=""https://twitter.com""
+                href=""https://twitter.com/shadcn""
                 target=""_blank""
                 rel=""noreferrer nofollow""
                 className=""text-blue-600""",False,False,Implementation / Logic,3
chapter-three,next-drupal,4c77e96a8e3f4c8a7ef6f875e75ae12e1b1e7a08,Rob Decker,rob@deckerdev.com,2022-04-26T22:38:28Z,Rob Decker,rob@deckerdev.com,2022-04-26T22:38:28Z,docs(www): fix typo,www/docs/guides/on-demand-revalidation.mdx,False,False,False,False,1,1,2,"---FILE: www/docs/guides/on-demand-revalidation.mdx---
@@ -7,7 +7,7 @@ Starting with `v12.1.0`, Next.js added support for [on-demand Incremental Static
 
 <Callout icon="""">
 
-On-demand revalidation is experimental in Next.js 12.1.0, so we're shipping it in the `next_extras` module as experiemntal as well.
+On-demand revalidation is experimental in Next.js 12.1.0, so we're shipping it in the `next_extras` module as experimental as well.
 
 </Callout>
 ",False,False,Documentation / Formatting,4
chapter-three,next-drupal,48667ab47292ac0f42867e93b58b6dcecff699a7,theRuslan,skiffle.rus@gmail.com,2022-04-25T11:43:05Z,GitHub,noreply@github.com,2022-04-25T11:43:05Z,"Docs fixes (#177)

* ""find more about cache"" link in wrong place

* missing parentheses in Upgrade Guide docs",www/docs/client/configuration.mdx;www/docs/client/upgrade.mdx,False,False,False,False,3,3,6,"---FILE: www/docs/client/configuration.mdx---
@@ -142,6 +142,8 @@ new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
 })
 ```
 
+You can find more info about using a custom cache [here](/docs/client/cache).
+
 ---
 
 ### auth
@@ -170,8 +172,6 @@ You can find more info about using a custom auth [here](/docs/client/auth).
 
 ---
 
-You can find more info about using a custom cache [here](/docs/client/cache).
-
 ### logger
 
 - **Default value**: `console`

---FILE: www/docs/client/upgrade.mdx---
@@ -42,7 +42,7 @@ export const drupal = new DrupalClient(
 
 
 - await getPathsFromContext()
-+ await drupal.getStaticPathsFromContext
++ await drupal.getStaticPathsFromContext()
 
 
 - await translatePathFromContext()",False,False,Documentation / Formatting,4
chapter-three,next-drupal,29ee9d3818aef4ebc925b37231693944f751d998,shadcn,arshad@chummun.com,2022-04-25T01:56:41Z,shadcn,arshad@chummun.com,2022-04-25T01:56:50Z,fix(next-drupal): backport slug encoding fix to helpers,packages/next-drupal/src/utils.ts,False,False,False,False,3,1,4,"---FILE: packages/next-drupal/src/utils.ts---
@@ -110,7 +110,9 @@ export function getPathFromContext(
 ) {
   let { slug } = context.params
 
-  slug = Array.isArray(slug) ? slug.join(""/"") : slug
+  slug = Array.isArray(slug)
+    ? slug.map((s) => encodeURIComponent(s)).join(""/"")
+    : slug
 
   // Handle locale.
   if (context.locale && context.locale !== context.defaultLocale) {",False,False,Rendering / Conversion,0
chapter-three,next-drupal,2501cf9f122fe4399301cd8e7eeaf3b11507a695,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-04-25T01:48:26Z,GitHub,noreply@github.com,2022-04-25T01:48:26Z,"chore(deps-dev): bump prettier from 2.6.1 to 2.6.2 (#139)

Bumps [prettier](https://github.com/prettier/prettier) from 2.6.1 to 2.6.2.
- [Release notes](https://github.com/prettier/prettier/releases)
- [Changelog](https://github.com/prettier/prettier/blob/main/CHANGELOG.md)
- [Commits](https://github.com/prettier/prettier/compare/2.6.1...2.6.2)

---
updated-dependencies:
- dependency-name: prettier
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",yarn.lock,False,False,False,False,3,3,6,"---FILE: yarn.lock---
@@ -10774,9 +10774,9 @@ prettier-linter-helpers@^1.0.0:
     fast-diff ""^1.1.2""
 
 prettier@^2.6.1:
-  version ""2.6.1""
-  resolved ""https://registry.yarnpkg.com/prettier/-/prettier-2.6.1.tgz#d472797e0d7461605c1609808e27b80c0f9cfe17""
-  integrity sha512-8UVbTBYGwN37Bs9LERmxCPjdvPxlEowx2urIL6urHzdb3SDq4B/Z6xLFCblrSnE4iKWcS6ziJ3aOYrc1kz/E2A==
+  version ""2.6.2""
+  resolved ""https://registry.yarnpkg.com/prettier/-/prettier-2.6.2.tgz#e26d71a18a74c3d0f0597f55f01fb6c06c206032""
+  integrity sha512-PkUpF+qoXTqhOeWL9fu7As8LXsIUZ1WYaJiY/a7McAQzxjk82OF0tibkFXVCDImZtWxbvojFjerkiLb0/q8mew==
 
 pretty-bytes@^3.0.0:
   version ""3.0.1""",False,False,Dependency / Package,1
chapter-three,next-drupal,3d9ec8eb1e9c38614009d87b74f7e98e045bc952,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-04-25T01:47:54Z,GitHub,noreply@github.com,2022-04-25T01:47:54Z,"chore(deps): bump sharp from 0.30.3 to 0.30.4 (#165)

Bumps [sharp](https://github.com/lovell/sharp) from 0.30.3 to 0.30.4.
- [Release notes](https://github.com/lovell/sharp/releases)
- [Changelog](https://github.com/lovell/sharp/blob/main/docs/changelog.md)
- [Commits](https://github.com/lovell/sharp/compare/v0.30.3...v0.30.4)

---
updated-dependencies:
- dependency-name: sharp
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",www/package.json;yarn.lock,False,False,False,False,14,41,55,"---FILE: www/package.json---
@@ -21,7 +21,7 @@
     ""prism-react-renderer"": ""^1.3.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
-    ""sharp"": ""^0.29.3""
+    ""sharp"": ""^0.30.4""
   },
   ""devDependencies"": {
     ""@mapbox/rehype-prism"": ""^0.8.0"",

---FILE: yarn.lock---
@@ -4480,15 +4480,7 @@ color-string@^1.9.0:
     color-name ""^1.0.0""
     simple-swizzle ""^0.2.2""
 
-color@^4.0.1:
-  version ""4.2.1""
-  resolved ""https://registry.yarnpkg.com/color/-/color-4.2.1.tgz#498aee5fce7fc982606c8875cab080ac0547c884""
-  integrity sha512-MFJr0uY4RvTQUKvPq7dh9grVOTYSFeXja2mBXioCGjnjJoXrAp9jJ1NQTDR73c9nwBSAQiNKloKl5zq9WB9UPw==
-  dependencies:
-    color-convert ""^2.0.1""
-    color-string ""^1.9.0""
-
-color@^4.2.1:
+color@^4.0.1, color@^4.2.3:
   version ""4.2.3""
   resolved ""https://registry.yarnpkg.com/color/-/color-4.2.3.tgz#d781ecb5e57224ee43ea9627560107c0e0c6463a""
   integrity sha512-1rXeuUUiGGrykh+CeBdu5Ie7OJwinCgQY0bc7GCRxy5xVHy+moaqkpL/jqQq0MtQOeYcrqEz4abc5f0KtU7W4A==
@@ -5279,11 +5271,6 @@ detect-indent@^6.0.0:
   resolved ""https://registry.yarnpkg.com/detect-indent/-/detect-indent-6.1.0.tgz#592485ebbbf6b3b1ab2be175c8393d04ca0d57e6""
   integrity sha512-reYkTUJAZb9gUuZ2RvVCNhVHdg62RHnJ7WJl8ftMi4diZ6NWlciOzQN88pUhSELEwflJht4oQDv0F0BMlwaYtA==
 
-detect-libc@^1.0.3:
-  version ""1.0.3""
-  resolved ""https://registry.yarnpkg.com/detect-libc/-/detect-libc-1.0.3.tgz#fa137c4bd698edf55cd5cd02ac559f91a4c4ba9b""
-  integrity sha1-+hN8S9aY7fVc1c0CrFWfkaTEups=
-
 detect-libc@^2.0.0, detect-libc@^2.0.1:
   version ""2.0.1""
   resolved ""https://registry.yarnpkg.com/detect-libc/-/detect-libc-2.0.1.tgz#e1897aa88fa6ad197862937fbc0441ef352ee0cd""
@@ -9585,7 +9572,7 @@ node-abi@^3.3.0:
   dependencies:
     semver ""^7.3.5""
 
-node-addon-api@^4.2.0, node-addon-api@^4.3.0:
+node-addon-api@^4.3.0:
   version ""4.3.0""
   resolved ""https://registry.yarnpkg.com/node-addon-api/-/node-addon-api-4.3.0.tgz#52a1a0b475193e0928e98e0426a0d1254782b77f""
   integrity sha512-73sE9+3UaLYYFmDsFZnqCInzPyh3MqIwZO9cw58yIqAZhONrrabrYyYe3TuIqtIiOuTXVhsGau8hcrhhwSsDIQ==
@@ -10740,7 +10727,7 @@ preact@^10.6.3:
   resolved ""https://registry.yarnpkg.com/preact/-/preact-10.7.0.tgz#3bd424677a894c8199f66a881df283b44bea0eeb""
   integrity sha512-9MEURwzNMKpAil/t6+wabDIJI6oG6GnwypYxiJDvQnW+fHDTt51PYuLZ1QUM31hFr7sDaj9qTaShAF9VIxuxGQ==
 
-prebuild-install@^7.0.0, prebuild-install@^7.0.1:
+prebuild-install@^7.0.1:
   version ""7.0.1""
   resolved ""https://registry.yarnpkg.com/prebuild-install/-/prebuild-install-7.0.1.tgz#c10075727c318efe72412f333e0ef625beaf3870""
   integrity sha512-QBSab31WqkyxpnMWQxubYAHR5S9B2+r81ucocew34Fkl98FhvKIF50jIJnNOBmAZfyNV7vE5T6gd3hTVWgY6tg==
@@ -11866,10 +11853,10 @@ semver@7.3.2:
   resolved ""https://registry.yarnpkg.com/semver/-/semver-7.3.2.tgz#604962b052b81ed0786aae84389ffba70ffd3938""
   integrity sha512-OrOb32TeeambH6UrhtShmF7CRDqhL6/5XpPNp2DuRH6+9QLw/orhp72j87v8Qa1ScDkvrrBNpZcDejAirJmfXQ==
 
-semver@7.x, semver@^7.1.1, semver@^7.1.3, semver@^7.3.2, semver@^7.3.4, semver@^7.3.5:
-  version ""7.3.5""
-  resolved ""https://registry.yarnpkg.com/semver/-/semver-7.3.5.tgz#0b621c879348d8998e4b0e4be94b3f12e6018ef7""
-  integrity sha512-PoeGJYh8HK4BTO/a9Tf6ZG3veo/A7ZVsYrSA6J8ny9nb3B1VrpkuN+z9OE5wfE5p6H4LchYZsegiQgbJD94ZFQ==
+semver@7.x, semver@^7.1.1, semver@^7.1.3, semver@^7.3.2, semver@^7.3.4, semver@^7.3.5, semver@^7.3.7:
+  version ""7.3.7""
+  resolved ""https://registry.yarnpkg.com/semver/-/semver-7.3.7.tgz#12c5b649afdbf9049707796e22a4028814ce523f""
+  integrity sha512-QlYTucUYOews+WeEujDoEGziz4K6c47V/Bd+LjSSYcA94p+DmINdf7ncaUinThfvZyu13lN9OY1XDxt8C0Tw0g==
   dependencies:
     lru-cache ""^6.0.0""
 
@@ -11910,30 +11897,16 @@ shallow-clone@^3.0.0:
   dependencies:
     kind-of ""^6.0.2""
 
-sharp@^0.29.3:
-  version ""0.29.3""
-  resolved ""https://registry.yarnpkg.com/sharp/-/sharp-0.29.3.tgz#0da183d626094c974516a48fab9b3e4ba92eb5c2""
-  integrity sha512-fKWUuOw77E4nhpyzCCJR1ayrttHoFHBT2U/kR/qEMRhvPEcluG4BKj324+SCO1e84+knXHwhJ1HHJGnUt4ElGA==
+sharp@^0.30.3, sharp@^0.30.4:
+  version ""0.30.4""
+  resolved ""https://registry.yarnpkg.com/sharp/-/sharp-0.30.4.tgz#73d9daa63bbc20da189c9328d75d5d395fc8fb73""
+  integrity sha512-3Onig53Y6lji4NIZo69s14mERXXY/GV++6CzOYx/Rd8bnTwbhFbL09WZd7Ag/CCnA0WxFID8tkY0QReyfL6v0Q==
   dependencies:
-    color ""^4.0.1""
-    detect-libc ""^1.0.3""
-    node-addon-api ""^4.2.0""
-    prebuild-install ""^7.0.0""
-    semver ""^7.3.5""
-    simple-get ""^4.0.0""
-    tar-fs ""^2.1.1""
-    tunnel-agent ""^0.6.0""
-
-sharp@^0.30.3:
-  version ""0.30.3""
-  resolved ""https://registry.yarnpkg.com/sharp/-/sharp-0.30.3.tgz#315a1817423a4d1cde5119a21c99c234a7a6fb37""
-  integrity sha512-rjpfJFK58ZOFSG8sxYSo3/JQb4ej095HjXp9X7gVu7gEn1aqSG8TCW29h/Rr31+PXrFADo1H/vKfw0uhMQWFtg==
-  dependencies:
-    color ""^4.2.1""
+    color ""^4.2.3""
     detect-libc ""^2.0.1""
     node-addon-api ""^4.3.0""
     prebuild-install ""^7.0.1""
-    semver ""^7.3.5""
+    semver ""^7.3.7""
     simple-get ""^4.0.1""
     tar-fs ""^2.1.1""
     tunnel-agent ""^0.6.0""",False,False,Data / Input Handling,3
chapter-three,next-drupal,4971a37d49ad4260686cabc091f65808d844f7b5,shadcn,arshad@chummun.com,2022-04-25T01:42:45Z,shadcn,arshad@chummun.com,2022-04-25T01:42:45Z,fix(www): update styles,www/components/callout.tsx;www/components/layout.tsx;www/components/sidebar-nav.tsx,False,False,False,False,7,5,12,"---FILE: www/components/callout.tsx---
@@ -6,7 +6,7 @@ interface CalloutProps {
 export function Callout({ children, icon, ...props }: CalloutProps) {
   return (
     <div
-      className=""flex items-start p-4 my-6 border border-l-4 rounded-md border-blue-50 bg-blue-50 callout""
+      className=""flex items-center p-4 my-6 border border-l-4 border-blue-400 rounded-md bg-blue-50 callout""
       {...props}
     >
       {icon && <span className=""mr-2 text-2xl"">{icon}</span>}

---FILE: www/components/layout.tsx---
@@ -53,7 +53,7 @@ export function Layout({
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 md:w-[330px] text-sm font-semibold text-white sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 md:w-[340px] text-sm font-semibold text-white sm:text-base sm:mt-0 hover:underline""
           >
             <span className=""sr-only"">Chapter Three</span>
             <svg
@@ -88,7 +88,7 @@ export function Layout({
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 text-sm text-right hidden lg:inline text-white md:w-[330px] sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 text-sm text-right hidden lg:inline text-white md:w-[340px] sm:text-base sm:mt-0 hover:underline""
           >
             Contact Chapter Three for your next project
           </a>

---FILE: www/components/sidebar-nav.tsx---
@@ -38,8 +38,10 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
         <Link key={index} href={item.href} passHref>
           <a
             className={classNames(
-              ""px-2 py-2 rounded-md hover:underline"",
-              asPath === item.href ? ""text-black bg-blue-50"" : ""text-gray-900""
+              ""px-2 py-2 rounded-md hover:underline text-black"",
+              {
+                ""bg-blue-50"": asPath === item.href,
+              }
             )}
             onClick={onLinkClick}
             target={item.external && ""_blank""}",False,False,Implementation / Logic,3
chapter-three,next-drupal,b56dd9eae04398c93f21282789547372c695df0a,shadcn,arshad@chummun.com,2022-04-25T01:29:44Z,shadcn,arshad@chummun.com,2022-04-25T01:29:44Z,fix(next-drupal): encode slug parts in getPathFromContext,packages/next-drupal/src/client.ts;packages/next-drupal/tests/__snapshots__/client.test.ts.snap;packages/next-drupal/tests/client.test.ts,False,False,False,False,47,1,48,"---FILE: packages/next-drupal/src/client.ts---
@@ -690,7 +690,9 @@ export class Experiment_DrupalClient {
       pathPrefix = `/${context.locale}${pathPrefix}`
     }
 
-    slug = Array.isArray(slug) ? slug.join(""/"") : slug
+    slug = Array.isArray(slug)
+      ? slug.map((s) => encodeURIComponent(s)).join(""/"")
+      : slug
 
     // Handle front page.
     if (!slug) {

---FILE: packages/next-drupal/tests/__snapshots__/client.test.ts.snap---
@@ -1494,6 +1494,34 @@ Object {
 }
 `;
 
+exports[`getPathFromContext it encodes path with punctuation 1`] = `
+Object {
+  ""entity"": Object {
+    ""bundle"": ""page"",
+    ""canonical"": ""https://dev-next-drupal-tests.pantheonsite.io/en/path%26with%5Epunc%26in%24path"",
+    ""id"": ""20"",
+    ""langcode"": ""en"",
+    ""type"": ""node"",
+    ""uuid"": ""e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
+  },
+  ""isHomePath"": false,
+  ""jsonapi"": Object {
+    ""basePath"": ""/jsonapi"",
+    ""entryPoint"": ""https://dev-next-drupal-tests.pantheonsite.io/en/jsonapi"",
+    ""individual"": ""https://dev-next-drupal-tests.pantheonsite.io/en/jsonapi/node/page/e4bbe727-14ee-44bc-a34a-14ce5c86a82e"",
+    ""pathPrefix"": ""jsonapi"",
+    ""resourceName"": ""node--page"",
+  },
+  ""label"": ""Page with characters in path"",
+  ""meta"": Object {
+    ""deprecated"": Object {
+      ""jsonapi.pathPrefix"": ""This property has been deprecated and will be removed in the next version of Decoupled Router. Use basePath instead."",
+    },
+  },
+  ""resolved"": ""https://dev-next-drupal-tests.pantheonsite.io/en/path%26with%5Epunc%26in%24path"",
+}
+`;
+
 exports[`getResource it fetches a resource by uuid 1`] = `
 Object {
   ""changed"": ""2022-03-25T08:02:17+00:00"",

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -646,6 +646,22 @@ describe(""getPathFromContext"", () => {
       )
     ).toEqual(""/foo/bar/baz"")
   })
+
+  test(""it encodes path with punctuation"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    const path = client.getPathFromContext({
+      params: {
+        slug: [""path&with^punc&in$path""],
+      },
+    })
+
+    expect(path).toEqual(""/path%26with%5Epunc%26in%24path"")
+
+    const translatedPath = await client.translatePath(path)
+
+    expect(translatedPath).toMatchSnapshot()
+  })
 })
 
 describe(""getIndex"", () => {",False,False,Environment / Configuration,3
chapter-three,next-drupal,2ae9ed80ce7ed0865ec9b13bc51583ac9de0de0e,shadcn,arshad@chummun.com,2022-04-20T15:29:44Z,shadcn,arshad@chummun.com,2022-04-20T15:29:44Z,fix(www): update header colors,www/components/layout.tsx,False,False,False,False,9,2,11,"---FILE: www/components/layout.tsx---
@@ -75,13 +75,20 @@ export function Layout({
             className=""flex items-center mx-auto mt-2 space-x-2 font-semibold text-black md:ml-auto sm:mr-0 md:mt-0 lg:mr-auto""
           >
             <DrupalConLogo />{"" ""}
-            <span className=""underline"">Join our DrupalCon BoF</span>
+            <span
+              className={classNames(
+                ""underline"",
+                path === ""/"" ? ""text-black"" : ""text-white""
+              )}
+            >
+              Join our DrupalCon BoF
+            </span>
           </a>
           <a
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 text-sm hidden lg:inline text-white md:w-[330px] sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 text-sm text-right hidden lg:inline text-white md:w-[330px] sm:text-base sm:mt-0 hover:underline""
           >
             Contact Chapter Three for your next project
           </a>",False,False,Dependency / Package,1
chapter-three,next-drupal,dd5db0c8697133bea16de4dee50d563c5d68a5c8,shadcn,arshad@chummun.com,2022-04-20T07:58:02Z,shadcn,arshad@chummun.com,2022-04-20T07:58:02Z,fix(www): header size,www/components/layout.tsx,False,False,False,False,2,2,4,"---FILE: www/components/layout.tsx---
@@ -53,7 +53,7 @@ export function Layout({
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 md:w-[320px] text-sm font-semibold text-white sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 md:w-[330px] text-sm font-semibold text-white sm:text-base sm:mt-0 hover:underline""
           >
             <span className=""sr-only"">Chapter Three</span>
             <svg
@@ -81,7 +81,7 @@ export function Layout({
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 text-sm hidden lg:inline text-white md:w-[320px] sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 text-sm hidden lg:inline text-white md:w-[330px] sm:text-base sm:mt-0 hover:underline""
           >
             Contact Chapter Three for your next project
           </a>",False,False,Rendering / Conversion,0
chapter-three,next-drupal,844bd93b0d4e6a3d24e6e76622067f344e440def,shadcn,arshad@chummun.com,2022-04-19T18:44:42Z,shadcn,arshad@chummun.com,2022-04-19T18:44:42Z,fix(basic-starter): rename eslint.json,starters/basic-starter/.eslintrc.json,False,False,False,False,0,0,0,,False,False,Data / Input Handling,3
chapter-three,next-drupal,f253e6f815f26546ab3a3b4e0329ec1bd12f3603,shadcn,arshad@chummun.com,2022-04-18T17:07:41Z,shadcn,arshad@chummun.com,2022-04-18T17:07:41Z,fix(www): update types,examples/example-kitchen-sink/package.json;package.json;www/components/prism.tsx;www/docs/client/configuration.mdx;www/package.json;www/pages/_app.tsx;www/pages/_document.tsx;www/pages/blog/index.tsx;yarn.lock,False,False,False,False,64,57,121,"---FILE: examples/example-kitchen-sink/package.json---
@@ -27,8 +27,6 @@
     ""@tailwindcss/aspect-ratio"": ""^0.4.0"",
     ""@tailwindcss/forms"": ""^0.5.0"",
     ""@tailwindcss/typography"": ""^0.5.2"",
-    ""@types/node"": ""^17.0.23"",
-    ""@types/react"": ""^17.0.43"",
     ""autoprefixer"": ""^10.4.4"",
     ""eslint"": ""^8.12.0"",
     ""eslint-config-next"": ""^12.1.4"",

---FILE: package.json---
@@ -37,6 +37,10 @@
       ""@commitlint/config-conventional""
     ]
   },
+  ""resolutions"": {
+    ""@types/react"": ""17.0.2"",
+    ""@types/react-dom"": ""17.0.2""
+  },
   ""devDependencies"": {
     ""@babel/core"": ""^7.9.6"",
     ""@babel/eslint-parser"": ""^7.17.0"",
@@ -47,7 +51,8 @@
     ""@testing-library/cypress"": ""^8.0.2"",
     ""@types/jest"": ""^27.4.1"",
     ""@types/node"": ""^17.0.21"",
-    ""@types/react"": ""^17.0.0"",
+    ""@types/react"": ""17.0.2"",
+    ""@types/react-dom"": ""17.0.2"",
     ""@typescript-eslint/eslint-plugin"": ""^5.17.0"",
     ""@typescript-eslint/parser"": ""^5.17.0"",
     ""cypress"": ""^9.1.1"",

---FILE: www/components/prism.tsx---
@@ -1,4 +1,4 @@
-import { ComponentProps } from ""react""
+import React, { ComponentProps } from ""react""
 import Highlight, { defaultProps, Language } from ""prism-react-renderer""
 import classNames from ""classnames""
 

---FILE: www/docs/client/configuration.mdx---
@@ -44,16 +44,6 @@ new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
 
 ---
 
-### debug
-
-- **Default value**: `false`
-- **Required**: No
-
-Use this to turn on the built-in logger. If you would like to replace with your own logger, see [#logger](/docs/client/configuration#logger)
-.
-
----
-
 ### frontPage
 
 - **Default value**: `/home`
@@ -69,23 +59,6 @@ new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
 
 ---
 
-### headers
-
-- **Default value**: `{ ""Content-Type"": ""application/vnd.api+json"", Accept: ""application/vnd.api+json"" }`
-- **Required**: No
-
-Set custom headers for the fetcher.
-
-```ts
-new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
-  headers: {
-    ""Content-Type"": ""application/json"",
-  },
-})
-```
-
----
-
 ### serializer
 
 - **Default value**: Built-in
@@ -169,14 +142,7 @@ new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
 })
 ```
 
-You can find more info about using a custom cache [here](/docs/client/cache).
-
-### logger
-
-- **Default value**: `console`
-- **Required**: No
-
-Implement a custom logger. You can use this to send logs to a third-party service.
+---
 
 ### auth
 
@@ -204,6 +170,17 @@ You can find more info about using a custom auth [here](/docs/client/auth).
 
 ---
 
+You can find more info about using a custom cache [here](/docs/client/cache).
+
+### logger
+
+- **Default value**: `console`
+- **Required**: No
+
+Implement a custom logger. You can use this to send logs to a third-party service.
+
+---
+
 ### withAuth
 
 - **Default value**: `false`
@@ -231,9 +208,36 @@ The secret to use for preview mode.
 
 ---
 
+### headers
+
+- **Default value**: `{ ""Content-Type"": ""application/vnd.api+json"", Accept: ""application/vnd.api+json"" }`
+- **Required**: No
+
+Set custom headers for the fetcher.
+
+```ts
+new DrupalClient(process.env.NEXT_PUBLIC_DRUPAL_BASE_URL, {
+  headers: {
+    ""Content-Type"": ""application/json"",
+  },
+})
+```
+
+---
+
 ### accessToken
 
 - **Default value**: `null`
 - **Required**: No
 
 A long-lived access token you can set directly on the client.
+
+---
+
+### debug
+
+- **Default value**: `false`
+- **Required**: No
+
+Use this to turn on the built-in logger. If you would like to replace with your own logger, see [#logger](/docs/client/configuration#logger)
+.

---FILE: www/package.json---
@@ -26,7 +26,6 @@
     ""@mapbox/rehype-prism"": ""^0.8.0"",
     ""@tailwindcss/aspect-ratio"": ""^0.3.0"",
     ""@tailwindcss/forms"": ""^0.3.4"",
-    ""@types/react"": ""^17.0.3"",
     ""autoprefixer"": ""^10.4.0"",
     ""eslint-config-next"": ""^12.0.10"",
     ""postcss"": ""^8.4.1"",

---FILE: www/pages/_app.tsx---
@@ -21,6 +21,10 @@ export default function App({ Component, pageProps }) {
           gtag('config', 'GTM-KZRZTL6');
         `}
       </Script>
+      <Script
+        type=""text/javascript""
+        src=""https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js""
+      ></Script>
       <DefaultSeo
         openGraph={{
           title: site.name,

---FILE: www/pages/_document.tsx---
@@ -11,10 +11,6 @@ export default class extends Document {
             rel=""stylesheet""
             href=""https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css""
           />
-          <script
-            type=""text/javascript""
-            src=""https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js""
-          ></script>
         </Head>
         <body>
           <Main />

---FILE: www/pages/blog/index.tsx---
@@ -10,7 +10,10 @@ export interface BlogsPageProps {
 
 export default function BlogsPage({ blogs }: BlogsPageProps) {
   return (
-    <Layout title=""Blog"">
+    <Layout
+      title=""Blog""
+      description=""Latest updates from the Next-Drupal team.""
+    >
       <div className=""container max-w-3xl px-6 py-12 mx-auto xl:px-8"">
         <h1 className=""text-3xl font-bold leading-tight sm:text-4xl md:text-5xl"">
           Blog
@@ -20,7 +23,7 @@ export default function BlogsPage({ blogs }: BlogsPageProps) {
         {blogs.map((blog) => (
           <article key={blog.slug}>
             <h2 className=""text-2xl font-bold leading-tight sm:text-3xl md:text-3xl"">
-              <Link href={blog.slug} passHref>
+              <Link href={blog.url} passHref>
                 <a>{blog.frontMatter.title}</a>
               </Link>
             </h2>

---FILE: yarn.lock---
@@ -2906,19 +2906,17 @@
   resolved ""https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.4.tgz#fcf7205c25dff795ee79af1e30da2c9790808f11""
   integrity sha512-rZ5drC/jWjrArrS8BR6SIr4cWpW09RNTYt9AMZo3Jwwif+iacXAqgVjm0B0Bv/S1jhDXKHqRVNCbACkJ89RAnQ==
 
-""@types/react@*"":
-  version ""18.0.5""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-18.0.5.tgz#1a4d4b705ae6af5aed369dec22800b20f89f5301""
-  integrity sha512-UPxNGInDCIKlfqBrm8LDXYWNfLHwIdisWcsH5GpMyGjhEDLFgTtlRBaoWuCua9HcyuE0rMkmAeZ3FXV1pYLIYQ==
+""@types/react-dom@17.0.15"", ""@types/react-dom@17.0.2"":
+  version ""17.0.15""
+  resolved ""https://registry.yarnpkg.com/@types/react-dom/-/react-dom-17.0.15.tgz#f2c8efde11521a4b7991e076cb9c70ba3bb0d156""
+  integrity sha512-Tr9VU9DvNoHDWlmecmcsE5ZZiUkYx+nKBzum4Oxe1K0yJVyBlfbq7H3eXjxXqJczBKqPGq3EgfTru4MgKb9+Yw==
   dependencies:
-    ""@types/prop-types"" ""*""
-    ""@types/scheduler"" ""*""
-    csstype ""^3.0.2""
+    ""@types/react"" ""^17""
 
-""@types/react@^17.0.0"", ""@types/react@^17.0.3"", ""@types/react@^17.0.43"":
-  version ""17.0.43""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.43.tgz#4adc142887dd4a2601ce730bc56c3436fdb07a55""
-  integrity sha512-8Q+LNpdxf057brvPu1lMtC5Vn7J119xrP1aq4qiaefNioQUYANF/CYeK4NsKorSZyUGJ66g0IM+4bbjwx45o2A==
+""@types/react@*"", ""@types/react@17.0.15"", ""@types/react@17.0.2"", ""@types/react@^17"", ""@types/react@^17.0.0"", ""@types/react@^17.0.43"":
+  version ""17.0.15""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.15.tgz#c7533dc38025677e312606502df7656a6ea626d0""
+  integrity sha512-uTKHDK9STXFHLaKv6IMnwp52fm0hwU+N89w/p9grdUqcFA6WuqDyPhaWopbNyE1k/VhgzmHl8pu1L4wITtmlLw==
   dependencies:
     ""@types/prop-types"" ""*""
     ""@types/scheduler"" ""*""",False,False,Documentation / Formatting,6
chapter-three,next-drupal,f646b0d90f46bb01179c98084e5424caf4831ce6,shadcn,arshad@chummun.com,2022-04-18T10:21:08Z,shadcn,arshad@chummun.com,2022-04-18T10:21:08Z,fix(next-drupal): update types for cache,packages/next-drupal/src/types.ts,False,False,False,False,4,9,13,"---FILE: packages/next-drupal/src/types.ts---
@@ -155,15 +155,10 @@ export type JsonApiWithAuthOptions = {
   withAuth?: boolean
 }
 
-export type JsonApiWithCacheOptions =
-  | {
-      withCache: boolean
-      cacheKey: string
-    }
-  | {
-      withCache?: undefined
-      cacheKey: never
-    }
+export type JsonApiWithCacheOptions = {
+  withCache?: boolean
+  cacheKey?: string
+}
 
 // TODO: Properly type this.
 /* eslint-disable  @typescript-eslint/no-explicit-any */",False,False,Dependency / Package,1
chapter-three,next-drupal,c00cafbf3c667265fd6f0478164808664f778433,shadcn,arshad@chummun.com,2022-04-17T13:19:56Z,shadcn,arshad@chummun.com,2022-04-17T13:19:56Z,fix: update examples,examples/example-client/lib/drupal.ts;examples/example-custom-auth/README.md;examples/example-custom-auth/lib/drupal.ts;examples/example-custom-fetcher/lib/drupal.ts;examples/example-custom-serializer/lib/drupal.ts;examples/example-kitchen-sink/lib/drupal.ts;examples/example-marketing/lib/drupal.ts,False,False,False,False,7,7,14,"---FILE: examples/example-client/lib/drupal.ts---
@@ -1,3 +1,3 @@
-import { Unstable_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 export const drupal = new DrupalClient(""http://localhost:8080"")

---FILE: examples/example-custom-auth/README.md---
@@ -2,7 +2,7 @@
 
 An example showing how to use basic auth for client authentication in Next.js for Drupal.
 
-## Documentation
+## Example
 
 ## License
 

---FILE: examples/example-custom-auth/lib/drupal.ts---
@@ -1,4 +1,4 @@
-import { Unstable_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,

---FILE: examples/example-custom-fetcher/lib/drupal.ts---
@@ -1,4 +1,4 @@
-import { Unstable_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 import crossFetch from ""cross-fetch""
 
 // We create a custom fetcher that we can pass to the DrupalClient.

---FILE: examples/example-custom-serializer/lib/drupal.ts---
@@ -1,4 +1,4 @@
-import { Unstable_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 import { Deserializer } from ""jsonapi-serializer""
 
 // next-drupal uses the jsona deserializer for data formatting by default.

---FILE: examples/example-kitchen-sink/lib/drupal.ts---
@@ -1,5 +1,5 @@
 import config from ""config""
-import { Unstable_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 export const drupal = new DrupalClient(config.drupalBaseUrl, {
   frontPage: ""/foodieland"",

---FILE: examples/example-marketing/lib/drupal.ts---
@@ -1,4 +1,4 @@
-import { Unstable_DrupalClient as DrupalClient } from ""next-drupal""
+import { DrupalClient } from ""next-drupal""
 
 export const drupal = new DrupalClient(
   process.env.NEXT_PUBLIC_DRUPAL_BASE_URL,",False,False,Documentation / Formatting,6
chapter-three,next-drupal,cd6f9ccdb783f95bc95d5dc7a551edcd5b2601b2,shadcn,arshad@chummun.com,2022-04-17T13:07:47Z,shadcn,arshad@chummun.com,2022-04-17T13:07:47Z,fix(example-marketing): update slug,examples/example-marketing/pages/[[...slug]].tsx;examples/example-marketing/pages/_app.tsx;yarn.lock,False,False,False,False,12,15,27,"---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -50,7 +50,14 @@ export async function getStaticPaths(
   context: GetStaticPathsContext
 ): Promise<GetStaticPathsResult> {
   return {
-    paths: await drupal.getStaticPathsFromContext(RESOURCE_TYPES, context),
+    paths: await drupal.getStaticPathsFromContext(RESOURCE_TYPES, context, {
+      params: {
+        filter: {
+          ""field_site.meta.drupal_internal__target_id"":
+            process.env.DRUPAL_SITE_ID,
+        },
+      },
+    }),
     fallback: ""blocking"",
   }
 }
@@ -68,7 +75,7 @@ export async function getStaticProps(
 
   const type = path.jsonapi.resourceName
 
-  const node = await drupal.getResourceFromContext<DrupalNode>(type, context, {
+  const node = await drupal.getResourceFromContext<DrupalNode>(path, context, {
     params: getParams(type),
   })
 

---FILE: examples/example-marketing/pages/_app.tsx---
@@ -1,5 +1,4 @@
 import * as React from ""react""
-import { AppProps } from ""next/app""
 import Router from ""next/router""
 import { QueryClient, QueryClientProvider } from ""react-query""
 import { Hydrate } from ""react-query/hydration""
@@ -18,7 +17,7 @@ Router.events.on(""routeChangeStart"", function (path) {
 Router.events.on(""routeChangeComplete"", () => NProgress.done())
 Router.events.on(""routeChangeError"", () => NProgress.done())
 
-export default function App({ Component, pageProps }: AppProps) {
+export default function App({ Component, pageProps }) {
   const queryClientRef = React.useRef<QueryClient>()
   if (!queryClientRef.current) {
     queryClientRef.current = new QueryClient()

---FILE: yarn.lock---
@@ -8147,7 +8147,7 @@ json5@^2.1.2, json5@^2.2.0:
   resolved ""https://registry.yarnpkg.com/json5/-/json5-2.2.1.tgz#655d50ed1e6f95ad1a3caababd2b0efda10b395c""
   integrity sha512-1hqLFMSrGHRHxav9q9gNjJ5EXznIxGVO09xQRrwplcS8qs28pZ8s8hupZAmqDwZUmVZ2Qb2jnyPOWcDH8m8dlA==
 
-jsona@^1.8.0, jsona@^1.9.7:
+jsona@^1.9.7:
   version ""1.9.7""
   resolved ""https://registry.yarnpkg.com/jsona/-/jsona-1.9.7.tgz#993c603f22320ce698de791db617fb9fbcf18330""
   integrity sha512-GC3uTVJfYu0ovWrXmhAC+SqroKyv64dOI8iIWdVKYYn0ef7XNfXEkvkVcmdjfKdIjk6nZrf8VkYsZeSbPF3BGQ==
@@ -9320,15 +9320,6 @@ next-auth@^4.0.5:
     preact-render-to-string ""^5.1.19""
     uuid ""^8.3.2""
 
-next-drupal@^1.2.2:
-  version ""1.2.2""
-  resolved ""https://registry.yarnpkg.com/next-drupal/-/next-drupal-1.2.2.tgz#96417110371900f6781bed0231b463eef2255cf0""
-  integrity sha512-j9K6OcSrKGklF6v33/ZJdjIia5vVqJ0NSAv76UV1Se7LtbstIh7evihcB2yKJkq1PH5Vv6z/Yejs7wKui8P+Rg==
-  dependencies:
-    jsona ""^1.8.0""
-    node-cache ""^5.1.2""
-    qs ""^6.10.1""
-
 next-i18next@^11.0.0:
   version ""11.0.0""
   resolved ""https://registry.yarnpkg.com/next-i18next/-/next-i18next-11.0.0.tgz#2857d13c58a5ed976fe57c44286f1520b07f7c96""
@@ -10830,7 +10821,7 @@ q@^1.5.1:
   resolved ""https://registry.yarnpkg.com/q/-/q-1.5.1.tgz#7e32f75b41381291d04611f1bf14109ac00651d7""
   integrity sha1-fjL3W0E4EpHQRhHxvxQQmsAGUdc=
 
-qs@^6.10.0, qs@^6.10.1, qs@^6.10.3, qs@^6.9.4:
+qs@^6.10.0, qs@^6.10.3, qs@^6.9.4:
   version ""6.10.3""
   resolved ""https://registry.yarnpkg.com/qs/-/qs-6.10.3.tgz#d6cde1b2ffca87b5aa57889816c5f81535e22e8e""
   integrity sha512-wr7M2E0OFRfIfJZjKGieI8lBKb7fRCH4Fv5KNPEs7gJ8jadvotdsS08PzOKR7opXhZ/Xkjtt3WF9g38drmyRqQ==",False,False,Environment / Configuration,3
chapter-three,next-drupal,3092a74598a2a633cde3f3a3095ff8851ad4083e,shadcn,arshad@chummun.com,2022-04-16T16:54:59Z,shadcn,arshad@chummun.com,2022-04-16T16:54:59Z,fix(next-drupal): fix issue with translated path and decoupled_router,packages/next-drupal/src/client.ts;packages/next-drupal/src/types.ts,False,False,False,False,19,2,21,"---FILE: packages/next-drupal/src/client.ts---
@@ -227,14 +227,29 @@ export class Unstable_DrupalClient {
   }
 
   async getResourceFromContext<T extends JsonApiResource>(
-    type: string,
+    input: string | DrupalTranslatedPath,
     context: GetStaticPropsContext,
     options?: {
       pathPrefix?: PathPrefix
       isVersionable?: boolean
     } & JsonApiWithLocaleOptions &
       JsonApiWithAuthOptions
   ): Promise<T> {
+    const type = typeof input === ""string"" ? input : input.jsonapi.resourceName
+
+    if (typeof input !== ""string"") {
+      // Fix for subrequests and translation.
+      // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
+      // @shadcn, note to self:
+      // Give an entity at /example with no translation.
+      // When we try to translate /es/example, decoupled router will properly
+      // translate to the untranslated version and set the locale to es.
+      // However a subrequests to /es/subrequests for decoupled router will fail.
+      if (input.entity.langcode !== context.locale) {
+        context.locale = input.entity.langcode
+      }
+    }
+
     options = {
       // Add support for revisions for node by default.
       // TODO: Make this required before stable?
@@ -342,6 +357,7 @@ export class Unstable_DrupalClient {
     // Localized subrequests.
     // I was hoping we would not need this but it seems like subrequests is not properly
     // setting the jsonapi locale from a translated path.
+    // TODO: Confirm if we still need this after https://www.drupal.org/i/3111456.
     let subrequestsPath = ""/subrequests""
     if (
       options.locale &&
@@ -730,7 +746,7 @@ export class Unstable_DrupalClient {
 
     const entity = await this.getResourceByPath(slug as string, {
       withAuth: true,
-      ...options,
+      ..._options,
     })
 
     if (!entity || !entity?.path) {

---FILE: packages/next-drupal/src/types.ts---
@@ -246,6 +246,7 @@ export interface DrupalTranslatedPath {
     bundle: string
     id: string
     uuid: string
+    langcode?: string
   }
   label?: string
   jsonapi?: {",False,False,Implementation / Logic,3
chapter-three,next-drupal,cb485197066adb45c49f58f75cb814d4d40fa5cc,shadcn,arshad@chummun.com,2022-04-16T09:44:13Z,shadcn,arshad@chummun.com,2022-04-16T09:44:13Z,fix(next-drupal): fix missing locale from json:api index,packages/next-drupal/src/client.ts,False,False,False,False,14,1,15,"---FILE: packages/next-drupal/src/client.ts---
@@ -680,7 +680,20 @@ export class Unstable_DrupalClient {
       throw new Error(`Resource of type '${type}' not found.`)
     }
 
-    return link.href
+    const { href } = link
+
+    // Fix for missing locale in JSON:API index.
+    // This fix ensures the locale is included in the resouce link.
+    if (locale) {
+      const pattern = `^\\/${locale}\\/`
+      const path = href.replace(this.baseUrl, """")
+
+      if (!new RegExp(pattern, ""i"").test(path)) {
+        return `${this.baseUrl}/${locale}${path}`
+      }
+    }
+
+    return href
   }
 
   async preview(",False,False,Implementation / Logic,3
chapter-three,next-drupal,781d6468b6ded00b99d2bba881aab681ff75a4d8,shadcn,arshad@chummun.com,2022-04-11T07:33:39Z,shadcn,arshad@chummun.com,2022-04-11T07:33:39Z,fix(next-drupal): ensure pathPrefix is set,packages/next-drupal/src/client.ts,False,False,False,False,2,2,4,"---FILE: packages/next-drupal/src/client.ts---
@@ -447,7 +447,7 @@ export class Unstable_DrupalClient {
       params?: JsonApiParams
       pathPrefix?: PathPrefix
     } & JsonApiWithAuthOptions
-  ): Promise<GetStaticPathsResult[""paths""]> {
+  ): Promise<GetStaticPathsResult<{ slug: string[] }>[""paths""]> {
     options = {
       withAuth: this.withAuth,
       pathPrefix: ""/"",
@@ -535,7 +535,7 @@ export class Unstable_DrupalClient {
       _path = _path.replace(/^\/|\/$/g, """")
 
       // Remove pathPrefix.
-      if (options?.pathPrefix) {
+      if (options?.pathPrefix && options.pathPrefix !== ""/"") {
         // Remove leading slash from pathPrefix.
         const pathPrefix = options.pathPrefix.replace(/^\//, """")
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,8f680232a53740f083fd7c208b54f4293ad0f58a,shadcn,arshad@chummun.com,2022-04-08T11:45:18Z,shadcn,arshad@chummun.com,2022-04-08T11:45:18Z,fix(basic-starter): use a tag for exit preview,starters/basic-starter/components/preview-alert.tsx,False,False,False,False,4,4,8,"---FILE: starters/basic-starter/components/preview-alert.tsx---
@@ -1,6 +1,5 @@
 import * as React from ""react""
 import { useRouter } from ""next/router""
-import Link from ""next/link""
 
 export function PreviewAlert() {
   const { isPreview } = useRouter()
@@ -18,9 +17,10 @@ export function PreviewAlert() {
     <div className=""sticky top-0 left-0 z-50 w-full px-2 py-1 text-center text-white bg-black"">
       <p className=""mb-0"">
         This page is a preview.{"" ""}
-        <Link href=""/api/exit-preview"" passHref prefetch={false}>
-          <a className=""text-white underline"">Click here</a>
-        </Link>{"" ""}
+        {/* eslint-disable @next/next/no-html-link-for-pages */}
+        <a href=""/api/exit-preview"" className=""text-white underline"">
+          Click here
+        </a>{"" ""}
         to exit preview mode.
       </p>
     </div>",False,False,Rendering / Conversion,0
chapter-three,next-drupal,8e2cdc244c20710f46db94a1f257157f7d285601,shadcn,arshad@chummun.com,2022-04-08T06:37:46Z,shadcn,arshad@chummun.com,2022-04-08T06:37:46Z,fix(next-drupal): use a generic for getMenu and useMenu,packages/next-drupal/src/get-menu.ts;packages/next-drupal/src/types.ts;packages/next-drupal/src/use-menu.tsx,False,False,False,False,10,10,20,"---FILE: packages/next-drupal/src/get-menu.ts---
@@ -5,15 +5,15 @@ import {
 } from ""./types""
 import { buildHeaders, buildUrl, deserialize } from ""./utils""
 
-export async function getMenu(
+export async function getMenu<T extends DrupalMenuLinkContent>(
   name: string,
   options?: {
     deserialize?: boolean
     accessToken?: AccessToken
   } & JsonApiWithLocaleOptions
 ): Promise<{
-  items: DrupalMenuLinkContent[]
-  tree: DrupalMenuLinkContent[]
+  items: T[]
+  tree: T[]
 }> {
   options = {
     deserialize: true,

---FILE: packages/next-drupal/src/types.ts---
@@ -87,7 +87,7 @@ export interface DrupalMenuLinkContent {
   id: string
   menu_name: string
   meta: Record<string, unknown>
-  options: []
+  options: Record<string, unknown>
   parent: string
   provider: string
   route: {

---FILE: packages/next-drupal/src/use-menu.tsx---
@@ -4,18 +4,18 @@ import { useRouter } from ""next/router""
 import { getMenu } from ""./get-menu""
 import { DrupalMenuLinkContent } from ""./types""
 
-export function useMenu(
+export function useMenu<T extends DrupalMenuLinkContent>(
   name: string
 ): {
-  items: DrupalMenuLinkContent[]
-  tree: DrupalMenuLinkContent[]
+  items: T[]
+  tree: T[]
   error: unknown
   isLoading: boolean
 } {
   const router = useRouter()
   const [data, setData] = React.useState<{
-    items: DrupalMenuLinkContent[]
-    tree: DrupalMenuLinkContent[]
+    items: T[]
+    tree: T[]
   }>(null)
   const [error, setError] = React.useState(null)
   const [isLoading, setIsLoading] = React.useState<boolean>(false)
@@ -24,7 +24,7 @@ export function useMenu(
     const fetchMenuItems = async () => {
       setIsLoading(true)
       try {
-        const data = await getMenu(name, {
+        const data = await getMenu<T>(name, {
           locale: router.locale,
           defaultLocale: router.defaultLocale,
         })",False,False,Implementation / Logic,3
chapter-three,next-drupal,3335d947b8090bb0b8719f6a385f5a8c2f7a951e,shadcn,arshad@chummun.com,2022-04-08T06:37:24Z,shadcn,arshad@chummun.com,2022-04-08T06:37:24Z,fix(next-drupal): unnecessary optional chaining,packages/next-drupal/src/get-resource.ts,False,False,False,False,1,1,2,"---FILE: packages/next-drupal/src/get-resource.ts---
@@ -101,7 +101,7 @@ export async function getResourceByPath<T extends JsonApiResource>(
     })
   }
 
-  const { resourceVersion = ""rel:latest-version"", ...params } = options?.params
+  const { resourceVersion = ""rel:latest-version"", ...params } = options.params
 
   if (options.isVersionable) {
     params.resourceVersion = resourceVersion",False,False,Rendering / Conversion,0
chapter-three,next-drupal,97076f02c9c55377bd7a7d20ca3af3d95ee5ba1c,shadcn,arshad@chummun.com,2022-03-30T08:50:43Z,shadcn,arshad@chummun.com,2022-03-30T08:50:43Z,fix(www): update menu styles,www/components/sidebar-nav.tsx,False,False,False,False,1,1,2,"---FILE: www/components/sidebar-nav.tsx---
@@ -33,7 +33,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
         <Link key={index} href={item.href} passHref>
           <a
             className={classNames(
-              ""px-2 py-1 rounded-md hover:text-black"",
+              ""px-2 py-2 rounded-md hover:text-black hover:bg-gray-100"",
               asPath === item.href ? ""text-black bg-blue-50"" : ""text-gray-700""
             )}
             onClick={onLinkClick}",False,False,Implementation / Logic,3
chapter-three,next-drupal,6e97b80fe80ebe8cd46308c66ffd36282983da2a,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-03-30T08:28:09Z,GitHub,noreply@github.com,2022-03-30T08:28:09Z,"chore(deps): bump html-react-parser from 1.4.6 to 1.4.10

Bumps [html-react-parser](https://github.com/remarkablemark/html-react-parser) from 1.4.6 to 1.4.10.
- [Release notes](https://github.com/remarkablemark/html-react-parser/releases)
- [Changelog](https://github.com/remarkablemark/html-react-parser/blob/master/CHANGELOG.md)
- [Commits](https://github.com/remarkablemark/html-react-parser/compare/v1.4.6...v1.4.10)

---
updated-dependencies:
- dependency-name: html-react-parser
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,14,14,28,"---FILE: yarn.lock---
@@ -5522,10 +5522,10 @@ domexception@^2.0.1:
   dependencies:
     webidl-conversions ""^5.0.0""
 
-domhandler@4.3.0, domhandler@^4.2.0, domhandler@^4.2.2, domhandler@^4.3.0:
-  version ""4.3.0""
-  resolved ""https://registry.yarnpkg.com/domhandler/-/domhandler-4.3.0.tgz#16c658c626cf966967e306f966b431f77d4a5626""
-  integrity sha512-fC0aXNQXqKSFTr2wDNZDhsEYjCiYsDWl3D01kwt25hm1YIPyDGHvvi3rw+PLqHAl/m71MaiF7d5zvBr0p5UB2g==
+domhandler@4.3.1, domhandler@^4.2.0, domhandler@^4.2.2, domhandler@^4.3.0:
+  version ""4.3.1""
+  resolved ""https://registry.yarnpkg.com/domhandler/-/domhandler-4.3.1.tgz#8d792033416f59d68bc03a5aa7b018c1ca89279c""
+  integrity sha512-GrwoxYN+uWlzO8uhUXRl0P+kHE4GtVPfYzVLcUxPL7KNdHKj66vvlhiweIHqYYXWlw+T8iLMp42Lm67ghw4WMQ==
   dependencies:
     domelementtype ""^2.2.0""
 
@@ -7280,12 +7280,12 @@ hsla-regex@^1.0.0:
   resolved ""https://registry.yarnpkg.com/hsla-regex/-/hsla-regex-1.0.0.tgz#c1ce7a3168c8c6614033a4b5f7877f3b225f9c38""
   integrity sha1-wc56MWjIxmFAM6S194d/OyJfnDg=
 
-html-dom-parser@1.0.4:
-  version ""1.0.4""
-  resolved ""https://registry.yarnpkg.com/html-dom-parser/-/html-dom-parser-1.0.4.tgz#84878b54e1d434f25e611e44254b49d39340a81b""
-  integrity sha512-ThM/vK/18R5/cVB9UsqhNqbJU7LE2BmSA7C/FjYV88wIDW75GSUpvSE/JxE4mJ8bOuU6Kp15/I1giM2JbD+ieA==
+html-dom-parser@1.1.1:
+  version ""1.1.1""
+  resolved ""https://registry.yarnpkg.com/html-dom-parser/-/html-dom-parser-1.1.1.tgz#8fa32874bbfde0208a4e57b2342558d1cc8581d8""
+  integrity sha512-ddijSO0GluZEdlLNmiAjFI+CkAgzUgf8n3vpitQhvlsniPMbCSWtu+QYmioaVmEN0stytm9C38p6SsTDthv0cA==
   dependencies:
-    domhandler ""4.3.0""
+    domhandler ""4.3.1""
     htmlparser2 ""7.2.0""
 
 html-encoding-sniffer@^2.0.1:
@@ -7301,12 +7301,12 @@ html-escaper@^2.0.0:
   integrity sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==
 
 html-react-parser@^1.2.7:
-  version ""1.4.6""
-  resolved ""https://registry.yarnpkg.com/html-react-parser/-/html-react-parser-1.4.6.tgz#ad1ddf25f473377058c0580410e5f9c68ced6a49""
-  integrity sha512-tbKIw/aPsOmTZUs7sTSDDzfnBSAfHu8RpoNY8QhHloB//lr9eEM7qkzNbf/eXo4XIdo8ykZpB7ECQp3k+Iz10A==
+  version ""1.4.10""
+  resolved ""https://registry.yarnpkg.com/html-react-parser/-/html-react-parser-1.4.10.tgz#36862197876ccb9a32736f462555ba561350b715""
+  integrity sha512-GiG7mEwI0enY7hz0F0Zx1B4D0MCQWx2xH0KdVNV9fjqOXwwnPYM79meJ2dsIJf9QR4qQTTPEdSq7wlJfq/i6Tw==
   dependencies:
-    domhandler ""4.3.0""
-    html-dom-parser ""1.0.4""
+    domhandler ""4.3.1""
+    html-dom-parser ""1.1.1""
     react-property ""2.0.0""
     style-to-js ""1.1.0""
 ",False,False,Dependency / Package,1
chapter-three,next-drupal,0f4d49e9bb3b8767577bdba4ef52d7e58ad6bf91,shadcn,arshad@chummun.com,2022-03-28T09:24:41Z,shadcn,arshad@chummun.com,2022-03-28T09:24:41Z,fix: update tests,.eslintrc.json;package.json;packages/next-drupal/package.json;packages/next-drupal/src/client.ts;packages/next-drupal/src/logger.ts;packages/next-drupal/src/types.ts;packages/next-drupal/tests/__snapshots__/client.test.ts.snap;packages/next-drupal/tests/client.test.ts;starters/basic-starter/package.json;www/package.json;yarn.lock,False,False,False,False,2423,2954,5377,"---FILE: .eslintrc.json---
@@ -24,7 +24,8 @@
     ""prettier/prettier"": [""error""],
     ""react/display-name"": ""off"",
     ""react/react-in-jsx-scope"": ""off"",
-    ""import/export"": 0
+    ""import/export"": 0,
+    ""no-unused-vars"": ""off""
   },
   ""settings"": {
     ""react"": {
@@ -41,7 +42,8 @@
         ""plugin:@typescript-eslint/recommended""
       ],
       ""rules"": {
-        ""@typescript-eslint/explicit-module-boundary-types"": ""off""
+        ""@typescript-eslint/explicit-module-boundary-types"": ""off"",
+        ""@typescript-eslint/no-unused-vars"": [""warn"", { ""args"": ""none"" }]
       }
     }
   ]

---FILE: package.json---
@@ -37,10 +37,9 @@
       ""@commitlint/config-conventional""
     ]
   },
-  
   ""devDependencies"": {
     ""@babel/core"": ""^7.9.6"",
-    ""@babel/eslint-parser"": ""^7.16.3"",
+    ""@babel/eslint-parser"": ""^7.17.0"",
     ""@babel/plugin-transform-runtime"": ""^7.9.6"",
     ""@babel/preset-env"": ""^7.9.6"",
     ""@babel/preset-react"": ""^7.9.4"",
@@ -49,21 +48,21 @@
     ""@types/jest"": ""^27.4.1"",
     ""@types/node"": ""^17.0.21"",
     ""@types/react"": ""^17.0.0"",
-    ""@typescript-eslint/eslint-plugin"": ""^4.0.0"",
-    ""@typescript-eslint/parser"": ""^3.9.1"",
+    ""@typescript-eslint/eslint-plugin"": ""^5.16.0"",
+    ""@typescript-eslint/parser"": ""^5.16.0"",
     ""cypress"": ""^9.1.1"",
-    ""eslint"": ""^7.13.0"",
-    ""eslint-config-prettier"": ""^6.11.0"",
+    ""eslint"": ""^8.11.0"",
+    ""eslint-config-prettier"": ""^8.5.0"",
     ""eslint-plugin-cypress"": ""^2.11.1"",
-    ""eslint-plugin-prettier"": ""^3.1.3"",
-    ""eslint-plugin-react"": ""^7.19.0"",
+    ""eslint-plugin-prettier"": ""^4.0.0"",
+    ""eslint-plugin-react"": ""^7.29.4"",
     ""faker"": ""^5.4.0"",
     ""husky"": ""^4.2.5"",
     ""isomorphic-fetch"": ""^3.0.0"",
     ""jest"": ""^27.5.1"",
-    ""lerna"": ""^3.20.2"",
+    ""lerna"": ""^4.0.0"",
     ""microbundle"": ""^0.14.2"",
-    ""prettier"": ""^2.0.4"",
+    ""prettier"": ""^2.6.1"",
     ""pretty-quick"": ""^3.1.3"",
     ""start-server-and-test"": ""^1.14.0"",
     ""ts-jest"": ""^27.1.3"",

---FILE: packages/next-drupal/package.json---
@@ -32,7 +32,7 @@
     ""directory"": ""packages/next-drupal""
   },
   ""peerDependencies"": {
-    ""next"": ""^11.0.0 || ^12.0.0"",
+    ""next"": ""^12.0.0"",
     ""react"": ""^17.0.0"",
     ""react-dom"": ""^17.0.0""
   },

---FILE: packages/next-drupal/src/client.ts---
@@ -1,4 +1,4 @@
-import {
+import type {
   GetStaticPathsContext,
   GetStaticPathsResult,
   GetStaticPropsContext,
@@ -7,119 +7,157 @@ import { stringify } from ""qs""
 import NodeCache from ""node-cache""
 import Jsona from ""jsona""
 
-import {
+import type {
   JsonApiResource,
   Locale,
   AccessToken,
-  DataFormatter,
   JsonApiResponse,
   JsonApiWithLocaleOptions,
   JsonApiParams,
   DrupalTranslatedPath,
   DrupalMenuLinkContent,
-  DataCache,
   JsonApiOptions,
   FetchOptions,
-  Fetcher,
+  DrupalClientOptions,
+  BaseUrl,
+  JsonApiWithAuthOptions,
 } from ""./types""
+import { logger as defaultLogger } from ""./logger""
 
-const CACHE_KEY = ""NEXT_DRUPAL_ACCESS_TOKEN""
+// const CACHE_KEY = ""NEXT_DRUPAL_ACCESS_TOKEN""
 
-class Logger {
-  isDebug: boolean
+const DEFAULT_API_PREFIX = ""/jsonapi""
+const DEFAULT_FRONT_PAGE = ""/home""
 
-  constructor({ isDebug = false } = {}) {
-    this.isDebug = isDebug
-  }
-
-  debug(message) {
-    !!this.isDebug && console.log(`[next-drupal][debug]: ${message}`)
-  }
-}
+// From simple_oauth.
+const DEFAULT_AUTH_URL = ""/oauth/token""
 
-type DrupalClientOptions = {
-  baseUrl: string
-  apiPrefix?: string
-  dataFormatter?: DataFormatter
-  fetcher?: Fetcher
-  cache?: DataCache
-  debug?: boolean
-  frontPage?: string
-  logger?: Logger
-  auth?:
-    | { clientI2d: string; clientSecret: string; url?: string }
-    | (() => string)
-  useDefaultResourceTypeEntry?: boolean
+// See https://jsonapi.org/format/#content-negotiation.
+const DEFAULT_HEADERS = {
+  ""Content-Type"": ""application/vnd.api+json"",
+  Accept: ""application/vnd.api+json"",
 }
 
 export class Unstable_DrupalClient {
-  baseUrl: string
-  apiPrefix: string
-  dataFormatter: DrupalClientOptions[""dataFormatter""]
-  cache: DrupalClientOptions[""cache""]
-  debug?: boolean
-  frontPage?: string
-  fetcher?: DrupalClientOptions[""fetcher""]
-  auth?: DrupalClientOptions[""auth""]
-  logger: DrupalClientOptions[""logger""]
-  private token?: AccessToken
-  private useDefaultResourceTypeEntry?: boolean
-
-  constructor(options: DrupalClientOptions) {
-    if (!options || !options?.baseUrl) {
-      throw new Error(""Error: The 'baseUrl' option is required."")
+  baseUrl: BaseUrl
+
+  debug: DrupalClientOptions[""debug""]
+
+  frontPage: DrupalClientOptions[""frontPage""]
+
+  private formatter: DrupalClientOptions[""formatter""]
+
+  private cache: DrupalClientOptions[""cache""]
+
+  private logger: DrupalClientOptions[""logger""]
+
+  private fetcher?: DrupalClientOptions[""fetcher""]
+
+  private _headers?: DrupalClientOptions[""headers""]
+
+  private _auth?: DrupalClientOptions[""auth""]
+
+  private _apiPrefix: DrupalClientOptions[""apiPrefix""]
+
+  private useDefaultResourceTypeEntry?: DrupalClientOptions[""useDefaultResourceTypeEntry""]
+
+  private _token?: AccessToken
+
+  private tokenExpiresOn?: number
+
+  /**
+   *
+   * @param {BaseUrl} baseUrl The baseUrl of your Drupal site. Do not add the /jsonapi suffix.
+   * @param {DrupalClientOptions} options Options for the client.
+   */
+  constructor(baseUrl: BaseUrl, options: DrupalClientOptions = {}) {
+    if (!baseUrl || typeof baseUrl !== ""string"") {
+      throw new Error(""Error: The 'baseUrl' param is required."")
     }
 
     const {
-      baseUrl,
-      apiPrefix = ""/jsonapi"",
-      dataFormatter = new Jsona(),
+      apiPrefix = DEFAULT_API_PREFIX,
+      formatter: dataFormatter = new Jsona(),
       cache = new NodeCache(),
-      fetcher,
-      auth,
       debug = false,
-      frontPage = ""/"",
+      frontPage = DEFAULT_FRONT_PAGE,
       useDefaultResourceTypeEntry = false,
-      logger = new Logger(),
+      headers = DEFAULT_HEADERS,
+      logger = defaultLogger,
+      fetcher,
+      auth,
     } = options
 
     this.baseUrl = baseUrl
-    this.apiPrefix = apiPrefix.charAt(0) === ""/"" ? apiPrefix : `/${apiPrefix}`
-    this.dataFormatter = dataFormatter
+    this.apiPrefix = apiPrefix
+    this.formatter = dataFormatter
     this.frontPage = frontPage
     this.cache = cache
     this.debug = debug
     this.useDefaultResourceTypeEntry = useDefaultResourceTypeEntry
     this.fetcher = fetcher
     this.auth = auth
+    this.headers = headers
     this.logger = logger
-    this.logger.isDebug = this.debug
 
-    this.logger.debug(""Debug mode is on."")
+    this._debug(""Debug mode is on."")
+  }
+
+  set apiPrefix(apiPrefix: DrupalClientOptions[""apiPrefix""]) {
+    this._apiPrefix = apiPrefix.charAt(0) === ""/"" ? apiPrefix : `/${apiPrefix}`
+  }
+
+  get apiPrefix() {
+    return this._apiPrefix
+  }
+
+  set auth(auth: DrupalClientOptions[""auth""]) {
+    if (typeof auth === ""object"") {
+      if (!auth.clientId || !auth.clientSecret) {
+        throw new Error(
+          `Error: 'clientId' and 'clientSecret' are required for 'auth'`
+        )
+      }
+
+      auth = {
+        url: DEFAULT_AUTH_URL,
+        ...auth,
+      }
+    }
+
+    this._auth = auth
+  }
+
+  set headers(value: DrupalClientOptions[""headers""]) {
+    this._headers = value
+  }
+
+  private set token(token: AccessToken) {
+    this._token = token
+    this.tokenExpiresOn = Date.now() + token.expires_in * 1000
   }
 
   /* eslint-disable @typescript-eslint/no-explicit-any */
   async fetch(input: RequestInfo, init?: FetchOptions): Promise<Response> {
     init = {
       ...init,
       headers: {
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
+        ...this._headers,
         ...init?.headers,
       },
     }
 
     if (init?.withAuth) {
-      this.logger.debug(`Using authenticated request.`)
+      this._debug(`Using authenticated request.`)
 
       // If a custom auth is provided, use that.
-      if (typeof this.auth === ""function"") {
-        this.logger.debug(`Using custom auth.`)
+      if (typeof this._auth === ""function"") {
+        this._debug(`Using custom auth.`)
 
-        init[""headers""][""Authorization""] = this.auth()
+        init[""headers""][""Authorization""] = this._auth()
       } else {
         // Otherwise use the built-in client_credentials grant.
-        this.logger.debug(`Using default auth (client_credentials).`)
+        this._debug(`Using default auth (client_credentials).`)
 
         // Fetch an access token and add it to the request.
         // Access token can be fetched from cache or using a custom auth method.
@@ -131,16 +169,16 @@ export class Unstable_DrupalClient {
     }
 
     if (this.fetcher) {
-      this.logger.debug(`Using custom fetcher.`)
+      this._debug(`Using custom fetcher.`)
 
       return await this.fetcher(input, init)
     }
 
-    this.logger.debug(`Using default fetch (polyfilled by Next.js).`)
+    this._debug(`Using default fetch (polyfilled by Next.js).`)
 
     const response = await fetch(input, init)
 
-    this.logger.debug({ response })
+    this._debug({ response })
 
     if (response.ok) {
       return response
@@ -154,7 +192,7 @@ export class Unstable_DrupalClient {
   async getResource<T extends JsonApiResource>(
     type: string,
     uuid: string,
-    options?: JsonApiWithLocaleOptions
+    options?: JsonApiWithLocaleOptions & JsonApiWithAuthOptions
   ): Promise<T> {
     options = {
       deserialize: true,
@@ -169,7 +207,9 @@ export class Unstable_DrupalClient {
 
     const url = this.buildUrl(`${apiPath}/${uuid}`, options?.params)
 
-    const response = await this.fetch(url.toString())
+    const response = await this.fetch(url.toString(), {
+      withAuth: options.withAuth,
+    })
 
     const json = await response.json()
 
@@ -206,8 +246,7 @@ export class Unstable_DrupalClient {
       })
     }
 
-    const { resourceVersion = ""rel:latest-version"", ...params } =
-      options?.params
+    const { resourceVersion = ""rel:latest-version"", ...params } = options.params
 
     if (options.isVersionable) {
       params.resourceVersion = resourceVersion
@@ -700,55 +739,33 @@ export class Unstable_DrupalClient {
     return url
   }
 
-  // async buildHeaders({
-  //   headers = {},
-  // }: {
-  //   headers?: RequestInit[""headers""]
-  // } = {}): Promise<RequestInit[""headers""]> {
-  //   headers = {
-  //     ""Content-Type"": ""application/vnd.api+json"",
-  //   }
-
-  //   // This allows an access_token (preferrably long-lived) to be set directly on the env.
-  //   // This reduces the number of OAuth call to the Drupal server.
-  //   // Intentionally marked as unstable for now.
-  //   if (process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN) {
-  //     headers[
-  //       ""Authorization""
-  //     ] = `Bearer ${process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN}`
-
-  //     return headers
-  //   }
-
-  //   const token = accessToken || (await this.getAccessToken())
-  //   if (token) {
-  //     headers[""Authorization""] = `Bearer ${token.access_token}`
-  //   }
-
-  //   return headers
-  // }
-
   async getAccessToken(): Promise<AccessToken> {
-    if (
-      typeof this.auth === ""object"" &&
-      (!this.auth.clientId || !this.clientSecret)
-    ) {
+    if (typeof this._auth !== ""object"") {
+      return null
+    }
+
+    if (!this._auth.clientId || !this._auth.clientSecret) {
       throw new Error(`Error: 'clientId' and 'clientSecret' required.`)
     }
 
-    const cached = this.cache.get<AccessToken>(CACHE_KEY)
-    if (cached?.access_token) {
-      this.logger.debug(`Using cached access token.`)
-      return cached
+    if (this._token && Date.now() < this.tokenExpiresOn) {
+      this._debug(`Using existing access token.`)
+      return this._token
     }
 
-    this.logger.debug(`Fetching new access token.`)
+    // const cached = this.cache.get<AccessToken>(CACHE_KEY)
+    // if (cached?.access_token) {
+    //   this._debug(`Using cached access token.`)
+    //   return cached
+    // }
 
-    const basic = Buffer.from(`${this.clientId}:${this.clientSecret}`).toString(
-      ""base64""
-    )
+    this._debug(`Fetching new access token.`)
 
-    const response = await fetch(`${this.baseUrl}/oauth/token`, {
+    const basic = Buffer.from(
+      `${this._auth.clientId}:${this._auth.clientSecret}`
+    ).toString(""base64"")
+
+    const response = await fetch(`${this.baseUrl}${this._auth.url}`, {
       method: ""POST"",
       headers: {
         Authorization: `Basic ${basic}`,
@@ -757,18 +774,26 @@ export class Unstable_DrupalClient {
       body: `grant_type=client_credentials`,
     })
 
-    if (!response.ok) {
-      throw new Error(response.statusText)
+    if (!response?.ok) {
+      throw new Error(response?.statusText)
     }
 
     const result: AccessToken = await response.json()
 
-    this.cache.set(CACHE_KEY, result, result.expires_in)
+    this.token = result
+
+    // this.cache.set(CACHE_KEY, result, result.expires_in)
 
     return result
   }
 
-  async formatErrorResponse(response: Response) {
+  deserialize(body, options?) {
+    if (!body) return null
+
+    return this.formatter.deserialize(body, options)
+  }
+
+  private async formatErrorResponse(response: Response) {
     let message = response.statusText
 
     const type = response.headers.get(""content-type"")
@@ -797,9 +822,35 @@ export class Unstable_DrupalClient {
     return message
   }
 
-  deserialize(body, options?) {
-    if (!body) return null
-
-    return this.dataFormatter.deserialize(body, options)
+  private _debug(message) {
+    !!this.debug && this.logger.debug(message)
   }
+
+  // async buildHeaders({
+  //   headers = {},
+  // }: {
+  //   headers?: RequestInit[""headers""]
+  // } = {}): Promise<RequestInit[""headers""]> {
+  //   headers = {
+  //     ""Content-Type"": ""application/vnd.api+json"",
+  //   }
+
+  //   // This allows an access_token (preferrably long-lived) to be set directly on the env.
+  //   // This reduces the number of OAuth call to the Drupal server.
+  //   // Intentionally marked as unstable for now.
+  //   if (process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN) {
+  //     headers[
+  //       ""Authorization""
+  //     ] = `Bearer ${process.env.UNSTABLE_DRUPAL_ACCESS_TOKEN}`
+
+  //     return headers
+  //   }
+
+  //   const token = accessToken || (await this.getAccessToken())
+  //   if (token) {
+  //     headers[""Authorization""] = `Bearer ${token.access_token}`
+  //   }
+
+  //   return headers
+  // }
 }

---FILE: packages/next-drupal/src/logger.ts---
@@ -0,0 +1,17 @@
+import { Logger } from "".""
+
+// Default logger. Uses console.
+export const logger: Logger = {
+  log(message) {
+    console.log(`[next-drupal][log]:`, message)
+  },
+  debug(message) {
+    console.debug(`[next-drupal][debug]:`, message)
+  },
+  warn(message) {
+    console.warn(`[next-drupal][debug]:`, message)
+  },
+  error(message) {
+    console.error(`[next-drupal][error]:`, message)
+  },
+}

---FILE: packages/next-drupal/src/types.ts---
@@ -1,3 +1,116 @@
+export type DrupalClientOptions = {
+  /**
+   * Set the JSON:API prefix.
+   *
+   * * **Default value**: `/jsonapi`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#apiPrefix)
+   */
+  apiPrefix?: string
+  /**
+   * Set debug to true to enable debug messages.
+   *
+   * * **Default value**: `false`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#debug)
+   */
+  debug?: boolean
+  /**
+   * Set the default frontPage.
+   *
+   * * **Default value**: `/home`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#frontPage)
+   */
+  frontPage?: string
+  /**
+   * Set custom headers for the fetcher.
+   *
+   * * **Default value**: { ""Content-Type"": ""application/vnd.api+json"", Accept: ""application/vnd.api+json"" }
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#headers)
+   */
+  headers?: HeadersInit
+  /**
+   * Override the default data formatter. You can use this to add your own JSON:API data deserializer.
+   *
+   * * **Default value**: `jsona`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#formatter)
+   */
+  formatter?: DataFormatter
+  /**
+   * Override the default fetcher. Use this to add your own fetcher ex. axios.
+   *
+   * * **Default value**: `fetch`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#fetcher)
+   */
+  fetcher?: Fetcher
+  /**
+   * Override the default cache.
+   *
+   * * **Default value**: `node-cache`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#cache)
+   */
+  cache?: DataCache
+  /**
+   * Override the default logger. You can use this to send logs to a third-party service.
+   *
+   * * **Default value**: `console`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/client#logger)
+   */
+  logger?: Logger
+  /**
+   * Override the default auth. You can use this to implement your own authentication mechanism.
+   *
+   * [Documentation](https://next-drupal.org/docs/client#auth)
+   */
+  auth?:
+    | { clientId: string; clientSecret: string; url?: string }
+    | (() => string)
+  /**
+   * By default, the client will make a request to JSON:API to retrieve the index. You can turn this off and use the default entry point from the resource name.
+   *
+   * * **Default value**: `false`
+   * * **Required**: *No*
+   *
+   * [Documentation](https://next-drupal.org/docs/useDefaultResourceTypeEntry#auth)
+   */
+  useDefaultResourceTypeEntry?: boolean
+}
+
+export interface Logger {
+  log(message): void
+
+  debug(message): void
+
+  warn(message): void
+
+  error(message): void
+}
+
+/**
+ * The baseUrl of your Drupal site. Do not add the /jsonapi suffix.
+ *
+ * **Required**: *yes*
+ *
+ * @example
+ *
+ * https://example.com
+ */
+export type BaseUrl = string
+
 export type Locale = string
 
 export type JsonApiOptions = {
@@ -17,6 +130,10 @@ export type JsonApiWithLocaleOptions = JsonApiOptions &
       }
   )
 
+export type JsonApiWithAuthOptions = {
+  withAuth?: boolean
+}
+
 // TODO: Properly type this.
 /* eslint-disable  @typescript-eslint/no-explicit-any */
 export type JsonApiParams = Record<string, any>

---FILE: packages/next-drupal/tests/__snapshots__/client.test.ts.snap---
@@ -937,3 +937,170 @@ Object {
   },
 }
 `;
+
+exports[`getResource it fetches a resource by uuid 1`] = `
+Object {
+  ""changed"": ""2022-03-25T08:02:17+00:00"",
+  ""content_translation_outdated"": false,
+  ""content_translation_source"": ""und"",
+  ""created"": ""2022-03-21T10:52:42+00:00"",
+  ""default_langcode"": true,
+  ""drupal_internal__nid"": 1,
+  ""drupal_internal__vid"": 37,
+  ""field_cooking_time"": 30,
+  ""field_difficulty"": ""medium"",
+  ""field_ingredients"": Array [
+    ""For the pastry:"",
+    ""280g plain flour"",
+    ""140g butter"",
+    ""Cold water"",
+    ""For the filling:"",
+    ""1 onion"",
+    ""2 garlic cloves"",
+    ""Half a courgette"",
+    ""450ml soya milk"",
+    ""500g grated parmesan"",
+    ""2 eggs"",
+    ""200g sun dried tomatoes"",
+    ""100g feta"",
+  ],
+  ""field_media_image"": Object {
+    ""id"": ""bbfe9d97-2da2-432b-a22c-0396c08e06ca"",
+    ""resourceIdObjMeta"": Object {
+      ""drupal_internal__target_id"": 1,
+    },
+    ""type"": ""media--image"",
+  },
+  ""field_number_of_servings"": 8,
+  ""field_preparation_time"": 40,
+  ""field_recipe_category"": Array [
+    Object {
+      ""id"": ""a6c02fe4-67bf-462c-90cb-32281a07efe4"",
+      ""resourceIdObjMeta"": Object {
+        ""drupal_internal__target_id"": 31,
+      },
+      ""type"": ""taxonomy_term--recipe_category"",
+    },
+  ],
+  ""field_recipe_instruction"": Object {
+    ""format"": ""basic_html"",
+    ""processed"": ""<ol>
+<li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
+<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
+<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
+<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
+<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
+</ol>
+"",
+    ""value"": ""<ol>
+	<li>Preheat the oven to 400F/200C. Starting with the pastry; rub the flour and butter together in a bowl until crumbling like breadcrumbs. Add water, a little at a time, until it forms a dough.</li>
+	<li>Roll out the pastry on a floured board and gently spread over your tin. Place in the fridge for 20 minutes before blind baking for a further 10.</li>
+	<li>Whilst the pastry is cooling, chop and gently cook the onions, garlic and courgette.</li>
+	<li>In a large bowl, add the soya milk, half the parmesan, and the eggs. Gently mix.</li>
+	<li>Once the pastry is cooked, spread the onions, garlic and sun dried tomatoes over the base and pour the eggs mix over. Sprinkle the remaining parmesan and careful lay the feta over the top. Bake for 30 minutes or until golden brown.</li>
+</ol>
+"",
+  },
+  ""field_summary"": Object {
+    ""format"": ""basic_html"",
+    ""processed"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
+"",
+    ""value"": ""<p>An Italian inspired quiche with sun dried tomatoes and courgette. A perfect light meal for a summer's day.</p>
+"",
+  },
+  ""field_tags"": Array [
+    Object {
+      ""id"": ""46258827-cfad-4813-99dc-287c4cb41117"",
+      ""resourceIdObjMeta"": Object {
+        ""drupal_internal__target_id"": 22,
+      },
+      ""type"": ""taxonomy_term--tags"",
+    },
+    Object {
+      ""id"": ""f32a4d84-0568-4bfd-8be3-8217d36efb6d"",
+      ""resourceIdObjMeta"": Object {
+        ""drupal_internal__target_id"": 13,
+      },
+      ""type"": ""taxonomy_term--tags"",
+    },
+  ],
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""langcode"": ""en"",
+  ""links"": Object {
+    ""self"": Object {
+      ""href"": ""https://dev-next-drupal-tests.pantheonsite.io/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""moderation_state"": ""published"",
+  ""node_type"": Object {
+    ""id"": ""9b70a287-cade-454f-be8b-dea7b9a37c7a"",
+    ""resourceIdObjMeta"": Object {
+      ""drupal_internal__target_id"": ""recipe"",
+    },
+    ""type"": ""node_type--node_type"",
+  },
+  ""path"": Object {
+    ""alias"": ""/recipes/deep-mediterranean-quiche"",
+    ""langcode"": ""en"",
+    ""pid"": 67,
+  },
+  ""promote"": true,
+  ""relationshipNames"": Array [
+    ""node_type"",
+    ""revision_uid"",
+    ""uid"",
+    ""field_media_image"",
+    ""field_recipe_category"",
+    ""field_tags"",
+  ],
+  ""revision_log"": null,
+  ""revision_timestamp"": ""2022-03-25T08:02:17+00:00"",
+  ""revision_translation_affected"": true,
+  ""revision_uid"": Object {
+    ""id"": ""365cc7b5-ddc4-4b3b-939e-1494400aab4a"",
+    ""resourceIdObjMeta"": Object {
+      ""drupal_internal__target_id"": 1,
+    },
+    ""type"": ""user--user"",
+  },
+  ""status"": true,
+  ""sticky"": false,
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+  ""uid"": Object {
+    ""id"": ""9e4944e8-dd77-407a-8610-83e823b48b56"",
+    ""resourceIdObjMeta"": Object {
+      ""drupal_internal__target_id"": 4,
+    },
+    ""type"": ""user--user"",
+  },
+}
+`;
+
+exports[`getResource it fetches a resource by uuid with params 1`] = `
+Object {
+  ""field_cooking_time"": 30,
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": Object {
+    ""self"": Object {
+      ""href"": ""https://dev-next-drupal-tests.pantheonsite.io/en/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""title"": ""Deep mediterranean quiche - edited"",
+  ""type"": ""node--recipe"",
+}
+`;
+
+exports[`getResource it fetches a resource using locale 1`] = `
+Object {
+  ""field_cooking_time"": 30,
+  ""id"": ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+  ""links"": Object {
+    ""self"": Object {
+      ""href"": ""https://dev-next-drupal-tests.pantheonsite.io/es/jsonapi/node/recipe/71e04ead-4cc7-416c-b9ca-60b635fdc50f?resourceVersion=id%3A37"",
+    },
+  },
+  ""title"": ""Quiche mediterrneo profundo"",
+  ""type"": ""node--recipe"",
+}
+`;

---FILE: packages/next-drupal/tests/client.test.ts---
@@ -1,124 +1,335 @@
 import { Unstable_DrupalClient as DrupalClient } from ""../src/client""
-import { DataFormatter, DrupalNode, FetchOptions } from ""../src/types""
+import type { DataFormatter, DrupalNode, Logger } from ""../src/types""
 
 const BASE_URL = ""https://dev-next-drupal-tests.pantheonsite.io""
 
+afterEach(() => {
+  jest.restoreAllMocks()
+})
+
 describe(""DrupalClient"", () => {
   test(""it properly constructs a DrupalClient"", () => {
-    expect(new DrupalClient({ baseUrl: BASE_URL })).toBeInstanceOf(DrupalClient)
+    expect(new DrupalClient(BASE_URL)).toBeInstanceOf(DrupalClient)
   })
 
-  test(""it throws error for invalid constructor arguments"", () => {
+  test(""it throws error for invalid baseUrl"", () => {
     // eslint-disable-next-line @typescript-eslint/ban-ts-comment
     // @ts-ignore
     expect(() => new DrupalClient()).toThrow(
-      ""Error: The 'baseUrl' option is required.""
+      ""Error: The 'baseUrl' param is required.""
     )
 
     // eslint-disable-next-line @typescript-eslint/ban-ts-comment
     // @ts-ignore
     expect(() => new DrupalClient({})).toThrow(
-      ""Error: The 'baseUrl' option is required.""
+      ""Error: The 'baseUrl' param is required.""
     )
   })
 
   test(""it correctly formats apiPrefix"", () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
+    const client = new DrupalClient(BASE_URL)
     expect(client.apiPrefix).toBe(""/jsonapi"")
 
-    const client2 = new DrupalClient({
-      baseUrl: BASE_URL,
+    const client2 = new DrupalClient(BASE_URL, {
       apiPrefix: ""/api"",
     })
     expect(client2.apiPrefix).toBe(""/api"")
 
-    const client3 = new DrupalClient({
-      baseUrl: BASE_URL,
-      apiPrefix: ""api"",
-    })
+    const client3 = new DrupalClient(BASE_URL, {})
+    client3.apiPrefix = ""api""
     expect(client3.apiPrefix).toBe(""/api"")
   })
 
   test(""it has a debug mode"", async () => {
-    const consoleSpy = jest.spyOn(console, ""log"")
+    const consoleSpy = jest.spyOn(console, ""debug"").mockImplementation()
 
-    const client = new DrupalClient({
-      baseUrl: BASE_URL,
+    const client = new DrupalClient(BASE_URL, {
       debug: true,
     })
 
     expect(consoleSpy).toHaveBeenCalledWith(
-      ""[next-drupal][debug]: Debug mode is on.""
+      ""[next-drupal][debug]:"",
+      ""Debug mode is on.""
     )
     expect(client.debug).toBe(true)
   })
 })
 
-describe(""getIndex"", () => {
-  test(""it fetches the JSON:API index"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
-    const index = await client.getIndex()
+describe(""auth"", () => {
+  test(""it accepts custom auth"", async () => {
+    const customAuth = jest
+      .fn()
+      .mockReturnValue(""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="")
+    const customFetch = jest.fn()
 
-    expect(index).toMatchSnapshot()
+    const client = new DrupalClient(BASE_URL, {
+      auth: customAuth,
+      fetcher: customFetch,
+    })
+    const url = client.buildUrl(""/jsonapi"").toString()
+
+    await client.fetch(url, { withAuth: true })
+    expect(customFetch).toHaveBeenCalledWith(url, {
+      headers: {
+        ""Content-Type"": ""application/vnd.api+json"",
+        Accept: ""application/vnd.api+json"",
+        Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
+      },
+      withAuth: true,
+    })
   })
 
-  test(""it fetches the JSON:API index with locale"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
-    const index = await client.getIndex(""es"")
+  test(""it accepts custom auth url"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
+        clientSecret: ""d92Fm^ds"",
+        url: ""/custom/oauth"",
+      },
+    })
+    const fetchSpy = jest
+      .spyOn(global, ""fetch"")
+      .mockImplementation(
+        jest.fn(() =>
+          Promise.resolve({ ok: true, json: () => Promise.resolve({}) })
+        ) as jest.Mock
+      )
+
+    await client.fetch(""http://example.com"", { withAuth: true })
+    expect(fetchSpy).toHaveBeenNthCalledWith(
+      1,
+      `${BASE_URL}/custom/oauth`,
+      expect.anything()
+    )
+  })
 
-    expect(index).toMatchSnapshot()
+  test(""it throws an error if invalid auth is set"", async () => {
+    expect(
+      () =>
+        new DrupalClient(BASE_URL, {
+          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
+          // @ts-ignore
+          auth: {
+            clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
+          },
+        })
+    ).toThrow(""Error: 'clientId' and 'clientSecret' are required for 'auth'"")
+
+    expect(() => {
+      const client = new DrupalClient(BASE_URL)
+      // eslint-disable-next-line @typescript-eslint/ban-ts-comment
+      // @ts-ignore
+      client.auth = {
+        clientSecret: ""d92Fm^ds"",
+      }
+    }).toThrow(""Error: 'clientId' and 'clientSecret' are required for 'auth'"")
   })
+})
 
-  test(""it throws error for invalid base url"", async () => {
-    const client = new DrupalClient({
-      baseUrl: ""https://next-drupal.org"",
+describe(""getAccessToken"", () => {
+  test(""it fetches an access token"", async () => {
+    jest.spyOn(global, ""fetch"").mockImplementation(
+      jest.fn(() =>
+        Promise.resolve({
+          ok: true,
+          json: () =>
+            Promise.resolve({
+              access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"",
+              token_type: ""bearer"",
+              expires_in: 3600,
+            }),
+        })
+      ) as jest.Mock
+    )
+
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
+        clientSecret: ""d92Fm^ds"",
+      },
     })
 
-    await expect(client.getIndex()).rejects.toThrow(
-      ""Error: Failed to fetch JSON:API index at https://next-drupal.org/jsonapi""
+    const token = await client.getAccessToken()
+    expect(token).toEqual({
+      access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"",
+      token_type: ""bearer"",
+      expires_in: 3600,
+    })
+  })
+
+  test(""it re-uses access token"", async () => {
+    jest.spyOn(global, ""fetch"").mockImplementation(
+      jest.fn(() =>
+        Promise.resolve({
+          ok: true,
+          json: () =>
+            Promise.resolve({
+              access_token: ""ECYM594IlARGc3S8KgBHvTpki0rDtWx6"" + Math.random(),
+              token_type: ""bearer"",
+              expires_in: 3600,
+            }),
+        })
+      ) as jest.Mock
     )
+
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
+        clientSecret: ""d92Fm^ds"",
+      },
+    })
+
+    const token1 = await client.getAccessToken()
+    const token2 = await client.getAccessToken()
+    expect(token1).toEqual(token2)
   })
 })
 
-describe(""getEntryForResourceType"", () => {
-  test(""it returns the JSON:API entry for a resource type"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
-    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+describe(""headers"", () => {
+  test(""it allows setting custom headers"", async () => {
+    const customFetch = jest.fn()
+    const client = new DrupalClient(BASE_URL, { fetcher: customFetch })
+    client.headers = {
+      foo: ""bar"",
+    }
 
-    const recipeEntry = await client.getEntryForResourceType(""node--recipe"")
-    expect(recipeEntry).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+    const url = ""http://example.com""
 
-    const articleEntry = await client.getEntryForResourceType(""node--article"")
-    expect(articleEntry).toMatch(`${BASE_URL}/en/jsonapi/node/article`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(2)
+    await client.fetch(url)
+    expect(customFetch).toHaveBeenCalledWith(url, {
+      headers: { foo: ""bar"" },
+    })
   })
 
-  test(""it assembles JSON:API entry without fetching index"", async () => {
-    const client = new DrupalClient({
-      baseUrl: BASE_URL,
-      useDefaultResourceTypeEntry: true,
+  test(""it allows setting custom headers with custom auth"", async () => {
+    const customFetch = jest.fn()
+    const client = new DrupalClient(BASE_URL, {
+      fetcher: customFetch,
+      headers: {
+        foo: ""bar"",
+      },
+      auth: jest
+        .fn()
+        .mockReturnValue(""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM=""),
     })
-    const getIndexSpy = jest.spyOn(client, ""getIndex"")
 
-    const recipeEntry = await client.getEntryForResourceType(""node--article"")
-    expect(recipeEntry).toMatch(`${BASE_URL}/jsonapi/node/article`)
-    expect(getIndexSpy).toHaveBeenCalledTimes(0)
+    const url = ""http://example.com""
+
+    await client.fetch(url, { withAuth: true })
+
+    expect(customFetch).toHaveBeenCalledWith(url, {
+      headers: {
+        foo: ""bar"",
+        Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
+      },
+      withAuth: true,
+    })
   })
+})
 
-  test(""it throws an error if resource type does not exist"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
+describe(""logger"", () => {
+  test(""it allows custom logger"", () => {
+    const logger: Logger = {
+      log(message) {
+        console.log(message)
+      },
+      warn(message) {
+        console.warn(message)
+      },
+      error(message) {
+        console.error(message)
+      },
+      debug(message) {
+        console.debug(message)
+      },
+    }
+    const debugSpy = jest.spyOn(logger, ""debug"").mockImplementation()
 
-    await expect(
-      client.getEntryForResourceType(""RESOURCE-DOES-NOT-EXIST"")
-    ).rejects.toThrow(
-      ""Error: Resource of type RESOURCE-DOES-NOT-EXIST not found.""
+    new DrupalClient(BASE_URL, { debug: true, logger })
+
+    expect(debugSpy).toHaveBeenCalled()
+  })
+})
+
+describe(""fetch"", () => {
+  test(""it allows fetching custom url"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const url = client.buildUrl(
+      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
+    )
+
+    const response = await client.fetch(url.toString())
+    expect(response.headers.get(""content-type"")).toEqual(
+      ""application/vnd.api+json""
+    )
+    const json = await response.json()
+    expect(json).toMatchSnapshot()
+  })
+
+  test(""it properly handles errors"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const url = client
+      .buildUrl(""/jsonapi/node/article"", { ""filter[foo]"": ""bar"" })
+      .toString()
+
+    await expect(client.fetch(url)).rejects.toThrow(
+      ""400 Bad Request\nInvalid nested filtering. The field `foo`, given in the path `foo`, does not exist.""
     )
   })
+
+  test(""it allows authenticated requests"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      auth: {
+        clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
+        clientSecret: ""d92Fm^ds"",
+      },
+    })
+    const url = client.buildUrl(""/jsonapi"")
+
+    const getAccessTokenSpy = jest
+      .spyOn(client, ""getAccessToken"")
+      .mockImplementation(() => null)
+
+    await client.fetch(url.toString(), {
+      withAuth: true,
+    })
+
+    expect(getAccessTokenSpy).toHaveBeenCalled()
+  })
+
+  test(""it allows for custom fetcher"", async () => {
+    const customFetch = jest.fn()
+
+    const client = new DrupalClient(BASE_URL, {
+      fetcher: customFetch,
+    })
+    const url = client.buildUrl(""/jsonapi"").toString()
+
+    await client.fetch(url)
+    expect(customFetch).toHaveBeenCalledWith(url, {
+      headers: {
+        ""Content-Type"": ""application/vnd.api+json"",
+        Accept: ""application/vnd.api+json"",
+      },
+    })
+
+    await client.fetch(url, {
+      headers: {
+        foo: ""bar"",
+      },
+    })
+    expect(customFetch).toHaveBeenLastCalledWith(url, {
+      headers: {
+        Accept: ""application/vnd.api+json"",
+        ""Content-Type"": ""application/vnd.api+json"",
+        foo: ""bar"",
+      },
+    })
+  })
 })
 
 describe(""buildUrl"", () => {
-  const client = new DrupalClient({ baseUrl: BASE_URL })
+  const client = new DrupalClient(BASE_URL)
 
   test(""it builds a url"", () => {
     expect(client.buildUrl(""http://example.com"").toString()).toEqual(
@@ -163,7 +374,7 @@ describe(""buildUrl"", () => {
 
 describe(""deserialize"", () => {
   test(""it deserializes JSON:API resource"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
+    const client = new DrupalClient(BASE_URL)
     const url = client.buildUrl(
       ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053"",
       {
@@ -181,7 +392,7 @@ describe(""deserialize"", () => {
   })
 
   test(""it deserializes JSON:API collection"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
+    const client = new DrupalClient(BASE_URL)
     const url = client.buildUrl(""/jsonapi/node/article"", {
       getQueryObject: () => ({
         ""fields[node--article]"": ""title"",
@@ -196,7 +407,7 @@ describe(""deserialize"", () => {
   })
 
   test(""it allows for custom data formatter"", async () => {
-    const dataFormatter: DataFormatter = {
+    const formatter: DataFormatter = {
       deserialize: (
         body: { data: { id: string; attributes: { title: string } } },
         options: { prefix: string }
@@ -207,9 +418,8 @@ describe(""deserialize"", () => {
         }
       },
     }
-    const client = new DrupalClient({
-      baseUrl: BASE_URL,
-      dataFormatter,
+    const client = new DrupalClient(BASE_URL, {
+      formatter,
     })
     const url = client.buildUrl(
       ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
@@ -225,106 +435,231 @@ describe(""deserialize"", () => {
   })
 })
 
-describe(""fetch"", () => {
-  test(""it allows fetching custom url"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
-    const url = client.buildUrl(
-      ""/jsonapi/node/article/52837ad0-f218-46bd-a106-5710336b7053""
+describe(""getIndex"", () => {
+  test(""it fetches the JSON:API index"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const index = await client.getIndex()
+
+    expect(index).toMatchSnapshot()
+  })
+
+  test(""it fetches the JSON:API index with locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const index = await client.getIndex(""es"")
+
+    expect(index).toMatchSnapshot()
+  })
+
+  test(""it throws error for invalid base url"", async () => {
+    const client = new DrupalClient(""https://example.com"")
+
+    await expect(client.getIndex()).rejects.toThrow(
+      ""Error: Failed to fetch JSON:API index at https://example.com/jsonapi""
     )
+  })
+})
 
-    const response = await client.fetch(url.toString())
-    expect(response.headers.get(""content-type"")).toEqual(
-      ""application/vnd.api+json""
+describe(""getEntryForResourceType"", () => {
+  test(""it returns the JSON:API entry for a resource type"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+
+    const recipeEntry = await client.getEntryForResourceType(""node--recipe"")
+    expect(recipeEntry).toMatch(`${BASE_URL}/en/jsonapi/node/recipe`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(1)
+
+    const articleEntry = await client.getEntryForResourceType(""node--article"")
+    expect(articleEntry).toMatch(`${BASE_URL}/en/jsonapi/node/article`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(2)
+  })
+
+  test(""it assembles JSON:API entry without fetching index"", async () => {
+    const client = new DrupalClient(BASE_URL, {
+      useDefaultResourceTypeEntry: true,
+    })
+    const getIndexSpy = jest.spyOn(client, ""getIndex"")
+
+    const recipeEntry = await client.getEntryForResourceType(""node--article"")
+    expect(recipeEntry).toMatch(`${BASE_URL}/jsonapi/node/article`)
+    expect(getIndexSpy).toHaveBeenCalledTimes(0)
+  })
+
+  test(""it throws an error if resource type does not exist"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getEntryForResourceType(""RESOURCE-DOES-NOT-EXIST"")
+    ).rejects.toThrow(
+      ""Error: Resource of type RESOURCE-DOES-NOT-EXIST not found.""
     )
-    const json = await response.json()
-    expect(json).toMatchSnapshot()
   })
+})
 
-  test(""it properly handles errors"", async () => {
-    const client = new DrupalClient({ baseUrl: BASE_URL })
-    const url = client
-      .buildUrl(""/jsonapi/node/article"", { ""filter[foo]"": ""bar"" })
-      .toString()
+describe(""getResource"", () => {
+  test(""it fetches a resource by uuid"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
+    )
 
-    await expect(client.fetch(url)).rejects.toThrow(
-      ""400 Bad Request\nInvalid nested filtering. The field `foo`, given in the path `foo`, does not exist.""
+    expect(recipe).toMatchSnapshot()
+  })
+
+  test(""it fetches a resource by uuid with params"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      }
     )
+
+    expect(recipe).toMatchSnapshot()
   })
 
-  test(""it allows authenticated requests"", async () => {
-    const client = new DrupalClient({
-      baseUrl: BASE_URL,
-      clientId: ""7795065e-8ad0-45eb-a64d-73d9f3a5e943"",
-      clientSecret: ""d92Fm^ds"",
-    })
-    const url = client.buildUrl(""/jsonapi"")
+  test(""it fetches a resource using locale"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        locale: ""es"",
+        defaultLocale: ""en"",
+        params: {
+          ""fields[node--recipe]"": ""title,field_cooking_time"",
+        },
+      }
+    )
 
-    const getAccessTokenSpy = jest
-      .spyOn(client, ""getAccessToken"")
-      .mockImplementation(() => null)
+    expect(recipe).toMatchSnapshot()
+  })
 
-    await client.fetch(url.toString(), {
-      withAuth: true,
-    })
+  test(""it fetches a resource by revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const recipe = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        params: {
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
+    const latestRevision = await client.getResource<DrupalNode>(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        params: {
+          resourceVersion: ""rel:latest-version"",
+          ""fields[node--recipe]"": ""drupal_internal__vid"",
+        },
+      }
+    )
 
-    expect(getAccessTokenSpy).toHaveBeenCalled()
+    expect(recipe.drupal_internal__vid).toEqual(
+      latestRevision.drupal_internal__vid
+    )
   })
 
-  test(""it allows for custom fetcher"", async () => {
-    const customFetch = jest.fn()
+  test(""it throws an error for invalid revision"", async () => {
+    const client = new DrupalClient(BASE_URL)
 
-    const client = new DrupalClient({
-      baseUrl: BASE_URL,
-      fetcher: customFetch,
-    })
-    const url = client.buildUrl(""/jsonapi"").toString()
+    await expect(
+      client.getResource<DrupalNode>(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          params: {
+            resourceVersion: ""id:-11"",
+            ""fields[node--recipe]"": ""title"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""404 Not Found\nThe requested version, identified by `id:-11`, could not be found.""
+    )
+  })
 
-    await client.fetch(url)
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: {
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
-      },
-    })
+  test(""it throws an error if revision access if forbidden"", async () => {
+    const client = new DrupalClient(BASE_URL)
 
-    const customFetch2 = jest.fn()
-    client.fetcher = customFetch2
+    await expect(
+      client.getResource<DrupalNode>(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          params: {
+            resourceVersion: ""id:1"",
+            ""fields[node--recipe]"": ""title"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""403 Forbidden\nThe current user is not allowed to GET the selected resource. The user does not have access to the requested version.""
+    )
+  })
 
-    await client.fetch(url, {
-      headers: {
-        foo: ""bar"",
-      },
-    })
-    expect(customFetch2).toHaveBeenCalledWith(url, {
-      headers: {
-        Accept: ""application/vnd.api+json"",
-        ""Content-Type"": ""application/vnd.api+json"",
-        foo: ""bar"",
-      },
-    })
+  test(""it throws an error for invalid resource type"", async () => {
+    const client = new DrupalClient(BASE_URL)
+
+    await expect(
+      client.getResource<DrupalNode>(
+        ""RESOURCE-DOES-NOT-EXIST"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
+      )
+    ).rejects.toThrow(
+      ""Error: Resource of type RESOURCE-DOES-NOT-EXIST not found.""
+    )
   })
 
-  test(""it accepts custom auth"", async () => {
-    const customAuth = jest
-      .fn()
-      .mockReturnValue(""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="")
-    const customFetch = jest.fn()
+  test(""it throws an error for invalid params"", async () => {
+    const client = new DrupalClient(BASE_URL)
 
-    const client = new DrupalClient({
-      baseUrl: BASE_URL,
-      auth: customAuth,
-      fetcher: customFetch,
-    })
-    const url = client.buildUrl(""/jsonapi"").toString()
+    await expect(
+      client.getResource<DrupalNode>(
+        ""node--recipe"",
+        ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+        {
+          params: {
+            include: ""invalid_relationship"",
+          },
+        }
+      )
+    ).rejects.toThrow(
+      ""400 Bad Request\n`invalid_relationship` is not a valid relationship field name. Possible values: node_type, revision_uid, uid, menu_link, field_media_image, field_recipe_category, field_tags.""
+    )
+  })
 
-    await client.fetch(url, { withAuth: true })
-    expect(customAuth).toHaveBeenCalled()
-    expect(customFetch).toHaveBeenCalledWith(url, {
-      headers: {
-        ""Content-Type"": ""application/vnd.api+json"",
-        Accept: ""application/vnd.api+json"",
-        Authorization: ""Basic YXJzaGFkQG5leHQtZHJ1cGFsLm9yZzphYmMxMjM="",
-      },
+  test(""it makes un-authenticated requests by default"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getResource(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f""
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {})
+  })
+
+  test(""it makes authenticated requests with withAuth"", async () => {
+    const client = new DrupalClient(BASE_URL)
+    const fetchSpy = jest.spyOn(client, ""fetch"")
+
+    await client.getResource(
+      ""node--recipe"",
+      ""71e04ead-4cc7-416c-b9ca-60b635fdc50f"",
+      {
+        withAuth: true,
+      }
+    )
+
+    expect(fetchSpy).toHaveBeenCalledWith(expect.anything(), {
+      withAuth: true,
     })
   })
 })

---FILE: starters/basic-starter/package.json---
@@ -19,7 +19,7 @@
     ""@types/node"": ""^17.0.21"",
     ""@types/react"": ""^17.0.4"",
     ""autoprefixer"": ""^10.4.2"",
-    ""eslint"": ""^7.28.0"",
+    ""eslint"": ""^8.11.0"",
     ""eslint-config-next"": ""^12.0.10"",
     ""postcss"": ""^8.4.5"",
     ""tailwindcss"": ""^3.0.15"",

---FILE: www/package.json---
@@ -28,7 +28,6 @@
     ""@tailwindcss/forms"": ""^0.3.4"",
     ""@types/react"": ""^17.0.3"",
     ""autoprefixer"": ""^10.4.0"",
-    ""eslint"": ""^7.28.0"",
     ""eslint-config-next"": ""^12.0.10"",
     ""postcss"": ""^8.4.1"",
     ""remark-autolink-headings"": ""^6.0.1"",",False,False,Documentation / Formatting,3
chapter-three,next-drupal,76c9fd693492c86210db41cfbee1537800f4419f,shadcn,arshad@chummun.com,2022-03-23T09:01:59Z,shadcn,arshad@chummun.com,2022-03-23T09:01:59Z,fix(next-drupal): handle cases where menu might be empty,packages/next-drupal/src/get-menu.ts,False,False,False,False,6,0,6,"---FILE: packages/next-drupal/src/get-menu.ts---
@@ -51,6 +51,12 @@ function buildMenuTree(
   links: DrupalMenuLinkContent[],
   parent: DrupalMenuLinkContent[""id""] = """"
 ) {
+  if (!links?.length) {
+    return {
+      items: [],
+    }
+  }
+
   const children = links.filter((link) => link.parent === parent)
 
   return children.length",False,False,Rendering / Conversion,0
chapter-three,next-drupal,f610768e2f695503fb362565df99eacc6265f0cf,Rob Decker,rob@deckerdev.com,2022-03-15T19:24:08Z,Rob Decker,rob@deckerdev.com,2022-03-15T19:24:08Z,fix(next): null parameter warning,modules/next/modules/next_extras/src/NextCacheInvalidator.php,False,False,False,False,3,1,4,"---FILE: modules/next/modules/next_extras/src/NextCacheInvalidator.php---
@@ -95,7 +95,9 @@ public function getPathsToInvalidate(EntityInterface $entity): array {
 
     $revalidate_paths = $next_entity_type_config->getThirdPartySetting('next_extras', 'revalidate_paths');
 
-    $paths = array_merge($paths, array_map('trim', explode(""\n"", $revalidate_paths)));
+    if ($revalidate_paths) {
+      $paths = array_merge($paths, array_map('trim', explode(""\n"", $revalidate_paths)));
+    }
 
     return $paths;
   }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,d4caa2897384364cece4d2c8190c33bfc8a05eb1,shadcn,arshad@chummun.com,2022-03-07T15:13:39Z,shadcn,arshad@chummun.com,2022-03-07T15:13:39Z,fix(www): update spacing,www/components/layout.tsx;www/components/pager.tsx;www/pages/docs/[[...slug]].tsx,False,False,False,False,6,6,12,"---FILE: www/components/layout.tsx---
@@ -45,7 +45,7 @@ export function Layout({
         }}
       />
       <div className=""bg-[#34c5c6]"">
-        <div className=""container flex flex-col items-center justify-between px-6 py-4 mx-auto sm:py-2 sm:flex-row xl:px-4"">
+        <div className=""container flex flex-col items-center justify-between px-6 py-4 mx-auto sm:py-2 sm:flex-row xl:px-6"">
           <a
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
@@ -124,7 +124,7 @@ export function Layout({
             ""bg-black text-white"": mode === ""dark"",
           })}
         >
-          <div className=""container flex items-center justify-between px-6 mx-auto h-14 xl:h-20 xl:px-4"">
+          <div className=""container flex items-center justify-between px-6 mx-auto h-14 xl:h-16 xl:px-6"">
             <div className=""flex items-center justify-between"">
               <button
                 className=""relative flex w-6 h-6 mr-4 transition-all lg:hidden""
@@ -219,7 +219,7 @@ export function Layout({
         </header>
         <main className=""flex-1"">{children}</main>
         <footer>
-          <div className=""container flex items-center justify-center px-6 py-10 mx-auto text-sm border-t md:justify-between xl:px-4"">
+          <div className=""container flex items-center justify-center px-6 py-10 mx-auto text-sm border-t md:justify-between xl:px-6"">
             <div className=""flex flex-col items-center md:items-start"">
               <a
                 href={`${site.social.contact}?utm_source=next-drupal&utm_medium=footer`}

---FILE: www/components/pager.tsx---
@@ -14,7 +14,7 @@ export function Pager({ links }: PagerProps) {
     <div className=""flex items-center justify-between mt-10 md:mt-14"">
       {prev ? (
         <Link href={prev.href} passHref>
-          <a className=""flex items-center px-2 py-2 leading-none text-gray-600 hover:text-black"">
+          <a className=""flex items-center px-4 py-3 leading-none text-gray-600 border rounded-md hover:text-black"">
             <svg
               className=""w-4 h-4 mr-2""
               viewBox=""0 0 24 24""
@@ -32,7 +32,7 @@ export function Pager({ links }: PagerProps) {
       ) : null}
       {next ? (
         <Link href={next.href} passHref>
-          <a className=""flex items-center px-2 py-2 ml-auto leading-none text-gray-600 hover:text-black"">
+          <a className=""flex items-center px-4 py-3 ml-auto leading-none text-gray-600 border rounded-md hover:text-black"">
             {next.title}
             <svg
               className=""w-4 h-4 ml-2""

---FILE: www/pages/docs/[[...slug]].tsx---
@@ -22,7 +22,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
 
   return (
     <Layout title={doc.frontMatter.title} description={doc.frontMatter.excerpt}>
-      <div className=""container px-6 mx-auto md:gap-10 xl:gap-10 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-4 lg:grid xl:px-4"">
+      <div className=""container px-6 mx-auto md:gap-10 xl:gap-10 md:grid-cols-6 lg:grid-cols-6 xl:grid-cols-4 lg:grid xl:px-6"">
         <aside className=""hidden col-span-2 py-10 pr-4 border-r xl:col-span-1 lg:flex"">
           <SidebarNav items={docs.links} />
         </aside>",False,False,Dependency / Package,4
chapter-three,next-drupal,933ca86d47a35dc3bf2a120466f1fec197ca8b61,shadcn,arshad@chummun.com,2022-03-03T10:53:41Z,shadcn,arshad@chummun.com,2022-03-03T10:53:41Z,fix(example-blog): switch to manual revalidation,examples/example-blog/pages/[...slug].tsx;examples/example-blog/pages/page/[page].tsx;examples/example-marketing/pages/blog/page/[page].tsx,False,False,False,False,0,3,3,"---FILE: examples/example-blog/pages/[...slug].tsx---
@@ -86,6 +86,5 @@ export async function getStaticProps(
       node,
       menus: await getMenus(context),
     },
-    revalidate: 7200,
   }
 }

---FILE: examples/example-blog/pages/page/[page].tsx---
@@ -122,6 +122,5 @@ export async function getStaticProps(
       },
       menus: await getMenus(context),
     },
-    revalidate: 7200,
   }
 }

---FILE: examples/example-marketing/pages/blog/page/[page].tsx---
@@ -126,6 +126,5 @@ export async function getStaticProps(
       },
       menus: await getMenus(context),
     },
-    revalidate: 7200,
   }
 }",False,False,Documentation / Formatting,3
chapter-three,next-drupal,22e8bf1f333e08aa6f13b6038e362bf826133acb,shadcn,arshad@chummun.com,2022-03-03T09:31:19Z,shadcn,arshad@chummun.com,2022-03-03T09:31:19Z,fix(example-marketing): turn off revalidate for pages,examples/example-marketing/pages/[[...slug]].tsx,False,False,False,False,0,1,1,"---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -103,6 +103,5 @@ export async function getStaticProps(
       node,
       menus: await getMenus(context),
     },
-    revalidate: 7200,
   }
 }",False,False,Documentation / Formatting,3
chapter-three,next-drupal,a925e26ebbc3a9c8be027a6d5cae6ca6787365d4,shadcn,arshad@chummun.com,2022-03-02T11:27:50Z,shadcn,arshad@chummun.com,2022-03-02T11:27:50Z,fix(www): update react-prism-renderer,www/package.json;yarn.lock,False,False,False,False,5,5,10,"---FILE: www/package.json---
@@ -17,7 +17,7 @@
     ""next-mdx"": ""^0.6.0"",
     ""next-mdx-toc"": ""^0.1.1"",
     ""next-seo"": ""^4.23.0"",
-    ""prism-react-renderer"": ""^1.2.1"",
+    ""prism-react-renderer"": ""^1.3.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
     ""sharp"": ""^0.29.3""

---FILE: yarn.lock---
@@ -11427,10 +11427,10 @@ pretty-quick@^3.1.3:
     mri ""^1.1.5""
     multimatch ""^4.0.0""
 
-prism-react-renderer@^1.2.1:
-  version ""1.2.1""
-  resolved ""https://registry.yarnpkg.com/prism-react-renderer/-/prism-react-renderer-1.2.1.tgz#392460acf63540960e5e3caa699d851264e99b89""
-  integrity sha512-w23ch4f75V1Tnz8DajsYKvY5lF7H1+WvzvLUcF0paFxkTHSp42RS0H5CttdN2Q8RR3DRGZ9v5xD/h3n8C8kGmg==
+prism-react-renderer@^1.3.1:
+  version ""1.3.1""
+  resolved ""https://registry.yarnpkg.com/prism-react-renderer/-/prism-react-renderer-1.3.1.tgz#88fc9d0df6bed06ca2b9097421349f8c2f24e30d""
+  integrity sha512-xUeDMEz074d0zc5y6rxiMp/dlC7C+5IDDlaEUlcBOFE2wddz7hz5PNupb087mPwTt7T9BrFmewObfCBuf/LKwQ==
 
 prismjs@~1.25.0:
   version ""1.25.0""",False,False,Data / Input Handling,3
chapter-three,next-drupal,eb7900a324445417f93b98f7ad923b45001b3f8e,shadcn,arshad@chummun.com,2022-02-24T12:07:45Z,shadcn,arshad@chummun.com,2022-02-24T12:07:45Z,fix: remove next module from workspace,modules/next/package.json;package.json,False,False,False,False,0,7,7,"---FILE: modules/next/package.json---
@@ -1,6 +0,0 @@
-{
-  ""name"": ""next"",
-  ""description"": ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
-  ""version"": ""1.0.0"",
-  ""license"": ""MIT""
-}

---FILE: package.json---
@@ -6,7 +6,6 @@
     ""packages/*"",
     ""examples/*"",
     ""starters/*"",
-    ""modules/*"",
     ""drupal"",
     ""www""
   ],",False,False,Data / Input Handling,3
chapter-three,next-drupal,fae0db2aeb3a7ff1036792f354c7a21474fccd62,shadcn,arshad@chummun.com,2022-02-24T09:13:21Z,shadcn,arshad@chummun.com,2022-02-24T09:13:21Z,fix: add next to workspace,modules/next/package.json;package.json,False,False,False,False,7,0,7,"---FILE: modules/next/package.json---
@@ -0,0 +1,6 @@
+{
+  ""name"": ""next"",
+  ""description"": ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
+  ""version"": ""1.0.0"",
+  ""license"": ""MIT""
+}

---FILE: package.json---
@@ -6,6 +6,7 @@
     ""packages/*"",
     ""examples/*"",
     ""starters/*"",
+    ""modules/*"",
     ""drupal"",
     ""www""
   ],",False,False,Data / Input Handling,3
chapter-three,next-drupal,2c3b986c57563a5ad70e9e6c8d735f57833a474e,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-02-22T11:18:10Z,GitHub,noreply@github.com,2022-02-22T11:18:10Z,"chore(deps): bump jsona from 1.9.5 to 1.9.6

Bumps [jsona](https://github.com/olosegres/jsona) from 1.9.5 to 1.9.6.
- [Release notes](https://github.com/olosegres/jsona/releases)
- [Commits](https://github.com/olosegres/jsona/compare/v1.9.5...v1.9.6)

---
updated-dependencies:
- dependency-name: jsona
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,3,3,6,"---FILE: yarn.lock---
@@ -8744,9 +8744,9 @@ json5@^2.1.2, json5@^2.2.0:
     minimist ""^1.2.5""
 
 jsona@^1.8.0:
-  version ""1.9.5""
-  resolved ""https://registry.yarnpkg.com/jsona/-/jsona-1.9.5.tgz#b2cdfa5eb373373e95074152c86983ba9629d5cb""
-  integrity sha512-VCBfwL8dUPa0hx827LJK8kpcSsoH0al+wsuZ72AbP/gy7kTJBr6/7GdVdCtYci//uGe9i7wimUFKS5uya0+nLw==
+  version ""1.9.6""
+  resolved ""https://registry.yarnpkg.com/jsona/-/jsona-1.9.6.tgz#774bc7633d23d07c2d7ff4a6e68ed92533759546""
+  integrity sha512-JCx2oMhOrsmNyM6vz76J+xGkjOS3h7lJn4cGDPCGCXofiKa9RTvSK8bwmCHKNRwaG8juZbtCeftnTG3mz+J3qw==
 
 jsonfile@^4.0.0:
   version ""4.0.0""",False,False,Dependency / Package,1
chapter-three,next-drupal,fc8522899f99bafd1d09441eaec7155c8d23c97f,shadcn,arshad@chummun.com,2022-02-22T11:05:24Z,shadcn,arshad@chummun.com,2022-02-22T11:05:24Z,fix: add turborepo schema,turbo.json,False,False,False,False,1,0,1,"---FILE: turbo.json---
@@ -1,4 +1,5 @@
 {
+  ""$schema"": ""https://turborepo.org/schema.json"",
   ""baseBranch"": ""origin/main"",
   ""pipeline"": {
     ""build"": {",False,False,Data / Input Handling,3
chapter-three,next-drupal,e34ca565556c9ae1511d4396d0083440d6567e53,vattenapa,kevin.einarsson@gmail.com,2022-02-21T15:40:55Z,vattenapa,kevin.einarsson@gmail.com,2022-02-21T15:45:40Z,fix(next): show overridden config on environment variables page,modules/next/src/Routing/NextSiteHtmlRouteProvider.php;modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php,False,False,False,False,18,0,18,"---FILE: modules/next/src/Routing/NextSiteHtmlRouteProvider.php---
@@ -44,6 +44,11 @@ protected function getEnvironmentVariablesRoute(EntityTypeInterface $entity_type
     $route->setDefault('_title', 'Environment variables');
     $route->setRequirement('_permission', $entity_type->getAdminPermission());
     $route->setOption('_admin_route', TRUE);
+    $route->setOption('parameters', [
+      'next_site' => [
+        'with_config_overrides' => TRUE,
+      ],
+    ]);
 
     return $route;
   }

---FILE: modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php---
@@ -57,4 +57,17 @@ public function testEnvironmentVariables() {
     $this->assertEquals(\Drupal::configFactory()->get('system.site')->get('page.front'), $build['container']['DRUPAL_FRONT_PAGE']['#context']['value']);
   }
 
+  /**
+   * @covers ::environmentVariables
+   */
+  public function testOverriddenEnvironmentVariables() {
+    $GLOBALS['config']['next.next_site.' . $this->nextSite->id()] = [
+      'preview_secret' => 'overridden'
+    ];
+    $overridden_entity = NextSite::load($this->nextSite->id());
+    $controller = NextSiteEntityController::create($this->container);
+    $build = $controller->environmentVariables($overridden_entity);
+    $this->assertEquals('overridden', $build['container']['DRUPAL_PREVIEW_SECRET']['#context']['value']);
+  }
+
 }",False,False,Data / Input Handling,3
chapter-three,next-drupal,fc0b452ff1ba4b352a226f7abceb9b35f3846ec4,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2022-02-21T08:50:46Z,GitHub,noreply@github.com,2022-02-21T08:50:46Z,"chore(deps-dev): bump turbo from 1.1.1 to 1.1.3

Bumps [turbo](https://github.com/vercel/turborepo) from 1.1.1 to 1.1.3.
- [Release notes](https://github.com/vercel/turborepo/releases)
- [Commits](https://github.com/vercel/turborepo/compare/v1.1.1...v1.1.3)

---
updated-dependencies:
- dependency-name: turbo
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,63,63,126,"---FILE: yarn.lock---
@@ -13933,83 +13933,83 @@ tunnel-agent@^0.6.0:
   dependencies:
     safe-buffer ""^5.0.1""
 
-turbo-darwin-64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-darwin-64/-/turbo-darwin-64-1.1.1.tgz#7dcf22cbdf1e53ee2025e7991fd5a3c0a5465ac5""
-  integrity sha512-D2gX6ltOyI53fqnWO0hvMvVJBQuomyl34RjVFBOwZVw2n9CQRRni7arspG7/qV0Frr2ixerEe88AkTztCjn5EA==
+turbo-darwin-64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-darwin-64/-/turbo-darwin-64-1.1.3.tgz#f94feceba0c15966a701193a587bd6b63efbf538""
+  integrity sha512-dIJE19hY6FmCoIvXWa6RO85xLWTw0tsDZlOdUAE+EK5YM54G8yIsfZqeVZdn5Iy28oMOvpBoF1TL6936d3zaXQ==
 
-turbo-darwin-arm64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-darwin-arm64/-/turbo-darwin-arm64-1.1.1.tgz#e7baa13a0e135a28cdc4cc02ebeff6e2be904feb""
-  integrity sha512-4lJb1e0qoKqPCsKV9ETy5J56YIokon/VMP08/9xVjweoY1IKurfwjKPtqW8XZVMQdYL+7Ym9OafmIanIRIIUOg==
+turbo-darwin-arm64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-darwin-arm64/-/turbo-darwin-arm64-1.1.3.tgz#8d83a8990abbde5607085047211bc3b40e1d8bb2""
+  integrity sha512-6AtJD0TxtxSiWlgPZbr3OltNbdhjq3Tuowi2sgVdYXB1dEYoHn4l5Fa7Nv5lr72X1OvItmmEcqSLCqi+uBf1PQ==
 
-turbo-freebsd-64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-freebsd-64/-/turbo-freebsd-64-1.1.1.tgz#c97847680126f1c5bcd9b86a6e7a47e4cf221261""
-  integrity sha512-XMwYtI0Pi+E03K+gEC4osroJ3tbgQImfowoq+S9hSevykI/hcyAcBPwykgJJtMlInfpIZfCrKPzc07QDupyt1A==
+turbo-freebsd-64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-freebsd-64/-/turbo-freebsd-64-1.1.3.tgz#6b37aa798201ba2a5b41c4c890d38e3b5f3c8a2f""
+  integrity sha512-dzYlYWK/5nwZaABRNwYg9sSNvC2QHcEU3WZdsZwviRsyAG1O4bxStnhR22BAzJs+jxRUrG3W7j1pUY1rqdJ62Q==
 
-turbo-freebsd-arm64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-freebsd-arm64/-/turbo-freebsd-arm64-1.1.1.tgz#98bb7edb5e99f6dfe2c4d79a0bbd8efa7363fd62""
-  integrity sha512-YxiAm/pxJguBewIiFnQnhbCKsiOpO/r8AlIWQvvfLk+2gaqvy8c9rUKyky8uffG34393Zkefd1GjtL7aCWKwbA==
+turbo-freebsd-arm64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-freebsd-arm64/-/turbo-freebsd-arm64-1.1.3.tgz#34c07c7c8200a17e9c931b02cac14947cd8d6533""
+  integrity sha512-YZ/bBy59/16hEb06G73m5IcuMRCFRZnmEXMMlmfY2B+AR5d103TdenZQ0sxWWRVVQu7FfhT3QsbJ00GcxtrO8Q==
 
-turbo-linux-32@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-linux-32/-/turbo-linux-32-1.1.1.tgz#7e07fca7a50f102617132febcbb2844a23d58484""
-  integrity sha512-qnHdVV2N/dZ5/fJ/XE4N+juYdjKB75IZfEfLaHcAuNOqEnxbclv6IoRb5X7iCWHdarv2u1eR5OUfJrpSw6vWbA==
+turbo-linux-32@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-linux-32/-/turbo-linux-32-1.1.3.tgz#ab2b6d163f781f24d4b9c283a195fe1e3ab47c53""
+  integrity sha512-BwP8oL9NlhlIFgEqBfsj7ASx5Adzaf1L7Xn9GGhv2v2uD1N8mgAuPyy/X3VUYDdMi6JeHc5gxRKnawJI7uTr9g==
 
-turbo-linux-64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-linux-64/-/turbo-linux-64-1.1.1.tgz#ebbee5606ca31214d26f28436c0cde9ef91be84e""
-  integrity sha512-54BHnEEqE8q3Zpny40tX5HC7WAhjLZz4Sk3p1G9Fmodi48IhmCPCjq0wqFNLWogVFOyN5t6x6CgGLyfTtM22gQ==
+turbo-linux-64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-linux-64/-/turbo-linux-64-1.1.3.tgz#48f2bf622d1d7a450a865598c800b4a7e340977e""
+  integrity sha512-ZdgaJO45ZHxJStDU6uSSgw1baCB1OatF9YOgx6XByOIeV0etdETFvhTPhSZ/mD9Xsk5QP1SoCjrvTbhk6/FZsg==
 
-turbo-linux-arm64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-linux-arm64/-/turbo-linux-arm64-1.1.1.tgz#e72df721cac483df7da58ca0d7152a5a96ce500e""
-  integrity sha512-nrKQSkmYIWKndbB5LpsgGmbRuQNy4OzuKM6t9niSUzLPFaT3yZ2MVRwvBoHuBRQyvMvEc954kBqVUCKabX/MUQ==
+turbo-linux-arm64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-linux-arm64/-/turbo-linux-arm64-1.1.3.tgz#0938893ddae8a450ce364cf0640a9f8c27aecac0""
+  integrity sha512-gM9638BGZ2An94cd8w/Q35xCUmo/ZACcQJnmR82pyRUIalk3tmGnKupjn1IFK8yCPdMJ4+zs5SvrLGn/C+ldtQ==
 
-turbo-linux-arm@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-linux-arm/-/turbo-linux-arm-1.1.1.tgz#c56553c828f821ad90a4241f6495821a9345582a""
-  integrity sha512-d4jcsb/b8sIxnNi3JBtR2nbP9hJxOlZ3vCgUpPcLPEbDy+jAEMwt8LArV7cdRO3zaI4Bcp6a0QrRCrHhZAyH4Q==
+turbo-linux-arm@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-linux-arm/-/turbo-linux-arm-1.1.3.tgz#369e758ef715f5560efd0ecf419f8d168f337a39""
+  integrity sha512-ZBce2TXUgt8IPyXcNMlR07fvRLoIh6VhDR+7zbL1tSAtWkOTGQHS0h80B7bg6pQ4IftQqluGc8NkMaNCUmDgaA==
 
-turbo-linux-mips64le@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-linux-mips64le/-/turbo-linux-mips64le-1.1.1.tgz#49a924ae749d63c56c0dfaf70037277145f858ac""
-  integrity sha512-OUA0IMtpu1C1HF8OBi4Pdf1R9yny6uFlaCGZvrEprEbO+gUkOJ1JOyDsF+KQRNVQr9Q0Oji+rJH8D8xQ6tNu/w==
+turbo-linux-mips64le@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-linux-mips64le/-/turbo-linux-mips64le-1.1.3.tgz#517696de0ba5a3861e055d84b75bde09f4539e71""
+  integrity sha512-9QmdAq+Yl4iGvUJVbcQ4hMH4BPeXqBtkBAOEiPunbeYtRH4xzQh+bSCYdrH7FfujND82nCKVjXMuGSJO6IyY6g==
 
-turbo-linux-ppc64le@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-linux-ppc64le/-/turbo-linux-ppc64le-1.1.1.tgz#a26bf8b624762b0126f1b53f095e81a1465953b5""
-  integrity sha512-SZCF9geJKgm9pbSqLRaflQtiHqU/Hjax1u6Hbv1VjJHWC53RisJb06C9azalNrGaKUu25K31hfVUcgBMYmNhZg==
+turbo-linux-ppc64le@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-linux-ppc64le/-/turbo-linux-ppc64le-1.1.3.tgz#2014f7e98752e04d568cfa9cf04038e2d185154d""
+  integrity sha512-CwWh9V5Cqh4TR8E7mAR2+WLlsyJcLkZzZ6GQdS8rovVveKPII2VpTihMXkGyvwCxO/pQmOHwCaVUzgxIGtQrDQ==
 
-turbo-windows-32@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-windows-32/-/turbo-windows-32-1.1.1.tgz#e2a9f584726539a196fc31252a30ad4dbc212e2c""
-  integrity sha512-v3i9tuE6jEOBLBbkg83BOSSIp6f2NDst5MhTBwlNb+PB6TEiv11pdarkufecgH7BJtU5UCSEYoewjI4XAndpPA==
+turbo-windows-32@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-windows-32/-/turbo-windows-32-1.1.3.tgz#7f75c6611a0a1d9d1b15129a452ebfffd77fbcf3""
+  integrity sha512-/qJoU6P8pBZrTdxiV4yUxyc1yVBJdsZunP9vYuF7tz/3DCaJujnZhmYOn+vcA2fUe9wwk/s7e2eg7LG5qsREFA==
 
-turbo-windows-64@1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo-windows-64/-/turbo-windows-64-1.1.1.tgz#b34324d2e468652ce38240d8da33ab84c9f67d45""
-  integrity sha512-vNfl07uMrgbq8YXXsvNIHxxEdBdez7PWUjy1cOaXCFQQw+HebSwQ70WM2KMoHGY3TULbwTquRxy/xFjmh1tGzw==
+turbo-windows-64@1.1.3:
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo-windows-64/-/turbo-windows-64-1.1.3.tgz#880ed73452e5f405e300c6432aba3dbf68098836""
+  integrity sha512-tWXUrKUL1Bdx5EekMa0IjonZPjMe1GTHz3/CK3rSI85hkJ/Up52SgcQgkhIs42lMPQiKbrbgISYpVH5c/aLxRw==
 
 turbo@^1.1.1:
-  version ""1.1.1""
-  resolved ""https://registry.yarnpkg.com/turbo/-/turbo-1.1.1.tgz#f2257cd298104744192a2baef16c00220c4a09cf""
-  integrity sha512-UTgz9PaQAuVJqm4WtcOzHh2LFA0k2zfzsl/gn4Ss+YdAi8K4ZUw2bbXGPlA1b702KUTt8GESq7N0kKoQJVPF/w==
+  version ""1.1.3""
+  resolved ""https://registry.yarnpkg.com/turbo/-/turbo-1.1.3.tgz#57f5c2639c5780474958daa1432f232c320f5ad0""
+  integrity sha512-Za/hHiCxGsC3n4yROy5hHLJkJ5tkq2po5V8L+WBURw7RjAt1C7EP5PMIsLQpXV69Icts9NEZnniVRXEkKGuKfQ==
   optionalDependencies:
-    turbo-darwin-64 ""1.1.1""
-    turbo-darwin-arm64 ""1.1.1""
-    turbo-freebsd-64 ""1.1.1""
-    turbo-freebsd-arm64 ""1.1.1""
-    turbo-linux-32 ""1.1.1""
-    turbo-linux-64 ""1.1.1""
-    turbo-linux-arm ""1.1.1""
-    turbo-linux-arm64 ""1.1.1""
-    turbo-linux-mips64le ""1.1.1""
-    turbo-linux-ppc64le ""1.1.1""
-    turbo-windows-32 ""1.1.1""
-    turbo-windows-64 ""1.1.1""
+    turbo-darwin-64 ""1.1.3""
+    turbo-darwin-arm64 ""1.1.3""
+    turbo-freebsd-64 ""1.1.3""
+    turbo-freebsd-arm64 ""1.1.3""
+    turbo-linux-32 ""1.1.3""
+    turbo-linux-64 ""1.1.3""
+    turbo-linux-arm ""1.1.3""
+    turbo-linux-arm64 ""1.1.3""
+    turbo-linux-mips64le ""1.1.3""
+    turbo-linux-ppc64le ""1.1.3""
+    turbo-windows-32 ""1.1.3""
+    turbo-windows-64 ""1.1.3""
 
 tweetnacl@^0.14.3, tweetnacl@~0.14.0:
   version ""0.14.5""",False,False,Dependency / Package,1
chapter-three,next-drupal,b39da077b2bb4c6cbbbd51a533aa7d061842c532,shadcn,arshad@chummun.com,2022-02-14T16:44:37Z,shadcn,arshad@chummun.com,2022-02-14T16:44:37Z,fix(example-marketing): switch to next/link,examples/example-marketing/components/formatted-text.tsx;examples/example-marketing/components/navbar.tsx;examples/example-marketing/components/pager.tsx,False,False,False,False,3,3,6,"---FILE: examples/example-marketing/components/formatted-text.tsx---
@@ -4,7 +4,7 @@ import { Element } from ""domhandler/lib/node""
 import parse from ""html-react-parser""
 
 import { isRelative } from ""lib/utils/is-relative""
-import { Link } from ""components/link""
+import Link from ""next/link""
 
 const options: HTMLReactParserOptions = {
   replace: (domNode) => {

---FILE: examples/example-marketing/components/navbar.tsx---
@@ -4,7 +4,7 @@ import { DrupalMenuLinkContent } from ""next-drupal""
 import classNames from ""classnames""
 
 import { LocaleSwitcher } from ""components/locale-switcher""
-import { Link } from ""components/link""
+import Link from ""next/link""
 
 interface NavbarProps {
   links: DrupalMenuLinkContent[]

---FILE: examples/example-marketing/components/pager.tsx---
@@ -1,7 +1,7 @@
 import classNames from ""classnames""
 
 import { usePagination, usePaginationProps } from ""hooks/use-pagination""
-import { Link } from ""components/link""
+import Link from ""next/link""
 
 export interface PagerProps extends React.HTMLAttributes<HTMLElement> {
   current: number",False,False,Documentation / Formatting,1
chapter-three,next-drupal,c14b690fdc3bd2b1125ba080f0343293426f9e6b,shadcn,arshad@chummun.com,2022-02-10T11:12:51Z,shadcn,arshad@chummun.com,2022-02-10T11:12:51Z,fix(example-marketing): debug code for translatePath in getStaticProps,examples/example-marketing/pages/[[...slug]].tsx,False,False,False,False,2,21,23,"---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -10,8 +10,8 @@ import {
   DrupalNode,
   getPathsFromContext,
   getResourceFromContext,
+  getResourceTypeFromContext,
   getView,
-  translatePathFromContext,
 } from ""next-drupal""
 
 import { getMenus } from ""lib/get-menus""
@@ -62,26 +62,7 @@ export async function getStaticPaths(
 export async function getStaticProps(
   context
 ): Promise<GetStaticPropsResult<NodePageProps>> {
-  const path = await translatePathFromContext(context)
-
-  if (!path) {
-    return {
-      notFound: true,
-    }
-  }
-
-  // Check for redirect
-  if (path.redirect?.length) {
-    const [redirect] = path.redirect
-    return {
-      redirect: {
-        destination: redirect.to,
-        permanent: redirect.status === ""301"",
-      },
-    }
-  }
-
-  const type = path.jsonapi.resourceName
+  const type = await getResourceTypeFromContext(context)
 
   if (!RESOURCE_TYPES.includes(type)) {
     return {",False,False,Rendering / Conversion,0
chapter-three,next-drupal,01166cc581ebc827b6f5991be95b60937ac02f33,shadcn,arshad@chummun.com,2022-02-08T17:22:12Z,shadcn,arshad@chummun.com,2022-02-08T17:22:12Z,docs(www): fix docs for getResourceByPath,www/docs/reference.mdx,False,False,False,False,13,4,17,"---FILE: www/docs/reference.mdx---
@@ -173,7 +173,6 @@ Get a resource by path in `getStaticProps` or `getServerSideProps`.
 
 ```ts
 function getResourceByPath(
-  type: string,
   path: string,
   options?: {
     deserialize?: boolean
@@ -186,18 +185,28 @@ function getResourceByPath(
 Get an article by path.
 
 ```ts
-const node = await getResourceByPath(""node--article"", ""/blog/hello-world"")
+const node = await getResourceByPath(""/blog/hello-world"")
 ```
 
-Get the `es` translation for a article by path.
+Get the `es` translation for an article by path.
 
 ```ts
-const node = await getResourceByPath(""node--article"", ""/blog/hello-world"", {
+const node = await getResourceByPath(""/blog/hello-world"", {
   locale: ""es"",
   defaultLocale: ""en"",
 })
 ```
 
+Get some fields for an article by path.
+
+```ts
+const node = await getResourceByPath(""/blog/hello-world"", {
+  params: {
+    ""fields[node--article]"": ""title,body,status,path"",
+  },
+})
+```
+
 ---
 
 ## getResourceCollection",False,False,Documentation / Formatting,4
chapter-three,next-drupal,50c2722d9023cf0825bab04c5f407b626e23e2a5,shadcn,arshad@chummun.com,2022-02-01T11:46:34Z,shadcn,arshad@chummun.com,2022-02-01T11:46:34Z,fix(next): phpcs notices,modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php;modules/next/src/Entity/NextSite.php;modules/next/src/NextEntityTypeManager.php;modules/next/src/Plugin/Next/SiteResolver/EntityReferenceField.php;modules/next/src/Render/MainContent/HtmlRenderer.php;modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php;modules/next/tests/src/Kernel/Plugin/SiteResolverManagerTest.php;modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php;modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php,False,False,False,False,12,13,25,"---FILE: modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php---
@@ -6,7 +6,7 @@
 use Drupal\Core\TypedData\ComputedItemListTrait;
 
 /**
- * Class ContentTranslationsFieldItemList
+ * Class ContentTranslationsFieldItemList.
  */
 class ContentTranslationsFieldItemList extends FieldItemList {
 

---FILE: modules/next/src/Entity/NextSite.php---
@@ -157,7 +157,6 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
         $rel = 'working-copy';
       }
 
-
       // In Drupal terms, the ""latest version"" is the latest ""default"" revision. It
       // may or may not have later revisions after it, as long as none of them are
       // ""default"" revisions. This revision is the latest version because it is the

---FILE: modules/next/src/NextEntityTypeManager.php---
@@ -51,7 +51,7 @@ public function getConfigEntityTypeIds() {
 
     $entities = $this->entityTypeManager->getStorage('next_entity_type_config')->loadMultiple();
     foreach ($entities as $entity) {
-      list($entity_type_id) = explode('.', $entity->id());
+      [$entity_type_id] = explode('.', $entity->id());
       $ids[$entity_type_id] = $entity_type_id;
     }
 

---FILE: modules/next/src/Plugin/Next/SiteResolver/EntityReferenceField.php---
@@ -99,7 +99,7 @@ public function buildConfigurationForm(array $form, FormStateInterface $form_sta
       return $form;
     }
 
-    list($entity_type_id, $bundle) = explode('.', $entity->id());
+    [$entity_type_id, $bundle] = explode('.', $entity->id());
 
     $definitions = array_filter($this->entityFieldManager->getFieldDefinitions($entity_type_id, $bundle), function (FieldDefinitionInterface $definition) {
       if ($definition->getType() !== ""entity_reference"") {

---FILE: modules/next/src/Render/MainContent/HtmlRenderer.php---
@@ -138,7 +138,7 @@ protected function prepare(array $main_content, Request $request, RouteMatchInte
     // Allow modules to alter the preview.
     $this->moduleHandler->alter('next_site_preview', $preview, $context);
 
-    list($page, $title) = $build;
+    [$page, $title] = $build;
     $page['content'] = $preview;
 
     return [$page, $title];

---FILE: modules/next/tests/src/Kernel/Controller/NextSiteEntityControllerTest.php---
@@ -18,7 +18,7 @@ class NextSiteEntityControllerTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  public static $modules = ['next'];
+  protected static $modules = ['next'];
 
   /**
    * The next_site entity.
@@ -30,7 +30,7 @@ class NextSiteEntityControllerTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->nextSite = NextSite::create([

---FILE: modules/next/tests/src/Kernel/Plugin/SiteResolverManagerTest.php---
@@ -16,7 +16,7 @@ class SiteResolverManagerTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  public static $modules = ['next'];
+  protected static $modules = ['next'];
 
   /**
    * The site resolver manager.
@@ -28,7 +28,7 @@ class SiteResolverManagerTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
     $this->siteResolverManager = $this->container->get('plugin.manager.next.site_resolver');
   }

---FILE: modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php---
@@ -22,12 +22,12 @@ class SiteResolverTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  public static $modules = ['filter', 'next', 'node', 'system', 'user'];
+  protected static $modules = ['filter', 'next', 'node', 'system', 'user'];
 
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->installEntitySchema('node');

---FILE: modules/next/tests/src/Kernel/Renderer/MainContent/HtmlRendererTest.php---
@@ -24,12 +24,12 @@ class HtmlRendererTest extends KernelTestBase {
   /**
    * {@inheritdoc}
    */
-  public static $modules = ['filter', 'next', 'node', 'system', 'user'];
+  protected static $modules = ['filter', 'next', 'node', 'system', 'user'];
 
   /**
    * {@inheritdoc}
    */
-  protected function setUp() {
+  protected function setUp(): void {
     parent::setUp();
 
     $this->installEntitySchema('node');",False,False,Rendering / Conversion,0
chapter-three,next-drupal,d4b08b8dbb2a9ece87dcd0118275df43b3373cad,shadcn,arshad@chummun.com,2022-02-01T11:40:34Z,shadcn,arshad@chummun.com,2022-02-01T11:40:34Z,fix(next): update revision handling for latest-revision and working-copy,modules/next/src/Entity/NextSite.php;modules/next/src/NextEntityTypeManager.php,False,False,False,False,27,1,28,"---FILE: modules/next/src/Entity/NextSite.php---
@@ -145,7 +145,29 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
     /** @var \Drupal\next\NextEntityTypeManagerInterface $next_entity_type_manager */
     $next_entity_type_manager = \Drupal::service('next.entity_type.manager');
     if ($next_entity_type_manager->isEntityRevisionable($entity)) {
-      $query['resourceVersion'] = $entity->isLatestRevision() ? ""rel:latest-version"" : ""id:{$entity->getRevisionId()}"";
+      /** @var \Drupal\Core\Entity\RevisionableInterface $entity */
+      $rel = NULL;
+
+      // In Drupal terms, a ""working copy"" is the latest revision. It may or may not
+      // be a ""default"" revision. This revision is the working copy because it is
+      // the revision to which new work will be applied. In other words, it denotes
+      // the most recent revision which might be considered a work-in-progress.
+      // @see \Drupal\jsonapi\Revisions\VersionByRel
+      if ($entity->isLatestRevision()) {
+        $rel = 'working-copy';
+      }
+
+
+      // In Drupal terms, the ""latest version"" is the latest ""default"" revision. It
+      // may or may not have later revisions after it, as long as none of them are
+      // ""default"" revisions. This revision is the latest version because it is the
+      // last revision where work was considered finished. Typically, this means
+      // that it is the most recent ""published"" revision.
+      // @see \Drupal\jsonapi\Revisions\VersionByRel
+      if ($entity->isDefaultRevision()) {
+        $rel = 'latest-version';
+      }
+      $query['resourceVersion'] = $rel ? ""rel:$rel"" : ""id:{$entity->getRevisionId()}"";
     }
 
     return Url::fromUri($this->preview_url, [

---FILE: modules/next/src/NextEntityTypeManager.php---
@@ -72,6 +72,10 @@ public function getEntityFromRouteMatch(RouteMatchInterface $route_match): ?Enti
         return $node_revision;
       }
 
+      if ($route_match->getRouteName() === 'entity.node.latest_version') {
+        $node_revision = $route_match->getParameter('node')->getRevisionId();
+      }
+
       return $this->entityTypeManager->getStorage('node')->loadRevision($node_revision);
     }
 ",False,False,Implementation / Logic,3
chapter-three,next-drupal,4d4e99b7c9206bc05117ac10868c12e696f53dae,shadcn,arshad@chummun.com,2022-02-01T08:35:18Z,shadcn,arshad@chummun.com,2022-02-01T08:35:18Z,fix(example-marketing): update meta component,examples/example-marketing/components/meta.tsx;examples/example-marketing/package.json;examples/example-marketing/types/drupal.d.ts,False,False,False,False,35,28,63,"---FILE: examples/example-marketing/components/meta.tsx---
@@ -2,8 +2,6 @@ import Head from ""next/head""
 import { useRouter } from ""next/router""
 import { DrupalMetatag } from ""types/drupal""
 
-import { absoluteURL } from ""lib/utils/absolute-url""
-
 interface MetaProps {
   title?: string
   path?: string
@@ -15,31 +13,40 @@ export function Meta({ title, tags }: MetaProps) {
 
   return (
     <Head>
-      <meta
-        name=""description""
-        content=""A Next.js site powered by a Drupal backend. Built with paragraphs, views, menus and translations.""
-      />
       <link
         rel=""canonical""
-        href={absoluteURL(router.asPath !== ""/"" ? router.asPath : """")}
+        href={`${process.env.NEXT_PUBLIC_BASE_URL}${
+          router.asPath !== ""/"" ? router.asPath : """"
+        }`}
       />
-      <meta property=""og:image"" content={absoluteURL(""/images/meta.jpg"")} />
-      <meta property=""og:image:width"" content=""800"" />
-      <meta property=""og:image:height"" content=""600"" />
       {tags?.length ? (
-        tags.map((tag) =>
-          tag.attributes.name === ""title"" ? (
-            <title key={tag.attributes.name}>{tag.attributes.content}</title>
-          ) : (
-            <meta
-              key={tag.attributes.name}
-              name={tag.attributes.name}
-              content={tag.attributes.content}
-            />
-          )
-        )
+        tags.map((tag, index) => {
+          if (tag.attributes.rel === ""canonical"") {
+            return null
+          }
+
+          if (tag.attributes.name === ""title"") {
+            return (
+              <title key={tag.attributes.name}>{tag.attributes.content}</title>
+            )
+          }
+          const Tag = tag.tag as keyof JSX.IntrinsicElements
+          return <Tag key={index} {...tag.attributes}></Tag>
+        })
       ) : (
-        <title>{title} | Next.js for Drupal</title>
+        <>
+          <title>{title} | Next.js for Drupal</title>
+          <meta
+            name=""description""
+            content=""A Next.js blog powered by a Drupal backend.""
+          />
+          <meta
+            property=""og:image""
+            content={`${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`}
+          />
+          <meta property=""og:image:width"" content=""800"" />
+          <meta property=""og:image:height"" content=""600"" />
+        </>
       )}
     </Head>
   )

---FILE: examples/example-marketing/package.json---
@@ -4,15 +4,14 @@
   ""private"": true,
   ""license"": ""MIT"",
   ""scripts"": {
-    ""dev"": ""next dev -p 3000"",
+    ""dev"": ""next dev -p 3001"",
     ""build"": ""next build"",
-    ""start"": ""next start"",
-    ""preview"": ""next build && next start"",
+    ""preview"": ""next build && next start -p 3001"",
     ""lint"": ""next lint"",
     ""cy:open"": ""cypress open"",
     ""cy:run"": ""cypress run"",
-    ""test:e2e"": ""start-server-and-test 'yarn preview' http://localhost:3000 cy:open"",
-    ""test:e2e:ci"": ""start-server-and-test 'yarn preview' http://localhost:3000 cy:run""
+    ""test:e2e"": ""start-server-and-test 'yarn preview' http://localhost:3001 cy:open"",
+    ""test:e2e:ci"": ""start-server-and-test 'yarn preview' http://localhost:3001 cy:run""
   },
   ""dependencies"": {
     ""@tailwindcss/forms"": ""^0.4.0"",

---FILE: examples/example-marketing/types/drupal.d.ts---
@@ -11,6 +11,7 @@ export interface DrupalMetatag {
   tag: string
   attributes: {
     content: string
-    name: string
+    name?: string
+    rel?: string
   }
 }",False,False,Dependency / Package,4
chapter-three,next-drupal,f1ea06681e511a6e49ed48c435f450299df7eaa1,shadcn,arshad@chummun.com,2022-01-31T14:37:35Z,shadcn,arshad@chummun.com,2022-01-31T14:37:35Z,fix(example-auth): add next.config.js,examples/example-auth/next.config.js,False,False,False,False,6,0,6,"---FILE: examples/example-auth/next.config.js---
@@ -0,0 +1,6 @@
+module.exports = {
+  swcMinify: true,
+  images: {
+    domains: [process.env.NEXT_IMAGE_DOMAIN],
+  },
+}",False,False,Environment / Configuration,1
chapter-three,next-drupal,6ea1c83262504e92e8ad27ef4bc28386805a4d01,shadcn,arshad@chummun.com,2022-01-31T14:37:13Z,shadcn,arshad@chummun.com,2022-01-31T14:37:13Z,fix(example-webform): re-add next.config.js,examples/example-search-api/next.config.js,False,False,False,False,6,0,6,"---FILE: examples/example-search-api/next.config.js---
@@ -0,0 +1,6 @@
+module.exports = {
+  swcMinify: true,
+  images: {
+    domains: [process.env.NEXT_IMAGE_DOMAIN],
+  },
+}",False,False,Environment / Configuration,1
chapter-three,next-drupal,d4939fffe5ce669b6396d5294a5e3c04fcb3e9fb,shadcn,arshad@chummun.com,2022-01-31T14:35:17Z,shadcn,arshad@chummun.com,2022-01-31T14:35:17Z,fix(example-auth): add typescript,examples/example-auth/package.json,False,False,False,False,2,1,3,"---FILE: examples/example-auth/package.json---
@@ -30,6 +30,7 @@
     ""autoprefixer"": ""^10.4.2"",
     ""eslint-config-next"": ""^11.0.0"",
     ""postcss"": ""^8.4.5"",
-    ""tailwindcss"": ""^3.0.15""
+    ""tailwindcss"": ""^3.0.15"",
+    ""typescript"": ""^4.5.5""
   }
 }",False,False,Data / Input Handling,3
chapter-three,next-drupal,3f3db433633ad15abcb5b211aebef3e386613eae,shadcn,arshad@chummun.com,2022-01-31T14:32:40Z,shadcn,arshad@chummun.com,2022-01-31T14:32:40Z,fix: update dependencies,examples/example-auth/next.config.js;examples/example-auth/package.json;examples/example-auth/tailwind.config.js;examples/example-no-preview/next.config.js;examples/example-no-preview/package.json;examples/example-no-preview/tailwind.config.js;examples/example-search-api/next.config.js;examples/example-search-api/package.json;examples/example-search-api/tailwind.config.js;yarn.lock,False,False,False,False,39,67,106,"---FILE: examples/example-auth/next.config.js---
@@ -1,8 +0,0 @@
-const withTM = require(""next-transpile-modules"")([""next-drupal""])
-
-module.exports = withTM({
-  reactStrictMode: true,
-  images: {
-    domains: [process.env.NEXT_IMAGE_DOMAIN],
-  },
-})

---FILE: examples/example-auth/package.json---
@@ -14,8 +14,8 @@
     ""test:e2e:ci"": ""start-server-and-test 'yarn preview' http://localhost:3434 cy:run""
   },
   ""dependencies"": {
-    ""@tailwindcss/forms"": ""^0.3.4"",
-    ""@tailwindcss/typography"": ""^0.4.1"",
+    ""@tailwindcss/forms"": ""^0.4.0"",
+    ""@tailwindcss/typography"": ""^0.5.1"",
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.0.3"",
     ""next-auth"": ""^4.0.5"",
@@ -27,11 +27,9 @@
     ""@babel/core"": ""^7.12.9"",
     ""@types/node"": ""^14.14.12"",
     ""@types/react"": ""^17.0.0"",
-    ""autoprefixer"": ""^10.4.0"",
+    ""autoprefixer"": ""^10.4.2"",
     ""eslint-config-next"": ""^11.0.0"",
-    ""next-transpile-modules"": ""^9.0.0"",
-    ""postcss"": ""^8.3.11"",
-    ""tailwindcss"": ""^2.2.19"",
-    ""typescript"": ""^4.3.2""
+    ""postcss"": ""^8.4.5"",
+    ""tailwindcss"": ""^3.0.15""
   }
 }

---FILE: examples/example-auth/tailwind.config.js---
@@ -1,6 +1,9 @@
 module.exports = {
-  purge: [""./pages/**/*.{js,ts,jsx,tsx}"", ""./components/**/*.{js,ts,jsx,tsx}""],
-  darkMode: false,
+  mode: ""jit"",
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx}"",
+    ""./components/**/*.{js,ts,jsx,tsx}"",
+  ],
   theme: {
     extend: {},
   },

---FILE: examples/example-no-preview/next.config.js---
@@ -1,8 +0,0 @@
-const withTM = require(""next-transpile-modules"")([""next-drupal""])
-
-module.exports = withTM({
-  reactStrictMode: true,
-  images: {
-    domains: [process.env.NEXT_IMAGE_DOMAIN],
-  },
-})

---FILE: examples/example-no-preview/package.json---
@@ -10,20 +10,21 @@
     ""preview"": ""next build && next start -p 3333""
   },
   ""dependencies"": {
-    ""@tailwindcss/typography"": ""^0.4.0"",
-    ""autoprefixer"": ""^10.2.5"",
-    ""next"": ""^11.0.0"",
+    ""@tailwindcss/forms"": ""^0.4.0"",
+    ""@tailwindcss/typography"": ""^0.5.1"",
+    ""next"": ""^12.0.3"",
     ""next-drupal"": ""^1.1.1"",
     ""postcss"": ""^8.2.14"",
     ""react"": ""^17.0.2"",
-    ""react-dom"": ""^17.0.2"",
-    ""tailwindcss"": ""^2.1.2""
+    ""react-dom"": ""^17.0.2""
   },
   ""devDependencies"": {
     ""@babel/core"": ""^7.12.9"",
     ""@types/node"": ""^14.14.12"",
     ""@types/react"": ""^17.0.0"",
-    ""next-transpile-modules"": ""^9.0.0"",
-    ""typescript"": ""^4.0.5""
+    ""autoprefixer"": ""^10.4.2"",
+    ""eslint-config-next"": ""^11.0.0"",
+    ""postcss"": ""^8.4.5"",
+    ""tailwindcss"": ""^3.0.15""
   }
 }

---FILE: examples/example-no-preview/tailwind.config.js---
@@ -1,11 +1,14 @@
 module.exports = {
-  purge: [""./pages/**/*.{js,ts,jsx,tsx}"", ""./src/**/*.{js,ts,jsx,tsx}""],
-  darkMode: false, // or 'media' or 'class'
+  mode: ""jit"",
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx}"",
+    ""./components/**/*.{js,ts,jsx,tsx}"",
+  ],
   theme: {
     extend: {},
   },
   variants: {
     extend: {},
   },
-  plugins: [require(""@tailwindcss/typography"")],
+  plugins: [require(""@tailwindcss/forms""), require(""@tailwindcss/typography"")],
 }

---FILE: examples/example-search-api/next.config.js---
@@ -1,8 +0,0 @@
-const withTM = require(""next-transpile-modules"")([""next-drupal""])
-
-module.exports = withTM({
-  reactStrictMode: true,
-  images: {
-    domains: [process.env.NEXT_IMAGE_DOMAIN],
-  },
-})

---FILE: examples/example-search-api/package.json---
@@ -14,8 +14,8 @@
     ""test:e2e:ci"": ""start-server-and-test 'yarn preview' http://localhost:3838 cy:run""
   },
   ""dependencies"": {
-    ""@tailwindcss/forms"": ""^0.3.4"",
-    ""@tailwindcss/typography"": ""^0.4.1"",
+    ""@tailwindcss/forms"": ""^0.4.0"",
+    ""@tailwindcss/typography"": ""^0.5.1"",
     ""next"": ""^12.0.3"",
     ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
@@ -25,11 +25,10 @@
     ""@babel/core"": ""^7.12.9"",
     ""@types/node"": ""^14.14.12"",
     ""@types/react"": ""^17.0.0"",
-    ""autoprefixer"": ""^10.4.0"",
+    ""autoprefixer"": ""^10.4.2"",
     ""eslint-config-next"": ""^11.0.0"",
-    ""next-transpile-modules"": ""^9.0.0"",
-    ""postcss"": ""^8.3.11"",
-    ""tailwindcss"": ""^2.2.19"",
-    ""typescript"": ""^4.3.2""
+    ""postcss"": ""^8.4.5"",
+    ""tailwindcss"": ""^3.0.15"",
+    ""typescript"": ""^4.5.5""
   }
 }

---FILE: examples/example-search-api/tailwind.config.js---
@@ -1,7 +1,9 @@
 module.exports = {
-  important: true,
-  purge: [""./pages/**/*.{js,ts,jsx,tsx}"", ""./components/**/*.{js,ts,jsx,tsx}""],
-  darkMode: false,
+  mode: ""jit"",
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx}"",
+    ""./components/**/*.{js,ts,jsx,tsx}"",
+  ],
   theme: {
     extend: {},
   },

---FILE: yarn.lock---
@@ -2968,16 +2968,6 @@
   dependencies:
     mini-svg-data-uri ""^1.2.3""
 
-""@tailwindcss/typography@^0.4.0"", ""@tailwindcss/typography@^0.4.1"":
-  version ""0.4.1""
-  resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.4.1.tgz#51ddbceea6a0ee9902c649dbe58871c81a831212""
-  integrity sha512-ovPPLUhs7zAIJfr0y1dbGlyCuPhpuv/jpBoFgqAc658DWGGrOBWBMpAWLw2KlzbNeVk4YBJMzue1ekvIbdw6XA==
-  dependencies:
-    lodash.castarray ""^4.4.0""
-    lodash.isplainobject ""^4.0.6""
-    lodash.merge ""^4.6.2""
-    lodash.uniq ""^4.5.0""
-
 ""@tailwindcss/typography@^0.5.0"", ""@tailwindcss/typography@^0.5.1"":
   version ""0.5.1""
   resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.5.1.tgz#486248a9426501f11a9b0295f7cfc0eb29659c46""
@@ -3888,7 +3878,7 @@ atob@^2.1.2:
   resolved ""https://registry.yarnpkg.com/atob/-/atob-2.1.2.tgz#6d9517eb9e030d2436666651e86bd9f6f13533c9""
   integrity sha512-Wm6ukoaOGJi/73p/cl2GvLjTI5JM1k/O14isD73YML8StrH/7/lRFgmg8nICZgD3bZZvjwCGxtMOD3wWNAu8cg==
 
-autoprefixer@^10.2.5, autoprefixer@^10.4.0, autoprefixer@^10.4.2:
+autoprefixer@^10.4.0, autoprefixer@^10.4.2:
   version ""10.4.2""
   resolved ""https://registry.yarnpkg.com/autoprefixer/-/autoprefixer-10.4.2.tgz#25e1df09a31a9fba5c40b578936b90d35c9d4d3b""
   integrity sha512-9fOPpHKuDW1w/0EKfRmVnxTDt8166MAnLI3mgZ1JCnhNtYWxcJ6Ud5CO/AVOZi/AvFa8DY9RTy3h3+tFBlrrdQ==
@@ -12327,7 +12317,7 @@ postcss@8.2.15:
     nanoid ""^3.1.23""
     source-map ""^0.6.1""
 
-postcss@8.4.5, postcss@^8.1.6, postcss@^8.2.14, postcss@^8.3.11, postcss@^8.3.5, postcss@^8.4.1, postcss@^8.4.5:
+postcss@8.4.5, postcss@^8.1.6, postcss@^8.2.14, postcss@^8.3.5, postcss@^8.4.1, postcss@^8.4.5:
   version ""8.4.5""
   resolved ""https://registry.yarnpkg.com/postcss/-/postcss-8.4.5.tgz#bae665764dfd4c6fcc24dc0fdf7e7aa00cc77f95""
   integrity sha512-jBDboWM8qpaqwkMwItqTQTiFikhs/67OYVvblFFTM7MrZjt6yMKd6r2kgXizEbTTljacm4NldIlZnhbjr84QYg==
@@ -14604,7 +14594,7 @@ table@^6.0.9:
     string-width ""^4.2.3""
     strip-ansi ""^6.0.1""
 
-tailwindcss@^2.1.2, tailwindcss@^2.2.19:
+tailwindcss@^2.2.19:
   version ""2.2.19""
   resolved ""https://registry.yarnpkg.com/tailwindcss/-/tailwindcss-2.2.19.tgz#540e464832cd462bb9649c1484b0a38315c2653c""
   integrity sha512-6Ui7JSVtXadtTUo2NtkBBacobzWiQYVjYW0ZnKaP9S1ZCKQ0w7KVNz+YSDI/j7O7KCMHbOkz94ZMQhbT9pOqjw==
@@ -15221,7 +15211,7 @@ typescript@^3.9.5:
   resolved ""https://registry.yarnpkg.com/typescript/-/typescript-3.9.10.tgz#70f3910ac7a51ed6bef79da7800690b19bf778b8""
   integrity sha512-w6fIxVE/H1PkLKcCPsFqKE7Kv7QUwhU8qQY2MueZXWx5cPZdwFupLgKK3vntcK98BtNHZtAF4LA/yl2a7k8R6Q==
 
-typescript@^4.0.5, typescript@^4.3.2, typescript@^4.3.3, typescript@^4.5.4, typescript@^4.5.5:
+typescript@^4.3.2, typescript@^4.3.3, typescript@^4.5.4, typescript@^4.5.5:
   version ""4.5.5""
   resolved ""https://registry.yarnpkg.com/typescript/-/typescript-4.5.5.tgz#d8c953832d28924a9e3d37c73d729c846c5896f3""
   integrity sha512-TCTIul70LyWe6IJWT8QSYeA54WQe8EjQFU4wY52Fasj5UKx88LNYKCgBEHcOMOrFF1rKGbD8v/xcNWVUq9SymA==",False,False,Dependency / Package,4
chapter-three,next-drupal,c9b52d647343980cc081771e05a8af2d6f457709,shadcn,arshad@chummun.com,2022-01-31T14:16:16Z,shadcn,arshad@chummun.com,2022-01-31T14:16:16Z,fix: revert next-drupal versions,examples/example-auth/package.json;examples/example-blog/package.json;examples/example-no-preview/package.json;examples/example-search-api/package.json;examples/example-webform/package.json;yarn.lock,False,False,False,False,6,6,12,"---FILE: examples/example-auth/package.json---
@@ -19,7 +19,7 @@
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.0.3"",
     ""next-auth"": ""^4.0.5"",
-    ""next-drupal"": ""*"",
+    ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2""
   },

---FILE: examples/example-blog/package.json---
@@ -12,7 +12,7 @@
   ""dependencies"": {
     ""drupal-jsonapi-params"": ""^1.2.2"",
     ""next"": ""^11.0.0"",
-    ""next-drupal"": ""*"",
+    ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
     ""reflexjs"": ""^2.0.0""

---FILE: examples/example-no-preview/package.json---
@@ -13,7 +13,7 @@
     ""@tailwindcss/typography"": ""^0.4.0"",
     ""autoprefixer"": ""^10.2.5"",
     ""next"": ""^11.0.0"",
-    ""next-drupal"": ""*"",
+    ""next-drupal"": ""^1.1.1"",
     ""postcss"": ""^8.2.14"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",

---FILE: examples/example-search-api/package.json---
@@ -17,7 +17,7 @@
     ""@tailwindcss/forms"": ""^0.3.4"",
     ""@tailwindcss/typography"": ""^0.4.1"",
     ""next"": ""^12.0.3"",
-    ""next-drupal"": ""*"",
+    ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2""
   },

---FILE: examples/example-webform/package.json---
@@ -18,7 +18,7 @@
     ""@tailwindcss/forms"": ""^0.3.4"",
     ""@tailwindcss/typography"": ""^0.4.1"",
     ""next"": ""^12.0.3"",
-    ""next-drupal"": ""*"",
+    ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
     ""react-hook-form"": ""^7.25.3"",

---FILE: yarn.lock---
@@ -2978,7 +2978,7 @@
     lodash.merge ""^4.6.2""
     lodash.uniq ""^4.5.0""
 
-""@tailwindcss/typography@^0.5.0"":
+""@tailwindcss/typography@^0.5.0"", ""@tailwindcss/typography@^0.5.1"":
   version ""0.5.1""
   resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.5.1.tgz#486248a9426501f11a9b0295f7cfc0eb29659c46""
   integrity sha512-AmSzZSgLhHKlILKduU+PKBTHL6c+al82syZlRid1xgmlWwXagLigO+O++B4C0scpMfzW//f/3YCRcwwEHWoU3w==",False,False,Documentation / Formatting,3
chapter-three,next-drupal,943d7f1c9a37418125053e897b67b070065479c4,shadcn,arshad@chummun.com,2022-01-31T14:15:53Z,shadcn,arshad@chummun.com,2022-01-31T14:15:53Z,fix(example-marketing): update tailwindcss,examples/example-marketing/package.json;examples/example-marketing/tailwind.config.js,False,False,False,False,9,5,14,"---FILE: examples/example-marketing/package.json---
@@ -16,6 +16,7 @@
   },
   ""dependencies"": {
     ""@tailwindcss/forms"": ""^0.4.0"",
+    ""@tailwindcss/typography"": ""^0.5.1"",
     ""classnames"": ""^2.3.1"",
     ""drupal-jsonapi-params"": ""^1.2.2"",
     ""html-react-parser"": ""^1.2.7"",
@@ -31,10 +32,10 @@
     ""@babel/core"": ""^7.12.9"",
     ""@types/node"": ""^14.14.12"",
     ""@types/react"": ""^17.0.0"",
-    ""autoprefixer"": ""^10.4.0"",
+    ""autoprefixer"": ""^10.4.2"",
     ""eslint-config-next"": ""^11.0.0"",
-    ""postcss"": ""^8.3.11"",
-    ""tailwindcss"": ""^2.2.19"",
+    ""postcss"": ""^8.4.5"",
+    ""tailwindcss"": ""^3.0.15"",
     ""typescript"": ""^4.5.5""
   }
 }

---FILE: examples/example-marketing/tailwind.config.js---
@@ -1,6 +1,9 @@
 module.exports = {
-  purge: [""./pages/**/*.{js,ts,jsx,tsx}"", ""./components/**/*.{js,ts,jsx,tsx}""],
-  darkMode: false,
+  mode: ""jit"",
+  content: [
+    ""./pages/**/*.{js,ts,jsx,tsx}"",
+    ""./components/**/*.{js,ts,jsx,tsx}"",
+  ],
   theme: {
     extend: {},
   },",False,False,Documentation / Formatting,3
chapter-three,next-drupal,5b248c2e4d44c9e2acf363743904e4078c5ec610,shadcn,arshad@chummun.com,2022-01-31T14:06:11Z,shadcn,arshad@chummun.com,2022-01-31T14:06:11Z,fix(example-marketing): remove next-transpile-modules,examples/example-marketing/next.config.js;examples/example-marketing/package.json;yarn.lock,False,False,False,False,1192,1660,2852,"---FILE: examples/example-marketing/next.config.js---
@@ -1,6 +1,4 @@
-const withTM = require(""next-transpile-modules"")([""next-drupal""])
-
-module.exports = withTM({
+module.exports = {
   swcMinify: true,
   i18n: {
     locales: [""en"", ""es""],
@@ -27,4 +25,4 @@ module.exports = withTM({
       },
     ]
   },
-})
+}

---FILE: examples/example-marketing/package.json---
@@ -20,7 +20,7 @@
     ""drupal-jsonapi-params"": ""^1.2.2"",
     ""html-react-parser"": ""^1.2.7"",
     ""next"": ""^12.0.8"",
-    ""next-drupal"": ""*"",
+    ""next-drupal"": ""^1.1.1"",
     ""nprogress"": ""^0.2.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
@@ -33,7 +33,6 @@
     ""@types/react"": ""^17.0.0"",
     ""autoprefixer"": ""^10.4.0"",
     ""eslint-config-next"": ""^11.0.0"",
-    ""next-transpile-modules"": ""^9.0.0"",
     ""postcss"": ""^8.3.11"",
     ""tailwindcss"": ""^2.2.19"",
     ""typescript"": ""^4.5.5""",False,False,Data / Input Handling,3
chapter-three,next-drupal,e9b583f645e2a8aa9a5bf70cc132fc31b2ebb6b3,shadcn,arshad@chummun.com,2022-01-31T13:45:47Z,shadcn,arshad@chummun.com,2022-01-31T13:45:47Z,fix(example-marketing): add tailwindcss forms,examples/example-marketing/package.json;examples/example-marketing/tailwind.config.js;yarn.lock,False,False,False,False,9,1,10,"---FILE: examples/example-marketing/package.json---
@@ -15,6 +15,7 @@
     ""test:e2e:ci"": ""start-server-and-test 'yarn preview' http://localhost:3000 cy:run""
   },
   ""dependencies"": {
+    ""@tailwindcss/forms"": ""^0.4.0"",
     ""classnames"": ""^2.3.1"",
     ""drupal-jsonapi-params"": ""^1.2.2"",
     ""html-react-parser"": ""^1.2.7"",

---FILE: examples/example-marketing/tailwind.config.js---
@@ -7,5 +7,5 @@ module.exports = {
   variants: {
     extend: {},
   },
-  plugins: [require(""@tailwindcss/typography"")],
+  plugins: [require(""@tailwindcss/forms""), require(""@tailwindcss/typography"")],
 }

---FILE: yarn.lock---
@@ -3135,6 +3135,13 @@
   dependencies:
     mini-svg-data-uri ""^1.2.3""
 
+""@tailwindcss/forms@^0.4.0"":
+  version ""0.4.0""
+  resolved ""https://registry.yarnpkg.com/@tailwindcss/forms/-/forms-0.4.0.tgz#a46715e347a32d216a3973eb67473bd29ae3798e""
+  integrity sha512-DeaQBx6EgEeuZPQACvC+mKneJsD8am1uiJugjgQK1+/Vt+Ai0GpFBC2T2fqnUad71WgOxyrZPE6BG1VaI6YqfQ==
+  dependencies:
+    mini-svg-data-uri ""^1.2.3""
+
 ""@tailwindcss/typography@^0.4.0"", ""@tailwindcss/typography@^0.4.1"":
   version ""0.4.1""
   resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.4.1.tgz#51ddbceea6a0ee9902c649dbe58871c81a831212""",False,False,Documentation / Formatting,3
chapter-three,next-drupal,3e1fb37afe7bad2eae31422b22de941720b27285,shadcn,arshad@chummun.com,2022-01-31T13:23:01Z,shadcn,arshad@chummun.com,2022-01-31T13:23:01Z,fix: set turbo packageManager,package.json,False,False,False,False,2,1,3,"---FILE: package.json---
@@ -108,5 +108,6 @@
   ""dependencies"": {
     ""@commitlint/cli"": ""^11.0.0"",
     ""@commitlint/config-conventional"": ""^9.1.2""
-  }
+  },
+  ""packageManager"": ""yarn@1.22.15""
 }",False,False,Data / Input Handling,3
chapter-three,next-drupal,b574e3077ee90d742b9ec49713597bb4b8d8005e,shadcn,arshad@chummun.com,2022-01-31T13:13:46Z,shadcn,arshad@chummun.com,2022-01-31T13:13:46Z,fix(example-marketing): add next-transpile-modules,examples/example-marketing/next.config.js;examples/example-marketing/package.json;yarn.lock,False,False,False,False,26,2,28,"---FILE: examples/example-marketing/next.config.js---
@@ -1,4 +1,6 @@
-module.exports = {
+const withTM = require(""next-transpile-modules"")([""next-drupal""])
+
+module.exports = withTM({
   swcMinify: true,
   i18n: {
     locales: [""en"", ""es""],
@@ -25,4 +27,4 @@ module.exports = {
       },
     ]
   },
-}
+})

---FILE: examples/example-marketing/package.json---
@@ -32,6 +32,7 @@
     ""@types/react"": ""^17.0.0"",
     ""autoprefixer"": ""^10.4.0"",
     ""eslint-config-next"": ""^11.0.0"",
+    ""next-transpile-modules"": ""^9.0.0"",
     ""postcss"": ""^8.3.11"",
     ""tailwindcss"": ""^2.2.19"",
     ""typescript"": ""^4.5.5""

---FILE: yarn.lock---
@@ -6457,6 +6457,14 @@ end-of-stream@^1.0.0, end-of-stream@^1.1.0, end-of-stream@^1.4.1:
   dependencies:
     once ""^1.4.0""
 
+enhanced-resolve@^5.7.0:
+  version ""5.8.3""
+  resolved ""https://registry.yarnpkg.com/enhanced-resolve/-/enhanced-resolve-5.8.3.tgz#6d552d465cce0423f5b3d718511ea53826a7b2f0""
+  integrity sha512-EGAbGvH7j7Xt2nc0E7D99La1OiEs8LnyimkRgwExpUMScN6O+3x9tIWs7PLQZVNx4YD+00skHXPXi1yQHpAmZA==
+  dependencies:
+    graceful-fs ""^4.2.4""
+    tapable ""^2.2.0""
+
 enquirer@^2.3.5, enquirer@^2.3.6:
   version ""2.3.6""
   resolved ""https://registry.yarnpkg.com/enquirer/-/enquirer-2.3.6.tgz#2a7fe5dd634a1e4125a975ec994ff5456dc3734d""
@@ -11040,6 +11048,14 @@ next-seo@^4.23.0:
   resolved ""https://registry.yarnpkg.com/next-seo/-/next-seo-4.28.1.tgz#c98ee559c8ab7196c62d0f6903afd7a8cde47a03""
   integrity sha512-WZgwdM+UhpNF3A37zFllzmPhnOVJ9vYeYlc0n3Z/kYfz/QQgy8NEdncNNggS9dU4JD8xriaCcyknhy5OsrFsJw==
 
+next-transpile-modules@^9.0.0:
+  version ""9.0.0""
+  resolved ""https://registry.yarnpkg.com/next-transpile-modules/-/next-transpile-modules-9.0.0.tgz#133b1742af082e61cc76b02a0f12ffd40ce2bf90""
+  integrity sha512-VCNFOazIAnXn1hvgYYSTYMnoWgKgwlYh4lm1pKbSfiB3kj5ZYLcKVhfh3jkPOg1cnd9DP+pte9yCUocdPEUBTQ==
+  dependencies:
+    enhanced-resolve ""^5.7.0""
+    escalade ""^3.1.1""
+
 next@^11.0.0:
   version ""11.1.2""
   resolved ""https://registry.yarnpkg.com/next/-/next-11.1.2.tgz#527475787a9a362f1bc916962b0c0655cc05bc91""
@@ -15092,6 +15108,11 @@ tailwindcss@^3.0.15:
     quick-lru ""^5.1.1""
     resolve ""^1.21.0""
 
+tapable@^2.2.0:
+  version ""2.2.1""
+  resolved ""https://registry.yarnpkg.com/tapable/-/tapable-2.2.1.tgz#1967a73ef4060a82f12ab96af86d52fdb76eeca0""
+  integrity sha512-GNzQvQTOIP6RyTfE2Qxb8ZVlNmw0n88vp1szwWRimP02mnTsx3Wtn5qRdqY9w2XduFNUgvOwhNnQsjwCp+kqaQ==
+
 tar-fs@^2.0.0, tar-fs@^2.1.1:
   version ""2.1.1""
   resolved ""https://registry.yarnpkg.com/tar-fs/-/tar-fs-2.1.1.tgz#489a15ab85f1f0befabb370b7de4f9eb5cbe8784""",False,False,Data / Input Handling,3
chapter-three,next-drupal,8903fc9e79d29c0e4a87acd7357229c5fe1bc61b,shadcn,arshad@chummun.com,2022-01-31T13:04:36Z,shadcn,arshad@chummun.com,2022-01-31T13:04:36Z,fix(example-marketing): use local version for next-drupal,examples/example-marketing/package.json,False,False,False,False,1,1,2,"---FILE: examples/example-marketing/package.json---
@@ -19,7 +19,7 @@
     ""drupal-jsonapi-params"": ""^1.2.2"",
     ""html-react-parser"": ""^1.2.7"",
     ""next"": ""^12.0.8"",
-    ""next-drupal"": ""^1.1.1"",
+    ""next-drupal"": ""*"",
     ""nprogress"": ""^0.2.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,36b58e82425af10fcdc07e0cec829383f90b4c0f,shadcn,arshad@chummun.com,2022-01-31T12:58:17Z,shadcn,arshad@chummun.com,2022-01-31T12:58:17Z,fix(example-webform): update packages,examples/example-webform/package.json;examples/example-webform/pages/client-side.tsx;examples/example-webform/pages/server-side.tsx;yarn.lock,False,False,False,False,9,4,13,"---FILE: examples/example-webform/package.json---
@@ -21,7 +21,7 @@
     ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
-    ""react-hook-form"": ""^7.19.5"",
+    ""react-hook-form"": ""^7.25.3"",
     ""yup"": ""^0.32.11""
   },
   ""devDependencies"": {

---FILE: examples/example-webform/pages/client-side.tsx---
@@ -5,7 +5,7 @@ import Link from ""next/link""
 import { getResourceCollection, DrupalTaxonomyTerm } from ""next-drupal""
 import { useForm } from ""react-hook-form""
 import * as yup from ""yup""
-import { yupResolver } from ""@hookform/resolvers/yup/dist/yup""
+import { yupResolver } from ""@hookform/resolvers/yup""
 import { contactFormSchema } from ""../validations/contact""
 
 type FormData = yup.TypeOf<typeof contactFormSchema>

---FILE: examples/example-webform/pages/server-side.tsx---
@@ -5,7 +5,7 @@ import Link from ""next/link""
 import { getResourceCollection, DrupalTaxonomyTerm } from ""next-drupal""
 import { useForm } from ""react-hook-form""
 import * as yup from ""yup""
-import { yupResolver } from ""@hookform/resolvers/yup/dist/yup""
+import { yupResolver } from ""@hookform/resolvers/yup""
 
 import { contactFormSchema } from ""../validations/contact""
 

---FILE: yarn.lock---
@@ -13160,7 +13160,12 @@ react-dom@^17.0.2:
     object-assign ""^4.1.1""
     scheduler ""^0.20.2""
 
-react-hook-form@^7.19.5, react-hook-form@^7.8.6:
+react-hook-form@^7.25.3:
+  version ""7.25.3""
+  resolved ""https://registry.yarnpkg.com/react-hook-form/-/react-hook-form-7.25.3.tgz#1475fd52398e905e1f6d88835f96aaa1144635c3""
+  integrity sha512-jL4SByMaC8U3Vhu9s7CwgJBP4M6I3Kpwxib9LrCwWSRPnXDrNQL4uihSTqLLoDICqSUhwwvian9uVYfv+ITtGg==
+
+react-hook-form@^7.8.6:
   version ""7.20.4""
   resolved ""https://registry.yarnpkg.com/react-hook-form/-/react-hook-form-7.20.4.tgz#7c23dcaed54812fba9ac63be0313b7c5d11d2b93""
   integrity sha512-Nvy6TnNMlBoR+qS8FpA8lrqtGJ4uoi/MRYEgMEdBMY0HwHVuC7wB1sk6wTjg7FjOUt7QqMAP2W/vOhTWbKrtkQ==",False,False,Data / Input Handling,3
chapter-three,next-drupal,630fc24e126560f1dccc6f495079e895fa4f70ca,shadcn,arshad@chummun.com,2022-01-31T12:49:16Z,shadcn,arshad@chummun.com,2022-01-31T12:49:16Z,fix(example-marketing): remove tailwind forms,examples/example-marketing/tailwind.config.js,False,False,False,False,1,1,2,"---FILE: examples/example-marketing/tailwind.config.js---
@@ -7,5 +7,5 @@ module.exports = {
   variants: {
     extend: {},
   },
-  plugins: [require(""@tailwindcss/forms""), require(""@tailwindcss/typography"")],
+  plugins: [require(""@tailwindcss/typography"")],
 }",False,False,Documentation / Formatting,3
chapter-three,next-drupal,0e05896f06a6a48bf82db4830c085e6f9c5e7b84,shadcn,arshad@chummun.com,2022-01-31T12:49:07Z,shadcn,arshad@chummun.com,2022-01-31T12:49:07Z,fix: update gitignore,examples/example-auth/.gitignore;examples/example-blog/.gitignore;examples/example-marketing/.gitignore;examples/example-no-preview/.gitignore;examples/example-search-api/.gitignore;examples/example-webform/.gitignore,False,False,False,False,24,6,30,"---FILE: examples/example-auth/.gitignore---
@@ -35,4 +35,7 @@ lerna-debug.log*
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+/certificates/*
+
+cypress/screenshots
+cypress/videos
\ No newline at end of file

---FILE: examples/example-blog/.gitignore---
@@ -35,4 +35,7 @@ lerna-debug.log*
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+/certificates/*
+
+cypress/screenshots
+cypress/videos
\ No newline at end of file

---FILE: examples/example-marketing/.gitignore---
@@ -35,4 +35,7 @@ lerna-debug.log*
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+/certificates/*
+
+cypress/screenshots
+cypress/videos
\ No newline at end of file

---FILE: examples/example-no-preview/.gitignore---
@@ -35,4 +35,7 @@ lerna-debug.log*
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+/certificates/*
+
+cypress/screenshots
+cypress/videos
\ No newline at end of file

---FILE: examples/example-search-api/.gitignore---
@@ -35,4 +35,7 @@ lerna-debug.log*
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+/certificates/*
+
+cypress/screenshots
+cypress/videos
\ No newline at end of file

---FILE: examples/example-webform/.gitignore---
@@ -35,4 +35,7 @@ lerna-debug.log*
 # vercel
 .vercel
 
-/certificates/*
\ No newline at end of file
+/certificates/*
+
+cypress/screenshots
+cypress/videos
\ No newline at end of file",False,False,Environment / Configuration,3
chapter-three,next-drupal,514ab06bbbd061ab24baac9d4dd215d7c10b1f89,shadcn,arshad@chummun.com,2022-01-31T06:39:55Z,shadcn,arshad@chummun.com,2022-01-31T06:39:55Z,fix(next): handle node entities in revision routes,modules/next/src/NextEntityTypeManager.php,False,False,False,False,7,1,8,"---FILE: modules/next/src/NextEntityTypeManager.php---
@@ -7,6 +7,7 @@
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Routing\RouteMatchInterface;
 use Drupal\next\Entity\NextEntityTypeConfigInterface;
+use Drupal\node\NodeInterface;
 
 /**
  * Defines the next entity type manager service.
@@ -66,7 +67,12 @@ public function getEntityFromRouteMatch(RouteMatchInterface $route_match): ?Enti
     // TODO: Handle all revisionable entity types.
     $revision_routes = ['entity.node.revision', 'entity.node.latest_version'];
     if (in_array($route_match->getRouteName(), $revision_routes) && in_array('node', $entity_types_ids)) {
-      return $this->entityTypeManager->getStorage('node')->loadRevision($route_match->getParameter('node_revision'));
+      $node_revision = $route_match->getParameter('node_revision');
+      if ($node_revision instanceof NodeInterface) {
+        return $node_revision;
+      }
+
+      return $this->entityTypeManager->getStorage('node')->loadRevision($node_revision);
     }
 
     foreach ($route_match->getParameters() as $parameter) {",False,False,Rendering / Conversion,0
chapter-three,next-drupal,3eda8755dbf2c904e9253bff7df67a9992bbdc12,shadcn,arshad@chummun.com,2022-01-19T06:57:11Z,shadcn,arshad@chummun.com,2022-01-19T06:57:11Z,fix(basic-starter): update typescript,starters/basic-starter/package.json,False,False,False,False,2,3,5,"---FILE: starters/basic-starter/package.json---
@@ -12,8 +12,7 @@
     ""next"": ""^12.0.7"",
     ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",
-    ""react-dom"": ""^17.0.2"",
-    ""typescript"": ""^4.5.4""
+    ""react-dom"": ""^17.0.2""
   },
   ""devDependencies"": {
     ""@babel/core"": ""^7.14.0"",
@@ -24,6 +23,6 @@
     ""eslint-config-next"": ""^11.0.0"",
     ""postcss"": ""^8.4.5"",
     ""tailwindcss"": ""^3.0.15"",
-    ""typescript"": ""^4.3.5""
+    ""typescript"": ""^4.5.4""
   }
 }",False,False,Data / Input Handling,3
chapter-three,next-drupal,53042fc18aff32b011b57df87eab0ccdd417c66c,shadcn,arshad@chummun.com,2022-01-19T06:32:39Z,shadcn,arshad@chummun.com,2022-01-19T06:32:39Z,fix: update typescript,package.json;yarn.lock,False,False,False,False,11,1,12,"---FILE: package.json---
@@ -73,7 +73,7 @@
     ""prettier"": ""^2.0.4"",
     ""pretty-quick"": ""^2.0.1"",
     ""start-server-and-test"": ""^1.14.0"",
-    ""typescript"": ""^4.0.5"",
+    ""typescript"": ""^4.5.4"",
     ""uuid"": ""^8.3.2"",
     ""yaml"": ""^1.10.2""
   },

---FILE: yarn.lock---
@@ -3078,6 +3078,16 @@
     lodash.merge ""^4.6.2""
     lodash.uniq ""^4.5.0""
 
+""@tailwindcss/typography@^0.5.0"":
+  version ""0.5.0""
+  resolved ""https://registry.yarnpkg.com/@tailwindcss/typography/-/typography-0.5.0.tgz#47886ec46ac41e1211d24fea05301046d9b30906""
+  integrity sha512-1p/3C6C+JJziS/ghtG8ACYalbA2SyLJY27Pm33cVTlAoY6VQ7zfm2H64cPxUMBkVIlWXTtWHhZcZJPobMRmQAA==
+  dependencies:
+    lodash.castarray ""^4.4.0""
+    lodash.isplainobject ""^4.0.6""
+    lodash.merge ""^4.6.2""
+    lodash.uniq ""^4.5.0""
+
 ""@testing-library/cypress@^7.0.0"":
   version ""7.0.7""
   resolved ""https://registry.yarnpkg.com/@testing-library/cypress/-/cypress-7.0.7.tgz#b3e8696e707bcaa1664f5f9452f96f87cb90f438""",False,False,Documentation / Formatting,3
chapter-three,next-drupal,aa70f4ee6287e7fcc6ce1352114a4ef24474e404,shadcn,arshad@chummun.com,2022-01-19T06:32:29Z,shadcn,arshad@chummun.com,2022-01-19T06:32:29Z,fix(basic-starter): update @tailwindcss/typography,starters/basic-starter/package.json,False,False,False,False,1,1,2,"---FILE: starters/basic-starter/package.json---
@@ -8,7 +8,7 @@
     ""preview"": ""next build && next start""
   },
   ""dependencies"": {
-    ""@tailwindcss/typography"": ""^0.4.1"",
+    ""@tailwindcss/typography"": ""^0.5.0"",
     ""next"": ""^12.0.7"",
     ""next-drupal"": ""^1.1.1"",
     ""react"": ""^17.0.2"",",False,False,Documentation / Formatting,3
chapter-three,next-drupal,b1a6e907e22de61354b42b0126e5a084bd90f57b,shadcn,arshad@chummun.com,2022-01-19T06:29:09Z,shadcn,arshad@chummun.com,2022-01-19T06:29:09Z,fix(basic-starter): fix type for private in package.json,starters/basic-starter/package.json,False,False,False,False,1,1,2,"---FILE: starters/basic-starter/package.json---
@@ -1,7 +1,7 @@
 {
   ""name"": ""basic-starter"",
   ""version"": ""1.2.0"",
-  ""private"": ""true"",
+  ""private"": true,
   ""license"": ""MIT"",
   ""scripts"": {
     ""dev"": ""next dev"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,6223e7b16fa4960c707fbbf0ce593d849e706b48,shadcn,arshad@chummun.com,2022-01-17T06:28:03Z,shadcn,arshad@chummun.com,2022-01-17T06:28:03Z,fix(next-drupal): update peerDependencies,packages/next-drupal/package.json,False,False,False,False,1,1,2,"---FILE: packages/next-drupal/package.json---
@@ -32,7 +32,7 @@
     ""directory"": ""packages/next-drupal""
   },
   ""peerDependencies"": {
-    ""next"": ""^11.0.0"",
+    ""next"": ""^11.0.0 || ^12.0.0"",
     ""react"": ""^17.0.0"",
     ""react-dom"": ""^17.0.0""
   },",False,False,Data / Input Handling,3
chapter-three,next-drupal,25265f1d4101a677eb5b73d18a801545adb0494e,shadcn,arshad@chummun.com,2022-01-17T05:43:45Z,shadcn,arshad@chummun.com,2022-01-17T05:43:45Z,fix(next-drupal): add return type for translatePathFromContext,packages/next-drupal/src/translate-path.ts,False,False,False,False,1,1,2,"---FILE: packages/next-drupal/src/translate-path.ts---
@@ -31,7 +31,7 @@ export async function translatePathFromContext(
     accessToken?: AccessToken
     prefix?: string
   }
-) {
+): Promise<DrupalTranslatedPath> {
   options = {
     prefix: """",
     ...options,",False,False,Rendering / Conversion,0
chapter-three,next-drupal,eac97fb3d5caeb83ea4f5057b1391438cd292c6e,shadcn,arshad@chummun.com,2022-01-12T05:42:42Z,shadcn,arshad@chummun.com,2022-01-12T05:42:42Z,fix(next-drupal): use auth call for JSON:API index call with locale,packages/next-drupal/src/utils.ts,False,False,False,False,7,6,13,"---FILE: packages/next-drupal/src/utils.ts---
@@ -40,14 +40,15 @@ export async function getJsonApiIndex(
   )
 
   // As per https://www.drupal.org/node/2984034 /jsonapi is public.
-  // We only call buildHeaders if accessToken is explicitly set.
+  // We only call buildHeaders if accessToken or locale is explicitly set.
   // This is for rare cases where /jsonapi might be protected.
   const response = await fetch(url.toString(), {
-    headers: options
-      ? await buildHeaders(options)
-      : {
-          ""Content-Type"": ""application/json"",
-        },
+    headers:
+      locale || options
+        ? await buildHeaders(options)
+        : {
+            ""Content-Type"": ""application/json"",
+          },
   })
 
   if (!response.ok) {",False,False,Rendering / Conversion,0
chapter-three,next-drupal,951933647b6771aa8ca9b0722e2f5570f0629424,shadcn,arshad@chummun.com,2022-01-06T08:07:49Z,shadcn,arshad@chummun.com,2022-01-06T08:07:49Z,fix(drupal): update config,drupal/config/admin_toolbar_tools.settings.yml;drupal/config/automated_cron.settings.yml;drupal/config/block.block.claro_breadcrumbs.yml;drupal/config/block.block.claro_content.yml;drupal/config/block.block.claro_local_actions.yml;drupal/config/block.block.claro_messages.yml;drupal/config/block.block.claro_page_title.yml;drupal/config/block.block.claro_primary_local_tasks.yml;drupal/config/block.block.claro_secondary_local_tasks.yml;drupal/config/block.block.gin_breadcrumbs.yml;drupal/config/block.block.gin_content.yml;drupal/config/block.block.gin_local_actions.yml;drupal/config/block.block.gin_messages.yml;drupal/config/block.block.gin_page_title.yml;drupal/config/block.block.gin_primary_local_tasks.yml;drupal/config/block.block.gin_secondary_local_tasks.yml;drupal/config/core.base_field_override.consumer.consumer.image.yml;drupal/config/core.base_field_override.media.audio.thumbnail.yml;drupal/config/core.base_field_override.media.document.thumbnail.yml;drupal/config/core.base_field_override.media.image.thumbnail.yml;drupal/config/core.base_field_override.media.remote_video.thumbnail.yml;drupal/config/core.base_field_override.media.video.thumbnail.yml;drupal/config/core.entity_form_display.media.audio.default.yml;drupal/config/core.entity_form_display.media.document.default.yml;drupal/config/core.entity_form_display.media.image.default.yml;drupal/config/core.entity_form_display.media.remote_video.default.yml;drupal/config/core.entity_form_display.media.video.default.yml;drupal/config/core.entity_form_display.node.article.default.yml;drupal/config/core.entity_form_display.node.landing_page.default.yml;drupal/config/core.entity_form_display.node.page.default.yml;drupal/config/core.entity_form_display.node.property_listing.default.yml;drupal/config/core.entity_form_display.paragraph.card.default.yml;drupal/config/core.entity_form_display.paragraph.cards.default.yml;drupal/config/core.entity_form_display.paragraph.collapsible.default.yml;drupal/config/core.entity_form_display.paragraph.faq.default.yml;drupal/config/core.entity_form_display.paragraph.feature.default.yml;drupal/config/core.entity_form_display.paragraph.from_library.default.yml;drupal/config/core.entity_form_display.paragraph.hero.default.yml;drupal/config/core.entity_form_display.paragraph.view.default.yml;drupal/config/core.entity_form_display.user.user.default.yml;drupal/config/core.entity_form_mode.media.media_library.yml;drupal/config/core.entity_view_display.block_content.basic.default.yml;drupal/config/core.entity_view_display.media.audio.default.yml;drupal/config/core.entity_view_display.media.audio.media_library.yml;drupal/config/core.entity_view_display.media.document.default.yml;drupal/config/core.entity_view_display.media.document.media_library.yml;drupal/config/core.entity_view_display.media.image.default.yml;drupal/config/core.entity_view_display.media.image.media_library.yml;drupal/config/core.entity_view_display.media.remote_video.default.yml;drupal/config/core.entity_view_display.media.remote_video.media_library.yml;drupal/config/core.entity_view_display.media.video.default.yml;drupal/config/core.entity_view_display.media.video.media_library.yml;drupal/config/core.entity_view_display.node.article.default.yml;drupal/config/core.entity_view_display.node.article.teaser.yml;drupal/config/core.entity_view_display.node.landing_page.default.yml;drupal/config/core.entity_view_display.node.landing_page.teaser.yml;drupal/config/core.entity_view_display.node.page.default.yml;drupal/config/core.entity_view_display.node.page.teaser.yml;drupal/config/core.entity_view_display.node.property_listing.default.yml;drupal/config/core.entity_view_display.node.property_listing.teaser.yml;drupal/config/core.entity_view_display.paragraph.card.default.yml;drupal/config/core.entity_view_display.paragraph.cards.default.yml;drupal/config/core.entity_view_display.paragraph.collapsible.default.yml;drupal/config/core.entity_view_display.paragraph.faq.default.yml;drupal/config/core.entity_view_display.paragraph.feature.default.yml;drupal/config/core.entity_view_display.paragraph.from_library.default.yml;drupal/config/core.entity_view_display.paragraph.hero.default.yml;drupal/config/core.entity_view_display.paragraph.view.default.yml;drupal/config/core.entity_view_display.paragraphs_library_item.paragraphs_library_item.summary.yml;drupal/config/core.entity_view_display.user.user.compact.yml;drupal/config/core.entity_view_display.user.user.default.yml;drupal/config/core.entity_view_mode.media.media_library.yml;drupal/config/core.extension.yml;drupal/config/core.menu.static_menu_link_overrides.yml;drupal/config/dblog.settings.yml;drupal/config/entity_usage.settings.yml;drupal/config/facets.facet.location.yml;drupal/config/facets.facet.status.yml;drupal/config/field.field.media.audio.field_media_audio_file.yml;drupal/config/field.field.media.document.field_media_document.yml;drupal/config/field.field.media.image.field_media_image.yml;drupal/config/field.field.media.video.field_media_video_file.yml;drupal/config/field.field.node.article.field_image.yml;drupal/config/field.field.node.landing_page.field_sections.yml;drupal/config/field.field.paragraph.cards.field_items.yml;drupal/config/field.field.paragraph.faq.field_items.yml;drupal/config/field.field.paragraph.feature.field_link.yml;drupal/config/field.field.user.user.user_picture.yml;drupal/config/field.settings.yml;drupal/config/field.storage.media.field_media_document.yml;drupal/config/field.storage.media.field_media_image.yml;drupal/config/field.storage.media.field_media_oembed_video.yml;drupal/config/field.storage.node.field_image.yml;drupal/config/field.storage.node.field_price.yml;drupal/config/field.storage.node.field_size.yml;drupal/config/field.storage.node.field_teaser.yml;drupal/config/field.storage.paragraph.field_heading.yml;drupal/config/field.storage.user.field_name.yml;drupal/config/field.storage.user.user_picture.yml;drupal/config/field_ui.settings.yml;drupal/config/file.settings.yml;drupal/config/filter.format.full_html.yml;drupal/config/filter.settings.yml;drupal/config/gin.settings.yml;drupal/config/gin_login.settings.yml;drupal/config/hal.settings.yml;drupal/config/image.settings.yml;drupal/config/jsonapi.settings.yml;drupal/config/jsonapi_extras.settings.yml;drupal/config/language.mappings.yml;drupal/config/language.negotiation.yml;drupal/config/language.types.yml;drupal/config/media.settings.yml;drupal/config/media.type.remote_video.yml;drupal/config/media_library.settings.yml;drupal/config/menu_ui.settings.yml;drupal/config/next.next_site.example_blog.yml;drupal/config/next.next_site.example_marketing.yml;drupal/config/next.settings.yml;drupal/config/node.settings.yml;drupal/config/paragraphs.settings.yml;drupal/config/pathauto.pattern.article.yml;drupal/config/pathauto.pattern.basic_page.yml;drupal/config/pathauto.pattern.landing_page.yml;drupal/config/pathauto.pattern.property_listing.yml;drupal/config/pathauto.pattern.property_location.yml;drupal/config/pathauto.settings.yml;drupal/config/require_login.config.yml;drupal/config/search_api.index.article.yml;drupal/config/search_api.index.property.yml;drupal/config/search_api.settings.yml;drupal/config/search_api_db.settings.yml;drupal/config/simple_oauth.settings.yml;drupal/config/system.action.pathauto_update_alias_node.yml;drupal/config/system.action.pathauto_update_alias_user.yml;drupal/config/system.advisories.yml;drupal/config/system.authorize.yml;drupal/config/system.cron.yml;drupal/config/system.date.yml;drupal/config/system.diff.yml;drupal/config/system.file.yml;drupal/config/system.image.gd.yml;drupal/config/system.image.yml;drupal/config/system.logging.yml;drupal/config/system.mail.yml;drupal/config/system.maintenance.yml;drupal/config/system.performance.yml;drupal/config/system.rss.yml;drupal/config/system.site.yml;drupal/config/system.theme.global.yml;drupal/config/system.theme.yml;drupal/config/taxonomy.settings.yml;drupal/config/text.settings.yml;drupal/config/update.settings.yml;drupal/config/user.flood.yml;drupal/config/user.mail.yml;drupal/config/user.role.anonymous.yml;drupal/config/user.role.authenticated.yml;drupal/config/user.role.next_site_previewer.yml;drupal/config/user.settings.yml;drupal/config/views.settings.yml;drupal/config/views.view.archive.yml;drupal/config/views.view.block_content.yml;drupal/config/views.view.content.yml;drupal/config/views.view.content_recent.yml;drupal/config/views.view.files.yml;drupal/config/views.view.frontpage.yml;drupal/config/views.view.glossary.yml;drupal/config/views.view.media.yml;drupal/config/views.view.media_library.yml;drupal/config/views.view.paragraphs_library.yml;drupal/config/views.view.properties.yml;drupal/config/views.view.search.yml;drupal/config/views.view.taxonomy_term.yml;drupal/config/views.view.user_admin_people.yml;drupal/config/views.view.watchdog.yml;drupal/config/views.view.webform_submissions.yml;drupal/config/views.view.who_s_new.yml;drupal/config/views.view.who_s_online.yml;drupal/config/webform.settings.yml;drupal/config/webform.webform.contact.yml,False,False,False,False,3937,3908,7845,"---FILE: drupal/config/admin_toolbar_tools.settings.yml---
@@ -1,4 +1,4 @@
-max_bundle_number: 20
 _core:
   default_config_hash: RxwZoWRF61FrREs7iffK1ziY2IuKkEci1uWvcznnXwA
+max_bundle_number: 20
 hoverintent_functionality: false

---FILE: drupal/config/automated_cron.settings.yml---
@@ -1,3 +1,3 @@
-interval: 10800
 _core:
   default_config_hash: fUksROt4FfkAU9BV4hV2XvhTBSS2nTNrZS4U7S-tKrs
+interval: 10800

---FILE: drupal/config/block.block.claro_breadcrumbs.yml---
@@ -17,6 +17,6 @@ plugin: system_breadcrumb_block
 settings:
   id: system_breadcrumb_block
   label: Breadcrumbs
-  provider: system
   label_display: '0'
+  provider: system
 visibility: {  }

---FILE: drupal/config/block.block.claro_content.yml---
@@ -17,6 +17,6 @@ plugin: system_main_block
 settings:
   id: system_main_block
   label: 'Main page content'
-  provider: system
   label_display: '0'
+  provider: system
 visibility: {  }

---FILE: drupal/config/block.block.claro_local_actions.yml---
@@ -15,6 +15,6 @@ plugin: local_actions_block
 settings:
   id: local_actions_block
   label: 'Primary admin actions'
-  provider: core
   label_display: '0'
+  provider: core
 visibility: {  }

---FILE: drupal/config/block.block.claro_messages.yml---
@@ -17,6 +17,6 @@ plugin: system_messages_block
 settings:
   id: system_messages_block
   label: 'Status messages'
-  provider: system
   label_display: '0'
+  provider: system
 visibility: {  }

---FILE: drupal/config/block.block.claro_page_title.yml---
@@ -15,6 +15,6 @@ plugin: page_title_block
 settings:
   id: page_title_block
   label: 'Page title'
-  provider: core
   label_display: '0'
+  provider: core
 visibility: {  }

---FILE: drupal/config/block.block.claro_primary_local_tasks.yml---
@@ -15,8 +15,8 @@ plugin: local_tasks_block
 settings:
   id: local_tasks_block
   label: 'Primary tabs'
-  provider: core
   label_display: '0'
+  provider: core
   primary: true
   secondary: false
 visibility: {  }

---FILE: drupal/config/block.block.claro_secondary_local_tasks.yml---
@@ -15,8 +15,8 @@ plugin: local_tasks_block
 settings:
   id: local_tasks_block
   label: 'Secondary tabs'
-  provider: core
   label_display: '0'
+  provider: core
   primary: false
   secondary: true
 visibility: {  }

---FILE: drupal/config/block.block.gin_breadcrumbs.yml---
@@ -17,6 +17,6 @@ plugin: system_breadcrumb_block
 settings:
   id: system_breadcrumb_block
   label: Breadcrumbs
-  provider: system
   label_display: '0'
+  provider: system
 visibility: {  }

---FILE: drupal/config/block.block.gin_content.yml---
@@ -17,6 +17,6 @@ plugin: system_main_block
 settings:
   id: system_main_block
   label: 'Main page content'
-  provider: system
   label_display: '0'
+  provider: system
 visibility: {  }

---FILE: drupal/config/block.block.gin_local_actions.yml---
@@ -15,6 +15,6 @@ plugin: local_actions_block
 settings:
   id: local_actions_block
   label: 'Primary admin actions'
-  provider: core
   label_display: '0'
+  provider: core
 visibility: {  }

---FILE: drupal/config/block.block.gin_messages.yml---
@@ -17,6 +17,6 @@ plugin: system_messages_block
 settings:
   id: system_messages_block
   label: 'Status messages'
-  provider: system
   label_display: '0'
+  provider: system
 visibility: {  }

---FILE: drupal/config/block.block.gin_page_title.yml---
@@ -15,6 +15,6 @@ plugin: page_title_block
 settings:
   id: page_title_block
   label: 'Page title'
-  provider: core
   label_display: '0'
+  provider: core
 visibility: {  }

---FILE: drupal/config/block.block.gin_primary_local_tasks.yml---
@@ -15,8 +15,8 @@ plugin: local_tasks_block
 settings:
   id: local_tasks_block
   label: 'Primary tabs'
-  provider: core
   label_display: '0'
+  provider: core
   primary: true
   secondary: false
 visibility: {  }

---FILE: drupal/config/block.block.gin_secondary_local_tasks.yml---
@@ -15,8 +15,8 @@ plugin: local_tasks_block
 settings:
   id: local_tasks_block
   label: 'Secondary tabs'
-  provider: core
   label_display: '0'
+  provider: core
   primary: false
   secondary: true
 visibility: {  }

---FILE: drupal/config/core.base_field_override.consumer.consumer.image.yml---
@@ -16,21 +16,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: default
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  max_filesize: ''
-  handler: default
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/core.base_field_override.media.audio.thumbnail.yml---
@@ -17,21 +17,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: default
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  max_filesize: ''
-  handler: default
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/core.base_field_override.media.document.thumbnail.yml---
@@ -17,21 +17,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: default
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  max_filesize: ''
-  handler: default
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/core.base_field_override.media.image.thumbnail.yml---
@@ -17,21 +17,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: default
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  max_filesize: ''
-  handler: default
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/core.base_field_override.media.remote_video.thumbnail.yml---
@@ -17,21 +17,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: default
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  max_filesize: ''
-  handler: default
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/core.base_field_override.media.video.thumbnail.yml---
@@ -17,21 +17,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: default
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  max_filesize: ''
-  handler: default
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/core.entity_form_display.media.audio.default.yml---
@@ -22,12 +22,12 @@ content:
     settings: {  }
     third_party_settings: {  }
   field_media_audio_file:
+    type: file_generic
     weight: 0
+    region: content
     settings:
       progress_indicator: throbber
     third_party_settings: {  }
-    type: file_generic
-    region: content
   langcode:
     type: language_select
     weight: 2
@@ -43,20 +43,20 @@ content:
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 100
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   uid:
     type: entity_reference_autocomplete
     weight: 5
+    region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
-    region: content
     third_party_settings: {  }
 hidden:
   name: true

---FILE: drupal/config/core.entity_form_display.media.document.default.yml---
@@ -22,12 +22,12 @@ content:
     settings: {  }
     third_party_settings: {  }
   field_media_document:
-    settings:
-      progress_indicator: throbber
-    third_party_settings: {  }
     type: file_generic
     weight: 0
     region: content
+    settings:
+      progress_indicator: throbber
+    third_party_settings: {  }
   langcode:
     type: language_select
     weight: 2
@@ -43,20 +43,20 @@ content:
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 100
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   uid:
     type: entity_reference_autocomplete
     weight: 5
+    region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
-    region: content
     third_party_settings: {  }
 hidden:
   name: true

---FILE: drupal/config/core.entity_form_display.media.image.default.yml---
@@ -23,13 +23,13 @@ content:
     settings: {  }
     third_party_settings: {  }
   field_media_image:
+    type: image_image
+    weight: 0
+    region: content
     settings:
       progress_indicator: throbber
       preview_image_style: thumbnail
     third_party_settings: {  }
-    type: image_image
-    weight: 0
-    region: content
   langcode:
     type: language_select
     weight: 2
@@ -45,20 +45,20 @@ content:
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 100
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   uid:
     type: entity_reference_autocomplete
     weight: 5
+    region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
-    region: content
     third_party_settings: {  }
 hidden:
   name: true

---FILE: drupal/config/core.entity_form_display.media.remote_video.default.yml---
@@ -24,11 +24,11 @@ content:
   field_media_oembed_video:
     type: oembed_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    region: content
   langcode:
     type: language_select
     weight: 2
@@ -44,20 +44,20 @@ content:
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 100
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   uid:
     type: entity_reference_autocomplete
     weight: 5
+    region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
-    region: content
     third_party_settings: {  }
 hidden:
   name: true

---FILE: drupal/config/core.entity_form_display.media.video.default.yml---
@@ -22,12 +22,12 @@ content:
     settings: {  }
     third_party_settings: {  }
   field_media_video_file:
+    type: file_generic
     weight: 0
+    region: content
     settings:
       progress_indicator: throbber
     third_party_settings: {  }
-    type: file_generic
-    region: content
   langcode:
     type: language_select
     weight: 2
@@ -43,20 +43,20 @@ content:
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 100
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   uid:
     type: entity_reference_autocomplete
     weight: 5
+    region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
-    region: content
     third_party_settings: {  }
 hidden:
   name: true

---FILE: drupal/config/core.entity_form_display.node.article.default.yml---
@@ -45,11 +45,11 @@ content:
       preview_image_style: thumbnail
     third_party_settings: {  }
   field_site:
+    type: options_buttons
     weight: 1
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_buttons
-    region: content
   field_tags:
     type: entity_reference_autocomplete_tags
     weight: 3
@@ -75,24 +75,24 @@ content:
     third_party_settings: {  }
   promote:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 7
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 11
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   sticky:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 8
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   title:
     type: string_textfield

---FILE: drupal/config/core.entity_form_display.node.landing_page.default.yml---
@@ -22,6 +22,7 @@ content:
   field_sections:
     type: paragraphs
     weight: 1
+    region: content
     settings:
       title: Section
       title_plural: Sections
@@ -37,7 +38,6 @@ content:
         collapse_edit_all: '0'
         duplicate: '0'
     third_party_settings: {  }
-    region: content
   langcode:
     type: language_select
     weight: 2
@@ -53,24 +53,24 @@ content:
     third_party_settings: {  }
   promote:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 4
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 7
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   sticky:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 5
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   title:
     type: string_textfield
@@ -83,11 +83,11 @@ content:
   uid:
     type: entity_reference_autocomplete
     weight: 2
+    region: content
     settings:
       match_operator: CONTAINS
+      match_limit: 10
       size: 60
       placeholder: ''
-      match_limit: 10
-    region: content
     third_party_settings: {  }
 hidden: {  }

---FILE: drupal/config/core.entity_form_display.node.page.default.yml---
@@ -46,24 +46,24 @@ content:
     third_party_settings: {  }
   promote:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 5
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 10
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   sticky:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 6
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   title:
     type: string_textfield

---FILE: drupal/config/core.entity_form_display.node.property_listing.default.yml---
@@ -26,31 +26,31 @@ third_party_settings:
         - field_size
         - field_beds
         - field_baths
+      label: Details
+      region: content
       parent_name: ''
       weight: 5
       format_type: fieldset
-      region: content
       format_settings:
-        id: ''
         classes: ''
+        id: ''
         description: ''
         required_fields: true
-      label: Details
     group_language:
       children:
         - langcode
+      label: Language
+      region: content
       parent_name: ''
       weight: 6
       format_type: details_sidebar
-      region: content
       format_settings:
-        description: ''
+        classes: ''
+        id: ''
         open: true
-        weight: -10
+        description: ''
         required_fields: true
-        id: ''
-        classes: ''
-      label: Language
+        weight: -10
 id: node.property_listing.default
 targetEntityType: node
 bundle: property_listing
@@ -59,76 +59,76 @@ content:
   body:
     type: text_textarea_with_summary
     weight: 4
+    region: content
     settings:
       rows: 9
       summary_rows: 3
       placeholder: ''
       show_summary: false
     third_party_settings: {  }
-    region: content
   created:
     type: datetime_timestamp
     weight: 9
     region: content
     settings: {  }
     third_party_settings: {  }
   field_baths:
+    type: number
     weight: 7
+    region: content
     settings:
       placeholder: ''
     third_party_settings: {  }
-    type: number
-    region: content
   field_beds:
+    type: number
     weight: 6
+    region: content
     settings:
       placeholder: ''
     third_party_settings: {  }
-    type: number
-    region: content
   field_images:
     type: media_library_widget
     weight: 7
+    region: content
     settings:
       media_types: {  }
     third_party_settings: {  }
-    region: content
   field_location:
+    type: options_select
     weight: 2
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_select
-    region: content
   field_price:
+    type: string_textfield
     weight: 4
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_size:
+    type: string_textfield
     weight: 5
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_status:
+    type: options_select
     weight: 1
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_select
-    region: content
   field_teaser:
+    type: string_textfield
     weight: 3
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   langcode:
     type: language_select
     weight: 1
@@ -144,24 +144,24 @@ content:
     third_party_settings: {  }
   promote:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 11
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   status:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 14
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   sticky:
     type: boolean_checkbox
-    settings:
-      display_label: true
     weight: 12
     region: content
+    settings:
+      display_label: true
     third_party_settings: {  }
   title:
     type: string_textfield
@@ -179,11 +179,11 @@ content:
   uid:
     type: entity_reference_autocomplete
     weight: 8
+    region: content
     settings:
       match_operator: CONTAINS
+      match_limit: 10
       size: 60
       placeholder: ''
-      match_limit: 10
-    region: content
     third_party_settings: {  }
 hidden: {  }

---FILE: drupal/config/core.entity_form_display.paragraph.card.default.yml---
@@ -14,21 +14,21 @@ bundle: card
 mode: default
 content:
   field_heading:
+    type: string_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_text:
+    type: text_textarea
     weight: 1
+    region: content
     settings:
       rows: 5
       placeholder: ''
     third_party_settings: {  }
-    type: text_textarea
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.cards.default.yml---
@@ -17,22 +17,23 @@ bundle: cards
 mode: default
 content:
   field_background_color:
+    type: options_select
     weight: 3
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_select
-    region: content
   field_heading:
+    type: string_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_items:
     type: paragraphs
     weight: 2
+    region: content
     settings:
       title: Card
       title_plural: Cards
@@ -48,15 +49,14 @@ content:
         collapse_edit_all: collapse_edit_all
         duplicate: duplicate
     third_party_settings: {  }
-    region: content
   field_text:
+    type: text_textarea
     weight: 1
+    region: content
     settings:
       rows: 5
       placeholder: ''
     third_party_settings: {  }
-    type: text_textarea
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.collapsible.default.yml---
@@ -14,21 +14,21 @@ bundle: collapsible
 mode: default
 content:
   field_heading:
+    type: string_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_text:
+    type: text_textarea
     weight: 1
+    region: content
     settings:
       rows: 5
       placeholder: ''
     third_party_settings: {  }
-    type: text_textarea
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.faq.default.yml---
@@ -16,15 +16,17 @@ bundle: faq
 mode: default
 content:
   field_heading:
+    type: string_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_items:
+    type: entity_reference_paragraphs
     weight: 2
+    region: content
     settings:
       title: Question
       title_plural: Questions
@@ -33,16 +35,14 @@ content:
       form_display_mode: default
       default_paragraph_type: _none
     third_party_settings: {  }
-    type: entity_reference_paragraphs
-    region: content
   field_text:
+    type: text_textarea
     weight: 1
+    region: content
     settings:
       rows: 5
       placeholder: ''
     third_party_settings: {  }
-    type: text_textarea
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.feature.default.yml---
@@ -20,48 +20,48 @@ bundle: feature
 mode: default
 content:
   field_background_color:
+    type: options_select
     weight: 0
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_select
-    region: content
   field_heading:
+    type: string_textfield
     weight: 1
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_link:
+    type: link_default
     weight: 5
+    region: content
     settings:
       placeholder_url: ''
       placeholder_title: ''
     third_party_settings: {  }
-    type: link_default
-    region: content
   field_media:
+    type: media_library_widget
     weight: 2
+    region: content
     settings:
       media_types: {  }
     third_party_settings: {  }
-    type: media_library_widget
-    region: content
   field_media_position:
+    type: options_select
     weight: 3
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_select
-    region: content
   field_text:
+    type: text_textarea
     weight: 4
+    region: content
     settings:
       rows: 5
       placeholder: ''
     third_party_settings: {  }
-    type: text_textarea
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.from_library.default.yml---
@@ -13,15 +13,15 @@ bundle: from_library
 mode: default
 content:
   field_reusable_paragraph:
+    type: entity_reference_autocomplete
     weight: 0
+    region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: entity_reference_autocomplete
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.hero.default.yml---
@@ -16,28 +16,28 @@ bundle: hero
 mode: default
 content:
   field_heading:
+    type: string_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   field_media:
     type: media_library_widget
     weight: 1
+    region: content
     settings:
       media_types: {  }
     third_party_settings: {  }
-    region: content
   field_text:
+    type: text_textarea
     weight: 2
+    region: content
     settings:
       rows: 5
       placeholder: ''
     third_party_settings: {  }
-    type: text_textarea
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.paragraph.view.default.yml---
@@ -11,11 +11,11 @@ bundle: view
 mode: default
 content:
   field_view:
+    type: options_select
     weight: 0
+    region: content
     settings: {  }
     third_party_settings: {  }
-    type: options_select
-    region: content
 hidden:
   created: true
   status: true

---FILE: drupal/config/core.entity_form_display.user.user.default.yml---
@@ -28,13 +28,13 @@ content:
     settings: {  }
     third_party_settings: {  }
   field_name:
+    type: string_textfield
     weight: 0
+    region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
-    type: string_textfield
-    region: content
   language:
     weight: 3
     region: content
@@ -53,11 +53,11 @@ content:
     third_party_settings: {  }
   user_picture:
     type: image_image
+    weight: 2
+    region: content
     settings:
       progress_indicator: throbber
       preview_image_style: thumbnail
     third_party_settings: {  }
-    weight: 2
-    region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_form_mode.media.media_library.yml---
@@ -2,11 +2,11 @@ uuid: 38df15b4-28d0-4c0e-9c30-373eab3b4f0c
 langcode: en
 status: true
 dependencies:
+  module:
+    - media
   enforced:
     module:
       - media_library
-  module:
-    - media
 _core:
   default_config_hash: pkq0uj-IoqEQRBOP_ddUDV0ZJ-dKQ_fLcppsEDF2UO8
 id: media.media_library

---FILE: drupal/config/core.entity_view_display.block_content.basic.default.yml---
@@ -15,11 +15,11 @@ bundle: basic
 mode: default
 content:
   body:
-    label: hidden
     type: text_default
-    weight: 0
-    region: content
+    label: hidden
     settings: {  }
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_view_display.media.audio.default.yml---
@@ -16,14 +16,14 @@ mode: default
 content:
   field_media_audio_file:
     type: file_audio
-    weight: 0
     label: visually_hidden
     settings:
       controls: true
       autoplay: false
       loop: false
       multiple_file_display_type: tags
     third_party_settings: {  }
+    weight: 0
     region: content
 hidden:
   created: true

---FILE: drupal/config/core.entity_view_display.media.audio.media_library.yml---
@@ -18,13 +18,13 @@ mode: media_library
 content:
   thumbnail:
     type: image
-    weight: 0
-    region: content
     label: hidden
     settings:
-      image_style: thumbnail
       image_link: ''
+      image_style: thumbnail
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   created: true
   field_media_audio_file: true

---FILE: drupal/config/core.entity_view_display.media.document.default.yml---
@@ -15,10 +15,10 @@ bundle: document
 mode: default
 content:
   field_media_document:
+    type: file_default
     label: visually_hidden
     settings: {  }
     third_party_settings: {  }
-    type: file_default
     weight: 1
     region: content
 hidden:

---FILE: drupal/config/core.entity_view_display.media.document.media_library.yml---
@@ -18,13 +18,13 @@ mode: media_library
 content:
   thumbnail:
     type: image
-    weight: 0
-    region: content
     label: hidden
     settings:
-      image_style: thumbnail
       image_link: ''
+      image_style: thumbnail
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   created: true
   field_media_document: true

---FILE: drupal/config/core.entity_view_display.media.image.default.yml---
@@ -16,12 +16,12 @@ bundle: image
 mode: default
 content:
   field_media_image:
+    type: image
     label: visually_hidden
     settings:
-      image_style: large
       image_link: ''
+      image_style: large
     third_party_settings: {  }
-    type: image
     weight: 1
     region: content
 hidden:

---FILE: drupal/config/core.entity_view_display.media.image.media_library.yml---
@@ -18,13 +18,13 @@ mode: media_library
 content:
   thumbnail:
     type: image
-    weight: 0
-    region: content
     label: hidden
     settings:
-      image_style: medium
       image_link: ''
+      image_style: medium
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   created: true
   field_media_image: true

---FILE: drupal/config/core.entity_view_display.media.remote_video.default.yml---
@@ -16,12 +16,12 @@ mode: default
 content:
   field_media_oembed_video:
     type: oembed
-    weight: 0
     label: hidden
     settings:
       max_width: 0
       max_height: 0
     third_party_settings: {  }
+    weight: 0
     region: content
 hidden:
   created: true

---FILE: drupal/config/core.entity_view_display.media.remote_video.media_library.yml---
@@ -18,13 +18,13 @@ mode: media_library
 content:
   thumbnail:
     type: image
-    weight: 0
-    region: content
     label: hidden
     settings:
-      image_style: medium
       image_link: ''
+      image_style: medium
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   created: true
   field_media_oembed_video: true

---FILE: drupal/config/core.entity_view_display.media.video.default.yml---
@@ -16,17 +16,17 @@ mode: default
 content:
   field_media_video_file:
     type: file_video
-    weight: 0
     label: visually_hidden
     settings:
-      muted: false
-      width: 640
-      height: 480
       controls: true
       autoplay: false
       loop: false
       multiple_file_display_type: tags
+      muted: false
+      width: 640
+      height: 480
     third_party_settings: {  }
+    weight: 0
     region: content
 hidden:
   created: true

---FILE: drupal/config/core.entity_view_display.media.video.media_library.yml---
@@ -18,13 +18,13 @@ mode: media_library
 content:
   thumbnail:
     type: image
-    weight: 0
-    region: content
     label: hidden
     settings:
-      image_style: thumbnail
       image_link: ''
+      image_style: thumbnail
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   created: true
   field_media_video_file: true

---FILE: drupal/config/core.entity_view_display.node.article.default.yml---
@@ -22,40 +22,40 @@ mode: default
 content:
   body:
     type: text_default
-    weight: 0
-    region: content
+    label: hidden
     settings: {  }
     third_party_settings: {  }
-    label: hidden
+    weight: 0
+    region: content
   field_image:
     type: image
-    weight: -1
-    region: content
+    label: hidden
     settings:
-      image_style: large
       image_link: ''
+      image_style: large
     third_party_settings: {  }
-    label: hidden
+    weight: -1
+    region: content
   field_site:
-    weight: 111
+    type: entity_reference_label
     label: above
     settings:
       link: true
     third_party_settings: {  }
-    type: entity_reference_label
+    weight: 111
     region: content
   field_tags:
     type: entity_reference_label
-    weight: 10
-    region: content
     label: above
     settings:
       link: true
     third_party_settings: {  }
-  links:
-    weight: 100
+    weight: 10
     region: content
+  links:
     settings: {  }
     third_party_settings: {  }
+    weight: 100
+    region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_view_display.node.article.teaser.yml---
@@ -23,29 +23,29 @@ mode: teaser
 content:
   body:
     type: text_summary_or_trimmed
-    weight: 0
-    region: content
+    label: hidden
     settings:
       trim_length: 600
     third_party_settings: {  }
-    label: hidden
+    weight: 0
+    region: content
   field_image:
     type: image
-    weight: -1
-    region: content
+    label: hidden
     settings:
-      image_style: medium
       image_link: content
+      image_style: medium
     third_party_settings: {  }
-    label: hidden
+    weight: -1
+    region: content
   field_tags:
     type: entity_reference_label
-    weight: 10
-    region: content
+    label: above
     settings:
       link: true
     third_party_settings: {  }
-    label: above
+    weight: 10
+    region: content
   links:
     weight: 100
     region: content

---FILE: drupal/config/core.entity_view_display.node.landing_page.default.yml---
@@ -15,17 +15,17 @@ mode: default
 content:
   field_sections:
     type: entity_reference_revisions_entity_view
-    weight: 102
     label: above
     settings:
       view_mode: default
       link: ''
     third_party_settings: {  }
+    weight: 102
     region: content
   links:
-    weight: 100
     settings: {  }
     third_party_settings: {  }
+    weight: 100
     region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_view_display.node.landing_page.teaser.yml---
@@ -14,9 +14,9 @@ bundle: landing_page
 mode: teaser
 content:
   links:
-    weight: 100
     settings: {  }
     third_party_settings: {  }
+    weight: 100
     region: content
 hidden:
   field_sections: true

---FILE: drupal/config/core.entity_view_display.node.page.default.yml---
@@ -16,12 +16,12 @@ bundle: page
 mode: default
 content:
   body:
-    label: hidden
     type: text_default
-    weight: 100
-    region: content
+    label: hidden
     settings: {  }
     third_party_settings: {  }
+    weight: 100
+    region: content
   links:
     weight: 101
     region: content

---FILE: drupal/config/core.entity_view_display.node.page.teaser.yml---
@@ -17,13 +17,13 @@ bundle: page
 mode: teaser
 content:
   body:
-    label: hidden
     type: text_summary_or_trimmed
-    weight: 100
-    region: content
+    label: hidden
     settings:
       trim_length: 600
     third_party_settings: {  }
+    weight: 100
+    region: content
   links:
     weight: 101
     region: content

---FILE: drupal/config/core.entity_view_display.node.property_listing.default.yml---
@@ -23,82 +23,82 @@ bundle: property_listing
 mode: default
 content:
   body:
-    label: hidden
     type: text_default
-    weight: 101
+    label: hidden
     settings: {  }
     third_party_settings: {  }
+    weight: 101
     region: content
   field_baths:
-    weight: 106
+    type: number_integer
     label: above
     settings:
       thousand_separator: ''
       prefix_suffix: true
     third_party_settings: {  }
-    type: number_integer
+    weight: 106
     region: content
   field_beds:
-    weight: 105
+    type: number_integer
     label: above
     settings:
       thousand_separator: ''
       prefix_suffix: true
     third_party_settings: {  }
-    type: number_integer
+    weight: 105
     region: content
   field_images:
     type: entity_reference_entity_view
-    weight: 108
     label: above
     settings:
       view_mode: default
       link: false
     third_party_settings: {  }
+    weight: 108
     region: content
   field_location:
-    weight: 107
+    type: entity_reference_label
     label: above
     settings:
       link: true
     third_party_settings: {  }
-    type: entity_reference_label
+    weight: 107
     region: content
   field_price:
-    weight: 103
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 103
     region: content
   field_size:
-    weight: 104
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 104
     region: content
   field_status:
-    weight: 102
+    type: list_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: list_default
+    weight: 102
     region: content
   field_teaser:
-    weight: 109
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 109
     region: content
   links:
-    weight: 100
     settings: {  }
     third_party_settings: {  }
+    weight: 100
     region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_view_display.node.property_listing.teaser.yml---
@@ -23,17 +23,17 @@ bundle: property_listing
 mode: teaser
 content:
   body:
-    label: hidden
     type: text_summary_or_trimmed
-    weight: 101
+    label: hidden
     settings:
       trim_length: 600
     third_party_settings: {  }
+    weight: 101
     region: content
   links:
-    weight: 100
     settings: {  }
     third_party_settings: {  }
+    weight: 100
     region: content
 hidden:
   field_baths: true

---FILE: drupal/config/core.entity_view_display.paragraph.card.default.yml---
@@ -14,18 +14,18 @@ bundle: card
 mode: default
 content:
   field_heading:
-    weight: 1
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 1
     region: content
   field_text:
-    weight: 0
+    type: text_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: text_default
+    weight: 0
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.cards.default.yml---
@@ -18,34 +18,34 @@ bundle: cards
 mode: default
 content:
   field_background_color:
-    weight: 3
+    type: list_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: list_default
+    weight: 3
     region: content
   field_heading:
-    weight: 1
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 1
     region: content
   field_items:
     type: entity_reference_revisions_entity_view
-    weight: 0
     label: above
     settings:
       view_mode: default
       link: ''
     third_party_settings: {  }
+    weight: 0
     region: content
   field_text:
-    weight: 2
+    type: text_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: text_default
+    weight: 2
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.collapsible.default.yml---
@@ -14,18 +14,18 @@ bundle: collapsible
 mode: default
 content:
   field_heading:
-    weight: 0
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 0
     region: content
   field_text:
-    weight: 1
+    type: text_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: text_default
+    weight: 1
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.faq.default.yml---
@@ -16,27 +16,27 @@ bundle: faq
 mode: default
 content:
   field_heading:
-    weight: 2
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 2
     region: content
   field_items:
-    weight: 0
+    type: entity_reference_revisions_entity_view
     label: above
     settings:
       view_mode: default
       link: ''
     third_party_settings: {  }
-    type: entity_reference_revisions_entity_view
+    weight: 0
     region: content
   field_text:
-    weight: 1
+    type: text_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: text_default
+    weight: 1
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.feature.default.yml---
@@ -20,22 +20,22 @@ bundle: feature
 mode: default
 content:
   field_background_color:
-    weight: 5
+    type: list_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: list_default
+    weight: 5
     region: content
   field_heading:
-    weight: 3
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 3
     region: content
   field_link:
-    weight: 1
+    type: link
     label: above
     settings:
       trim_length: 80
@@ -44,28 +44,28 @@ content:
       rel: ''
       target: ''
     third_party_settings: {  }
-    type: link
+    weight: 1
     region: content
   field_media:
-    weight: 0
+    type: entity_reference_label
     label: above
     settings:
       link: true
     third_party_settings: {  }
-    type: entity_reference_label
+    weight: 0
     region: content
   field_media_position:
-    weight: 4
+    type: list_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: list_default
+    weight: 4
     region: content
   field_text:
-    weight: 2
+    type: text_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: text_default
+    weight: 2
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.from_library.default.yml---
@@ -13,12 +13,12 @@ bundle: from_library
 mode: default
 content:
   field_reusable_paragraph:
-    weight: 0
+    type: entity_reference_entity_view
     label: above
     settings:
-      link: true
       view_mode: default
+      link: true
     third_party_settings: {  }
-    type: entity_reference_entity_view
+    weight: 0
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.hero.default.yml---
@@ -15,27 +15,27 @@ bundle: hero
 mode: default
 content:
   field_heading:
-    weight: 0
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 0
     region: content
   field_media:
     type: entity_reference_entity_view
-    weight: 1
     label: above
     settings:
       view_mode: default
       link: false
     third_party_settings: {  }
+    weight: 1
     region: content
   field_text:
-    weight: 2
+    type: text_default
     label: above
     settings: {  }
     third_party_settings: {  }
-    type: text_default
+    weight: 2
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraph.view.default.yml---
@@ -13,10 +13,10 @@ bundle: view
 mode: default
 content:
   field_view:
-    weight: 0
+    type: list_default
     label: inline
     settings: {  }
     third_party_settings: {  }
-    type: list_default
+    weight: 0
     region: content
 hidden: {  }

---FILE: drupal/config/core.entity_view_display.paragraphs_library_item.paragraphs_library_item.summary.yml---
@@ -16,18 +16,18 @@ mode: summary
 content:
   label:
     type: string
-    weight: 0
     label: hidden
-    region: content
     settings:
       link_to_entity: false
     third_party_settings: {  }
-  paragraphs:
-    label: hidden
-    type: paragraph_summary
     weight: 0
     region: content
+  paragraphs:
+    type: paragraph_summary
+    label: hidden
     settings: {  }
     third_party_settings: {  }
+    weight: 0
+    region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_view_display.user.user.compact.yml---
@@ -19,13 +19,13 @@ mode: compact
 content:
   user_picture:
     type: image
-    weight: 0
-    region: content
+    label: hidden
     settings:
-      image_style: thumbnail
       image_link: content
+      image_style: thumbnail
     third_party_settings: {  }
-    label: hidden
+    weight: 0
+    region: content
 hidden:
   field_name: true
   langcode: true

---FILE: drupal/config/core.entity_view_display.user.user.default.yml---
@@ -17,24 +17,24 @@ bundle: user
 mode: default
 content:
   field_name:
-    weight: 6
+    type: string
     label: above
     settings:
       link_to_entity: false
     third_party_settings: {  }
-    type: string
+    weight: 6
     region: content
   member_for:
     weight: 5
     region: content
   user_picture:
     type: image
-    weight: 0
-    region: content
+    label: hidden
     settings:
-      image_style: thumbnail
       image_link: content
+      image_style: thumbnail
     third_party_settings: {  }
-    label: hidden
+    weight: 0
+    region: content
 hidden:
   langcode: true

---FILE: drupal/config/core.entity_view_mode.media.media_library.yml---
@@ -2,11 +2,11 @@ uuid: ba65e207-3ece-49c8-a8a5-64e599143805
 langcode: en
 status: true
 dependencies:
+  module:
+    - media
   enforced:
     module:
       - media_library
-  module:
-    - media
 _core:
   default_config_hash: pkq0uj-IoqEQRBOP_ddUDV0ZJ-dKQ_fLcppsEDF2UO8
 id: media.media_library

---FILE: drupal/config/core.extension.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: R4IF-ClDHXxblLcG0L7MgsLvfBIMAvi_skumNFQwkDc
 module:
   require_login: -1000
   admin_toolbar: 0
@@ -79,5 +81,3 @@ theme:
   claro: 0
   gin: 0
 profile: standard
-_core:
-  default_config_hash: R4IF-ClDHXxblLcG0L7MgsLvfBIMAvi_skumNFQwkDc

---FILE: drupal/config/core.menu.static_menu_link_overrides.yml---
@@ -1,15 +1,15 @@
+_core:
+  default_config_hash: o4bYR9ZupWb3AsOIizTUG4g-nu1mdJqA59UB7QT-ifQ
 definitions:
   contact__site_page:
-    enabled: false
     menu_name: footer
     parent: ''
-    expanded: false
     weight: -48
+    expanded: false
+    enabled: false
   standard__front_page:
     menu_name: main
     parent: ''
     weight: -50
     expanded: false
     enabled: false
-_core:
-  default_config_hash: o4bYR9ZupWb3AsOIizTUG4g-nu1mdJqA59UB7QT-ifQ

---FILE: drupal/config/dblog.settings.yml---
@@ -1,3 +1,3 @@
-row_limit: 1000
 _core:
   default_config_hash: e883aGsrt1wFrsydlYU584PZONCSfRy0DtkZ9KzHb58
+row_limit: 1000

---FILE: drupal/config/entity_usage.settings.yml---
@@ -1,10 +1,10 @@
-track_enabled_base_fields: false
-local_task_enabled_entity_types:
-  - paragraphs_library_item
-usage_controller_items_per_page: 25
 _core:
   default_config_hash: AXUBMTvVtpcNp0jKjDaWjSHqMy6HjuUf7j4yVbXgazI
+local_task_enabled_entity_types:
+  - paragraphs_library_item
+track_enabled_base_fields: false
 edit_warning_message_entity_types:
   - paragraphs_library_item
 delete_warning_message_entity_types:
   - paragraphs_library_item
+usage_controller_items_per_page: 25

---FILE: drupal/config/facets.facet.location.yml---
@@ -6,24 +6,27 @@ dependencies:
     - jsonapi_search_api_facets
 id: location
 name: Location
-url_alias: field_location
 weight: 0
 min_count: 1
-show_only_one_result: false
-field_identifier: field_location
+url_alias: field_location
 facet_source_id: 'jsonapi_search_api_facets:property'
-widget:
-  type: jsonapi_search_api
-  config:
-    show_numbers: true
+field_identifier: field_location
 query_operator: or
+hard_limit: 0
+exclude: false
 use_hierarchy: false
 keep_hierarchy_parents_active: false
 expand_hierarchy: false
 enable_parent_when_child_gets_disabled: true
-hard_limit: 0
-exclude: false
+widget:
+  type: jsonapi_search_api
+  config:
+    show_numbers: true
+empty_behavior:
+  behavior: none
 only_visible_when_facet_source_is_visible: false
+show_only_one_result: false
+show_title: false
 processor_configs:
   active_widget_order:
     processor_id: active_widget_order
@@ -70,6 +73,3 @@ processor_configs:
       pre_query: 50
       build: 15
     settings: {  }
-empty_behavior:
-  behavior: none
-show_title: false

---FILE: drupal/config/facets.facet.status.yml---
@@ -6,24 +6,27 @@ dependencies:
     - jsonapi_search_api_facets
 id: status
 name: Status
-url_alias: field_status
 weight: 0
 min_count: 1
-show_only_one_result: false
-field_identifier: field_status
+url_alias: field_status
 facet_source_id: 'jsonapi_search_api_facets:property'
-widget:
-  type: jsonapi_search_api
-  config:
-    show_numbers: true
+field_identifier: field_status
 query_operator: or
+hard_limit: 0
+exclude: false
 use_hierarchy: false
 keep_hierarchy_parents_active: false
 expand_hierarchy: false
 enable_parent_when_child_gets_disabled: true
-hard_limit: 0
-exclude: false
+widget:
+  type: jsonapi_search_api
+  config:
+    show_numbers: true
+empty_behavior:
+  behavior: none
 only_visible_when_facet_source_is_visible: true
+show_only_one_result: false
+show_title: false
 processor_configs:
   active_widget_order:
     processor_id: active_widget_order
@@ -54,6 +57,3 @@ processor_configs:
       pre_query: 50
       build: 15
     settings: {  }
-empty_behavior:
-  behavior: none
-show_title: false

---FILE: drupal/config/field.field.media.audio.field_media_audio_file.yml---
@@ -20,10 +20,10 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
-  file_extensions: 'mp3 wav aac'
+  handler: 'default:file'
+  handler_settings: {  }
   file_directory: '[date:custom:Y]-[date:custom:m]'
+  file_extensions: 'mp3 wav aac'
   max_filesize: ''
   description_field: false
-  handler: 'default:file'
-  handler_settings: {  }
 field_type: file

---FILE: drupal/config/field.field.media.document.field_media_document.yml---
@@ -5,11 +5,11 @@ dependencies:
   config:
     - field.storage.media.field_media_document
     - media.type.document
+  module:
+    - file
   enforced:
     module:
       - media
-  module:
-    - file
 _core:
   default_config_hash: 52m0CtJVAoE3Qvh2AiciSkV8odAgQeRo4yNDGgUA7dc
 id: media.document.field_media_document
@@ -23,10 +23,10 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: 'default:file'
+  handler_settings: {  }
   file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'txt rtf doc docx ppt pptx xls xlsx pdf odf odg odp ods odt fodt fods fodp fodg key numbers pages'
   max_filesize: ''
-  handler: 'default:file'
-  handler_settings: {  }
   description_field: false
 field_type: file

---FILE: drupal/config/field.field.media.image.field_media_image.yml---
@@ -5,11 +5,11 @@ dependencies:
   config:
     - field.storage.media.field_media_image
     - media.type.image
+  module:
+    - image
   enforced:
     module:
       - media
-  module:
-    - image
 _core:
   default_config_hash: pzPA-2JwyxlJ3qMb4L9viAnhNhbEhl2couH8A3FO020
 id: media.image.field_media_image
@@ -23,21 +23,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: 'default:file'
+  handler_settings: {  }
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  file_extensions: 'png gif jpg jpeg'
+  max_filesize: ''
+  max_resolution: ''
+  min_resolution: ''
   alt_field: true
   alt_field_required: true
   title_field: false
   title_field_required: false
-  max_resolution: ''
-  min_resolution: ''
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  file_directory: '[date:custom:Y]-[date:custom:m]'
-  file_extensions: 'png gif jpg jpeg'
-  max_filesize: ''
-  handler: 'default:file'
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/field.field.media.video.field_media_video_file.yml---
@@ -20,10 +20,10 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
-  file_extensions: mp4
+  handler: 'default:file'
+  handler_settings: {  }
   file_directory: '[date:custom:Y]-[date:custom:m]'
+  file_extensions: mp4
   max_filesize: ''
   description_field: false
-  handler: 'default:file'
-  handler_settings: {  }
 field_type: file

---FILE: drupal/config/field.field.node.article.field_image.yml---
@@ -27,21 +27,21 @@ translatable: true
 default_value: {  }
 default_value_callback: ''
 settings:
+  handler: 'default:file'
+  handler_settings: {  }
   file_directory: '[date:custom:Y]-[date:custom:m]'
   file_extensions: 'png gif jpg jpeg'
   max_filesize: ''
   max_resolution: ''
   min_resolution: ''
   alt_field: true
-  title_field: false
   alt_field_required: true
+  title_field: false
   title_field_required: false
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  handler: 'default:file'
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/field.field.node.landing_page.field_sections.yml---
@@ -26,37 +26,37 @@ default_value_callback: ''
 settings:
   handler: 'default:paragraph'
   handler_settings:
-    negate: 0
     target_bundles:
       hero: hero
       feature: feature
       cards: cards
       faq: faq
       view: view
       from_library: from_library
+    negate: 0
     target_bundles_drag_drop:
       card:
         weight: -12
         enabled: false
       cards:
-        enabled: true
         weight: -15
+        enabled: true
       collapsible:
         weight: -11
         enabled: false
       faq:
-        enabled: true
         weight: -14
-      feature:
         enabled: true
+      feature:
         weight: -16
-      from_library:
         enabled: true
+      from_library:
         weight: -10
-      hero:
         enabled: true
+      hero:
         weight: -17
-      view:
         enabled: true
+      view:
         weight: -13
+        enabled: true
 field_type: entity_reference_revisions

---FILE: drupal/config/field.field.paragraph.cards.field_items.yml---
@@ -21,13 +21,13 @@ default_value_callback: ''
 settings:
   handler: 'default:paragraph'
   handler_settings:
-    negate: 0
     target_bundles:
       card: card
+    negate: 0
     target_bundles_drag_drop:
       card:
-        enabled: true
         weight: 6
+        enabled: true
       cards:
         weight: 7
         enabled: false

---FILE: drupal/config/field.field.paragraph.faq.field_items.yml---
@@ -21,9 +21,9 @@ default_value_callback: ''
 settings:
   handler: 'default:paragraph'
   handler_settings:
-    negate: 0
     target_bundles:
       collapsible: collapsible
+    negate: 0
     target_bundles_drag_drop:
       card:
         weight: -14
@@ -32,8 +32,8 @@ settings:
         weight: -13
         enabled: false
       collapsible:
-        enabled: true
         weight: -15
+        enabled: true
       faq:
         weight: -12
         enabled: false

---FILE: drupal/config/field.field.paragraph.feature.field_link.yml---
@@ -18,6 +18,6 @@ translatable: true
 default_value: {  }
 default_value_callback: ''
 settings:
-  link_type: 17
   title: 1
+  link_type: 17
 field_type: link

---FILE: drupal/config/field.field.user.user.user_picture.yml---
@@ -20,21 +20,21 @@ translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:
-  file_extensions: 'png gif jpg jpeg'
+  handler: 'default:file'
+  handler_settings: {  }
   file_directory: 'pictures/[date:custom:Y]-[date:custom:m]'
+  file_extensions: 'png gif jpg jpeg'
   max_filesize: ''
-  alt_field: false
-  title_field: false
   max_resolution: ''
   min_resolution: ''
+  alt_field: false
+  alt_field_required: false
+  title_field: false
+  title_field_required: false
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  alt_field_required: false
-  title_field_required: false
-  handler: 'default:file'
-  handler_settings: {  }
 field_type: image

---FILE: drupal/config/field.settings.yml---
@@ -1,3 +1,3 @@
-purge_batch_size: 50
 _core:
   default_config_hash: nJk0TAQBzlNo52ehiHI7bIEPLGi0BYqZvPdEn7Chfu0
+purge_batch_size: 50

---FILE: drupal/config/field.storage.media.field_media_document.yml---
@@ -2,23 +2,23 @@ uuid: e3d9971f-1596-43c7-b712-450c5ee1414b
 langcode: en
 status: true
 dependencies:
-  enforced:
-    module:
-      - media
   module:
     - file
     - media
+  enforced:
+    module:
+      - media
 _core:
   default_config_hash: rQoPQKvhehKl_xDCFHeMJ5nA5i6bxUSdrNxazOSPGTg
 id: media.field_media_document
 field_name: field_media_document
 entity_type: media
 type: file
 settings:
-  uri_scheme: public
   target_type: file
   display_field: false
   display_default: false
+  uri_scheme: public
 module: file
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.media.field_media_image.yml---
@@ -2,30 +2,30 @@ uuid: 620a7e00-89ea-46ca-8b81-75fcca7e2539
 langcode: en
 status: true
 dependencies:
-  enforced:
-    module:
-      - media
   module:
     - file
     - image
     - media
+  enforced:
+    module:
+      - media
 _core:
   default_config_hash: 7ZBrcl87ZXaw42v952wwcw_9cQgTBq5_5tgyUkE-VV0
 id: media.field_media_image
 field_name: field_media_image
 entity_type: media
 type: image
 settings:
+  target_type: file
+  display_field: false
+  display_default: false
+  uri_scheme: public
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  target_type: file
-  display_field: false
-  display_default: false
-  uri_scheme: public
 module: image
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.media.field_media_oembed_video.yml---
@@ -12,8 +12,8 @@ entity_type: media
 type: string
 settings:
   max_length: 255
-  is_ascii: false
   case_sensitive: false
+  is_ascii: false
 module: core
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.node.field_image.yml---
@@ -13,16 +13,16 @@ field_name: field_image
 entity_type: node
 type: image
 settings:
+  target_type: file
+  display_field: false
+  display_default: false
   uri_scheme: public
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  target_type: file
-  display_field: false
-  display_default: false
 module: image
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.node.field_price.yml---
@@ -10,8 +10,8 @@ entity_type: node
 type: string
 settings:
   max_length: 255
-  is_ascii: false
   case_sensitive: false
+  is_ascii: false
 module: core
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.node.field_size.yml---
@@ -10,8 +10,8 @@ entity_type: node
 type: string
 settings:
   max_length: 255
-  is_ascii: false
   case_sensitive: false
+  is_ascii: false
 module: core
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.node.field_teaser.yml---
@@ -10,8 +10,8 @@ entity_type: node
 type: string
 settings:
   max_length: 255
-  is_ascii: false
   case_sensitive: false
+  is_ascii: false
 module: core
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.paragraph.field_heading.yml---
@@ -10,8 +10,8 @@ entity_type: paragraph
 type: string
 settings:
   max_length: 255
-  is_ascii: false
   case_sensitive: false
+  is_ascii: false
 module: core
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.user.field_name.yml---
@@ -10,8 +10,8 @@ entity_type: user
 type: string
 settings:
   max_length: 255
-  is_ascii: false
   case_sensitive: false
+  is_ascii: false
 module: core
 locked: false
 cardinality: 1

---FILE: drupal/config/field.storage.user.user_picture.yml---
@@ -13,16 +13,16 @@ field_name: user_picture
 entity_type: user
 type: image
 settings:
+  target_type: file
+  display_field: false
+  display_default: false
   uri_scheme: public
   default_image:
     uuid: null
     alt: ''
     title: ''
     width: null
     height: null
-  target_type: file
-  display_field: false
-  display_default: false
 module: image
 locked: false
 cardinality: 1

---FILE: drupal/config/field_ui.settings.yml---
@@ -1,3 +1,3 @@
-field_prefix: field_
 _core:
   default_config_hash: Q1nMi90W6YQxKzZAgJQw7Ag9U4JrsEUwkomF0lhvbIM
+field_prefix: field_

---FILE: drupal/config/file.settings.yml---
@@ -1,8 +1,8 @@
+_core:
+  default_config_hash: 0aMkoXYnax5_tHI9C9zHs-K48KJ6K75PHtD9x-0nbgM
 description:
   type: textfield
   length: 128
 icon:
   directory: core/modules/file/icons
 make_unused_managed_files_temporary: false
-_core:
-  default_config_hash: 0aMkoXYnax5_tHI9C9zHs-K48KJ6K75PHtD9x-0nbgM

---FILE: drupal/config/filter.format.full_html.yml---
@@ -51,6 +51,6 @@ filters:
     weight: 100
     settings:
       default_view_mode: default
+      allowed_view_modes: {  }
       allowed_media_types:
         image: image
-      allowed_view_modes: {  }

---FILE: drupal/config/filter.settings.yml---
@@ -1,4 +1,4 @@
-fallback_format: plain_text
-always_show_fallback_choice: false
 _core:
   default_config_hash: FiPjM3WdB__ruFA7B6TLwni_UcZbmek5G4b2dxQItxA
+fallback_format: plain_text
+always_show_fallback_choice: false

---FILE: drupal/config/gin.settings.yml---
@@ -1,23 +1,23 @@
+_core:
+  default_config_hash: QdiqmcH9tjpstXqCQKv4G4rHYE4HjWLFkVzyqooqEWM
+favicon:
+  use_default: true
+features:
+  comment_user_picture: true
+  comment_user_verification: true
+  favicon: true
+  node_user_picture: true
+third_party_settings:
+  shortcut:
+    module_link: true
 preset_accent_color: custom
 preset_focus_color: accent
 enable_darkmode: false
 classic_toolbar: horizontal
 icon_default: true
 icon_path: ''
 high_contrast_mode: false
-show_user_theme_settings: false
-third_party_settings:
-  shortcut:
-    module_link: true
-_core:
-  default_config_hash: QdiqmcH9tjpstXqCQKv4G4rHYE4HjWLFkVzyqooqEWM
-features:
-  node_user_picture: true
-  comment_user_picture: true
-  comment_user_verification: true
-  favicon: true
-favicon:
-  use_default: true
 accent_color: '#111'
 focus_color: ''
 icon_upload: ''
+show_user_theme_settings: false

---FILE: drupal/config/gin_login.settings.yml---
@@ -1,7 +1,7 @@
+_core:
+  default_config_hash: OhypfKr4_Eo8XwXg3Sios05lN-LjxOhSdSOSkEN9Ndo
 logo:
   use_default: true
 brand_image:
   use_default: true
   path: 'public://74fec6ec-ab34-4840-af52-fd253fe1d282_cover5.jpg'
-_core:
-  default_config_hash: OhypfKr4_Eo8XwXg3Sios05lN-LjxOhSdSOSkEN9Ndo

---FILE: drupal/config/hal.settings.yml---
@@ -1,3 +1,3 @@
-link_domain: null
 _core:
   default_config_hash: swYtdod4psGvRvRY6OTGagGJPAuknS7WMgn1089yjL0
+link_domain: null

---FILE: drupal/config/image.settings.yml---
@@ -1,5 +1,5 @@
+_core:
+  default_config_hash: k-yDFHbqNfpe-Srg4sdCSqaosCl2D8uwyEY5esF8gEw
 preview_image: core/modules/image/sample.png
 allow_insecure_derivatives: false
 suppress_itok_output: false
-_core:
-  default_config_hash: k-yDFHbqNfpe-Srg4sdCSqaosCl2D8uwyEY5esF8gEw

---FILE: drupal/config/jsonapi.settings.yml---
@@ -1,4 +1,4 @@
-langcode: en
-read_only: true
 _core:
   default_config_hash: p_qzzTwtOMiIPE7CyG0wD6M-UCpBp6Y5E4LhNCnCRpY
+langcode: en
+read_only: true

---FILE: drupal/config/jsonapi_extras.settings.yml---
@@ -1,4 +1,5 @@
-path_prefix: jsonapi
-include_count: true
 _core:
   default_config_hash: eZ7KZ6nM56SRhfriFWCo1372Z9UiKufhSLRbkdhVmUg
+path_prefix: jsonapi
+include_count: true
+default_disabled: false

---FILE: drupal/config/language.mappings.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: EMWe7Yu4Q5eD-NUfNuQAWGBvYUNZPIinztEtONSmsDc
 map:
   'no': nb
   pt: pt-pt
@@ -9,5 +11,3 @@ map:
   zh-cn: zh-hans
   zh-sg: zh-hans
   zh-chs: zh-hans
-_core:
-  default_config_hash: EMWe7Yu4Q5eD-NUfNuQAWGBvYUNZPIinztEtONSmsDc

---FILE: drupal/config/language.negotiation.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: uEePITI9tV6WqzmsTb7MfPCi5yPWXSxAN1xeLcYFQbM
 session:
   parameter: language
 url:
@@ -9,5 +11,3 @@ url:
     en: ''
     es: ''
 selected_langcode: site_default
-_core:
-  default_config_hash: uEePITI9tV6WqzmsTb7MfPCi5yPWXSxAN1xeLcYFQbM

---FILE: drupal/config/language.types.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: dqouFqVseNJNvEjsoYKxbinFOITuCxYhi4y2OTNQP_8
 all:
   - language_interface
   - language_content
@@ -15,5 +17,3 @@ negotiation:
   language_interface:
     enabled:
       language-url: 0
-_core:
-  default_config_hash: dqouFqVseNJNvEjsoYKxbinFOITuCxYhi4y2OTNQP_8

---FILE: drupal/config/media.settings.yml---
@@ -1,6 +1,6 @@
+_core:
+  default_config_hash: PlWtVQXY5oKYZqCMPXh6SPamXagn5BoZqgAI8EY9WsY
 icon_base_uri: 'public://media-icons/generic'
 iframe_domain: ''
 oembed_providers_url: 'https://oembed.com/providers.json'
 standalone_url: false
-_core:
-  default_config_hash: PlWtVQXY5oKYZqCMPXh6SPamXagn5BoZqgAI8EY9WsY

---FILE: drupal/config/media.type.remote_video.yml---
@@ -11,10 +11,10 @@ source: 'oembed:video'
 queue_thumbnail_downloads: false
 new_revision: true
 source_configuration:
+  source_field: field_media_oembed_video
   thumbnails_directory: 'public://oembed_thumbnails'
   providers:
     - YouTube
     - Vimeo
-  source_field: field_media_oembed_video
 field_map:
   title: name

---FILE: drupal/config/media_library.settings.yml---
@@ -1,3 +1,3 @@
-advanced_ui: false
 _core:
   default_config_hash: _3gQsCnZELUjUUqHk8SSh8bXnx7TZwN95vctAeVJG60
+advanced_ui: false

---FILE: drupal/config/menu_ui.settings.yml---
@@ -1,3 +1,3 @@
-override_parent_selector: false
 _core:
   default_config_hash: SqMarzIjxC3F8dZo9FEOxfqDKD_sdW1tbcFTV1BA2zU
+override_parent_selector: false

---FILE: drupal/config/next.next_site.example_blog.yml---
@@ -4,6 +4,6 @@ status: true
 dependencies: {  }
 id: example_blog
 label: 'Example blog'
-base_url: 'https://next-example-blog.vercel.app'
-preview_url: 'https://next-example-blog.vercel.app/api/preview'
+base_url: 'http://localhost:3030'
+preview_url: 'http://localhost:3030/api/preview'
 preview_secret: secret

---FILE: drupal/config/next.next_site.example_marketing.yml---
@@ -4,6 +4,6 @@ status: true
 dependencies: {  }
 id: example_marketing
 label: 'Example marketing'
-base_url: 'https://demo.next-drupal.org'
-preview_url: 'https://demo.next-drupal.org/api/preview'
+base_url: 'http://localhost:3000'
+preview_url: 'http://localhost:3000/api/preview'
 preview_secret: secret

---FILE: drupal/config/next.settings.yml---
@@ -1,8 +1,8 @@
+_core:
+  default_config_hash: V0oNUv2EJNkfYaIiUyLzCbkyq9nOd7V2MobuQvz-XgY
 langcode: en
 site_previewer: iframe
 site_previewer_configuration:
   width: 100%
-  sync_route: true
+  sync_route: false
   sync_route_skip_routes: /blog
-_core:
-  default_config_hash: V0oNUv2EJNkfYaIiUyLzCbkyq9nOd7V2MobuQvz-XgY

---FILE: drupal/config/node.settings.yml---
@@ -1,3 +1,3 @@
-use_admin_theme: true
 _core:
   default_config_hash: W0cgFPhPJ3gAdqm06-az48BLf5MVcoZVS0HdByoofi0
+use_admin_theme: true

---FILE: drupal/config/paragraphs.settings.yml---
@@ -1,3 +1,3 @@
-show_unpublished: true
 _core:
   default_config_hash: 7eR0sk71Eol86r_A7BMqn5_46wzenh5J1O5vZRCGKv8
+show_unpublished: true

---FILE: drupal/config/pathauto.pattern.article.yml---
@@ -11,12 +11,12 @@ pattern: 'blog/[node:source:title]'
 selection_criteria:
   50ef3322-bc36-4544-92cb-8b84ce6a16a8:
     id: node_type
-    bundles:
-      article: article
     negate: false
+    uuid: 50ef3322-bc36-4544-92cb-8b84ce6a16a8
     context_mapping:
       node: node
-    uuid: 50ef3322-bc36-4544-92cb-8b84ce6a16a8
+    bundles:
+      article: article
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: drupal/config/pathauto.pattern.basic_page.yml---
@@ -11,12 +11,12 @@ pattern: '[node:source:title]'
 selection_criteria:
   a3331c82-bb70-4f73-9dd1-af76f560d4d3:
     id: node_type
-    bundles:
-      page: page
     negate: false
+    uuid: a3331c82-bb70-4f73-9dd1-af76f560d4d3
     context_mapping:
       node: node
-    uuid: a3331c82-bb70-4f73-9dd1-af76f560d4d3
+    bundles:
+      page: page
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: drupal/config/pathauto.pattern.landing_page.yml---
@@ -11,12 +11,12 @@ pattern: '[node:source:title]'
 selection_criteria:
   90be8d8f-c388-47e8-8e81-d9b9a7f2a16e:
     id: node_type
-    bundles:
-      landing_page: landing_page
     negate: false
+    uuid: 90be8d8f-c388-47e8-8e81-d9b9a7f2a16e
     context_mapping:
       node: node
-    uuid: 90be8d8f-c388-47e8-8e81-d9b9a7f2a16e
+    bundles:
+      landing_page: landing_page
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: drupal/config/pathauto.pattern.property_listing.yml---
@@ -11,12 +11,12 @@ pattern: 'properties/[node:source:title]'
 selection_criteria:
   380495cd-67e8-4a54-8bed-88f658b8d289:
     id: node_type
-    bundles:
-      property_listing: property_listing
     negate: false
+    uuid: 380495cd-67e8-4a54-8bed-88f658b8d289
     context_mapping:
       node: node
-    uuid: 380495cd-67e8-4a54-8bed-88f658b8d289
+    bundles:
+      property_listing: property_listing
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: drupal/config/pathauto.pattern.property_location.yml---
@@ -12,12 +12,12 @@ pattern: 'properties/locations/[term:name]'
 selection_criteria:
   2602dcde-b2f8-4032-82de-76b7b74869fa:
     id: 'entity_bundle:taxonomy_term'
-    bundles:
-      property_location: property_location
     negate: false
+    uuid: 2602dcde-b2f8-4032-82de-76b7b74869fa
     context_mapping:
       taxonomy_term: taxonomy_term
-    uuid: 2602dcde-b2f8-4032-82de-76b7b74869fa
+    bundles:
+      property_location: property_location
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: drupal/config/pathauto.settings.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: SwvLp8snyPEExF41CaJJYdPUVomofLqtXvwciHc4cPg
 enabled_entity_types:
   - user
 punctuation:
@@ -18,5 +20,3 @@ safe_tokens:
   - login-url
   - url
   - url-brief
-_core:
-  default_config_hash: SwvLp8snyPEExF41CaJJYdPUVomofLqtXvwciHc4cPg

---FILE: drupal/config/require_login.config.yml---
@@ -1,14 +1,14 @@
+_core:
+  default_config_hash: TlUwZ6b5Ycd717ekKmg-WXuL8Lf4bBI8e9hEWuvZWug
 auth_path: /user/login
 destination_path: ''
 deny_message: ''
 excluded_403: true
 excluded_404: true
 excluded_paths: ""/oauth/token\r\n/jsonapi*""
-excluded_routes: ""simplesamlphp_auth.saml_login\r\nsamlauth.saml_controller_login\r\nsamlauth.saml_controller_logout\r\nsamlauth.saml_controller_metadata\r\nsamlauth.saml_controller_acs\r\nsamlauth.saml_controller_sls\r\nsamlauth.saml_controller_changepw\r\n""
-_core:
-  default_config_hash: TlUwZ6b5Ycd717ekKmg-WXuL8Lf4bBI8e9hEWuvZWug
 excluded_node_types:
   article: 0
   landing_page: 0
   page: 0
   property_listing: 0
+excluded_routes: ""simplesamlphp_auth.saml_login\r\nsamlauth.saml_controller_login\r\nsamlauth.saml_controller_logout\r\nsamlauth.saml_controller_metadata\r\nsamlauth.saml_controller_acs\r\nsamlauth.saml_controller_sls\r\nsamlauth.saml_controller_changepw\r\n""

---FILE: drupal/config/search_api.index.article.yml---
@@ -2,12 +2,12 @@ uuid: 9946c2dc-9084-4c20-91be-89f5542bd473
 langcode: en
 status: true
 dependencies:
-  module:
-    - node
-    - search_api
   config:
     - field.storage.node.body
     - search_api.server.database
+  module:
+    - node
+    - search_api
 id: article
 name: Article
 description: ''
@@ -74,30 +74,30 @@ processor_settings:
       preprocess_query: -30
   entity_status: {  }
   highlight:
-    highlight: always
-    highlight_partial: false
+    weights:
+      postprocess_query: 0
+    prefix: '<strong>'
+    suffix: '</strong>'
     excerpt: true
     excerpt_length: 256
     exclude_fields: {  }
-    prefix: '<strong>'
-    suffix: '</strong>'
-    weights:
-      postprocess_query: 0
+    highlight: always
+    highlight_partial: false
   ignorecase:
+    weights:
+      preprocess_index: -20
+      preprocess_query: -20
     all_fields: false
     fields:
       - body
       - title
-    weights:
-      preprocess_index: -20
-      preprocess_query: -20
   language_with_fallback: {  }
   rendered_item: {  }
 tracker_settings:
   default:
     indexing_order: fifo
 options:
+  cron_limit: 50
   index_directly: true
   track_changes_in_references: true
-  cron_limit: 50
 server: database

---FILE: drupal/config/search_api.index.property.yml---
@@ -121,45 +121,45 @@ processor_settings:
       preprocess_query: -30
   entity_status: {  }
   ignorecase:
+    weights:
+      preprocess_index: -20
+      preprocess_query: -20
     all_fields: true
     fields:
       - field_size
       - field_status
       - name
       - title
-    weights:
-      preprocess_index: -20
-      preprocess_query: -20
   language_with_fallback: {  }
   rendered_item: {  }
   stemmer:
+    weights:
+      preprocess_index: 0
+      preprocess_query: 0
     all_fields: true
     fields:
       - name
       - title
     exceptions:
       mexican: mexic
       texan: texa
-    weights:
-      preprocess_index: 0
-      preprocess_query: 0
   tokenizer:
+    weights:
+      preprocess_index: -6
+      preprocess_query: -6
     all_fields: true
     fields:
       - name
       - title
-    ignored: ._-
     spaces: ''
+    ignored: ._-
     overlap_cjk: 1
     minimum_word_size: '3'
-    weights:
-      preprocess_index: -6
-      preprocess_query: -6
 tracker_settings:
   default:
     indexing_order: fifo
 options:
+  cron_limit: 50
   index_directly: true
   track_changes_in_references: true
-  cron_limit: 50
 server: database

---FILE: drupal/config/search_api.settings.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: b2zIRm9Jv3SB60NYdZkZHxH8-KdEa-Xa48-4NsIi4lg
 default_cron_limit: 50
 cron_worker_runtime: 15
 default_tracker: default
@@ -24,5 +26,3 @@ boost_factors:
   - !!float 8
   - !!float 13
   - !!float 21
-_core:
-  default_config_hash: b2zIRm9Jv3SB60NYdZkZHxH8-KdEa-Xa48-4NsIi4lg

---FILE: drupal/config/search_api_db.settings.yml---
@@ -1,3 +1,3 @@
-autocomplete_max_occurrences: 0.9
 _core:
   default_config_hash: fEmluJPpUL5dVqkWi0Fw89OlZYLhjQqyZIl6HWCDE1s
+autocomplete_max_occurrences: 0.9

---FILE: drupal/config/simple_oauth.settings.yml---
@@ -1,11 +1,11 @@
-access_token_expiration: 300
-authorization_code_expiration: 300
-refresh_token_expiration: 1209600
-remember_clients: true
-token_cron_batch_size: 0
-use_implicit: false
-disable_openid_connect: false
 _core:
   default_config_hash: KsPFWSp6mgXIQgjBJEShfKUGn6VLRlbpIJ2EysXvXWM
+access_token_expiration: 7200
+authorization_code_expiration: 7200
+refresh_token_expiration: 1209600
+token_cron_batch_size: 0
 public_key: sites/default/files/private/public.key
 private_key: sites/default/files/private/private.key
+remember_clients: true
+use_implicit: false
+disable_openid_connect: false

---FILE: drupal/config/system.action.pathauto_update_alias_node.yml---
@@ -2,11 +2,11 @@ uuid: 99179788-962f-4696-b164-16670ede9974
 langcode: en
 status: true
 dependencies:
+  module:
+    - pathauto
   enforced:
     module:
       - node
-  module:
-    - pathauto
 _core:
   default_config_hash: lno8QThS348UX-kaUsagJtCnuPHKLXYnTQiF_9HSDWA
 id: pathauto_update_alias_node

---FILE: drupal/config/system.action.pathauto_update_alias_user.yml---
@@ -2,11 +2,11 @@ uuid: 4df7f6a0-f949-4440-969c-8c44cc716631
 langcode: en
 status: true
 dependencies:
+  module:
+    - pathauto
   enforced:
     module:
       - user
-  module:
-    - pathauto
 _core:
   default_config_hash: x_ok_ZsfA4Xk4B_hVW3O4-3PcNoK57nXLz_Dlletidg
 id: pathauto_update_alias_user

---FILE: drupal/config/system.advisories.yml---
@@ -1,2 +1,2 @@
-interval_hours: 6
 enabled: true
+interval_hours: 6

---FILE: drupal/config/system.authorize.yml---
@@ -1,3 +0,0 @@
-filetransfer_default: null
-_core:
-  default_config_hash: z63ds8M4zPrylEgFRkRcOlfcsXWwfITzjD4cj1kRdfg

---FILE: drupal/config/system.cron.yml---
@@ -1,6 +1,6 @@
+_core:
+  default_config_hash: 5Pw921y1EPfFN98wykliBBLArm51pC-SmrXeYCe7d0Y
 threshold:
   requirements_warning: 172800
   requirements_error: 1209600
 logging: 1
-_core:
-  default_config_hash: 5Pw921y1EPfFN98wykliBBLArm51pC-SmrXeYCe7d0Y

---FILE: drupal/config/system.date.yml---
@@ -1,11 +1,11 @@
+_core:
+  default_config_hash: V9UurX2GPT05NWKG9f2GWQqFG2TRG8vczidwjpy7Woo
+first_day: 0
 country:
   default: ''
-first_day: 0
 timezone:
   default: UTC
   user:
     configurable: true
-    warn: false
     default: 0
-_core:
-  default_config_hash: V9UurX2GPT05NWKG9f2GWQqFG2TRG8vczidwjpy7Woo
+    warn: false

---FILE: drupal/config/system.diff.yml---
@@ -1,5 +1,5 @@
+_core:
+  default_config_hash: 1WanmaEhxW_vM8_5Ktsdntj8MaO9UBHXg0lN603PsWM
 context:
   lines_leading: 2
   lines_trailing: 2
-_core:
-  default_config_hash: 1WanmaEhxW_vM8_5Ktsdntj8MaO9UBHXg0lN603PsWM

---FILE: drupal/config/system.file.yml---
@@ -1,5 +1,5 @@
+_core:
+  default_config_hash: mguGHCYb9Dw5EcpfjwoShGV1Vjkbz3QuPRCLfxiye-g
 allow_insecure_uploads: false
 default_scheme: public
 temporary_maximum_age: 21600
-_core:
-  default_config_hash: mguGHCYb9Dw5EcpfjwoShGV1Vjkbz3QuPRCLfxiye-g

---FILE: drupal/config/system.image.gd.yml---
@@ -1,3 +1,3 @@
-jpeg_quality: 75
 _core:
   default_config_hash: eNXaHfkJJUThHeF0nvkoXyPLRrKYGxgHRjORvT4F5rQ
+jpeg_quality: 75

---FILE: drupal/config/system.image.yml---
@@ -1,3 +1,3 @@
-toolkit: gd
 _core:
   default_config_hash: durWHaKeBaq4d9Wpi4RqwADj1OufDepcnJuhVLmKN24
+toolkit: gd

---FILE: drupal/config/system.logging.yml---
@@ -1,3 +1,3 @@
-error_level: hide
 _core:
   default_config_hash: u3-njszl92FaxjrCMiq0yDcjAfcdx72w1zT1O9dx6aA
+error_level: hide

---FILE: drupal/config/system.mail.yml---
@@ -1,5 +1,5 @@
+_core:
+  default_config_hash: rYgt7uhPafP2ngaN_ZUPFuyI4KdE0zU868zLNSlzKoE
 interface:
   default: php_mail
   webform: webform_php_mail
-_core:
-  default_config_hash: rYgt7uhPafP2ngaN_ZUPFuyI4KdE0zU868zLNSlzKoE

---FILE: drupal/config/system.maintenance.yml---
@@ -1,4 +1,4 @@
-message: '@site is currently under maintenance. We should be back shortly. Thank you for your patience.'
-langcode: en
 _core:
   default_config_hash: Z5MXifrF77GEAgx0GQ6iWT8wStjFuY8BD9OruofWTJ8
+langcode: en
+message: '@site is currently under maintenance. We should be back shortly. Thank you for your patience.'

---FILE: drupal/config/system.performance.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: b2cssrj-lOmATIbdehfCqfCFgVR0qCdxxWhwqa2KBVQ
 cache:
   page:
     max_age: 0
@@ -13,5 +15,3 @@ js:
   preprocess: true
   gzip: true
 stale_file_threshold: 2592000
-_core:
-  default_config_hash: b2cssrj-lOmATIbdehfCqfCFgVR0qCdxxWhwqa2KBVQ

---FILE: drupal/config/system.rss.yml---
@@ -1,4 +1,4 @@
-items:
-  view_mode: rss
 _core:
   default_config_hash: TlH7NNk46phfxu1mSUfwg1C0YqaGsUCeD4l9JQnQlDU
+items:
+  view_mode: rss

---FILE: drupal/config/system.site.yml---
@@ -1,3 +1,6 @@
+_core:
+  default_config_hash: yTxtFqBHnEWxQswuWvkjE8mKw2t8oKuCL1q8KnfHuGE
+langcode: en
 uuid: 1a7d2047-f4dc-4686-a2df-c4ef2172df43
 name: 'Next.js + Drupal'
 mail: admin@example.com
@@ -8,8 +11,5 @@ page:
   front: /node/6
 admin_compact_mode: false
 weight_select_max: 100
-langcode: en
 default_langcode: en
-_core:
-  default_config_hash: yTxtFqBHnEWxQswuWvkjE8mKw2t8oKuCL1q8KnfHuGE
 mail_notification: ''

---FILE: drupal/config/system.theme.global.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: 9rAU4Pku7eMBQxauQqAgjzlcicFZ2As6zEa6zvTlCB8
 favicon:
   mimetype: image/vnd.microsoft.icon
   path: ''
@@ -12,5 +14,3 @@ logo:
   path: ''
   url: ''
   use_default: true
-_core:
-  default_config_hash: 9rAU4Pku7eMBQxauQqAgjzlcicFZ2As6zEa6zvTlCB8

---FILE: drupal/config/system.theme.yml---
@@ -1,4 +1,4 @@
-admin: ''
-default: gin
 _core:
   default_config_hash: fOjer9hADYYnbCJVZMFZIIM1azTFWyg84ZkFDHfAbUg
+admin: ''
+default: gin

---FILE: drupal/config/taxonomy.settings.yml---
@@ -1,5 +1,5 @@
+_core:
+  default_config_hash: zKpaWT6cJc1tVQQaTqatGELaCqU_oyRym6zTl27Yias
 maintain_index_table: true
 override_selector: false
 terms_per_page_admin: 100
-_core:
-  default_config_hash: zKpaWT6cJc1tVQQaTqatGELaCqU_oyRym6zTl27Yias

---FILE: drupal/config/text.settings.yml---
@@ -1,3 +1,3 @@
-default_summary_length: 600
 _core:
   default_config_hash: Bkewb77RBOK3_aXMPsp8p87gbc03NvmC5gBLzPl7hVA
+default_summary_length: 600

---FILE: drupal/config/update.settings.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: 2QzULf0zovJQx3J06Y9rufzzfi-CY2CTTlEfJJh2Qyw
 check:
   disabled_extensions: false
   interval_days: 1
@@ -9,5 +11,3 @@ notification:
   emails:
     - arshad@chummun.com
   threshold: all
-_core:
-  default_config_hash: 2QzULf0zovJQx3J06Y9rufzzfi-CY2CTTlEfJJh2Qyw

---FILE: drupal/config/user.flood.yml---
@@ -1,7 +1,7 @@
+_core:
+  default_config_hash: UYfMzeP1S8jKm9PSvxf7nQNe8DsNS-3bc2WSNNXBQWs
 uid_only: false
 ip_limit: 50
 ip_window: 3600
 user_limit: 5
 user_window: 21600
-_core:
-  default_config_hash: UYfMzeP1S8jKm9PSvxf7nQNe8DsNS-3bc2WSNNXBQWs

---FILE: drupal/config/user.mail.yml---
@@ -1,30 +1,30 @@
+_core:
+  default_config_hash: IWzNdUVX2YSiflxrGSTLIiqTrhgIzbV2C-hRL5DniJM
+langcode: en
 cancel_confirm:
-  body: ""[user:display-name],\r\n\r\nA request to cancel your account has been made at [site:name].\r\n\r\nYou may now cancel your account on [site:url-brief] by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:cancel-url]\r\n\r\nNOTE: The cancellation of your account is not reversible.\r\n\r\nThis link expires in one day and nothing will happen if it is not used.\r\n\r\n--  [site:name] team""
   subject: 'Account cancellation request for [user:display-name] at [site:name]'
+  body: ""[user:display-name],\r\n\r\nA request to cancel your account has been made at [site:name].\r\n\r\nYou may now cancel your account on [site:url-brief] by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:cancel-url]\r\n\r\nNOTE: The cancellation of your account is not reversible.\r\n\r\nThis link expires in one day and nothing will happen if it is not used.\r\n\r\n--  [site:name] team""
 password_reset:
-  body: ""[user:display-name],\r\n\r\nA request to reset the password for your account has been made at [site:name].\r\n\r\nYou may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password. It expires after one day and nothing will happen if it's not used.\r\n\r\n--  [site:name] team""
   subject: 'Replacement login information for [user:display-name] at [site:name]'
+  body: ""[user:display-name],\r\n\r\nA request to reset the password for your account has been made at [site:name].\r\n\r\nYou may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password. It expires after one day and nothing will happen if it's not used.\r\n\r\n--  [site:name] team""
 register_admin_created:
-  body: ""[user:display-name],\r\n\r\nA site administrator at [site:name] has created an account for you. You may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password.\r\n\r\nAfter setting your password, you will be able to log in at [site:login-url] in the future using:\r\n\r\nusername: [user:name]\r\npassword: Your password\r\n\r\n--  [site:name] team""
   subject: 'An administrator created an account for you at [site:name]'
+  body: ""[user:display-name],\r\n\r\nA site administrator at [site:name] has created an account for you. You may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password.\r\n\r\nAfter setting your password, you will be able to log in at [site:login-url] in the future using:\r\n\r\nusername: [user:name]\r\npassword: Your password\r\n\r\n--  [site:name] team""
 register_no_approval_required:
-  body: ""[user:display-name],\r\n\r\nThank you for registering at [site:name]. You may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password.\r\n\r\nAfter setting your password, you will be able to log in at [site:login-url] in the future using:\r\n\r\nusername: [user:name]\r\npassword: Your password\r\n\r\n--  [site:name] team""
   subject: 'Account details for [user:display-name] at [site:name]'
+  body: ""[user:display-name],\r\n\r\nThank you for registering at [site:name]. You may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password.\r\n\r\nAfter setting your password, you will be able to log in at [site:login-url] in the future using:\r\n\r\nusername: [user:name]\r\npassword: Your password\r\n\r\n--  [site:name] team""
 register_pending_approval:
-  body: ""[user:display-name],\r\n\r\nThank you for registering at [site:name]. Your application for an account is currently pending approval. Once it has been approved, you will receive another email containing information about how to log in, set your password, and other details.\r\n\r\n--  [site:name] team""
   subject: 'Account details for [user:display-name] at [site:name] (pending admin approval)'
+  body: ""[user:display-name],\r\n\r\nThank you for registering at [site:name]. Your application for an account is currently pending approval. Once it has been approved, you will receive another email containing information about how to log in, set your password, and other details.\r\n\r\n--  [site:name] team""
 register_pending_approval_admin:
-  body: ""[user:display-name] has applied for an account.\r\n\r\n[user:edit-url]""
   subject: 'Account details for [user:display-name] at [site:name] (pending admin approval)'
+  body: ""[user:display-name] has applied for an account.\r\n\r\n[user:edit-url]""
 status_activated:
-  body: ""[user:display-name],\r\n\r\nYour account at [site:name] has been activated.\r\n\r\nYou may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password.\r\n\r\nAfter setting your password, you will be able to log in at [site:login-url] in the future using:\r\n\r\nusername: [user:account-name]\r\npassword: Your password\r\n\r\n--  [site:name] team""
   subject: 'Account details for [user:display-name] at [site:name] (approved)'
+  body: ""[user:display-name],\r\n\r\nYour account at [site:name] has been activated.\r\n\r\nYou may now log in by clicking this link or copying and pasting it into your browser:\r\n\r\n[user:one-time-login-url]\r\n\r\nThis link can only be used once to log in and will lead you to a page where you can set your password.\r\n\r\nAfter setting your password, you will be able to log in at [site:login-url] in the future using:\r\n\r\nusername: [user:account-name]\r\npassword: Your password\r\n\r\n--  [site:name] team""
 status_blocked:
-  body: ""[user:display-name],\r\n\r\nYour account on [site:name] has been blocked.\r\n\r\n--  [site:name] team""
   subject: 'Account details for [user:display-name] at [site:name] (blocked)'
+  body: ""[user:display-name],\r\n\r\nYour account on [site:name] has been blocked.\r\n\r\n--  [site:name] team""
 status_canceled:
-  body: ""[user:display-name],\r\n\r\nYour account on [site:name] has been canceled.\r\n\r\n--  [site:name] team""
   subject: 'Account details for [user:display-name] at [site:name] (canceled)'
-langcode: en
-_core:
-  default_config_hash: IWzNdUVX2YSiflxrGSTLIiqTrhgIzbV2C-hRL5DniJM
+  body: ""[user:display-name],\r\n\r\nYour account on [site:name] has been canceled.\r\n\r\n--  [site:name] team""

---FILE: drupal/config/user.role.anonymous.yml---
@@ -1,20 +1,27 @@
 uuid: d5f77445-2c1d-4067-af84-7744f8b28c30
 langcode: en
 status: true
-dependencies: {  }
+dependencies:
+  config:
+    - filter.format.restricted_html
+    - rest.resource.webform_rest_submit
+  module:
+    - filter
+    - media
+    - rest
+    - simple_oauth
+    - subrequests
+    - system
 _core:
   default_config_hash: pq_mEIu_B4widZN7Ap81iCJSjShFFdcL0jEiCi8VrDk
 id: anonymous
 label: 'Anonymous user'
 weight: -10
 is_admin: false
 permissions:
-  - 'access comments'
   - 'access content'
-  - 'access site-wide contact form'
   - 'debug simple_oauth tokens'
   - 'issue subrequests'
   - 'restful post webform_rest_submit'
-  - 'search content'
   - 'use text format restricted_html'
   - 'view media'

---FILE: drupal/config/user.role.authenticated.yml---
@@ -1,23 +1,28 @@
 uuid: b74d5033-c41f-4698-ae25-f1de2d642885
 langcode: en
 status: true
-dependencies: {  }
+dependencies:
+  config:
+    - filter.format.basic_html
+    - rest.resource.webform_rest_submit
+  module:
+    - filter
+    - media
+    - rest
+    - shortcut
+    - simple_oauth
+    - system
 _core:
   default_config_hash: btW6TFHajhy7Eo6YUvdFiPh4TcPggo8GBXYctjV6zag
 id: authenticated
 label: 'Authenticated user'
 weight: -9
 is_admin: false
 permissions:
-  - 'access comments'
   - 'access content'
   - 'access shortcuts'
-  - 'access site-wide contact form'
   - 'debug simple_oauth tokens'
   - 'grant simple_oauth codes'
-  - 'post comments'
   - 'restful post webform_rest_submit'
-  - 'search content'
-  - 'skip comment approval'
   - 'use text format basic_html'
   - 'view media'

---FILE: drupal/config/user.role.next_site_previewer.yml---
@@ -1,14 +1,17 @@
 uuid: f64766d1-4bb5-4d96-93c9-6f8e66868450
 langcode: en
 status: true
-dependencies: {  }
+dependencies:
+  module:
+    - node
+    - simple_oauth
+    - subrequests
 id: next_site_previewer
 label: 'Next site previewer'
 weight: -8
 is_admin: null
 permissions:
   - 'access user profiles'
-  - 'administer meta tags'
   - 'bypass node access'
   - 'debug simple_oauth tokens'
   - 'issue subrequests'

---FILE: drupal/config/user.settings.yml---
@@ -1,3 +1,6 @@
+_core:
+  default_config_hash: w314Zp7B4NbrlV4KeeZLNSmTTpdJiv-KwZO2E1fSSK0
+langcode: en
 anonymous: Anonymous
 verify_mail: true
 notify:
@@ -13,6 +16,3 @@ register: admin_only
 cancel_method: user_cancel_block
 password_reset_timeout: 86400
 password_strength: true
-langcode: en
-_core:
-  default_config_hash: w314Zp7B4NbrlV4KeeZLNSmTTpdJiv-KwZO2E1fSSK0

---FILE: drupal/config/views.settings.yml---
@@ -1,3 +1,5 @@
+_core:
+  default_config_hash: RaRd9EIcwA4u3qCSRLL8EnCicbda1kV__ASmVbyehvQ
 display_extenders:
   - jsonapi_views
 skip_cache: false
@@ -6,13 +8,13 @@ ui:
   show:
     additional_queries: false
     advanced_column: false
+    default_display: false
     performance_statistics: false
     preview_information: true
     sql_query:
       enabled: false
       where: above
     display_embed: false
-    default_display: false
   always_live_preview: true
   exposed_filter_any_label: old_any
 field_rewrite_elements:
@@ -45,5 +47,3 @@ field_rewrite_elements:
   ins: INS
   q: Q
   s: S
-_core:
-  default_config_hash: RaRd9EIcwA4u3qCSRLL8EnCicbda1kV__ASmVbyehvQ

---FILE: drupal/config/views.view.archive.yml---
@@ -23,39 +23,18 @@ display:
     display_plugin: default
     position: 0
     display_options:
-      query:
-        type: views_query
-        options:
-          query_comment: ''
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_tags: {  }
       title: 'Monthly archive'
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
+      fields: {  }
       pager:
         type: mini
         options:
-          items_per_page: 10
           offset: 0
-          id: 0
+          items_per_page: 10
           total_pages: 0
+          id: 0
+          tags:
+            next: 
+            previous: 
           expose:
             items_per_page: false
             items_per_page_label: 'Items per page'
@@ -64,66 +43,85 @@ display:
             items_per_page_options_all_label: '- All -'
             offset: false
             offset_label: Offset
-          tags:
-            previous: 
-            next: 
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty: {  }
       sorts:
         created:
           id: created
           table: node_field_data
           field: created
-          order: DESC
-          plugin_id: date
           relationship: none
           group_type: group
           admin_label: ''
-          exposed: false
+          entity_type: node
+          entity_field: created
+          plugin_id: date
+          order: DESC
           expose:
             label: ''
+            field_identifier: created
+          exposed: false
           granularity: second
-          entity_type: node
-          entity_field: created
       arguments:
         created_year_month:
           id: created_year_month
           table: node_field_data
           field: created_year_month
+          entity_type: node
+          plugin_id: date_year_month
           default_action: summary
           exception:
             title_enable: true
           title_enable: true
           title: '{{ arguments.created_year_month }}'
           default_argument_type: fixed
-          summary:
-            sort_order: desc
-            format: default_summary
           summary_options:
             override: true
             items_per_page: 30
+          summary:
+            sort_order: desc
+            format: default_summary
           specify_validation: true
-          plugin_id: date_year_month
-          entity_type: node
       filters:
         status:
           id: status
           table: node_field_data
           field: status
+          entity_type: node
+          entity_field: status
+          plugin_id: boolean
           value: '1'
           group: 0
           expose:
             operator: '0'
             operator_limit_selection: false
             operator_list: {  }
-          plugin_id: boolean
-          entity_type: node
-          entity_field: status
         langcode:
           id: langcode
           table: node_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value:
             '***LANGUAGE_language_content***': '***LANGUAGE_language_content***'
@@ -135,15 +133,15 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -156,9 +154,6 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: language
-          entity_type: node
-          entity_field: langcode
       style:
         type: default
         options:
@@ -170,59 +165,65 @@ display:
         type: 'entity:node'
         options:
           view_mode: teaser
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
       header: {  }
       footer: {  }
-      empty: {  }
-      relationships: {  }
-      fields: {  }
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   block_1:
     id: block_1
     display_title: Block
     display_plugin: block
     position: 1
     display_options:
-      query:
-        type: views_query
-        options: {  }
-      defaults:
-        arguments: false
       arguments:
         created_year_month:
           id: created_year_month
           table: node_field_data
           field: created_year_month
+          entity_type: node
+          plugin_id: date_year_month
           default_action: summary
           exception:
             title_enable: true
           title_enable: true
           title: '{{ arguments.created_year_month }}'
           default_argument_type: fixed
-          summary:
-            format: default_summary
           summary_options:
             items_per_page: 30
+          summary:
+            format: default_summary
           specify_validation: true
-          plugin_id: date_year_month
-          entity_type: node
+      query:
+        type: views_query
+        options: {  }
+      defaults:
+        arguments: false
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   page_1:
     id: page_1
@@ -233,14 +234,14 @@ display:
       query:
         type: views_query
         options: {  }
-      path: archive
       display_extenders: {  }
+      path: archive
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.block_content.yml---
@@ -16,103 +16,12 @@ base_table: block_content_field_data
 base_field: id
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'administer blocks'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: mini
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: null
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            info: info
-            type: type
-            changed: changed
-            operations: operations
-          info:
-            info:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            type:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            changed:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            operations:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: changed
-          empty_table: true
-      row:
-        type: fields
+      title: 'Custom block library'
       fields:
         info:
           id: info
@@ -121,6 +30,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: null
+          entity_field: info
+          plugin_id: field
           label: 'Block description'
           exclude: false
           alter:
@@ -176,16 +88,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: null
-          entity_field: info
-          plugin_id: field
         type:
           id: type
           table: block_content_field_data
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: block_content
+          entity_field: type
+          plugin_id: field
           label: 'Block type'
           exclude: false
           alter:
@@ -241,16 +153,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: block_content
-          entity_field: type
-          plugin_id: field
         changed:
           id: changed
           table: block_content_field_data
           field: changed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: block_content
+          entity_field: changed
+          plugin_id: field
           label: Updated
           exclude: false
           alter:
@@ -292,21 +204,20 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          entity_type: block_content
-          entity_field: changed
           type: timestamp
           settings:
             date_format: short
             custom_date_format: ''
             timezone: ''
-          plugin_id: field
         operations:
           id: operations
           table: block_content
           field: operations
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: block_content
+          plugin_id: entity_operations
           label: Operations
           exclude: false
           alter:
@@ -349,8 +260,66 @@ display:
           empty_zero: false
           hide_alter_empty: true
           destination: true
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 50
+          total_pages: null
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'administer blocks'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'There are no custom blocks available.'
+          tokenize: false
+        block_content_listing_empty:
+          id: block_content_listing_empty
+          table: block_content
+          field: block_content_listing_empty
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: block_content
-          plugin_id: entity_operations
+          plugin_id: block_content_listing_empty
+          label: ''
+          empty: true
+      sorts: {  }
+      arguments: {  }
       filters:
         info:
           id: info
@@ -359,6 +328,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: block_content
+          entity_field: info
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -369,6 +341,8 @@ display:
             description: ''
             use_operator: false
             operator: info_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: info
             required: false
             remember: false
@@ -377,8 +351,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -391,16 +363,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: block_content
-          entity_field: info
-          plugin_id: string
         type:
           id: type
           table: block_content_field_data
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: block_content
+          entity_field: type
+          plugin_id: bundle
           operator: in
           value: {  }
           group: 1
@@ -411,6 +383,8 @@ display:
             description: ''
             use_operator: false
             operator: type_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: type
             required: false
             remember: false
@@ -420,8 +394,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -434,16 +406,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: block_content
-          entity_field: type
-          plugin_id: bundle
         reusable:
           id: reusable
           table: block_content_field_data
           field: reusable
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: block_content
+          entity_field: reusable
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -454,14 +426,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -474,52 +446,80 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: block_content
-          entity_field: reusable
-          plugin_id: boolean
-      sorts: {  }
-      title: 'Custom block library'
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            info: info
+            type: type
+            changed: changed
+            operations: operations
+          default: changed
+          info:
+            info:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            type:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            changed:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            operations:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: true
+          caption: ''
+          description: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
       header: {  }
       footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'There are no custom blocks available.'
-          plugin_id: text_custom
-        block_content_listing_empty:
-          admin_label: ''
-          empty: true
-          field: block_content_listing_empty
-          group_type: group
-          id: block_content_listing_empty
-          label: ''
-          relationship: none
-          table: block_content
-          plugin_id: block_content_listing_empty
-          entity_type: block_content
-      relationships: {  }
-      arguments: {  }
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: -1
       tags: {  }
   page_1:
-    display_plugin: page
     id: page_1
     display_title: Page
+    display_plugin: page
     position: 1
     display_options:
       display_extenders: {  }
@@ -528,16 +528,16 @@ display:
         type: tab
         title: 'Custom block library'
         description: ''
-        parent: block.admin_display
         weight: 0
-        context: '0'
         menu_name: admin
+        parent: block.admin_display
+        context: '0'
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.content.yml---
@@ -16,134 +16,19 @@ base_table: node_field_data
 base_field: nid
 display:
   default:
+    id: default
+    display_title: Master
+    display_plugin: default
+    position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access content overview'
-      cache:
-        type: tag
-      query:
-        type: views_query
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Filter
-          reset_button: true
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 50
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-            first: ' First'
-            last: 'Last '
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: true
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            node_bulk_form: node_bulk_form
-            title: title
-            type: type
-            name: name
-            status: status
-            changed: changed
-            edit_node: edit_node
-            delete_node: delete_node
-            dropbutton: dropbutton
-            timestamp: title
-          info:
-            node_bulk_form:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            title:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            type:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            name:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            status:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            changed:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            edit_node:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            delete_node:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            dropbutton:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            timestamp:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: changed
-          empty_table: true
-      row:
-        type: fields
+      title: Content
       fields:
         node_bulk_form:
           id: node_bulk_form
           table: node
           field: node_bulk_form
+          entity_type: node
+          plugin_id: node_bulk_form
           label: ''
           exclude: false
           alter:
@@ -154,12 +39,13 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: node_bulk_form
-          entity_type: node
         title:
           id: title
           table: node_field_data
           field: title
+          entity_type: node
+          entity_field: title
+          plugin_id: field
           label: Title
           exclude: false
           alter:
@@ -170,19 +56,19 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          entity_type: node
-          entity_field: title
           type: string
           settings:
             link_to_entity: true
-          plugin_id: field
         type:
           id: type
           table: node_field_data
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: type
+          plugin_id: field
           label: 'Content type'
           exclude: false
           alter:
@@ -238,14 +124,14 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: node
-          entity_field: type
-          plugin_id: field
         name:
           id: name
           table: users_field_data
           field: name
           relationship: uid
+          entity_type: user
+          entity_field: name
+          plugin_id: field
           label: Author
           exclude: false
           alter:
@@ -256,14 +142,14 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: field
           type: user_name
-          entity_type: user
-          entity_field: name
         status:
           id: status
           table: node_field_data
           field: status
+          entity_type: node
+          entity_field: status
+          plugin_id: field
           label: Status
           exclude: false
           alter:
@@ -277,15 +163,15 @@ display:
           type: boolean
           settings:
             format: custom
-            format_custom_true: Published
             format_custom_false: Unpublished
-          plugin_id: field
-          entity_type: node
-          entity_field: status
+            format_custom_true: Published
         changed:
           id: changed
           table: node_field_data
           field: changed
+          entity_type: node
+          entity_field: changed
+          plugin_id: field
           label: Updated
           exclude: false
           alter:
@@ -301,16 +187,14 @@ display:
             date_format: short
             custom_date_format: ''
             timezone: ''
-          plugin_id: field
-          entity_type: node
-          entity_field: changed
         operations:
           id: operations
           table: node
           field: operations
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: entity_operations
           label: Operations
           exclude: false
           alter:
@@ -353,7 +237,41 @@ display:
           empty_zero: false
           hide_alter_empty: true
           destination: true
-          plugin_id: entity_operations
+      pager:
+        type: full
+        options:
+          items_per_page: 50
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+            first: ' First'
+            last: 'Last '
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Filter
+          reset_button: true
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content overview'
+      cache:
+        type: tag
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          plugin_id: text_custom
+          empty: true
+          content: 'No content available.'
+      sorts: {  }
+      arguments: {  }
       filters:
         title:
           id: title
@@ -362,6 +280,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: title
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -372,6 +293,8 @@ display:
             description: ''
             use_operator: false
             operator: title_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: title
             required: false
             remember: false
@@ -380,8 +303,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -394,16 +315,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: string
-          entity_type: node
-          entity_field: title
         type:
           id: type
           table: node_field_data
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: type
+          plugin_id: bundle
           operator: in
           value: {  }
           group: 1
@@ -414,6 +335,8 @@ display:
             description: ''
             use_operator: false
             operator: type_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: type
             required: false
             remember: false
@@ -423,8 +346,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -437,16 +358,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: bundle
-          entity_type: node
-          entity_field: type
         status:
           id: status
           table: node_field_data
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: status
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -457,14 +378,14 @@ display:
             description: ''
             use_operator: false
             operator: status_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: status
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: true
           group_info:
             label: 'Published status'
@@ -485,16 +406,16 @@ display:
                 title: Unpublished
                 operator: '='
                 value: '0'
-          plugin_id: boolean
-          entity_type: node
-          entity_field: status
         langcode:
           id: langcode
           table: node_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value: {  }
           group: 1
@@ -505,6 +426,8 @@ display:
             description: ''
             use_operator: false
             operator: langcode_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: langcode
             required: false
             remember: false
@@ -514,8 +437,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -528,46 +449,128 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: language
-          entity_type: node
-          entity_field: langcode
         status_extra:
           id: status_extra
           table: node_field_data
           field: status_extra
+          entity_type: node
+          plugin_id: node_status
           operator: '='
           value: false
-          plugin_id: node_status
           group: 1
-          entity_type: node
           expose:
             operator_limit_selection: false
             operator_list: {  }
-      sorts: {  }
-      title: Content
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          empty: true
-          content: 'No content available.'
-          plugin_id: text_custom
-      arguments: {  }
+      filter_groups:
+        operator: AND
+        groups:
+          1: AND
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            node_bulk_form: node_bulk_form
+            title: title
+            type: type
+            name: name
+            status: status
+            changed: changed
+            edit_node: edit_node
+            delete_node: delete_node
+            dropbutton: dropbutton
+            timestamp: title
+          default: changed
+          info:
+            node_bulk_form:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            title:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            type:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            name:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            status:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            changed:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            edit_node:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            delete_node:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            dropbutton:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            timestamp:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: true
+          summary: ''
+          empty_table: true
+          caption: ''
+          description: ''
+      row:
+        type: fields
+      query:
+        type: views_query
       relationships:
         uid:
           id: uid
           table: node_field_data
           field: uid
           admin_label: author
-          required: true
           plugin_id: standard
+          required: true
       show_admin_links: false
-      filter_groups:
-        operator: AND
-        groups:
-          1: AND
-      display_extenders: {  }
       header:
         result:
           id: result
@@ -576,14 +579,12 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: result
           empty: false
           content: 'Displaying @start - @end of @total'
-          plugin_id: result
-    display_plugin: default
-    display_title: Master
-    id: default
-    position: 0
+      display_extenders: {  }
     cache_metadata:
+      max-age: 0
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
@@ -592,30 +593,30 @@ display:
         - user
         - 'user.node_grants:view'
         - user.permissions
-      max-age: 0
       tags: {  }
   page_1:
+    id: page_1
+    display_title: Page
+    display_plugin: page
+    position: 1
     display_options:
+      display_extenders: {  }
       path: admin/content/node
       menu:
         type: 'default tab'
         title: Content
         description: ''
-        menu_name: admin
         weight: -10
+        menu_name: admin
         context: ''
       tab_options:
         type: normal
         title: Content
         description: 'Find and manage content'
-        menu_name: admin
         weight: -10
-      display_extenders: {  }
-    display_plugin: page
-    display_title: Page
-    id: page_1
-    position: 1
+        menu_name: admin
     cache_metadata:
+      max-age: 0
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
@@ -624,5 +625,4 @@ display:
         - user
         - 'user.node_grants:view'
         - user.permissions
-      max-age: 0
       tags: {  }

---FILE: drupal/config/views.view.content_recent.yml---
@@ -16,75 +16,34 @@ base_table: node_field_data
 base_field: nid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: some
-        options:
-          items_per_page: 10
-          offset: 0
-      style:
-        type: html_list
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          type: ul
-          wrapper_class: item-list
-          class: ''
-      row:
-        type: fields
+      title: 'Recent content'
       fields:
         title:
           id: title
           table: node_field_data
           field: title
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: node
           entity_field: title
+          plugin_id: field
           label: ''
           exclude: false
           alter:
             alter_text: false
             make_link: false
             absolute: false
-            trim: false
             word_boundary: false
             ellipsis: false
             strip_tags: false
+            trim: false
             html: false
-          hide_empty: false
-          empty_zero: false
-          relationship: none
-          group_type: group
-          admin_label: ''
           element_type: ''
           element_class: ''
           element_label_type: ''
@@ -94,18 +53,22 @@ display:
           element_wrapper_class: ''
           element_default_classes: true
           empty: ''
+          hide_empty: false
+          empty_zero: false
           hide_alter_empty: true
           type: string
           settings:
             link_to_entity: true
-          plugin_id: field
         changed:
           id: changed
           table: node_field_data
           field: changed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: changed
+          plugin_id: field
           label: ''
           exclude: false
           alter:
@@ -160,9 +123,58 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
+      pager:
+        type: some
+        options:
+          offset: 0
+          items_per_page: 10
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'No content available.'
+          tokenize: false
+      sorts:
+        changed:
+          id: changed
+          table: node_field_data
+          field: changed
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: node
           entity_field: changed
-          plugin_id: field
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: changed
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         status_extra:
           id: status_extra
@@ -171,6 +183,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          plugin_id: node_status
           operator: '='
           value: false
           group: 1
@@ -181,14 +195,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -201,15 +215,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: node
-          plugin_id: node_status
         langcode:
           id: langcode
           table: node_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value:
             '***LANGUAGE_language_content***': '***LANGUAGE_language_content***'
@@ -221,15 +236,15 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -242,40 +257,25 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: node
-          entity_field: langcode
-          plugin_id: language
-      sorts:
-        changed:
-          id: changed
-          table: node_field_data
-          field: changed
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-          entity_type: node
-          entity_field: changed
-          plugin_id: date
-      title: 'Recent content'
-      header: {  }
-      footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'No content available.'
-          plugin_id: text_custom
+      style:
+        type: html_list
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          type: ul
+          wrapper_class: item-list
+          class: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
       relationships:
         uid:
           id: uid
@@ -284,39 +284,40 @@ display:
           relationship: none
           group_type: group
           admin_label: author
-          required: true
           entity_type: node
           entity_field: uid
           plugin_id: standard
-      arguments: {  }
-      display_extenders: {  }
+          required: true
       use_more: false
       use_more_always: false
       use_more_text: More
-      link_url: ''
       link_display: '0'
+      link_url: ''
+      header: {  }
+      footer: {  }
+      display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - user
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   block_1:
-    display_plugin: block
     id: block_1
     display_title: Block
+    display_plugin: block
     position: 1
     display_options:
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - user
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.files.yml---
@@ -16,156 +16,34 @@ base_table: file_managed
 base_field: fid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access files overview'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Filter
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: mini
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: 0
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            fid: fid
-            filename: filename
-            filemime: filemime
-            filesize: filesize
-            status: status
-            created: created
-            changed: changed
-            count: count
-          info:
-            fid:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            filename:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            filemime:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-medium
-            filesize:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            status:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            created:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            changed:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            count:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-medium
-          default: changed
-          empty_table: true
-      row:
-        type: fields
+      title: Files
       fields:
         fid:
           id: fid
           table: file_managed
           field: fid
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: file
+          entity_field: fid
+          plugin_id: field
+          label: Fid
+          exclude: true
           alter:
             alter_text: false
             make_link: false
             absolute: false
-            trim: false
             word_boundary: false
             ellipsis: false
             strip_tags: false
+            trim: false
             html: false
-          hide_empty: false
-          empty_zero: false
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Fid
-          exclude: true
           element_type: ''
           element_class: ''
           element_label_type: ''
@@ -175,17 +53,19 @@ display:
           element_wrapper_class: ''
           element_default_classes: true
           empty: ''
+          hide_empty: false
+          empty_zero: false
           hide_alter_empty: true
-          plugin_id: field
-          entity_type: file
-          entity_field: fid
         filename:
           id: filename
           table: file_managed
           field: filename
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: filename
+          plugin_id: field
           label: Name
           exclude: false
           alter:
@@ -239,16 +119,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          plugin_id: field
-          entity_type: file
-          entity_field: filename
         filemime:
           id: filemime
           table: file_managed
           field: filemime
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: filemime
+          plugin_id: field
           label: 'MIME type'
           exclude: false
           alter:
@@ -291,16 +171,16 @@ display:
           empty_zero: false
           hide_alter_empty: true
           type: file_filemime
-          plugin_id: field
-          entity_type: file
-          entity_field: filemime
         filesize:
           id: filesize
           table: file_managed
           field: filesize
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: filesize
+          plugin_id: field
           label: Size
           exclude: false
           alter:
@@ -343,16 +223,16 @@ display:
           empty_zero: false
           hide_alter_empty: true
           type: file_size
-          plugin_id: field
-          entity_type: file
-          entity_field: filesize
         status:
           id: status
           table: file_managed
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: status
+          plugin_id: field
           label: Status
           exclude: false
           alter:
@@ -399,16 +279,16 @@ display:
             format: custom
             format_custom_false: Temporary
             format_custom_true: Permanent
-          plugin_id: field
-          entity_type: file
-          entity_field: status
         created:
           id: created
           table: file_managed
           field: created
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: created
+          plugin_id: field
           label: 'Upload date'
           exclude: false
           alter:
@@ -455,16 +335,16 @@ display:
             date_format: medium
             custom_date_format: ''
             timezone: ''
-          plugin_id: field
-          entity_type: file
-          entity_field: created
         changed:
           id: changed
           table: file_managed
           field: changed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: changed
+          plugin_id: field
           label: 'Changed date'
           exclude: false
           alter:
@@ -511,16 +391,14 @@ display:
             date_format: medium
             custom_date_format: ''
             timezone: ''
-          plugin_id: field
-          entity_type: file
-          entity_field: changed
         count:
           id: count
           table: file_usage
           field: count
           relationship: fid
           group_type: sum
           admin_label: ''
+          plugin_id: numeric
           label: 'Used in'
           exclude: false
           alter:
@@ -570,7 +448,51 @@ display:
           format_plural_string: !!binary MSBwbGFjZQNAY291bnQgcGxhY2Vz
           prefix: ''
           suffix: ''
-          plugin_id: numeric
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 50
+          total_pages: 0
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Filter
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access files overview'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          plugin_id: text_custom
+          empty: true
+          content: 'No files available.'
+      sorts: {  }
+      arguments: {  }
       filters:
         filename:
           id: filename
@@ -579,6 +501,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: filename
+          plugin_id: string
           operator: word
           value: ''
           group: 1
@@ -589,6 +514,8 @@ display:
             description: ''
             use_operator: false
             operator: filename_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: filename
             required: false
             remember: false
@@ -597,8 +524,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -611,16 +536,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: string
-          entity_type: file
-          entity_field: filename
         filemime:
           id: filemime
           table: file_managed
           field: filemime
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: filemime
+          plugin_id: string
           operator: word
           value: ''
           group: 1
@@ -631,6 +556,8 @@ display:
             description: ''
             use_operator: false
             operator: filemime_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: filemime
             required: false
             remember: false
@@ -639,8 +566,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -653,16 +578,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: string
-          entity_type: file
-          entity_field: filemime
         status:
           id: status
           table: file_managed
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: status
+          plugin_id: file_status
           operator: in
           value: {  }
           group: 1
@@ -673,6 +598,8 @@ display:
             description: ''
             use_operator: false
             operator: status_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: status
             required: false
             remember: false
@@ -682,8 +609,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -696,21 +621,95 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: file_status
-          entity_type: file
-          entity_field: status
-      sorts: {  }
-      title: Files
-      header: {  }
-      footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          empty: true
-          content: 'No files available.'
-          plugin_id: text_custom
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            fid: fid
+            filename: filename
+            filemime: filemime
+            filesize: filesize
+            status: status
+            created: created
+            changed: changed
+            count: count
+          default: changed
+          info:
+            fid:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            filename:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            filemime:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-medium
+            filesize:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            status:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            created:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            changed:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            count:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-medium
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: true
+          caption: ''
+          description: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
       relationships:
         fid:
           id: fid
@@ -720,34 +719,26 @@ display:
           group_type: group
           admin_label: 'File usage'
           required: true
-      arguments: {  }
       group_by: true
       show_admin_links: true
+      header: {  }
+      footer: {  }
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: -1
       tags: {  }
   page_1:
-    display_plugin: page
     id: page_1
     display_title: 'Files overview'
+    display_plugin: page
     position: 1
     display_options:
-      path: admin/content/files
-      menu:
-        type: tab
-        title: Files
-        description: ''
-        menu_name: admin
-        weight: 0
-        context: ''
-      display_description: ''
       defaults:
         pager: true
         relationships: false
@@ -760,59 +751,32 @@ display:
           group_type: group
           admin_label: 'File usage'
           required: false
+      display_description: ''
       display_extenders: {  }
+      path: admin/content/files
+      menu:
+        type: tab
+        title: Files
+        description: ''
+        weight: 0
+        menu_name: admin
+        context: ''
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: -1
       tags: {  }
   page_2:
-    display_plugin: page
     id: page_2
     display_title: 'File usage'
+    display_plugin: page
     position: 2
     display_options:
-      display_description: ''
-      path: admin/content/files/usage/%
-      empty: {  }
-      defaults:
-        empty: false
-        pager: false
-        filters: false
-        filter_groups: false
-        fields: false
-        group_by: false
-        title: false
-        arguments: false
-        style: false
-        row: false
-        relationships: false
-      pager:
-        type: mini
-        options:
-          items_per_page: 10
-          offset: 0
-          id: 0
-          total_pages: 0
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-      filters: {  }
-      filter_groups:
-        operator: AND
-        groups: {  }
+      title: 'File usage'
       fields:
         entity_label:
           id: entity_label
@@ -821,6 +785,7 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: entity_label
           label: Entity
           exclude: false
           alter:
@@ -863,14 +828,14 @@ display:
           empty_zero: false
           hide_alter_empty: true
           link_to_entity: true
-          plugin_id: entity_label
         type:
           id: type
           table: file_usage
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: standard
           label: 'Entity type'
           exclude: false
           alter:
@@ -912,14 +877,14 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: standard
         module:
           id: module
           table: file_usage
           field: module
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: standard
           label: 'Registering module'
           exclude: false
           alter:
@@ -961,14 +926,14 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: standard
         count:
           id: count
           table: file_usage
           field: count
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: numeric
           label: 'Use count'
           exclude: false
           alter:
@@ -1018,9 +983,25 @@ display:
           format_plural_string: !!binary MQNAY291bnQ=
           prefix: ''
           suffix: ''
-          plugin_id: numeric
-      group_by: false
-      title: 'File usage'
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 10
+          total_pages: 0
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      empty: {  }
       arguments:
         fid:
           id: fid
@@ -1029,6 +1010,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: file
+          entity_field: fid
+          plugin_id: file_fid
           default_action: 'not found'
           exception:
             value: all
@@ -1043,8 +1027,8 @@ display:
           summary_options:
             base_path: ''
             count: true
-            items_per_page: 25
             override: false
+            items_per_page: 25
           summary:
             sort_order: asc
             number_of_records: 0
@@ -1056,25 +1040,22 @@ display:
           validate_options: {  }
           break_phrase: false
           not: false
-          plugin_id: file_fid
-          entity_type: file
-          entity_field: fid
+      filters: {  }
+      filter_groups:
+        operator: AND
+        groups: {  }
       style:
         type: table
         options:
           grouping: {  }
           row_class: ''
           default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
           columns:
             entity_label: entity_label
             type: type
             module: module
             count: count
+          default: entity_label
           info:
             entity_label:
               sortable: true
@@ -1104,11 +1085,27 @@ display:
               separator: ''
               empty_column: false
               responsive: ''
-          default: entity_label
+          override: true
+          sticky: false
+          summary: ''
           empty_table: true
+          caption: ''
+          description: ''
       row:
         type: fields
         options: {  }
+      defaults:
+        empty: false
+        title: false
+        pager: false
+        group_by: false
+        style: false
+        row: false
+        relationships: false
+        fields: false
+        arguments: false
+        filters: false
+        filter_groups: false
       relationships:
         fid:
           id: fid
@@ -1118,12 +1115,15 @@ display:
           group_type: group
           admin_label: 'File usage'
           required: true
+      group_by: false
+      display_description: ''
       display_extenders: {  }
+      path: admin/content/files/usage/%
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.frontpage.yml---
@@ -19,7 +19,44 @@ base_table: node_field_data
 base_field: nid
 display:
   default:
+    id: default
+    display_title: Master
+    display_plugin: default
+    position: 0
     display_options:
+      title: ''
+      fields: {  }
+      pager:
+        type: full
+        options:
+          offset: 0
+          items_per_page: 10
+          total_pages: 0
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+            first: ' First'
+            last: 'Last '
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+          quantity: 9
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
       access:
         type: perm
         options:
@@ -29,110 +66,136 @@ display:
         options: {  }
       empty:
         area_text_custom:
-          admin_label: ''
-          content: 'No front page content has been created yet.<br/>Follow the <a target=""_blank"" href=""https://www.drupal.org/docs/user_guide/en/index.html"">User Guide</a> to start building your site.'
-          empty: true
+          id: area_text_custom
+          table: views
           field: area_text_custom
+          relationship: none
           group_type: group
-          id: area_text_custom
+          admin_label: ''
+          plugin_id: text_custom
           label: ''
-          relationship: none
-          table: views
+          empty: true
+          content: 'No front page content has been created yet.<br/>Follow the <a target=""_blank"" href=""https://www.drupal.org/docs/user_guide/en/index.html"">User Guide</a> to start building your site.'
           tokenize: false
-          plugin_id: text_custom
         node_listing_empty:
-          admin_label: ''
-          empty: true
-          field: node_listing_empty
-          group_type: group
           id: node_listing_empty
-          label: ''
-          relationship: none
           table: node
-          plugin_id: node_listing_empty
+          field: node_listing_empty
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: node
+          plugin_id: node_listing_empty
+          label: ''
+          empty: true
         title:
           id: title
           table: views
           field: title
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: title
           label: ''
           empty: true
           title: 'Welcome to [site:name]'
-          plugin_id: title
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
+      sorts:
+        sticky:
+          id: sticky
+          table: node_field_data
+          field: sticky
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: node
+          entity_field: sticky
+          plugin_id: boolean
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: sticky
+          exposed: false
+        created:
+          id: created
+          table: node_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: node
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: created
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         promote:
+          id: promote
+          table: node_field_data
+          field: promote
+          relationship: none
+          group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: promote
+          plugin_id: boolean
+          operator: '='
+          value: '1'
+          group: 1
+          exposed: false
           expose:
-            description: ''
-            identifier: ''
+            operator_id: ''
             label: ''
-            multiple: false
+            description: ''
+            use_operator: false
             operator: ''
-            operator_id: ''
+            operator_limit_selection: false
+            operator_list: {  }
+            identifier: ''
+            required: false
             remember: false
+            multiple: false
             remember_roles:
               authenticated: authenticated
-            required: false
-            use_operator: false
-            operator_limit_selection: false
-            operator_list: {  }
-          exposed: false
-          field: promote
-          group: 1
+          is_grouped: false
           group_info:
-            default_group: All
-            default_group_multiple: {  }
+            label: ''
             description: ''
-            group_items: {  }
             identifier: ''
-            label: ''
-            multiple: false
             optional: true
-            remember: false
             widget: select
-          group_type: group
-          id: promote
-          is_grouped: false
-          operator: '='
-          relationship: none
+            multiple: false
+            remember: false
+            default_group: All
+            default_group_multiple: {  }
+            group_items: {  }
+        status:
+          id: status
           table: node_field_data
-          value: '1'
-          plugin_id: boolean
+          field: status
           entity_type: node
-          entity_field: promote
-        status:
+          entity_field: status
+          plugin_id: boolean
+          value: '1'
+          group: 1
           expose:
             operator: ''
             operator_limit_selection: false
             operator_list: {  }
-          field: status
-          group: 1
-          id: status
-          table: node_field_data
-          value: '1'
-          plugin_id: boolean
-          entity_type: node
-          entity_field: status
         langcode:
           id: langcode
           table: node_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value:
             '***LANGUAGE_language_content***': '***LANGUAGE_language_content***'
@@ -144,15 +207,15 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -165,146 +228,85 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: language
-          entity_type: node
-          entity_field: langcode
-      pager:
-        type: full
+      style:
+        type: default
         options:
-          items_per_page: 10
-          offset: 0
-          id: 0
-          total_pages: 0
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-            first: ' First'
-            last: 'Last '
-          quantity: 9
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          uses_fields: false
+      row:
+        type: 'entity:node'
+        options:
+          view_mode: teaser
       query:
         type: views_query
         options:
+          query_comment: ''
           disable_sql_rewrite: false
           distinct: false
           replica: false
-          query_comment: ''
           query_tags: {  }
-      row:
-        type: 'entity:node'
-        options:
-          view_mode: teaser
-      sorts:
-        sticky:
-          admin_label: ''
-          expose:
-            label: ''
-          exposed: false
-          field: sticky
-          group_type: group
-          id: sticky
-          order: DESC
-          relationship: none
-          table: node_field_data
-          plugin_id: boolean
-          entity_type: node
-          entity_field: sticky
-        created:
-          field: created
-          id: created
-          order: DESC
-          table: node_field_data
-          plugin_id: date
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-          entity_type: node
-          entity_field: created
-      style:
-        type: default
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          uses_fields: false
-      title: ''
+      relationships: {  }
       header: {  }
       footer: {  }
-      relationships: {  }
-      fields: {  }
-      arguments: {  }
       display_extenders: {  }
-    display_plugin: default
-    display_title: Master
-    id: default
-    position: 0
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   feed_1:
-    display_plugin: feed
     id: feed_1
     display_title: Feed
+    display_plugin: feed
     position: 2
     display_options:
-      sitename_title: true
-      path: rss.xml
-      displays:
-        page_1: page_1
-        default: ''
       pager:
         type: some
         options:
-          items_per_page: 10
           offset: 0
+          items_per_page: 10
       style:
         type: rss
         options:
-          description: ''
           grouping: {  }
           uses_fields: false
+          description: ''
       row:
         type: node_rss
         options:
           relationship: none
           view_mode: rss
       display_extenders: {  }
+      path: rss.xml
+      sitename_title: true
+      displays:
+        page_1: page_1
+        default: ''
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   page_1:
-    display_options:
-      path: node
-      display_extenders: {  }
-    display_plugin: page
-    display_title: Page
     id: page_1
+    display_title: Page
+    display_plugin: page
     position: 1
+    display_options:
+      display_extenders: {  }
+      path: node
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.glossary.yml---
@@ -23,59 +23,17 @@ display:
     display_plugin: default
     position: 0
     display_options:
-      query:
-        type: views_query
-        options:
-          query_comment: ''
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_tags: {  }
-      use_ajax: true
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: mini
-        options:
-          items_per_page: 36
-          offset: 0
-          id: 0
-          total_pages: 0
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          tags:
-            previous: 
-            next: 
       fields:
         title:
           id: title
           table: node_field_data
           field: title
-          plugin_id: field
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: title
+          plugin_id: field
           label: Title
           exclude: false
           alter:
@@ -117,18 +75,17 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          entity_type: node
-          entity_field: title
         name:
           id: name
           table: users_field_data
           field: name
-          label: Author
           relationship: uid
-          plugin_id: field
-          type: user_name
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: name
+          plugin_id: field
+          label: Author
           exclude: false
           alter:
             alter_text: false
@@ -169,22 +126,18 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          entity_type: user
-          entity_field: name
+          type: user_name
         changed:
           id: changed
           table: node_field_data
           field: changed
-          label: 'Last update'
-          type: timestamp
-          settings:
-            date_format: long
-            custom_date_format: ''
-            timezone: ''
-          plugin_id: field
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: changed
+          plugin_id: field
+          label: 'Last update'
           exclude: false
           alter:
             alter_text: false
@@ -225,90 +178,82 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          entity_type: node
-          entity_field: changed
+          type: timestamp
+          settings:
+            date_format: long
+            custom_date_format: ''
+            timezone: ''
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 36
+          total_pages: 0
+          id: 0
+          tags:
+            next: 
+            previous: 
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty: {  }
+      sorts: {  }
       arguments:
         title:
           id: title
           table: node_field_data
           field: title
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: node
+          entity_field: title
+          plugin_id: string
           default_action: default
           exception:
             title_enable: true
+          title_enable: false
+          title: ''
           default_argument_type: fixed
           default_argument_options:
             argument: a
+          default_argument_skip_url: false
+          summary_options: {  }
           summary:
             format: default_summary
           specify_validation: true
+          validate:
+            type: none
+            fail: 'not found'
+          validate_options: {  }
           glossary: true
           limit: 1
           case: upper
           path_case: lower
           transform_dash: false
-          plugin_id: string
-          relationship: none
-          group_type: group
-          admin_label: ''
-          title_enable: false
-          title: ''
-          default_argument_skip_url: false
-          summary_options: {  }
-          validate:
-            type: none
-            fail: 'not found'
-          validate_options: {  }
           break_phrase: false
-          entity_type: node
-          entity_field: title
-      relationships:
-        uid:
-          id: uid
-          table: node_field_data
-          field: uid
-          plugin_id: standard
-          relationship: none
-          group_type: group
-          admin_label: author
-          required: false
-      style:
-        type: table
-        options:
-          columns:
-            title: title
-            name: name
-            changed: changed
-          default: title
-          info:
-            title:
-              sortable: true
-              separator: ''
-            name:
-              sortable: true
-              separator: ''
-            changed:
-              sortable: true
-              separator: ''
-          override: true
-          sticky: false
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          uses_fields: false
-          order: asc
-          summary: ''
-          empty_table: false
-      row:
-        type: fields
-        options:
-          inline: {  }
-          separator: ''
-          hide_empty: false
-          default_field_elements: true
-      header: {  }
-      footer: {  }
-      empty: {  }
-      sorts: {  }
       filters:
         langcode:
           id: langcode
@@ -317,6 +262,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value:
             '***LANGUAGE_language_content***': '***LANGUAGE_language_content***'
@@ -328,15 +276,15 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -349,100 +297,152 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: language
-          entity_type: node
-          entity_field: langcode
         status:
+          id: status
+          table: node_field_data
+          field: status
+          entity_type: node
+          entity_field: status
+          plugin_id: boolean
+          value: '1'
+          group: 1
           expose:
             operator: ''
             operator_limit_selection: false
             operator_list: {  }
-          field: status
-          group: 1
-          id: status
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          uses_fields: false
+          columns:
+            title: title
+            name: name
+            changed: changed
+          default: title
+          info:
+            title:
+              sortable: true
+              separator: ''
+            name:
+              sortable: true
+              separator: ''
+            changed:
+              sortable: true
+              separator: ''
+          override: true
+          sticky: false
+          summary: ''
+          order: asc
+          empty_table: false
+      row:
+        type: fields
+        options:
+          default_field_elements: true
+          inline: {  }
+          separator: ''
+          hide_empty: false
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships:
+        uid:
+          id: uid
           table: node_field_data
-          value: '1'
-          plugin_id: boolean
-          entity_type: node
-          entity_field: status
+          field: uid
+          relationship: none
+          group_type: group
+          admin_label: author
+          plugin_id: standard
+          required: false
+      use_ajax: true
+      header: {  }
+      footer: {  }
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   attachment_1:
     id: attachment_1
     display_title: Attachment
     display_plugin: attachment
     position: 2
     display_options:
-      query:
-        type: views_query
-        options: {  }
       pager:
         type: none
         options:
           offset: 0
           items_per_page: 0
-      defaults:
-        arguments: false
       arguments:
         title:
           id: title
           table: node_field_data
           field: title
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: node
+          entity_field: title
+          plugin_id: string
           default_action: summary
           exception:
             title_enable: true
+          title_enable: false
+          title: ''
           default_argument_type: fixed
           default_argument_options:
             argument: a
-          summary:
-            format: unformatted_summary
+          default_argument_skip_url: false
           summary_options:
             items_per_page: 25
             inline: true
             separator: ' | '
+          summary:
+            format: unformatted_summary
           specify_validation: true
+          validate:
+            type: none
+            fail: 'not found'
+          validate_options: {  }
           glossary: true
           limit: 1
           case: upper
           path_case: lower
           transform_dash: false
-          plugin_id: string
-          relationship: none
-          group_type: group
-          admin_label: ''
-          title_enable: false
-          title: ''
-          default_argument_skip_url: false
-          validate:
-            type: none
-            fail: 'not found'
-          validate_options: {  }
           break_phrase: false
-          entity_type: node
-          entity_field: title
+      query:
+        type: views_query
+        options: {  }
+      defaults:
+        arguments: false
+      display_extenders: {  }
       displays:
         default: default
         page_1: page_1
       inherit_arguments: false
-      display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   page_1:
     id: page_1
@@ -453,21 +453,21 @@ display:
       query:
         type: views_query
         options: {  }
+      display_extenders: {  }
       path: glossary
       menu:
         type: normal
         title: Glossary
         weight: 0
         menu_name: main
         parent: ''
-      display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.media.yml---
@@ -19,122 +19,12 @@ base_table: media_field_data
 base_field: mid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access media overview'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Filter
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: null
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-            first: ' First'
-            last: 'Last '
-          quantity: 9
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            name: name
-            bundle: bundle
-            changed: changed
-            uid: uid
-            status: status
-            thumbnail__target_id: thumbnail__target_id
-          info:
-            name:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            bundle:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            changed:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            uid:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            status:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            thumbnail__target_id:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: changed
-          empty_table: true
-      row:
-        type: fields
+      title: Media
       fields:
         media_bulk_form:
           id: media_bulk_form
@@ -143,6 +33,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: bulk_form
           label: ''
           exclude: false
           alter:
@@ -187,15 +79,16 @@ display:
           action_title: Action
           include_exclude: exclude
           selected_actions: {  }
-          entity_type: media
-          plugin_id: bulk_form
         thumbnail__target_id:
           id: thumbnail__target_id
           table: media_field_data
           field: thumbnail__target_id
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: thumbnail
+          plugin_id: field
           label: Thumbnail
           exclude: false
           alter:
@@ -240,8 +133,8 @@ display:
           click_sort_column: target_id
           type: image
           settings:
-            image_style: thumbnail
             image_link: ''
+            image_style: thumbnail
           group_column: ''
           group_columns: {  }
           group_rows: true
@@ -252,34 +145,27 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: media
-          entity_field: thumbnail
-          plugin_id: field
         name:
           id: name
           table: media_field_data
           field: name
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: media
           entity_field: media
+          plugin_id: field
+          label: 'Media name'
+          exclude: false
           alter:
             alter_text: false
             make_link: false
             absolute: false
-            trim: false
             word_boundary: false
             ellipsis: false
             strip_tags: false
+            trim: false
             html: false
-          hide_empty: false
-          empty_zero: false
-          settings:
-            link_to_entity: true
-          plugin_id: field
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: 'Media name'
-          exclude: false
           element_type: ''
           element_class: ''
           element_label_type: ''
@@ -289,9 +175,13 @@ display:
           element_wrapper_class: ''
           element_default_classes: true
           empty: ''
+          hide_empty: false
+          empty_zero: false
           hide_alter_empty: true
           click_sort_column: value
           type: string
+          settings:
+            link_to_entity: true
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -309,6 +199,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: bundle
+          plugin_id: field
           label: Type
           exclude: false
           alter:
@@ -364,16 +257,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: media
-          entity_field: bundle
-          plugin_id: field
         uid:
           id: uid
           table: media_field_data
           field: uid
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: uid
+          plugin_id: field
           label: Author
           exclude: false
           alter:
@@ -429,16 +322,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: media
-          entity_field: uid
-          plugin_id: field
         status:
           id: status
           table: media_field_data
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: status
+          plugin_id: field
           label: Status
           exclude: false
           alter:
@@ -484,8 +377,8 @@ display:
           type: boolean
           settings:
             format: custom
-            format_custom_true: Published
             format_custom_false: Unpublished
+            format_custom_true: Published
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -496,16 +389,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: media
-          entity_field: status
-          plugin_id: field
         changed:
           id: changed
           table: media_field_data
           field: changed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: changed
+          plugin_id: field
           label: Updated
           exclude: false
           alter:
@@ -563,16 +456,15 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: media
-          entity_field: changed
-          plugin_id: field
         operations:
           id: operations
           table: media
           field: operations
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: entity_operations
           label: Operations
           exclude: false
           alter:
@@ -615,8 +507,74 @@ display:
           empty_zero: false
           hide_alter_empty: true
           destination: true
+      pager:
+        type: full
+        options:
+          offset: 0
+          items_per_page: 50
+          total_pages: null
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+            first: ' First'
+            last: 'Last '
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+          quantity: 9
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Filter
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access media overview'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'No media available.'
+          tokenize: false
+      sorts:
+        created:
+          id: created
+          table: media_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: media
-          plugin_id: entity_operations
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: created
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         name:
           id: name
@@ -625,6 +583,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -635,6 +596,8 @@ display:
             description: ''
             use_operator: false
             operator: name_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: name
             required: false
             remember: false
@@ -643,8 +606,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -657,16 +618,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: name
-          plugin_id: string
         bundle:
           id: bundle
           table: media_field_data
           field: bundle
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: bundle
+          plugin_id: bundle
           operator: in
           value: {  }
           group: 1
@@ -677,6 +638,8 @@ display:
             description: ''
             use_operator: false
             operator: bundle_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: type
             required: false
             remember: false
@@ -686,8 +649,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -700,16 +661,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: bundle
-          plugin_id: bundle
         status:
           id: status
           table: media_field_data
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: status
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -720,14 +681,14 @@ display:
             description: null
             use_operator: false
             operator: status_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: status
             required: true
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: true
           group_info:
             label: 'Published status'
@@ -748,16 +709,15 @@ display:
                 title: Unpublished
                 operator: '='
                 value: '0'
-          plugin_id: boolean
-          entity_type: media
-          entity_field: status
         status_extra:
           id: status_extra
           table: media_field_data
           field: status_extra
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: media_status
           operator: '='
           value: ''
           group: 1
@@ -788,15 +748,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          plugin_id: media_status
         langcode:
           id: langcode
           table: media_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value: {  }
           group: 1
@@ -807,6 +768,8 @@ display:
             description: ''
             use_operator: false
             operator: langcode_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: langcode
             required: false
             remember: false
@@ -816,8 +779,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -830,42 +791,82 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: langcode
-          plugin_id: language
-      sorts:
-        created:
-          id: created
-          table: media_field_data
-          field: created
-          order: DESC
-          entity_type: media
-          entity_field: created
-          plugin_id: date
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-      title: Media
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            name: name
+            bundle: bundle
+            changed: changed
+            uid: uid
+            status: status
+            thumbnail__target_id: thumbnail__target_id
+          default: changed
+          info:
+            name:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            bundle:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            changed:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            uid:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            status:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            thumbnail__target_id:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: true
+          caption: ''
+          description: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
       header: {  }
       footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'No media available.'
-          plugin_id: text_custom
-      relationships: {  }
-      arguments: {  }
       display_extenders: {  }
     cache_metadata:
       max-age: 0
@@ -878,23 +879,23 @@ display:
         - user.permissions
       tags: {  }
   media_page_list:
-    display_plugin: page
     id: media_page_list
     display_title: Media
+    display_plugin: page
     position: 1
     display_options:
+      display_description: ''
       display_extenders: {  }
       path: admin/content/media
       menu:
         type: tab
         title: Media
         description: ''
+        weight: 0
         expanded: false
+        menu_name: main
         parent: ''
-        weight: 0
         context: '0'
-        menu_name: main
-      display_description: ''
     cache_metadata:
       max-age: 0
       contexts:

---FILE: drupal/config/views.view.media_library.yml---
@@ -5,14 +5,14 @@ dependencies:
   config:
     - core.entity_view_mode.media.media_library
     - image.style.media_library
-  enforced:
-    module:
-      - media_library
   module:
     - image
     - media
     - media_library
     - user
+  enforced:
+    module:
+      - media_library
 _core:
   default_config_hash: dHOSWSHbMJNke0ZBGh1O5KrnwynSOCOpQycITW-pwfs
 id: media_library
@@ -24,67 +24,12 @@ base_table: media_field_data
 base_field: mid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access media overview'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: 'Apply filters'
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: false
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: mini
-        options:
-          items_per_page: 24
-          offset: 0
-          id: 0
-          total_pages: null
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '6, 12, 24, 48'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          tags:
-            previous: 
-            next: 
-      style:
-        type: default
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-      row:
-        type: fields
-        options:
-          default_field_elements: true
-          inline: {  }
-          separator: ''
-          hide_empty: false
+      title: Media
       fields:
         media_bulk_form:
           id: media_bulk_form
@@ -93,6 +38,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: bulk_form
           label: ''
           exclude: false
           alter:
@@ -137,15 +84,15 @@ display:
           action_title: Action
           include_exclude: exclude
           selected_actions: {  }
-          entity_type: media
-          plugin_id: bulk_form
         rendered_entity:
           id: rendered_entity
           table: media
           field: rendered_entity
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: rendered_entity
           label: ''
           exclude: false
           alter:
@@ -188,8 +135,100 @@ display:
           empty_zero: false
           hide_alter_empty: true
           view_mode: media_library
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 24
+          total_pages: null
+          id: 0
+          tags:
+            next: 
+            previous: 
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '6, 12, 24, 48'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      exposed_form:
+        type: basic
+        options:
+          submit_button: 'Apply filters'
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: false
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access media overview'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'No media available.'
+          tokenize: false
+      sorts:
+        created:
+          id: created
+          table: media_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: media
-          plugin_id: rendered_entity
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: 'Newest first'
+            field_identifier: created
+          exposed: true
+          granularity: second
+        name:
+          id: name
+          table: media_field_data
+          field: name
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: standard
+          order: ASC
+          expose:
+            label: 'Name (A-Z)'
+            field_identifier: name
+          exposed: true
+        name_1:
+          id: name_1
+          table: media_field_data
+          field: name
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: standard
+          order: DESC
+          expose:
+            label: 'Name (Z-A)'
+            field_identifier: name_1
+          exposed: true
       filters:
         status:
           id: status
@@ -198,6 +237,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: status
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -208,14 +250,14 @@ display:
             description: null
             use_operator: false
             operator: status_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: status
             required: true
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: true
           group_info:
             label: Published
@@ -236,16 +278,16 @@ display:
                 title: Unpublished
                 operator: '='
                 value: '0'
-          plugin_id: boolean
-          entity_type: media
-          entity_field: status
         name:
           id: name
           table: media_field_data
           field: name
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -256,6 +298,8 @@ display:
             description: ''
             use_operator: false
             operator: name_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: name
             required: false
             remember: false
@@ -264,8 +308,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -278,16 +320,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: name
-          plugin_id: string
         bundle:
           id: bundle
           table: media_field_data
           field: bundle
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: bundle
+          plugin_id: bundle
           operator: in
           value: {  }
           group: 1
@@ -298,6 +340,8 @@ display:
             description: ''
             use_operator: false
             operator: bundle_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: type
             required: false
             remember: false
@@ -307,8 +351,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: 'Media type'
@@ -324,16 +366,15 @@ display:
               1: {  }
               2: {  }
               3: {  }
-          entity_type: media
-          entity_field: bundle
-          plugin_id: bundle
         status_extra:
           id: status_extra
           table: media_field_data
           field: status_extra
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: media_status
           operator: '='
           value: ''
           group: 1
@@ -364,15 +405,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          plugin_id: media_status
         langcode:
           id: langcode
           table: media_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value: {  }
           group: 1
@@ -383,6 +425,8 @@ display:
             description: ''
             use_operator: false
             operator: langcode_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: langcode
             required: false
             remember: false
@@ -392,8 +436,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -406,98 +448,59 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
+      style:
+        type: default
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+      row:
+        type: fields
+        options:
+          default_field_elements: true
+          inline: {  }
+          separator: ''
+          hide_empty: false
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
+      css_class: ''
+      use_ajax: true
+      header: {  }
+      footer: {  }
+      display_extenders: {  }
+    cache_metadata:
+      max-age: 0
+      contexts:
+        - 'languages:language_interface'
+        - url
+        - url.query_args
+        - 'url.query_args:sort_by'
+        - user
+        - user.permissions
+      tags: {  }
+  page:
+    id: page
+    display_title: Page
+    display_plugin: page
+    position: 1
+    display_options:
+      fields:
+        media_bulk_form:
+          id: media_bulk_form
+          table: media
+          field: media_bulk_form
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: media
-          entity_field: langcode
-          plugin_id: language
-      sorts:
-        created:
-          id: created
-          table: media_field_data
-          field: created
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: true
-          expose:
-            label: 'Newest first'
-          granularity: second
-          entity_type: media
-          entity_field: created
-          plugin_id: date
-        name:
-          id: name
-          table: media_field_data
-          field: name
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: ASC
-          exposed: true
-          expose:
-            label: 'Name (A-Z)'
-          entity_type: media
-          entity_field: name
-          plugin_id: standard
-        name_1:
-          id: name_1
-          table: media_field_data
-          field: name
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: true
-          expose:
-            label: 'Name (Z-A)'
-          entity_type: media
-          entity_field: name
-          plugin_id: standard
-      title: Media
-      header: {  }
-      footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'No media available.'
-          plugin_id: text_custom
-      relationships: {  }
-      display_extenders: {  }
-      use_ajax: true
-      css_class: ''
-    cache_metadata:
-      max-age: 0
-      contexts:
-        - 'languages:language_interface'
-        - url
-        - url.query_args
-        - 'url.query_args:sort_by'
-        - user
-        - user.permissions
-      tags: {  }
-  page:
-    display_plugin: page
-    id: page
-    display_title: Page
-    position: 1
-    display_options:
-      display_extenders: {  }
-      path: admin/content/media-grid
-      fields:
-        media_bulk_form:
-          id: media_bulk_form
-          table: media
-          field: media_bulk_form
-          relationship: none
-          group_type: group
-          admin_label: ''
+          plugin_id: bulk_form
           label: ''
           exclude: false
           alter:
@@ -542,15 +545,16 @@ display:
           action_title: Action
           include_exclude: exclude
           selected_actions: {  }
-          entity_type: media
-          plugin_id: bulk_form
         name:
           id: name
           table: media_field_data
           field: name
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: field
           label: ''
           exclude: true
           alter:
@@ -606,16 +610,15 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: media
-          entity_field: name
-          plugin_id: field
         edit_media:
           id: edit_media
           table: media
           field: edit_media
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: entity_link_edit
           label: ''
           exclude: false
           alter:
@@ -660,15 +663,15 @@ display:
           text: Edit
           output_url_as_text: false
           absolute: false
-          entity_type: media
-          plugin_id: entity_link_edit
         delete_media:
           id: delete_media
           table: media
           field: delete_media
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: entity_link_delete
           label: ''
           exclude: false
           alter:
@@ -713,15 +716,15 @@ display:
           text: Delete
           output_url_as_text: false
           absolute: false
-          entity_type: media
-          plugin_id: entity_link_delete
         rendered_entity:
           id: rendered_entity
           table: media
           field: rendered_entity
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: rendered_entity
           label: ''
           exclude: false
           alter:
@@ -764,10 +767,10 @@ display:
           empty_zero: false
           hide_alter_empty: true
           view_mode: media_library
-          entity_type: media
-          plugin_id: rendered_entity
       defaults:
         fields: false
+      display_extenders: {  }
+      path: admin/content/media-grid
     cache_metadata:
       max-age: 0
       contexts:
@@ -780,13 +783,11 @@ display:
         - user.permissions
       tags: {  }
   widget:
-    display_plugin: page
     id: widget
     display_title: Widget
+    display_plugin: page
     position: 2
     display_options:
-      display_extenders: {  }
-      path: admin/content/media-widget
       fields:
         media_library_select_form:
           id: media_library_select_form
@@ -795,6 +796,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: media_library_select_form
           label: ''
           exclude: false
           alter:
@@ -836,15 +839,15 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          entity_type: media
-          plugin_id: media_library_select_form
         rendered_entity:
           id: rendered_entity
           table: media
           field: rendered_entity
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          plugin_id: rendered_entity
           label: ''
           exclude: false
           alter:
@@ -887,21 +890,52 @@ display:
           empty_zero: false
           hide_alter_empty: true
           view_mode: media_library
-          entity_type: media
-          plugin_id: rendered_entity
-      defaults:
-        fields: false
-        access: false
-        filters: false
-        filter_groups: false
-        arguments: false
-        header: false
-        css_class: false
-      display_description: ''
       access:
         type: perm
         options:
           perm: 'view media'
+      arguments:
+        bundle:
+          id: bundle
+          table: media_field_data
+          field: bundle
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: media
+          entity_field: bundle
+          plugin_id: string
+          default_action: ignore
+          exception:
+            value: all
+            title_enable: false
+            title: All
+          title_enable: false
+          title: ''
+          default_argument_type: fixed
+          default_argument_options:
+            argument: ''
+          default_argument_skip_url: false
+          summary_options:
+            base_path: ''
+            count: true
+            override: false
+            items_per_page: 24
+          summary:
+            sort_order: asc
+            number_of_records: 0
+            format: default_summary
+          specify_validation: false
+          validate:
+            type: none
+            fail: 'not found'
+          validate_options: {  }
+          glossary: false
+          limit: 0
+          case: none
+          path_case: none
+          transform_dash: false
+          break_phrase: false
       filters:
         status:
           id: status
@@ -910,6 +944,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: status
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -920,14 +957,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -940,16 +977,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: status
-          plugin_id: boolean
         name:
           id: name
           table: media_field_data
           field: name
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -960,6 +997,8 @@ display:
             description: ''
             use_operator: false
             operator: name_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: name
             required: false
             remember: false
@@ -968,8 +1007,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -982,16 +1019,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: name
-          plugin_id: string
         default_langcode:
           id: default_langcode
           table: media_field_data
           field: default_langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: default_langcode
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -1022,74 +1059,40 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: default_langcode
-          plugin_id: boolean
       filter_groups:
         operator: AND
         groups:
           1: AND
-      arguments:
-        bundle:
-          id: bundle
-          table: media_field_data
-          field: bundle
-          relationship: none
-          group_type: group
-          admin_label: ''
-          default_action: ignore
-          exception:
-            value: all
-            title_enable: false
-            title: All
-          title_enable: false
-          title: ''
-          default_argument_type: fixed
-          default_argument_options:
-            argument: ''
-          default_argument_skip_url: false
-          summary_options:
-            base_path: ''
-            count: true
-            items_per_page: 24
-            override: false
-          summary:
-            sort_order: asc
-            number_of_records: 0
-            format: default_summary
-          specify_validation: false
-          validate:
-            type: none
-            fail: 'not found'
-          validate_options: {  }
-          glossary: false
-          limit: 0
-          case: none
-          path_case: none
-          transform_dash: false
-          break_phrase: false
-          entity_type: media
-          entity_field: bundle
-          plugin_id: string
+      defaults:
+        access: false
+        css_class: false
+        fields: false
+        arguments: false
+        filters: false
+        filter_groups: false
+        header: false
+      css_class: ''
+      display_description: ''
       header:
         display_link_grid:
           id: display_link_grid
           table: views
           field: display_link
-          display_id: widget
-          label: Grid
           plugin_id: display_link
+          label: Grid
           empty: true
+          display_id: widget
         display_link_table:
           id: display_link_table
           table: views
           field: display_link
-          display_id: widget_table
-          label: Table
           plugin_id: display_link
+          label: Table
           empty: true
-      css_class: ''
+          display_id: widget_table
       rendering_language: '***LANGUAGE_language_interface***'
+      display_extenders: {  }
+      path: admin/content/media-widget
     cache_metadata:
       max-age: -1
       contexts:
@@ -1100,88 +1103,69 @@ display:
         - user.permissions
       tags: {  }
   widget_table:
-    display_plugin: page
     id: widget_table
     display_title: 'Widget (table)'
+    display_plugin: page
     position: 3
     display_options:
-      display_extenders: {  }
-      path: admin/content/media-widget-table
-      style:
-        type: table
-        options:
-          row_class: 'media-library-item media-library-item--table js-media-library-item js-click-to-select'
-          default_row_class: true
-      defaults:
-        style: false
-        row: false
-        fields: false
-        access: false
-        filters: false
-        filter_groups: false
-        arguments: false
-        header: false
-        css_class: false
-      row:
-        type: fields
       fields:
         media_library_select_form:
           id: media_library_select_form
-          label: ''
           table: media
           field: media_library_select_form
           relationship: none
           entity_type: media
           plugin_id: media_library_select_form
-          element_wrapper_class: ''
+          label: ''
           element_class: ''
+          element_wrapper_class: ''
         thumbnail__target_id:
           id: thumbnail__target_id
-          label: Thumbnail
           table: media_field_data
           field: thumbnail__target_id
           relationship: none
-          type: image
           entity_type: media
           entity_field: thumbnail
           plugin_id: field
+          label: Thumbnail
+          type: image
           settings:
-            image_style: media_library
             image_link: ''
+            image_style: media_library
         name:
           id: name
-          label: Name
           table: media_field_data
           field: name
           relationship: none
-          type: string
           entity_type: media
           entity_field: name
           plugin_id: field
+          label: Name
+          type: string
           settings:
             link_to_entity: false
         uid:
           id: uid
-          label: Author
           table: media_field_revision
           field: uid
           relationship: none
-          type: entity_reference_label
           entity_type: media
           entity_field: uid
           plugin_id: field
+          label: Author
+          type: entity_reference_label
           settings:
             link: true
         changed:
           id: changed
-          label: Updated
           table: media_field_data
           field: changed
           relationship: none
-          type: timestamp
           entity_type: media
           entity_field: changed
           plugin_id: field
+          label: Updated
+          type: timestamp
           settings:
             date_format: short
             custom_date_format: ''
@@ -1190,6 +1174,48 @@ display:
         type: perm
         options:
           perm: 'view media'
+      arguments:
+        bundle:
+          id: bundle
+          table: media_field_data
+          field: bundle
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: media
+          entity_field: bundle
+          plugin_id: string
+          default_action: ignore
+          exception:
+            value: all
+            title_enable: false
+            title: All
+          title_enable: false
+          title: ''
+          default_argument_type: fixed
+          default_argument_options:
+            argument: ''
+          default_argument_skip_url: false
+          summary_options:
+            base_path: ''
+            count: true
+            override: false
+            items_per_page: 24
+          summary:
+            sort_order: asc
+            number_of_records: 0
+            format: default_summary
+          specify_validation: false
+          validate:
+            type: none
+            fail: 'not found'
+          validate_options: {  }
+          glossary: false
+          limit: 0
+          case: none
+          path_case: none
+          transform_dash: false
+          break_phrase: false
       filters:
         status:
           id: status
@@ -1198,6 +1224,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: status
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -1208,14 +1237,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -1228,16 +1257,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: status
-          plugin_id: boolean
         name:
           id: name
           table: media_field_data
           field: name
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: name
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -1248,6 +1277,8 @@ display:
             description: ''
             use_operator: false
             operator: name_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: name
             required: false
             remember: false
@@ -1256,8 +1287,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -1270,16 +1299,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: name
-          plugin_id: string
         default_langcode:
           id: default_langcode
           table: media_field_data
           field: default_langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: media
+          entity_field: default_langcode
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -1310,74 +1339,48 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: media
-          entity_field: default_langcode
-          plugin_id: boolean
       filter_groups:
         operator: AND
         groups:
           1: AND
-      arguments:
-        bundle:
-          id: bundle
-          table: media_field_data
-          field: bundle
-          relationship: none
-          group_type: group
-          admin_label: ''
-          default_action: ignore
-          exception:
-            value: all
-            title_enable: false
-            title: All
-          title_enable: false
-          title: ''
-          default_argument_type: fixed
-          default_argument_options:
-            argument: ''
-          default_argument_skip_url: false
-          summary_options:
-            base_path: ''
-            count: true
-            items_per_page: 24
-            override: false
-          summary:
-            sort_order: asc
-            number_of_records: 0
-            format: default_summary
-          specify_validation: false
-          validate:
-            type: none
-            fail: 'not found'
-          validate_options: {  }
-          glossary: false
-          limit: 0
-          case: none
-          path_case: none
-          transform_dash: false
-          break_phrase: false
-          entity_type: media
-          entity_field: bundle
-          plugin_id: string
+      style:
+        type: table
+        options:
+          row_class: 'media-library-item media-library-item--table js-media-library-item js-click-to-select'
+          default_row_class: true
+      row:
+        type: fields
+      defaults:
+        access: false
+        css_class: false
+        style: false
+        row: false
+        fields: false
+        arguments: false
+        filters: false
+        filter_groups: false
+        header: false
+      css_class: ''
       header:
         display_link_grid:
           id: display_link_grid
           table: views
           field: display_link
-          display_id: widget
-          label: Grid
           plugin_id: display_link
+          label: Grid
           empty: true
+          display_id: widget
         display_link_table:
           id: display_link_table
           table: views
           field: display_link
-          display_id: widget_table
-          label: Table
           plugin_id: display_link
+          label: Table
           empty: true
-      css_class: ''
+          display_id: widget_table
       rendering_language: '***LANGUAGE_language_interface***'
+      display_extenders: {  }
+      path: admin/content/media-widget-table
     cache_metadata:
       max-age: -1
       contexts:

---FILE: drupal/config/views.view.paragraphs_library.yml---
@@ -18,109 +18,12 @@ base_table: paragraphs_library_item_field_data
 base_field: id
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'administer paragraphs library'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Filter
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: mini
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: null
-          tags:
-            previous: 
-            next: 
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            label: label
-            type: type
-            id: id
-            count: count
-            operations: operations
-          info:
-            label:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            type:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            id:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            count:
-              sortable: false
-              default_sort_order: asc
-              align: views-align-right
-              separator: ''
-              empty_column: false
-              responsive: ''
-            operations:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: '-1'
-          empty_table: true
-      row:
-        type: fields
+      title: 'Paragraphs library'
       fields:
         label:
           id: label
@@ -129,6 +32,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: label
+          plugin_id: field
           label: Label
           exclude: false
           alter:
@@ -184,16 +90,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: paragraphs_library_item
-          entity_field: label
-          plugin_id: field
         type:
           id: type
           table: paragraphs_item_field_data
           field: type
           relationship: paragraphs__target_id
           group_type: group
           admin_label: ''
+          entity_type: paragraph
+          entity_field: type
+          plugin_id: field
           label: Type
           exclude: false
           alter:
@@ -249,16 +155,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: paragraph
-          entity_field: type
-          plugin_id: field
         paragraphs__target_id:
           id: paragraphs__target_id
           table: paragraphs_library_item_field_data
           field: paragraphs__target_id
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: paragraphs
+          plugin_id: field
           label: Paragraphs
           exclude: false
           alter:
@@ -315,16 +221,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: paragraphs_library_item
-          entity_field: paragraphs
-          plugin_id: field
         langcode:
           id: langcode
           table: paragraphs_library_item_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: langcode
+          plugin_id: field
           label: Language
           exclude: false
           alter:
@@ -381,16 +287,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: paragraphs_library_item
-          entity_field: langcode
-          plugin_id: field
         id:
           id: id
           table: paragraphs_library_item_field_data
           field: id
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: id
+          plugin_id: field
           label: ID
           exclude: true
           alter:
@@ -447,16 +353,14 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: paragraphs_library_item
-          entity_field: id
-          plugin_id: field
         count:
           id: count
           table: entity_usage
           field: count
           relationship: paragraphs_library_item_to_usage_entity
           group_type: count
           admin_label: ''
+          plugin_id: numeric
           label: Used
           exclude: false
           alter:
@@ -506,14 +410,16 @@ display:
           format_plural_string: !!binary MSBwbGFjZQNAY291bnQgcGxhY2Vz
           prefix: ''
           suffix: ''
-          plugin_id: numeric
         changed:
           id: changed
           table: paragraphs_library_item_field_data
           field: changed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: changed
+          plugin_id: field
           label: Changed
           exclude: false
           alter:
@@ -571,16 +477,15 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: paragraphs_library_item
-          entity_field: changed
-          plugin_id: field
         operations:
           id: operations
           table: paragraphs_library_item
           field: operations
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          plugin_id: entity_operations
           label: Operations
           exclude: false
           alter:
@@ -623,8 +528,55 @@ display:
           empty_zero: false
           hide_alter_empty: true
           destination: true
-          entity_type: paragraphs_library_item
-          plugin_id: entity_operations
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 50
+          total_pages: null
+          id: 0
+          tags:
+            next: 
+            previous: 
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Filter
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'administer paragraphs library'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'No library items available.'
+          tokenize: false
+      sorts: {  }
+      arguments: {  }
       filters:
         label:
           id: label
@@ -633,6 +585,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: label
+          plugin_id: string
           operator: contains
           value: ''
           group: 1
@@ -643,6 +598,8 @@ display:
             description: ''
             use_operator: false
             operator: label_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: label
             required: false
             remember: false
@@ -651,8 +608,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: Label
@@ -668,16 +623,16 @@ display:
               1: {  }
               2: {  }
               3: {  }
-          entity_type: paragraphs_library_item
-          entity_field: label
-          plugin_id: string
         type:
           id: type
           table: paragraphs_item_field_data
           field: type
           relationship: paragraphs__target_id
           group_type: group
           admin_label: ''
+          entity_type: paragraph
+          entity_field: type
+          plugin_id: bundle
           operator: in
           value: {  }
           group: 1
@@ -688,6 +643,8 @@ display:
             description: ''
             use_operator: false
             operator: type_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: type
             required: false
             remember: false
@@ -697,8 +654,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -711,16 +666,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: paragraph
-          entity_field: type
-          plugin_id: bundle
         default_langcode:
           id: default_langcode
           table: paragraphs_library_item_field_data
           field: default_langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: paragraphs_library_item
+          entity_field: default_langcode
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -731,14 +686,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -751,16 +706,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: paragraphs_library_item
-          entity_field: default_langcode
-          plugin_id: boolean
         default_langcode_1:
           id: default_langcode_1
           table: paragraphs_item_field_data
           field: default_langcode
           relationship: paragraphs__target_id
           group_type: group
           admin_label: ''
+          entity_type: paragraph
+          entity_field: default_langcode
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -771,14 +726,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -791,25 +746,73 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: paragraph
-          entity_field: default_langcode
-          plugin_id: boolean
-      sorts: {  }
-      title: 'Paragraphs library'
-      header: {  }
-      footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'No library items available.'
-          plugin_id: text_custom
+      filter_groups:
+        operator: AND
+        groups:
+          1: AND
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            label: label
+            type: type
+            id: id
+            count: count
+            operations: operations
+          default: '-1'
+          info:
+            label:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            type:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            id:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            count:
+              sortable: false
+              default_sort_order: asc
+              align: views-align-right
+              separator: ''
+              empty_column: false
+              responsive: ''
+            operations:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: true
+          caption: ''
+          description: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
       relationships:
         paragraphs__target_id:
           id: paragraphs__target_id
@@ -818,27 +821,24 @@ display:
           relationship: none
           group_type: group
           admin_label: Paragraphs
-          required: true
           entity_type: paragraphs_library_item
           entity_field: paragraphs
           plugin_id: standard
+          required: true
         paragraphs_library_item_to_usage_entity:
           id: paragraphs_library_item_to_usage_entity
           table: paragraphs_library_item
           field: paragraphs_library_item_to_usage_entity
           relationship: none
           group_type: group
           admin_label: 'Usage information (Paragraphs library item)'
-          required: false
           entity_type: paragraphs_library_item
           plugin_id: standard
-      arguments: {  }
-      display_extenders: {  }
-      filter_groups:
-        operator: AND
-        groups:
-          1: AND
+          required: false
       group_by: true
+      header: {  }
+      footer: {  }
+      display_extenders: {  }
     cache_metadata:
       max-age: 0
       contexts:
@@ -849,9 +849,9 @@ display:
         - user.permissions
       tags: {  }
   page_1:
-    display_plugin: page
     id: page_1
     display_title: Page
+    display_plugin: page
     position: 1
     display_options:
       display_extenders: {  }

---FILE: drupal/config/views.view.properties.yml---
@@ -20,89 +20,34 @@ base_table: node_field_data
 base_field: nid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 4
-          offset: 0
-          id: 0
-          total_pages: null
-          tags:
-            previous: 
-            next: 
-            first: ' First'
-            last: 'Last '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          quantity: 9
-      style:
-        type: default
-      row:
-        type: 'entity:node'
-        options:
-          view_mode: teaser
+      title: Properties
       fields:
         title:
           id: title
           table: node_field_data
           field: title
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: node
           entity_field: title
+          plugin_id: field
           label: ''
+          exclude: false
           alter:
             alter_text: false
             make_link: false
             absolute: false
-            trim: false
             word_boundary: false
             ellipsis: false
             strip_tags: false
+            trim: false
             html: false
-          hide_empty: false
-          empty_zero: false
-          settings:
-            link_to_entity: true
-          plugin_id: field
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exclude: false
           element_type: ''
           element_class: ''
           element_label_type: ''
@@ -112,9 +57,13 @@ display:
           element_wrapper_class: ''
           element_default_classes: true
           empty: ''
+          hide_empty: false
+          empty_zero: false
           hide_alter_empty: true
           click_sort_column: value
           type: string
+          settings:
+            link_to_entity: true
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -125,29 +74,86 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
+      pager:
+        type: full
+        options:
+          offset: 0
+          items_per_page: 4
+          total_pages: null
+          id: 0
+          tags:
+            next: 
+            previous: 
+            first: ' First'
+            last: 'Last '
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+          quantity: 9
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty: {  }
+      sorts:
+        created:
+          id: created
+          table: node_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: node
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: created
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         status:
-          value: '1'
+          id: status
           table: node_field_data
           field: status
-          plugin_id: boolean
           entity_type: node
           entity_field: status
-          id: status
+          plugin_id: boolean
+          value: '1'
+          group: 1
           expose:
             operator: ''
             operator_limit_selection: false
             operator_list: {  }
-          group: 1
         type:
           id: type
           table: node_field_data
           field: type
-          value:
-            property_listing: property_listing
           entity_type: node
           entity_field: type
           plugin_id: bundle
+          value:
+            property_listing: property_listing
           expose:
             operator_limit_selection: false
             operator_list: {  }
@@ -158,6 +164,7 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: list_field
           operator: or
           value: {  }
           group: 1
@@ -193,14 +200,14 @@ display:
             default_group_multiple: {  }
             group_items: {  }
           reduce_duplicates: false
-          plugin_id: list_field
         field_beds_value:
           id: field_beds_value
           table: node__field_beds
           field: field_beds_value
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: numeric
           operator: '>='
           value:
             min: ''
@@ -225,9 +232,9 @@ display:
               anonymous: '0'
               next_site_previewer: '0'
               administrator: '0'
-            placeholder: ''
             min_placeholder: ''
             max_placeholder: ''
+            placeholder: ''
           is_grouped: false
           group_info:
             label: ''
@@ -240,14 +247,14 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: numeric
         field_baths_value:
           id: field_baths_value
           table: node__field_baths
           field: field_baths_value
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: numeric
           operator: '>='
           value:
             min: ''
@@ -272,9 +279,9 @@ display:
               anonymous: '0'
               next_site_previewer: '0'
               administrator: '0'
-            placeholder: ''
             min_placeholder: ''
             max_placeholder: ''
+            placeholder: ''
           is_grouped: false
           group_info:
             label: ''
@@ -287,14 +294,14 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: numeric
         field_location_target_id:
           id: field_location_target_id
           table: node__field_location
           field: field_location_target_id
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: taxonomy_index_tid
           operator: or
           value: {  }
           group: 1
@@ -330,36 +337,30 @@ display:
             default_group_multiple: {  }
             group_items: {  }
           reduce_duplicates: false
-          type: select
-          limit: true
           vid: property_location
+          type: select
           hierarchy: false
+          limit: true
           error_message: true
-          plugin_id: taxonomy_index_tid
-      sorts:
-        created:
-          id: created
-          table: node_field_data
-          field: created
-          order: DESC
-          entity_type: node
-          entity_field: created
-          plugin_id: date
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-      title: Properties
+      style:
+        type: default
+      row:
+        type: 'entity:node'
+        options:
+          view_mode: teaser
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
+      use_ajax: true
       header: {  }
       footer: {  }
-      empty: {  }
-      relationships: {  }
-      arguments: {  }
       display_extenders: {  }
-      use_ajax: true
     cache_metadata:
       max-age: -1
       contexts:
@@ -372,13 +373,13 @@ display:
         - user.permissions
       tags: {  }
   listing:
-    display_plugin: block
     id: listing
     display_title: Listing
+    display_plugin: block
     position: 1
     display_options:
-      display_extenders: {  }
       display_description: ''
+      display_extenders: {  }
     cache_metadata:
       max-age: -1
       contexts:

---FILE: drupal/config/views.view.search.yml---
@@ -17,72 +17,21 @@ base_table: node_field_data
 base_field: nid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 5
-          offset: 0
-          id: 0
-          total_pages: null
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-            first: ' First'
-            last: 'Last '
-          quantity: 9
-      style:
-        type: default
-      row:
-        type: fields
+      title: Search
       fields:
         title:
           id: title
           table: node_field_data
           field: title
-          settings:
-            link_to_entity: false
-          plugin_id: field
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: field
           label: ''
           exclude: false
           alter:
@@ -126,6 +75,8 @@ display:
           hide_alter_empty: true
           click_sort_column: value
           type: string
+          settings:
+            link_to_entity: false
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -143,6 +94,7 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: field
           label: ''
           exclude: false
           alter:
@@ -197,28 +149,85 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          plugin_id: field
+      pager:
+        type: full
+        options:
+          offset: 0
+          items_per_page: 5
+          total_pages: null
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+            first: ' First'
+            last: 'Last '
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+          quantity: 9
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty: {  }
+      sorts:
+        created:
+          id: created
+          table: node_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: node
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: created
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         status:
-          value: '1'
+          id: status
           table: node_field_data
           field: status
-          plugin_id: boolean
           entity_type: node
           entity_field: status
-          id: status
+          plugin_id: boolean
+          value: '1'
+          group: 1
           expose:
             operator: ''
             operator_limit_selection: false
             operator_list: {  }
-          group: 1
         field_site_target_id:
           id: field_site_target_id
           table: node__field_site
           field: field_site_target_id
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: string
           operator: '='
           value: ''
           group: 1
@@ -253,14 +262,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: string
         langcode:
           id: langcode
           table: node_field_data
           field: langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value: {  }
           group: 1
@@ -295,16 +306,14 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: node
-          entity_field: langcode
-          plugin_id: language
         combine:
           id: combine
           table: views
           field: combine
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: combine
           operator: allwords
           value: ''
           group: 1
@@ -342,14 +351,16 @@ display:
           fields:
             title: title
             body: body
-          plugin_id: combine
         type:
           id: type
           table: node_field_data
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: type
+          plugin_id: bundle
           operator: in
           value: {  }
           group: 1
@@ -384,33 +395,23 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: node
-          entity_field: type
-          plugin_id: bundle
-      sorts:
-        created:
-          id: created
-          table: node_field_data
-          field: created
-          order: DESC
-          entity_type: node
-          entity_field: created
-          plugin_id: date
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-      title: Search
+      style:
+        type: default
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
+      use_ajax: true
       header: {  }
       footer: {  }
-      empty: {  }
-      relationships: {  }
-      arguments: {  }
       display_extenders: {  }
-      use_ajax: true
     cache_metadata:
       max-age: -1
       contexts:
@@ -423,9 +424,9 @@ display:
       tags:
         - 'config:field.storage.node.body'
   site:
-    display_plugin: block
     id: site
     display_title: Block
+    display_plugin: block
     position: 1
     display_options:
       display_extenders: {  }

---FILE: drupal/config/views.view.taxonomy_term.yml---
@@ -24,38 +24,17 @@ display:
     display_plugin: default
     position: 0
     display_options:
-      query:
-        type: views_query
-        options:
-          query_comment: ''
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_tags: {  }
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
+      fields: {  }
       pager:
         type: mini
         options:
-          items_per_page: 10
           offset: 0
-          id: 0
+          items_per_page: 10
           total_pages: 0
+          id: 0
+          tags:
+            next: 
+            previous: 
           expose:
             items_per_page: false
             items_per_page_label: 'Items per page'
@@ -64,34 +43,51 @@ display:
             items_per_page_options_all_label: '- All -'
             offset: false
             offset_label: Offset
-          tags:
-            previous: 
-            next: 
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty: {  }
       sorts:
         sticky:
           id: sticky
           table: taxonomy_index
           field: sticky
-          order: DESC
-          plugin_id: standard
           relationship: none
           group_type: group
           admin_label: ''
-          exposed: false
+          plugin_id: standard
+          order: DESC
           expose:
             label: ''
+            field_identifier: sticky
+          exposed: false
         created:
           id: created
           table: taxonomy_index
           field: created
-          order: DESC
-          plugin_id: date
           relationship: none
           group_type: group
           admin_label: ''
-          exposed: false
+          plugin_id: date
+          order: DESC
           expose:
             label: ''
+            field_identifier: created
+          exposed: false
           granularity: second
       arguments:
         tid:
@@ -101,6 +97,7 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: taxonomy_index_tid
           default_action: 'not found'
           exception:
             value: ''
@@ -115,8 +112,8 @@ display:
           summary_options:
             base_path: ''
             count: true
-            items_per_page: 25
             override: false
+            items_per_page: 25
           summary:
             sort_order: asc
             number_of_records: 0
@@ -126,15 +123,14 @@ display:
             type: 'entity:taxonomy_term'
             fail: 'not found'
           validate_options:
+            bundles: {  }
             access: true
             operation: view
             multiple: 0
-            bundles: {  }
           break_phrase: false
           add_table: false
           require_value: false
           reduce_duplicates: false
-          plugin_id: taxonomy_index_tid
       filters:
         langcode:
           id: langcode
@@ -143,6 +139,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: node
+          entity_field: langcode
+          plugin_id: language
           operator: in
           value:
             '***LANGUAGE_language_content***': '***LANGUAGE_language_content***'
@@ -154,15 +153,15 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -175,16 +174,14 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: language
-          entity_type: node
-          entity_field: langcode
         status:
           id: status
           table: taxonomy_index
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -195,14 +192,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -215,7 +212,6 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: boolean
       style:
         type: default
         options:
@@ -227,6 +223,17 @@ display:
         type: 'entity:node'
         options:
           view_mode: teaser
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
+      link_display: page_1
+      link_url: ''
       header:
         entity_taxonomy_term:
           id: entity_taxonomy_term
@@ -235,65 +242,60 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: entity
           empty: true
-          tokenize: true
           target: '{{ raw_arguments.tid }}'
           view_mode: full
+          tokenize: true
           bypass_access: false
-          plugin_id: entity
       footer: {  }
-      empty: {  }
-      relationships: {  }
-      fields: {  }
       display_extenders: {  }
-      link_url: ''
-      link_display: page_1
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   feed_1:
     id: feed_1
     display_title: Feed
     display_plugin: feed
     position: 2
     display_options:
-      query:
-        type: views_query
-        options: {  }
       pager:
         type: some
         options:
-          items_per_page: 10
           offset: 0
-      path: taxonomy/term/%/feed
-      displays:
-        page_1: page_1
-        default: '0'
+          items_per_page: 10
       style:
         type: rss
         options:
-          description: ''
           grouping: {  }
           uses_fields: false
+          description: ''
       row:
         type: node_rss
         options:
           relationship: none
           view_mode: default
+      query:
+        type: views_query
+        options: {  }
       display_extenders: {  }
+      path: taxonomy/term/%/feed
+      displays:
+        page_1: page_1
+        default: '0'
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }
   page_1:
     id: page_1
@@ -304,14 +306,14 @@ display:
       query:
         type: views_query
         options: {  }
-      path: taxonomy/term/%
       display_extenders: {  }
+      path: taxonomy/term/%
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_interface'
         - url
         - url.query_args
         - 'user.node_grants:view'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.user_admin_people.yml---
@@ -15,131 +15,12 @@ base_table: users_field_data
 base_field: uid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'administer users'
-      cache:
-        type: tag
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Filter
-          reset_button: true
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: 0
-          tags:
-            previous: ' Previous'
-            next: 'Next '
-            first: ' First'
-            last: 'Last '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          quantity: 9
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          summary: ''
-          columns:
-            user_bulk_form: user_bulk_form
-            name: name
-            status: status
-            rid: rid
-            created: created
-            access: access
-            edit_node: edit_node
-            dropbutton: dropbutton
-          info:
-            user_bulk_form:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            name:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            status:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            rid:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            created:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            access:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            edit_node:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            dropbutton:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: created
-          empty_table: true
-      row:
-        type: fields
+      title: People
       fields:
         user_bulk_form:
           id: user_bulk_form
@@ -148,6 +29,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          plugin_id: user_bulk_form
           label: 'Bulk update'
           exclude: false
           alter:
@@ -189,15 +72,16 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: user_bulk_form
-          entity_type: user
         name:
           id: name
           table: users_field_data
           field: name
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: name
+          plugin_id: field
           label: Username
           exclude: false
           alter:
@@ -239,17 +123,17 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: field
           type: user_name
-          entity_type: user
-          entity_field: name
         status:
           id: status
           table: users_field_data
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: status
+          plugin_id: field
           label: Status
           exclude: false
           alter:
@@ -291,21 +175,19 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: field
           type: boolean
           settings:
             format: custom
-            format_custom_true: Active
             format_custom_false: Blocked
-          entity_type: user
-          entity_field: status
+            format_custom_true: Active
         roles_target_id:
           id: roles_target_id
           table: user__roles
           field: roles_target_id
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: user_roles
           label: Roles
           exclude: false
           alter:
@@ -349,14 +231,16 @@ display:
           hide_alter_empty: true
           type: ul
           separator: ', '
-          plugin_id: user_roles
         created:
           id: created
           table: users_field_data
           field: created
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: created
+          plugin_id: field
           label: 'Member for'
           exclude: false
           alter:
@@ -403,16 +287,16 @@ display:
             future_format: '@interval'
             past_format: '@interval'
             granularity: 2
-          plugin_id: field
-          entity_type: user
-          entity_field: created
         access:
           id: access
           table: users_field_data
           field: access
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: access
+          plugin_id: field
           label: 'Last access'
           exclude: false
           alter:
@@ -459,16 +343,15 @@ display:
             future_format: '@interval hence'
             past_format: '@interval ago'
             granularity: 2
-          plugin_id: field
-          entity_type: user
-          entity_field: access
         operations:
           id: operations
           table: users
           field: operations
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          plugin_id: entity_operations
           label: Operations
           exclude: false
           alter:
@@ -511,15 +394,16 @@ display:
           empty_zero: false
           hide_alter_empty: true
           destination: true
-          entity_type: user
-          plugin_id: entity_operations
         mail:
           id: mail
           table: users_field_data
           field: mail
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: mail
+          plugin_id: field
           label: ''
           exclude: true
           alter:
@@ -574,9 +458,72 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          plugin_id: field
+      pager:
+        type: full
+        options:
+          offset: 0
+          items_per_page: 50
+          total_pages: 0
+          id: 0
+          tags:
+            next: 'Next '
+            previous: ' Previous'
+            first: ' First'
+            last: 'Last '
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+          quantity: 9
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Filter
+          reset_button: true
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'administer users'
+      cache:
+        type: tag
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'No people available.'
+          tokenize: false
+      sorts:
+        created:
+          id: created
+          table: users_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: user
-          entity_field: mail
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: created
+          exposed: false
+          granularity: second
       filters:
         combine:
           id: combine
@@ -585,6 +532,7 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: combine
           operator: contains
           value: ''
           group: 1
@@ -595,6 +543,8 @@ display:
             description: ''
             use_operator: false
             operator: combine_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: user
             required: false
             remember: false
@@ -603,8 +553,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -620,14 +568,16 @@ display:
           fields:
             name: name
             mail: mail
-          plugin_id: combine
         status:
           id: status
           table: users_field_data
           field: status
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: status
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -638,6 +588,8 @@ display:
             description: ''
             use_operator: false
             operator: status_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: status
             required: false
             remember: false
@@ -646,8 +598,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: true
           group_info:
             label: Status
@@ -668,16 +618,14 @@ display:
                 title: Blocked
                 operator: '='
                 value: '0'
-          plugin_id: boolean
-          entity_type: user
-          entity_field: status
         roles_target_id:
           id: roles_target_id
           table: user__roles
           field: roles_target_id
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: user_roles
           operator: or
           value: {  }
           group: 1
@@ -688,6 +636,8 @@ display:
             description: ''
             use_operator: false
             operator: roles_target_id_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: role
             required: false
             remember: false
@@ -697,8 +647,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -712,14 +660,14 @@ display:
             default_group_multiple: {  }
             group_items: {  }
           reduce_duplicates: false
-          plugin_id: user_roles
         permission:
           id: permission
           table: user__roles
           field: permission
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: user_permissions
           operator: or
           value: {  }
           group: 1
@@ -730,6 +678,8 @@ display:
             description: ''
             use_operator: false
             operator: permission_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: permission
             required: false
             remember: false
@@ -739,8 +689,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -754,14 +702,16 @@ display:
             default_group_multiple: {  }
             group_items: {  }
           reduce_duplicates: false
-          plugin_id: user_permissions
         default_langcode:
           id: default_langcode
           table: users_field_data
           field: default_langcode
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: default_langcode
+          plugin_id: boolean
           operator: '='
           value: '1'
           group: 1
@@ -772,14 +722,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -792,16 +742,15 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: user
-          entity_field: default_langcode
-          plugin_id: boolean
         uid_raw:
           id: uid_raw
           table: users_field_data
           field: uid_raw
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          plugin_id: numeric
           operator: '!='
           value:
             min: ''
@@ -815,14 +764,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -835,92 +784,144 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: numeric
-          entity_type: user
-      sorts:
-        created:
-          id: created
-          table: users_field_data
-          field: created
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-          plugin_id: date
-          entity_type: user
-          entity_field: created
-      title: People
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'No people available.'
-          plugin_id: text_custom
+      filter_groups:
+        operator: AND
+        groups:
+          1: AND
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            user_bulk_form: user_bulk_form
+            name: name
+            status: status
+            rid: rid
+            created: created
+            access: access
+            edit_node: edit_node
+            dropbutton: dropbutton
+          default: created
+          info:
+            user_bulk_form:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            name:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            status:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            rid:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            created:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            access:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            edit_node:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            dropbutton:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: true
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      css_class: ''
+      use_ajax: false
+      group_by: false
+      show_admin_links: true
       use_more: false
       use_more_always: false
       use_more_text: more
+      link_display: page_1
+      link_url: ''
       display_comment: ''
-      use_ajax: false
       hide_attachment_summary: false
-      show_admin_links: true
-      group_by: false
-      link_url: ''
-      link_display: page_1
-      css_class: ''
-      filter_groups:
-        operator: AND
-        groups:
-          1: AND
       display_extenders: {  }
     cache_metadata:
+      max-age: 0
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: 0
       tags: {  }
   page_1:
-    display_plugin: page
     id: page_1
     display_title: Page
+    display_plugin: page
     position: 1
     display_options:
-      path: admin/people/list
+      defaults:
+        show_admin_links: false
       show_admin_links: false
+      display_extenders: {  }
+      path: admin/people/list
       menu:
         type: 'default tab'
         title: List
         description: 'Find and manage people interacting with your site.'
-        menu_name: admin
         weight: -10
+        menu_name: admin
         context: ''
       tab_options:
         type: normal
         title: People
         description: 'Manage user accounts, roles, and permissions.'
-        menu_name: admin
         weight: 0
-      defaults:
-        show_admin_links: false
-      display_extenders: {  }
+        menu_name: admin
     cache_metadata:
+      max-age: 0
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user.permissions
-      max-age: 0
       tags: {  }

---FILE: drupal/config/views.view.watchdog.yml---
@@ -16,133 +16,12 @@ base_table: watchdog
 base_field: wid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access site reports'
-      cache:
-        type: none
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Filter
-          reset_button: true
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: false
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: mini
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: null
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          tags:
-            previous: 
-            next: 
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: '{{ type }} {{ severity }}'
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            nothing: nothing
-            wid: wid
-            severity: severity
-            type: type
-            timestamp: timestamp
-            message: message
-            name: name
-            link: link
-          info:
-            nothing:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-medium
-            wid:
-              sortable: false
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            severity:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            type:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-medium
-            timestamp:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            message:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            name:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-medium
-            link:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-          default: wid
-          empty_table: false
-      row:
-        type: fields
+      title: 'Recent log messages'
       fields:
         nothing:
           id: nothing
@@ -151,6 +30,7 @@ display:
           relationship: none
           group_type: group
           admin_label: Icon
+          plugin_id: custom
           label: ''
           exclude: false
           alter:
@@ -192,14 +72,14 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: false
-          plugin_id: custom
         wid:
           id: wid
           table: watchdog
           field: wid
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: standard
           label: WID
           exclude: true
           alter:
@@ -241,14 +121,14 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: standard
         severity:
           id: severity
           table: watchdog
           field: severity
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: machine_name
           label: Severity
           exclude: true
           alter:
@@ -291,14 +171,14 @@ display:
           empty_zero: false
           hide_alter_empty: true
           machine_name: false
-          plugin_id: machine_name
         type:
           id: type
           table: watchdog
           field: type
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: standard
           label: Type
           exclude: false
           alter:
@@ -340,14 +220,14 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: standard
         timestamp:
           id: timestamp
           table: watchdog
           field: timestamp
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: date
           label: Date
           exclude: false
           alter:
@@ -392,14 +272,14 @@ display:
           date_format: short
           custom_date_format: ''
           timezone: ''
-          plugin_id: date
         message:
           id: message
           table: watchdog
           field: message
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: dblog_message
           label: Message
           exclude: false
           alter:
@@ -442,14 +322,16 @@ display:
           empty_zero: false
           hide_alter_empty: true
           replace_variables: true
-          plugin_id: dblog_message
         name:
           id: name
           table: users_field_data
           field: name
           relationship: uid
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: name
+          plugin_id: field
           label: User
           exclude: false
           alter:
@@ -505,16 +387,14 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: user
-          entity_field: name
-          plugin_id: field
         link:
           id: link
           table: watchdog
           field: link
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: dblog_operations
           label: Operations
           exclude: false
           alter:
@@ -556,7 +436,68 @@ display:
           hide_empty: false
           empty_zero: false
           hide_alter_empty: true
-          plugin_id: dblog_operations
+      pager:
+        type: mini
+        options:
+          offset: 0
+          items_per_page: 50
+          total_pages: null
+          id: 0
+          tags:
+            next: 
+            previous: 
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Filter
+          reset_button: true
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: false
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access site reports'
+      cache:
+        type: none
+        options: {  }
+      empty:
+        area:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: 'No log messages available.'
+          plugin_id: text_custom
+          empty: true
+          content: 'No log messages available.'
+          tokenize: false
+      sorts:
+        wid:
+          id: wid
+          table: watchdog
+          field: wid
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: standard
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: wid
+          exposed: false
+      arguments: {  }
       filters:
         type:
           id: type
@@ -565,6 +506,7 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: dblog_types
           operator: in
           value: {  }
           group: 1
@@ -575,6 +517,8 @@ display:
             description: ''
             use_operator: false
             operator: type_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: type
             required: false
             remember: false
@@ -584,8 +528,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -598,14 +540,14 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: dblog_types
         severity:
           id: severity
           table: watchdog
           field: severity
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: in_operator
           operator: in
           value: {  }
           group: 1
@@ -616,6 +558,8 @@ display:
             description: ''
             use_operator: false
             operator: severity_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: severity
             required: false
             remember: false
@@ -625,8 +569,6 @@ display:
               anonymous: '0'
               administrator: '0'
             reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -639,35 +581,97 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: in_operator
-      sorts:
-        wid:
-          id: wid
-          table: watchdog
-          field: wid
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          expose:
-            label: ''
-          plugin_id: standard
-      title: 'Recent log messages'
-      header: {  }
-      footer: {  }
-      empty:
-        area:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: 'No log messages available.'
-          empty: true
-          tokenize: false
-          content: 'No log messages available.'
-          plugin_id: text_custom
+      filter_groups:
+        operator: AND
+        groups:
+          1: AND
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: '{{ type }} {{ severity }}'
+          default_row_class: true
+          columns:
+            nothing: nothing
+            wid: wid
+            severity: severity
+            type: type
+            timestamp: timestamp
+            message: message
+            name: name
+            link: link
+          default: wid
+          info:
+            nothing:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-medium
+            wid:
+              sortable: false
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            severity:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            type:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-medium
+            timestamp:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+            message:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            name:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-medium
+            link:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: priority-low
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: false
+          caption: ''
+          description: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
       relationships:
         uid:
           id: uid
@@ -676,15 +680,12 @@ display:
           relationship: none
           group_type: group
           admin_label: User
-          required: false
           plugin_id: standard
-      arguments: {  }
-      display_extenders: {  }
-      filter_groups:
-        operator: AND
-        groups:
-          1: AND
+          required: false
       css_class: admin-dblog
+      header: {  }
+      footer: {  }
+      display_extenders: {  }
     cache_metadata:
       max-age: -1
       contexts:
@@ -695,9 +696,9 @@ display:
         - user.permissions
       tags: {  }
   page:
-    display_plugin: page
     id: page
     display_title: Page
+    display_plugin: page
     position: 1
     display_options:
       display_extenders: {  }

---FILE: drupal/config/views.view.webform_submissions.yml---
@@ -2,12 +2,12 @@ uuid: 964228f5-cb23-461b-81b3-a6805b2523d6
 langcode: en
 status: true
 dependencies:
-  enforced:
-    module:
-      - webform
   module:
     - user
     - webform
+  enforced:
+    module:
+      - webform
 _core:
   default_config_hash: YPgxGC8TmLtfCOLGCCHJcdH2llA7QksUkdi1abhB7Ro
 id: webform_submissions
@@ -19,156 +19,12 @@ base_table: webform_submission
 base_field: sid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: none
-        options: {  }
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 25
-          offset: 0
-          id: 0
-          total_pages: null
-          tags:
-            previous: 
-            next: 
-            first: ' First'
-            last: 'Last '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50, 100, 200'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          quantity: 9
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            webform_submission_bulk_form: webform_submission_bulk_form
-            sid: sid
-            in_draft: in_draft
-            sticky: sticky
-            locked: locked
-            created: created
-            completed: completed
-            remote_addr: remote_addr
-            view_webform_submission: view_webform_submission
-            edit_webform_submission: view_webform_submission
-          info:
-            webform_submission_bulk_form:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            sid:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            in_draft:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            sticky:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            locked:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            created:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            completed:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            remote_addr:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            view_webform_submission:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ' '
-              empty_column: false
-              responsive: ''
-            edit_webform_submission:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: created
-          empty_table: false
-      row:
-        type: fields
-        options:
-          inline: {  }
-          separator: ''
-          hide_empty: false
-          default_field_elements: true
+      title: 'Webform submissions'
       fields:
         sid:
           id: sid
@@ -177,6 +33,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sid
+          plugin_id: field
           label: '#'
           exclude: false
           alter:
@@ -233,16 +92,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sid
-          plugin_id: field
         in_draft:
           id: in_draft
           table: webform_submission
           field: in_draft
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: field
           label: Draft
           exclude: false
           alter:
@@ -288,8 +147,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -300,16 +159,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: field
         created:
           id: created
           table: webform_submission
           field: created
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: created
+          plugin_id: field
           label: Created
           exclude: false
           alter:
@@ -367,16 +226,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: created
-          plugin_id: field
         remote_addr:
           id: remote_addr
           table: webform_submission
           field: remote_addr
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: remote_addr
+          plugin_id: field
           label: 'IP address'
           exclude: false
           alter:
@@ -432,16 +291,15 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: remote_addr
-          plugin_id: field
         view_webform_submission:
           id: view_webform_submission
           table: webform_submission
           field: view_webform_submission
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          plugin_id: entity_link
           label: Operations
           exclude: false
           alter:
@@ -486,22 +344,43 @@ display:
           text: view
           output_url_as_text: false
           absolute: false
-          entity_type: webform_submission
-          plugin_id: entity_link
-      filters: {  }
-      sorts: {  }
-      header:
-        result:
-          id: result
-          table: views
-          field: result
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: false
-          content: 'Displaying @start - @end of @total'
-          plugin_id: result
-      footer: {  }
+      pager:
+        type: full
+        options:
+          offset: 0
+          items_per_page: 25
+          total_pages: null
+          id: 0
+          tags:
+            next: 
+            previous: 
+            first: ' First'
+            last: 'Last '
+          expose:
+            items_per_page: false
+            items_per_page_label: 'Items per page'
+            items_per_page_options: '5, 10, 25, 50, 100, 200'
+            items_per_page_options_all: false
+            items_per_page_options_all_label: '- All -'
+            offset: false
+            offset_label: Offset
+          quantity: 9
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: none
+        options: {  }
+      cache:
+        type: tag
+        options: {  }
       empty:
         area_text_custom:
           id: area_text_custom
@@ -510,11 +389,11 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: text_custom
           empty: true
-          tokenize: false
           content: 'No submissions available.'
-          plugin_id: text_custom
-      relationships: {  }
+          tokenize: false
+      sorts: {  }
       arguments:
         webform_id:
           id: webform_id
@@ -551,6 +430,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: numeric
           default_action: ignore
           exception:
             value: all
@@ -565,8 +447,8 @@ display:
           summary_options:
             base_path: ''
             count: true
-            items_per_page: 25
             override: false
+            items_per_page: 25
           summary:
             sort_order: asc
             number_of_records: 0
@@ -578,42 +460,16 @@ display:
           validate_options: {  }
           break_phrase: false
           not: false
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: numeric
-      display_extenders: {  }
+      filters: {  }
       filter_groups:
         operator: AND
         groups: {  }
-      title: 'Webform submissions'
-    cache_metadata:
-      max-age: -1
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - url
-        - url.query_args
-        - user
-      tags: {  }
-  embed_administer:
-    display_plugin: embed
-    id: embed_administer
-    display_title: 'Embed: Administer'
-    position: 2
-    display_options:
-      display_extenders: {  }
-      display_description: 'Administer submissions.'
       style:
         type: table
         options:
           grouping: {  }
           row_class: ''
           default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
           columns:
             webform_submission_bulk_form: webform_submission_bulk_form
             sid: sid
@@ -625,6 +481,7 @@ display:
             remote_addr: remote_addr
             view_webform_submission: view_webform_submission
             edit_webform_submission: view_webform_submission
+          default: created
           info:
             webform_submission_bulk_form:
               align: ''
@@ -694,26 +551,56 @@ display:
               separator: ''
               empty_column: false
               responsive: ''
-          default: created
+          override: true
+          sticky: false
+          summary: ''
           empty_table: false
-      defaults:
-        style: false
-        row: false
-        access: false
-        fields: false
-        filters: false
-        filter_groups: false
+          caption: ''
+          description: ''
       row:
         type: fields
         options:
+          default_field_elements: true
           inline: {  }
           separator: ''
           hide_empty: false
-          default_field_elements: true
-      access:
-        type: perm
+      query:
+        type: views_query
         options:
-          perm: 'administer webform submission'
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
+      header:
+        result:
+          id: result
+          table: views
+          field: result
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: result
+          empty: false
+          content: 'Displaying @start - @end of @total'
+      footer: {  }
+      display_extenders: {  }
+    cache_metadata:
+      max-age: -1
+      contexts:
+        - 'languages:language_content'
+        - 'languages:language_interface'
+        - url
+        - url.query_args
+        - user
+      tags: {  }
+  embed_administer:
+    id: embed_administer
+    display_title: 'Embed: Administer'
+    display_plugin: embed
+    position: 2
+    display_options:
       fields:
         webform_submission_bulk_form:
           id: webform_submission_bulk_form
@@ -722,6 +609,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          plugin_id: webform_submission_bulk_form
           label: 'Webform submission operations bulk form'
           exclude: false
           alter:
@@ -766,15 +655,16 @@ display:
           action_title: Action
           include_exclude: exclude
           selected_actions: {  }
-          entity_type: webform_submission
-          plugin_id: webform_submission_bulk_form
         sid:
           id: sid
           table: webform_submission
           field: sid
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sid
+          plugin_id: field
           label: '#'
           exclude: false
           alter:
@@ -831,16 +721,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sid
-          plugin_id: field
         in_draft:
           id: in_draft
           table: webform_submission
           field: in_draft
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: field
           label: Draft
           exclude: false
           alter:
@@ -886,8 +776,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -898,16 +788,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: field
         sticky:
           id: sticky
           table: webform_submission
           field: sticky
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sticky
+          plugin_id: field
           label: Sticky
           exclude: false
           alter:
@@ -953,8 +843,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -965,16 +855,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sticky
-          plugin_id: field
         locked:
           id: locked
           table: webform_submission
           field: locked
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: locked
+          plugin_id: field
           label: Locked
           exclude: false
           alter:
@@ -1020,8 +910,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -1032,16 +922,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: locked
-          plugin_id: field
         created:
           id: created
           table: webform_submission
           field: created
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: created
+          plugin_id: field
           label: Created
           exclude: false
           alter:
@@ -1099,16 +989,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: created
-          plugin_id: field
         completed:
           id: completed
           table: webform_submission
           field: completed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: completed
+          plugin_id: field
           label: Completed
           exclude: false
           alter:
@@ -1166,16 +1056,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: completed
-          plugin_id: field
         remote_addr:
           id: remote_addr
           table: webform_submission
           field: remote_addr
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: remote_addr
+          plugin_id: field
           label: 'IP address'
           exclude: false
           alter:
@@ -1231,16 +1121,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: remote_addr
-          plugin_id: field
         operations:
           id: operations
           table: webform_submission
           field: operations
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: null
+          entity_field: null
+          plugin_id: entity_operations
           label: Operations
           exclude: false
           alter:
@@ -1283,9 +1173,10 @@ display:
           empty_zero: false
           hide_alter_empty: true
           destination: true
-          entity_type: null
-          entity_field: null
-          plugin_id: entity_operations
+      access:
+        type: perm
+        options:
+          perm: 'administer webform submission'
       filters:
         in_draft:
           id: in_draft
@@ -1294,6 +1185,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -1304,6 +1198,8 @@ display:
             description: ''
             use_operator: false
             operator: in_draft_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: in_draft
             required: false
             remember: false
@@ -1312,8 +1208,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -1326,16 +1220,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: boolean
         sticky:
           id: sticky
           table: webform_submission
           field: sticky
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sticky
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -1346,6 +1240,8 @@ display:
             description: ''
             use_operator: false
             operator: sticky_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: sticky
             required: false
             remember: false
@@ -1354,8 +1250,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -1368,16 +1262,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: sticky
-          plugin_id: boolean
         locked:
           id: locked
           table: webform_submission
           field: locked
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: locked
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -1388,6 +1282,8 @@ display:
             description: ''
             use_operator: false
             operator: locked_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: locked
             required: false
             remember: false
@@ -1397,8 +1293,6 @@ display:
               anonymous: '0'
               administrator: '0'
               demo_region: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -1411,55 +1305,34 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: locked
-          plugin_id: boolean
       filter_groups:
         operator: AND
         groups:
           1: AND
-    cache_metadata:
-      max-age: 0
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - url
-        - url.query_args
-        - user
-        - user.permissions
-      tags: {  }
-  embed_default:
-    display_plugin: embed
-    id: embed_default
-    display_title: 'Embed: Default'
-    position: 1
-    display_options:
-      display_extenders: {  }
-      display_description: 'Display submissions.'
-      defaults:
-        fields: true
-        style: false
-        row: false
-        filters: true
-        filter_groups: true
       style:
         type: table
         options:
           grouping: {  }
           row_class: ''
           default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
           columns:
+            webform_submission_bulk_form: webform_submission_bulk_form
             sid: sid
             in_draft: in_draft
+            sticky: sticky
+            locked: locked
             created: created
+            completed: completed
             remote_addr: remote_addr
             view_webform_submission: view_webform_submission
+            edit_webform_submission: view_webform_submission
+          default: created
           info:
+            webform_submission_bulk_form:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
             sid:
               sortable: true
               default_sort_order: desc
@@ -1474,13 +1347,34 @@ display:
               separator: ''
               empty_column: false
               responsive: ''
+            sticky:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            locked:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
             created:
               sortable: true
               default_sort_order: desc
               align: ''
               separator: ''
               empty_column: false
               responsive: ''
+            completed:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
             remote_addr:
               sortable: true
               default_sort_order: asc
@@ -1495,32 +1389,136 @@ display:
               separator: ' '
               empty_column: false
               responsive: ''
-          default: created
+            edit_webform_submission:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
           empty_table: false
+          caption: ''
+          description: ''
       row:
         type: fields
         options:
+          default_field_elements: true
           inline: {  }
           separator: ''
           hide_empty: false
-          default_field_elements: true
+      defaults:
+        access: false
+        style: false
+        row: false
+        fields: false
+        filters: false
+        filter_groups: false
+      display_description: 'Administer submissions.'
+      display_extenders: {  }
     cache_metadata:
-      max-age: -1
+      max-age: 0
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - url
         - url.query_args
         - user
+        - user.permissions
       tags: {  }
-  embed_manage:
-    display_plugin: embed
-    id: embed_manage
+  embed_default:
+    id: embed_default
+    display_title: 'Embed: Default'
+    display_plugin: embed
+    position: 1
+    display_options:
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            sid: sid
+            in_draft: in_draft
+            created: created
+            remote_addr: remote_addr
+            view_webform_submission: view_webform_submission
+          default: created
+          info:
+            sid:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            in_draft:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            created:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            remote_addr:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            view_webform_submission:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ' '
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: false
+          caption: ''
+          description: ''
+      row:
+        type: fields
+        options:
+          default_field_elements: true
+          inline: {  }
+          separator: ''
+          hide_empty: false
+      defaults:
+        style: false
+        row: false
+        fields: true
+        filters: true
+        filter_groups: true
+      display_description: 'Display submissions.'
+      display_extenders: {  }
+    cache_metadata:
+      max-age: -1
+      contexts:
+        - 'languages:language_content'
+        - 'languages:language_interface'
+        - url
+        - url.query_args
+        - user
+      tags: {  }
+  embed_manage:
+    id: embed_manage
     display_title: 'Embed: Manage'
+    display_plugin: embed
     position: 3
     display_options:
-      display_extenders: {  }
-      display_description: 'Manage submissions.'
       fields:
         webform_submission_bulk_form:
           id: webform_submission_bulk_form
@@ -1529,6 +1527,8 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          plugin_id: webform_submission_bulk_form
           label: 'Webform submission operations bulk form'
           exclude: false
           alter:
@@ -1577,15 +1577,16 @@ display:
             - webform_submission_make_sticky_action
             - webform_submission_make_unlock_action
             - webform_submission_make_unsticky_action
-          entity_type: webform_submission
-          plugin_id: webform_submission_bulk_form
         sid:
           id: sid
           table: webform_submission
           field: sid
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sid
+          plugin_id: field
           label: '#'
           exclude: false
           alter:
@@ -1642,16 +1643,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sid
-          plugin_id: field
         in_draft:
           id: in_draft
           table: webform_submission
           field: in_draft
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: field
           label: Draft
           exclude: false
           alter:
@@ -1697,8 +1698,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -1709,16 +1710,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: field
         sticky:
           id: sticky
           table: webform_submission
           field: sticky
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sticky
+          plugin_id: field
           label: Sticky
           exclude: false
           alter:
@@ -1764,8 +1765,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -1776,16 +1777,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sticky
-          plugin_id: field
         locked:
           id: locked
           table: webform_submission
           field: locked
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: locked
+          plugin_id: field
           label: Locked
           exclude: false
           alter:
@@ -1831,8 +1832,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -1843,16 +1844,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: locked
-          plugin_id: field
         created:
           id: created
           table: webform_submission
           field: created
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: created
+          plugin_id: field
           label: Created
           exclude: false
           alter:
@@ -1910,16 +1911,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: created
-          plugin_id: field
         completed:
           id: completed
           table: webform_submission
           field: completed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: completed
+          plugin_id: field
           label: Completed
           exclude: false
           alter:
@@ -1977,16 +1978,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: completed
-          plugin_id: field
         remote_addr:
           id: remote_addr
           table: webform_submission
           field: remote_addr
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: remote_addr
+          plugin_id: field
           label: 'IP address'
           exclude: false
           alter:
@@ -2042,16 +2043,15 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: remote_addr
-          plugin_id: field
         view_webform_submission:
           id: view_webform_submission
           table: webform_submission
           field: view_webform_submission
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          plugin_id: entity_link
           label: Operations
           exclude: false
           alter:
@@ -2096,15 +2096,15 @@ display:
           text: view
           output_url_as_text: false
           absolute: false
-          entity_type: webform_submission
-          plugin_id: entity_link
         edit_webform_submission:
           id: edit_webform_submission
           table: webform_submission
           field: edit_webform_submission
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          plugin_id: entity_link_edit
           label: Operations
           exclude: false
           alter:
@@ -2149,117 +2149,8 @@ display:
           text: edit
           output_url_as_text: false
           absolute: false
-          entity_type: webform_submission
-          plugin_id: entity_link_edit
-      defaults:
-        fields: false
-        style: false
-        row: false
-        access: false
-        filters: false
-        filter_groups: false
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            webform_submission_bulk_form: webform_submission_bulk_form
-            sid: sid
-            in_draft: in_draft
-            sticky: sticky
-            locked: locked
-            created: created
-            completed: completed
-            remote_addr: remote_addr
-            view_webform_submission: view_webform_submission
-            edit_webform_submission: view_webform_submission
-          info:
-            webform_submission_bulk_form:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            sid:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            in_draft:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            sticky:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            locked:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            created:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            completed:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            remote_addr:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            view_webform_submission:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ' '
-              empty_column: false
-              responsive: ''
-            edit_webform_submission:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: created
-          empty_table: false
-      row:
-        type: fields
-        options:
-          inline: {  }
-          separator: ''
-          hide_empty: false
-          default_field_elements: true
-      access:
-        type: perm
+      access:
+        type: perm
         options:
           perm: 'edit any webform submission'
       filters:
@@ -2270,6 +2161,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -2280,6 +2174,8 @@ display:
             description: ''
             use_operator: false
             operator: in_draft_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: in_draft
             required: false
             remember: false
@@ -2288,8 +2184,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -2302,16 +2196,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: boolean
         sticky:
           id: sticky
           table: webform_submission
           field: sticky
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sticky
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -2322,6 +2216,8 @@ display:
             description: ''
             use_operator: false
             operator: sticky_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: sticky
             required: false
             remember: false
@@ -2330,8 +2226,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -2344,16 +2238,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: sticky
-          plugin_id: boolean
         locked:
           id: locked
           table: webform_submission
           field: locked
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: locked
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -2364,6 +2258,8 @@ display:
             description: ''
             use_operator: false
             operator: locked_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: locked
             required: false
             remember: false
@@ -2373,8 +2269,6 @@ display:
               anonymous: '0'
               administrator: '0'
               demo_region: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -2387,13 +2281,119 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: locked
-          plugin_id: boolean
       filter_groups:
         operator: AND
         groups:
           1: AND
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            webform_submission_bulk_form: webform_submission_bulk_form
+            sid: sid
+            in_draft: in_draft
+            sticky: sticky
+            locked: locked
+            created: created
+            completed: completed
+            remote_addr: remote_addr
+            view_webform_submission: view_webform_submission
+            edit_webform_submission: view_webform_submission
+          default: created
+          info:
+            webform_submission_bulk_form:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            sid:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            in_draft:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            sticky:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            locked:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            created:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            completed:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            remote_addr:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            view_webform_submission:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ' '
+              empty_column: false
+              responsive: ''
+            edit_webform_submission:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: false
+          caption: ''
+          description: ''
+      row:
+        type: fields
+        options:
+          default_field_elements: true
+          inline: {  }
+          separator: ''
+          hide_empty: false
+      defaults:
+        access: false
+        style: false
+        row: false
+        fields: false
+        filters: false
+        filter_groups: false
+      display_description: 'Manage submissions.'
+      display_extenders: {  }
     cache_metadata:
       max-age: 0
       contexts:
@@ -2405,13 +2405,11 @@ display:
         - user.permissions
       tags: {  }
   embed_review:
-    display_plugin: embed
     id: embed_review
     display_title: 'Embed: Review'
+    display_plugin: embed
     position: 4
     display_options:
-      display_extenders: {  }
-      display_description: 'Review submissions.'
       fields:
         sid:
           id: sid
@@ -2420,6 +2418,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sid
+          plugin_id: field
           label: '#'
           exclude: false
           alter:
@@ -2476,16 +2477,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sid
-          plugin_id: field
         in_draft:
           id: in_draft
           table: webform_submission
           field: in_draft
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: field
           label: Draft
           exclude: false
           alter:
@@ -2531,8 +2532,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -2543,16 +2544,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: field
         sticky:
           id: sticky
           table: webform_submission
           field: sticky
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sticky
+          plugin_id: field
           label: Sticky
           exclude: false
           alter:
@@ -2598,8 +2599,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -2610,16 +2611,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: sticky
-          plugin_id: field
         locked:
           id: locked
           table: webform_submission
           field: locked
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: locked
+          plugin_id: field
           label: Locked
           exclude: false
           alter:
@@ -2665,8 +2666,8 @@ display:
           type: boolean
           settings:
             format: yes-no
-            format_custom_true: ''
             format_custom_false: ''
+            format_custom_true: ''
           group_column: value
           group_columns: {  }
           group_rows: true
@@ -2677,16 +2678,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: locked
-          plugin_id: field
         created:
           id: created
           table: webform_submission
           field: created
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: created
+          plugin_id: field
           label: Created
           exclude: false
           alter:
@@ -2744,16 +2745,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: created
-          plugin_id: field
         completed:
           id: completed
           table: webform_submission
           field: completed
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: completed
+          plugin_id: field
           label: Completed
           exclude: false
           alter:
@@ -2811,16 +2812,16 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: completed
-          plugin_id: field
         remote_addr:
           id: remote_addr
           table: webform_submission
           field: remote_addr
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: remote_addr
+          plugin_id: field
           label: 'IP address'
           exclude: false
           alter:
@@ -2876,16 +2877,15 @@ display:
           multi_type: separator
           separator: ', '
           field_api_classes: false
-          entity_type: webform_submission
-          entity_field: remote_addr
-          plugin_id: field
         view_webform_submission:
           id: view_webform_submission
           table: webform_submission
           field: view_webform_submission
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          plugin_id: entity_link
           label: Operations
           exclude: false
           alter:
@@ -2930,115 +2930,6 @@ display:
           text: view
           output_url_as_text: false
           absolute: false
-          entity_type: webform_submission
-          plugin_id: entity_link
-      defaults:
-        fields: false
-        style: false
-        row: false
-        access: false
-        filters: false
-        filter_groups: false
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: false
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            webform_submission_bulk_form: webform_submission_bulk_form
-            sid: sid
-            in_draft: in_draft
-            sticky: sticky
-            locked: locked
-            created: created
-            completed: completed
-            remote_addr: remote_addr
-            view_webform_submission: view_webform_submission
-            edit_webform_submission: view_webform_submission
-          info:
-            webform_submission_bulk_form:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            sid:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            in_draft:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            sticky:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            locked:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            created:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            completed:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            remote_addr:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            view_webform_submission:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ' '
-              empty_column: false
-              responsive: ''
-            edit_webform_submission:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: created
-          empty_table: false
-      row:
-        type: fields
-        options:
-          inline: {  }
-          separator: ''
-          hide_empty: false
-          default_field_elements: true
       access:
         type: perm
         options:
@@ -3051,6 +2942,9 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: in_draft
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -3061,6 +2955,8 @@ display:
             description: ''
             use_operator: false
             operator: in_draft_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: in_draft
             required: false
             remember: false
@@ -3069,8 +2965,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -3083,16 +2977,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: in_draft
-          plugin_id: boolean
         sticky:
           id: sticky
           table: webform_submission
           field: sticky
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: sticky
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -3103,6 +2997,8 @@ display:
             description: ''
             use_operator: false
             operator: sticky_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: sticky
             required: false
             remember: false
@@ -3111,8 +3007,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -3125,16 +3019,16 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: sticky
-          plugin_id: boolean
         locked:
           id: locked
           table: webform_submission
           field: locked
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: webform_submission
+          entity_field: locked
+          plugin_id: boolean
           operator: '='
           value: All
           group: 1
@@ -3145,6 +3039,8 @@ display:
             description: ''
             use_operator: false
             operator: locked_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: locked
             required: false
             remember: false
@@ -3154,8 +3050,6 @@ display:
               anonymous: '0'
               administrator: '0'
               demo_region: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -3168,13 +3062,119 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          entity_type: webform_submission
-          entity_field: locked
-          plugin_id: boolean
       filter_groups:
         operator: AND
         groups:
           1: AND
+      style:
+        type: table
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          columns:
+            webform_submission_bulk_form: webform_submission_bulk_form
+            sid: sid
+            in_draft: in_draft
+            sticky: sticky
+            locked: locked
+            created: created
+            completed: completed
+            remote_addr: remote_addr
+            view_webform_submission: view_webform_submission
+            edit_webform_submission: view_webform_submission
+          default: created
+          info:
+            webform_submission_bulk_form:
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            sid:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            in_draft:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            sticky:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            locked:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            created:
+              sortable: true
+              default_sort_order: desc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            completed:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            remote_addr:
+              sortable: true
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+            view_webform_submission:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ' '
+              empty_column: false
+              responsive: ''
+            edit_webform_submission:
+              sortable: false
+              default_sort_order: asc
+              align: ''
+              separator: ''
+              empty_column: false
+              responsive: ''
+          override: true
+          sticky: false
+          summary: ''
+          empty_table: false
+          caption: ''
+          description: ''
+      row:
+        type: fields
+        options:
+          default_field_elements: true
+          inline: {  }
+          separator: ''
+          hide_empty: false
+      defaults:
+        access: false
+        style: false
+        row: false
+        fields: false
+        filters: false
+        filter_groups: false
+      display_description: 'Review submissions.'
+      display_extenders: {  }
     cache_metadata:
       max-age: -1
       contexts:

---FILE: drupal/config/views.view.who_s_new.yml---
@@ -15,68 +15,34 @@ base_table: users_field_data
 base_field: uid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access content'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: some
-        options:
-          items_per_page: 5
-          offset: 0
-      style:
-        type: html_list
-      row:
-        type: fields
+      title: 'Who''s new'
       fields:
         name:
           id: name
           table: users_field_data
           field: name
-          label: ''
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: user
+          entity_field: name
           plugin_id: field
-          type: user_name
+          label: ''
+          exclude: false
           alter:
             alter_text: false
             make_link: false
             absolute: false
-            trim: false
             word_boundary: false
             ellipsis: false
             strip_tags: false
+            trim: false
             html: false
-          hide_empty: false
-          empty_zero: false
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exclude: false
           element_type: ''
           element_class: ''
           element_label_type: ''
@@ -86,30 +52,75 @@ display:
           element_wrapper_class: ''
           element_default_classes: true
           empty: ''
+          hide_empty: false
+          empty_zero: false
           hide_alter_empty: true
+          type: user_name
+      pager:
+        type: some
+        options:
+          offset: 0
+          items_per_page: 5
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access content'
+      cache:
+        type: tag
+        options: {  }
+      empty: {  }
+      sorts:
+        created:
+          id: created
+          table: users_field_data
+          field: created
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: user
-          entity_field: name
+          entity_field: created
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: created
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         status:
-          value: '1'
+          id: status
           table: users_field_data
           field: status
-          id: status
+          entity_type: user
+          entity_field: status
+          plugin_id: boolean
+          value: '1'
+          group: 1
           expose:
             operator: '0'
             operator_limit_selection: false
             operator_list: {  }
-          group: 1
-          plugin_id: boolean
-          entity_type: user
-          entity_field: status
         access:
           id: access
           table: users_field_data
           field: access
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: access
+          plugin_id: date
           operator: '>'
           value:
             min: ''
@@ -124,14 +135,14 @@ display:
             description: ''
             use_operator: false
             operator: ''
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: ''
             required: false
             remember: false
             multiple: false
             remember_roles:
               authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -144,53 +155,43 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: date
-          entity_type: user
-          entity_field: access
-      sorts:
-        created:
-          id: created
-          table: users_field_data
-          field: created
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-          plugin_id: date
-          entity_type: user
-          entity_field: created
-      title: 'Who''s new'
+      style:
+        type: html_list
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
       header: {  }
       footer: {  }
-      empty: {  }
-      relationships: {  }
-      arguments: {  }
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - user.permissions
-      max-age: -1
       tags: {  }
   block_1:
-    display_plugin: block
     id: block_1
     display_title: 'Who''s new'
+    display_plugin: block
     position: 1
     display_options:
       display_description: 'A list of new users'
+      display_extenders: {  }
       block_description: 'Who''s new'
       block_category: User
-      display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/views.view.who_s_online.yml---
@@ -15,75 +15,34 @@ base_table: users_field_data
 base_field: uid
 display:
   default:
-    display_plugin: default
     id: default
     display_title: Master
+    display_plugin: default
     position: 0
     display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access user profiles'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: some
-        options:
-          items_per_page: 10
-          offset: 0
-      style:
-        type: html_list
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          type: ul
-          wrapper_class: item-list
-          class: ''
-      row:
-        type: fields
+      title: 'Who''s online'
       fields:
         name:
           id: name
           table: users_field_data
           field: name
-          label: ''
+          relationship: none
+          group_type: group
+          admin_label: ''
+          entity_type: user
+          entity_field: name
           plugin_id: field
-          type: user_name
+          label: ''
+          exclude: false
           alter:
             alter_text: false
             make_link: false
             absolute: false
-            trim: false
             word_boundary: false
             ellipsis: false
             strip_tags: false
+            trim: false
             html: false
-          hide_empty: false
-          empty_zero: false
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exclude: false
           element_type: ''
           element_class: ''
           element_label_type: ''
@@ -93,30 +52,86 @@ display:
           element_wrapper_class: ''
           element_default_classes: true
           empty: ''
+          hide_empty: false
+          empty_zero: false
           hide_alter_empty: true
+          type: user_name
+      pager:
+        type: some
+        options:
+          offset: 0
+          items_per_page: 10
+      exposed_form:
+        type: basic
+        options:
+          submit_button: Apply
+          reset_button: false
+          reset_button_label: Reset
+          exposed_sorts_label: 'Sort by'
+          expose_sort_order: true
+          sort_asc_label: Asc
+          sort_desc_label: Desc
+      access:
+        type: perm
+        options:
+          perm: 'access user profiles'
+      cache:
+        type: tag
+        options: {  }
+      empty:
+        area_text_custom:
+          id: area_text_custom
+          table: views
+          field: area_text_custom
+          relationship: none
+          group_type: group
+          admin_label: ''
+          plugin_id: text_custom
+          empty: true
+          content: 'There are currently 0 users online.'
+          tokenize: false
+      sorts:
+        access:
+          id: access
+          table: users_field_data
+          field: access
+          relationship: none
+          group_type: group
+          admin_label: ''
           entity_type: user
-          entity_field: name
+          entity_field: access
+          plugin_id: date
+          order: DESC
+          expose:
+            label: ''
+            field_identifier: access
+          exposed: false
+          granularity: second
+      arguments: {  }
       filters:
         status:
-          value: '1'
+          id: status
           table: users_field_data
           field: status
-          id: status
+          entity_type: user
+          entity_field: status
+          plugin_id: boolean
+          value: '1'
+          group: 1
           expose:
             operator: '0'
             operator_limit_selection: false
             operator_list: {  }
-          group: 1
-          plugin_id: boolean
-          entity_type: user
-          entity_field: status
         access:
           id: access
           table: users_field_data
           field: access
           relationship: none
           group_type: group
           admin_label: ''
+          entity_type: user
+          entity_field: access
+          plugin_id: date
           operator: '>='
           value:
             min: ''
@@ -131,6 +146,8 @@ display:
             description: 'A user is considered online for this long after they have last viewed a page.'
             use_operator: false
             operator: access_op
+            operator_limit_selection: false
+            operator_list: {  }
             identifier: access
             required: false
             remember: false
@@ -139,8 +156,6 @@ display:
               authenticated: authenticated
               anonymous: '0'
               administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
           is_grouped: false
           group_info:
             label: ''
@@ -153,26 +168,26 @@ display:
             default_group: All
             default_group_multiple: {  }
             group_items: {  }
-          plugin_id: date
-          entity_type: user
-          entity_field: access
-      sorts:
-        access:
-          id: access
-          table: users_field_data
-          field: access
-          order: DESC
-          relationship: none
-          group_type: group
-          admin_label: ''
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-          plugin_id: date
-          entity_type: user
-          entity_field: access
-      title: 'Who''s online'
+      style:
+        type: html_list
+        options:
+          grouping: {  }
+          row_class: ''
+          default_row_class: true
+          type: ul
+          wrapper_class: item-list
+          class: ''
+      row:
+        type: fields
+      query:
+        type: views_query
+        options:
+          query_comment: ''
+          disable_sql_rewrite: false
+          distinct: false
+          replica: false
+          query_tags: {  }
+      relationships: {  }
       header:
         result:
           id: result
@@ -181,45 +196,31 @@ display:
           relationship: none
           group_type: group
           admin_label: ''
+          plugin_id: result
           empty: false
           content: 'There are currently @total users online.'
-          plugin_id: result
       footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'There are currently 0 users online.'
-          plugin_id: text_custom
-      relationships: {  }
-      arguments: {  }
       display_extenders: {  }
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - user.permissions
-      max-age: -1
       tags: {  }
   who_s_online_block:
-    display_plugin: block
     id: who_s_online_block
     display_title: 'Who''s online'
+    display_plugin: block
     position: 1
     display_options:
-      block_description: 'Who''s online'
       display_description: 'A list of users that are currently logged in.'
       display_extenders: {  }
+      block_description: 'Who''s online'
     cache_metadata:
+      max-age: -1
       contexts:
         - 'languages:language_content'
         - 'languages:language_interface'
         - user.permissions
-      max-age: -1
       tags: {  }

---FILE: drupal/config/webform.settings.yml---
@@ -1,36 +1,32 @@
+_core:
+  default_config_hash: MBqTlehg5ZqSL5l9z6gMeqq1PwF5cguOzfFtiKRj1nY
+langcode: en
 settings:
   default_status: open
   default_page_base_path: /form
   default_ajax: false
+  default_ajax_progress_type: throbber
   default_ajax_effect: fade
   default_ajax_speed: 500
-  default_ajax_progress_type: throbber
-  default_form_open_message: 'This form has not yet been opened to submissions.'
-  default_form_close_message: 'Sorry This form is closed to new submissions.'
-  default_form_exception_message: 'Unable to display this webform. Please contact the site administrator.'
   default_submit_button_label: Submit
   default_reset_button_label: Reset
   default_delete_button_label: Delete
   default_form_submit_once: false
+  default_form_open_message: 'This form has not yet been opened to submissions.'
+  default_form_close_message: 'Sorry This form is closed to new submissions.'
+  default_form_exception_message: 'Unable to display this webform. Please contact the site administrator.'
   default_form_confidential_message: 'This form is confidential. You must <a href=""[site:login-url]/logout?destination=[current-page:url:relative]"">Log out</a> to submit it.'
   default_form_access_denied_message: 'Please login to access this form.'
-  default_form_disable_back: false
-  default_form_submit_back: false
-  default_form_unsaved: false
   default_form_disable_remote_addr: false
   default_form_novalidate: false
   default_form_disable_inline_errors: false
   default_form_required: false
   default_form_required_label: 'Indicates required field'
+  default_form_unsaved: false
+  default_form_disable_back: false
+  default_form_submit_back: false
   default_form_details_toggle: true
   default_form_file_limit: ''
-  form_classes: |
-    container-inline clearfix
-    form--inline clearfix
-    messages messages--error
-    messages messages--warning
-    messages messages--status
-  button_classes: ''
   default_wizard_prev_button_label: '< Previous'
   default_wizard_next_button_label: 'Next >'
   default_wizard_start_label: Start
@@ -49,10 +45,9 @@ settings:
   default_draft_pending_multiple_message: 'You have pending drafts for this webform. <a href=""#"">View your pending drafts</a>.'
   default_confirmation_message: 'New submission added to [webform:title].'
   default_confirmation_back_label: 'Back to form'
+  default_limit_total_message: 'No more submissions are permitted.'
+  default_limit_user_message: 'No more submissions are permitted.'
   default_submission_label: '[webform_submission:submitted-to]: Submission #[webform_submission:serial]'
-  default_submission_access_denied_message: 'Please login to access this submission.'
-  default_submission_exception_message: 'Unable to process this submission. Please contact the site administrator.'
-  default_submission_locked_message: 'This submission has been locked.'
   default_submission_log: false
   default_submission_views: {  }
   default_submission_views_replace:
@@ -68,9 +63,19 @@ settings:
       - entity.node.webform.user.drafts
       - entity.node.webform.user.submissions
   default_results_customize: false
+  default_submission_access_denied_message: 'Please login to access this submission.'
+  default_submission_exception_message: 'Unable to process this submission. Please contact the site administrator.'
+  default_submission_locked_message: 'This submission has been locked.'
   default_previous_submission_message: 'You have already submitted this webform. <a href=""#"">View your previous submission</a>.'
   default_previous_submissions_message: 'You have already submitted this webform. <a href=""#"">View your previous submissions</a>.'
   default_autofill_message: 'This submission has been autofilled with your previous submission.'
+  form_classes: |
+    container-inline clearfix
+    form--inline clearfix
+    messages messages--error
+    messages messages--warning
+    messages messages--status
+  button_classes: ''
   preview_classes: |
     messages messages--error
     messages messages--warning
@@ -81,22 +86,9 @@ settings:
     messages messages--status
   confirmation_back_classes: |
     button
-  default_limit_total_message: 'No more submissions are permitted.'
-  default_limit_user_message: 'No more submissions are permitted.'
   default_share: false
   default_share_node: false
   default_share_theme_name: ''
-  dialog: false
-  dialog_options:
-    narrow:
-      title: Narrow
-      width: 600
-    normal:
-      title: Normal
-      width: 800
-    wide:
-      title: Wide
-      width: 1000
   webform_bulk_form: true
   webform_bulk_form_actions:
     - webform_open_action
@@ -111,43 +103,20 @@ settings:
     - webform_submission_make_lock_action
     - webform_submission_make_unlock_action
     - webform_submission_delete_action
+  dialog: false
+  dialog_options:
+    narrow:
+      title: Narrow
+      width: 600
+    normal:
+      title: Normal
+      width: 800
+    wide:
+      title: Wide
+      width: 1000
 assets:
   css: ''
   javascript: ''
-handler:
-  excluded_handlers: {  }
-variant:
-  excluded_variants: {  }
-export:
-  temp_directory: ''
-  exporter: delimited
-  multiple_delimiter: ;
-  header_format: label
-  header_prefix: true
-  header_prefix_label_delimiter: ': '
-  header_prefix_key_delimiter: __
-  composite_element_item_format: label
-  options_single_format: compact
-  options_multiple_format: compact
-  options_item_format: label
-  entity_reference_items:
-    - id
-    - title
-    - url
-  likert_answers_format: label
-  signature_format: status
-  delimiter: ','
-  excel: false
-  archive_type: tar
-  excluded_exporters: {  }
-batch:
-  default_batch_export_size: 500
-  default_batch_import_size: 100
-  default_batch_update_size: 500
-  default_batch_delete_size: 500
-  default_batch_email_size: 500
-purge:
-  cron_size: 100
 form:
   limit: 50
   filter_category: ''
@@ -201,10 +170,10 @@ file:
   file_private_redirect_message: 'Please login to access the uploaded file.'
   default_max_filesize: ''
   default_managed_file_extensions: 'gif jpg jpeg png bmp eps tif pict psd txt rtf html odf pdf doc docx ppt pptx xls xlsx xml avi mov mp3 mp4 ogg wav bz2 dmg gz jar rar sit svg tar zip'
-  default_audio_file_extensions: 'mp3 ogg wav'
-  default_document_file_extensions: 'txt rtf pdf doc docx odt ppt pptx odp xls xlsx ods'
   default_image_file_extensions: 'gif jpg jpeg png'
   default_video_file_extensions: 'avi mov mp4 ogg wav webm'
+  default_audio_file_extensions: 'mp3 ogg wav'
+  default_document_file_extensions: 'txt rtf pdf doc docx odt ppt pptx odp xls xlsx ods'
   make_unused_managed_files_temporary: true
   delete_temporary_managed_files: true
 format: {  }
@@ -229,6 +198,40 @@ mail:
     <p>Submitted values are:</p>
     [webform_submission:values]
   roles: {  }
+export:
+  temp_directory: ''
+  exporter: delimited
+  delimiter: ','
+  multiple_delimiter: ;
+  excel: false
+  archive_type: tar
+  header_format: label
+  header_prefix: true
+  header_prefix_key_delimiter: __
+  header_prefix_label_delimiter: ': '
+  entity_reference_items:
+    - id
+    - title
+    - url
+  options_single_format: compact
+  options_multiple_format: compact
+  options_item_format: label
+  likert_answers_format: label
+  signature_format: status
+  composite_element_item_format: label
+  excluded_exporters: {  }
+handler:
+  excluded_handlers: {  }
+variant:
+  excluded_variants: {  }
+batch:
+  default_batch_export_size: 500
+  default_batch_import_size: 100
+  default_batch_update_size: 500
+  default_batch_delete_size: 500
+  default_batch_email_size: 500
+purge:
+  cron_size: 100
 test:
   types: |
     checkbox:
@@ -311,12 +314,12 @@ test:
       - 'Dixisset'
 ui:
   video_display: dialog
-  details_save: true
   help_disabled: false
   dialog_disabled: false
   offcanvas_disabled: false
   promotions_disabled: false
   support_disabled: false
+  details_save: true
   description_help: true
   toolbar_item: false
 libraries:
@@ -325,12 +328,9 @@ libraries:
     - jquery.chosen
 requirements:
   cdn: true
-  bootstrap: true
   clientside_validation: true
+  bootstrap: true
   spam: true
-langcode: en
 third_party_settings:
   captcha:
     replace_administration_mode: true
-_core:
-  default_config_hash: MBqTlehg5ZqSL5l9z6gMeqq1PwF5cguOzfFtiKRj1nY

---FILE: drupal/config/webform.webform.contact.yml---
@@ -7,9 +7,9 @@ dependencies:
       - webform
 _core:
   default_config_hash: CJr5U2B4if_Ff1SZfnNp_csPKwXIynmbUlBC-SmSOAE
+weight: 0
 open: null
 close: null
-weight: 0
 uid: null
 template: false
 archive: false
@@ -61,9 +61,9 @@ settings:
   page_theme_name: ''
   form_title: source_entity_webform
   form_submit_once: false
-  form_exception_message: ''
   form_open_message: ''
   form_close_message: ''
+  form_exception_message: ''
   form_previous_submissions: true
   form_confidential: false
   form_confidential_message: ''
@@ -73,31 +73,36 @@ settings:
   form_prepopulate_source_entity: false
   form_prepopulate_source_entity_required: false
   form_prepopulate_source_entity_type: ''
-  form_reset: false
+  form_unsaved: false
+  form_disable_back: false
+  form_submit_back: false
   form_disable_autocomplete: false
   form_novalidate: false
   form_disable_inline_errors: false
   form_required: false
-  form_unsaved: false
-  form_disable_back: false
-  form_submit_back: false
   form_autofocus: false
   form_details_toggle: false
+  form_reset: false
   form_access_denied: default
   form_access_denied_title: ''
   form_access_denied_message: ''
   form_access_denied_attributes: {  }
   form_file_limit: ''
+  form_attributes: {  }
   form_method: ''
   form_action: ''
-  form_attributes: {  }
   share: false
   share_node: false
   share_theme_name: ''
   share_title: true
   share_page_body_attributes: {  }
   submission_label: ''
+  submission_exception_message: ''
+  submission_locked_message: ''
   submission_log: false
+  submission_excluded_elements: {  }
+  submission_exclude_empty: false
+  submission_exclude_empty_checkbox: false
   submission_views: {  }
   submission_views_replace: {  }
   submission_user_columns: {  }
@@ -106,11 +111,6 @@ settings:
   submission_access_denied_title: ''
   submission_access_denied_message: ''
   submission_access_denied_attributes: {  }
-  submission_exception_message: ''
-  submission_locked_message: ''
-  submission_excluded_elements: {  }
-  submission_exclude_empty: false
-  submission_exclude_empty_checkbox: false
   previous_submission_message: ''
   previous_submissions_message: ''
   autofill: false
@@ -121,13 +121,13 @@ settings:
   wizard_progress_percentage: false
   wizard_progress_link: false
   wizard_progress_states: false
-  wizard_auto_forward: true
-  wizard_auto_forward_hide_next_button: false
-  wizard_keyboard: true
   wizard_start_label: ''
   wizard_preview_link: false
   wizard_confirmation: true
   wizard_confirmation_label: ''
+  wizard_auto_forward: true
+  wizard_auto_forward_hide_next_button: false
+  wizard_keyboard: true
   wizard_track: ''
   wizard_prev_button_label: ''
   wizard_next_button_label: ''
@@ -150,9 +150,9 @@ settings:
   draft_pending_single_message: ''
   draft_pending_multiple_message: ''
   confirmation_type: url_message
+  confirmation_url: '<front>'
   confirmation_title: ''
   confirmation_message: 'Your message has been sent.'
-  confirmation_url: '<front>'
   confirmation_attributes: {  }
   confirmation_back: true
   confirmation_back_label: ''
@@ -231,9 +231,9 @@ access:
 handlers:
   email_confirmation:
     id: email
+    handler_id: email_confirmation
     label: 'Email confirmation'
     notes: ''
-    handler_id: email_confirmation
     status: true
     conditions: {  }
     weight: 1
@@ -242,13 +242,17 @@ handlers:
         - completed
       to_mail: '[current-user:mail]'
       to_options: {  }
-      cc_mail: ''
-      cc_options: {  }
       bcc_mail: ''
       bcc_options: {  }
+      cc_mail: ''
+      cc_options: {  }
       from_mail: _default
       from_options: {  }
       from_name: _default
+      reply_to: ''
+      return_path: ''
+      sender_mail: ''
+      sender_name: ''
       subject: '[webform_submission:values:subject:raw]'
       body: '[webform_submission:values:message:value]'
       excluded_elements: {  }
@@ -262,15 +266,11 @@ handlers:
       theme_name: ''
       parameters: {  }
       debug: false
-      reply_to: ''
-      return_path: ''
-      sender_mail: ''
-      sender_name: ''
   email_notification:
     id: email
+    handler_id: email_notification
     label: 'Email notification'
     notes: ''
-    handler_id: email_notification
     status: true
     conditions: {  }
     weight: 2
@@ -279,13 +279,17 @@ handlers:
         - completed
       to_mail: _default
       to_options: {  }
-      cc_mail: ''
-      cc_options: {  }
       bcc_mail: ''
       bcc_options: {  }
+      cc_mail: ''
+      cc_options: {  }
       from_mail: '[webform_submission:values:email:raw]'
       from_options: {  }
       from_name: '[webform_submission:values:name:raw]'
+      reply_to: ''
+      return_path: ''
+      sender_mail: ''
+      sender_name: ''
       subject: '[webform_submission:values:subject:raw]'
       body: '[webform_submission:values:message:value]'
       excluded_elements: {  }
@@ -299,8 +303,4 @@ handlers:
       theme_name: ''
       parameters: {  }
       debug: false
-      reply_to: ''
-      return_path: ''
-      sender_mail: ''
-      sender_name: ''
 variants: {  }",False,False,Implementation / Logic,6
chapter-three,next-drupal,ce6520638b6ec6f20969d2e68cfb616ca5593106,shadcn,arshad@chummun.com,2022-01-06T08:07:23Z,shadcn,arshad@chummun.com,2022-01-06T08:07:23Z,fix(drupal): update jsonapi_extras,drupal/composer.json;drupal/composer.lock,False,False,False,False,2,2,4,"---FILE: drupal/composer.json---
@@ -36,7 +36,7 @@
     ""drupal/field_group"": ""^3.1"",
     ""drupal/gin"": ""^3.0@alpha"",
     ""drupal/gin_login"": ""^1.0"",
-    ""drupal/jsonapi_extras"": ""^3.17"",
+    ""drupal/jsonapi_extras"": ""^3.20"",
     ""drupal/jsonapi_menu_items"": ""^1.2"",
     ""drupal/jsonapi_schema"": ""^1.0@beta"",
     ""drupal/jsonapi_search_api"": ""^1.0@RC"",

---FILE: drupal/composer.lock---
@@ -4,7 +4,7 @@
         ""Read more about it at https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies"",
         ""This file is @generated automatically""
     ],
-    ""content-hash"": ""5736d7fb91e132d6ee56018af68132d1"",
+    ""content-hash"": ""f6882e449ef9fa4f68d522e934134f8e"",
     ""packages"": [
         {
             ""name"": ""alchemy/zippy"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,d0a69a3db2983688410153a09a170fcc4600b6fd,shadcn,arshad@chummun.com,2022-01-06T08:07:10Z,shadcn,arshad@chummun.com,2022-01-06T08:07:10Z,fix(drupal): update simple_oauth and facets,drupal/composer.json;drupal/composer.lock,False,False,False,False,874,852,1726,"---FILE: drupal/composer.json---
@@ -32,7 +32,7 @@
     ""drupal/default_content"": ""^2.0@alpha"",
     ""drupal/entity_reference_revisions"": ""^1.9"",
     ""drupal/entity_usage"": ""^2.0@beta"",
-    ""drupal/facets"": ""^1.8"",
+    ""drupal/facets"": ""^2.0"",
     ""drupal/field_group"": ""^3.1"",
     ""drupal/gin"": ""^3.0@alpha"",
     ""drupal/gin_login"": ""^1.0"",
@@ -45,7 +45,7 @@
     ""drupal/paragraphs"": ""^1.12"",
     ""drupal/pathauto"": ""^1.8"",
     ""drupal/require_login"": ""^2.4"",
-    ""drupal/simple_oauth"": ""^5.0"",
+    ""drupal/simple_oauth"": ""^5.2"",
     ""drupal/subrequests"": ""^3.0"",
     ""drupal/webform"": ""^6.1"",
     ""drupal/webform_rest"": ""^4.0"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,8dd9a79744b8a481e92fa1cc363c2f1a47bb7b72,shadcn,arshad@chummun.com,2021-12-21T18:49:56Z,shadcn,arshad@chummun.com,2021-12-21T18:49:56Z,fix(www): add contact link in header nav,www/components/layout.tsx;www/config/site.ts,False,False,False,False,6,29,35,"---FILE: www/components/layout.tsx---
@@ -50,7 +50,7 @@ export function Layout({
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 text-sm font-semibold text-black sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 text-sm font-semibold text-white sm:text-base sm:mt-0 hover:underline""
           >
             <span className=""sr-only"">Chapter Three</span>
             <svg
@@ -69,7 +69,7 @@ export function Layout({
             href={`${site.social.contact}?utm_source=next-drupal&utm_medium=banner`}
             rel=""noopener noreferrer""
             target=""_blank""
-            className=""mt-2 text-sm font-semibold text-black sm:text-base sm:mt-0 hover:underline""
+            className=""mt-2 text-sm font-semibold text-white sm:text-base sm:mt-0 hover:underline""
           >
             Contact Chapter Three for your Next project
           </a>
@@ -168,7 +168,6 @@ export function Layout({
               </button>
               <Link href=""/"" passHref>
                 <a className=""items-center flex-shrink hidden text-lg font-semibold sm:flex"">
-                  <Logo classes=""hidden mr-2 sm:block w-10 h-10"" />
                   {site.name}
                 </a>
               </Link>
@@ -268,29 +267,3 @@ export function Layout({
     </>
   )
 }
-
-function Logo({ classes }) {
-  return (
-    <svg
-      className={classNames(""text-blue-700"", classes)}
-      viewBox=""0 0 252 252""
-      xmlns=""http://www.w3.org/2000/svg""
-    >
-      <circle cx=""126.2"" cy=""124.5"" r=""103"" fill=""currentColor"" />
-      <g transform=""translate(42 71)"">
-        <path
-          d=""m83.7 101.7v-93.2h34.9c10.4 0 19.4 1.9 26.9 5.6s13.2 9 17.2 15.9 6 15.2 6 24.9c0 9.9-2 18.3-6.1 25.2s-10 12.3-17.7 15.9c-7.7 3.7-17.1 5.5-28.1 5.5h-33.1zm33.1-80.5h-17.9v67.9h17.8c24 0 36-11.3 36-33.9s-12-34-35.9-34z""
-          fill=""#FFFFFF""
-        />
-        <path
-          d=""M15.5,101.7V8.5h14l53.7,71v-71h14v93.1h-14L29.6,30.8v70.8H15.5z""
-          fill=""#FFFFFF""
-        />
-        <path
-          d=""M80.3,75.3l9.9,13.7h9.9V71.8L80.3,49.1V75.3z""
-          fill=""currentColor""
-        />
-      </g>
-    </svg>
-  )
-}

---FILE: www/config/site.ts---
@@ -19,6 +19,10 @@ export const site: SiteConfig = {
       title: ""Examples"",
       href: ""/docs/examples"",
     },
+    {
+      title: ""Contact"",
+      href: ""https://www.chapterthree.com/contact?utm_source=next-drupal&utm_medium=banner"",
+    },
   ],
   social: {
     github: ""chapter-three/next-drupal"",",False,False,Documentation / Formatting,4
chapter-three,next-drupal,4739270a43cf889dae787b75dc5d2094fb51a3fd,shadcn,arshad@chummun.com,2021-12-21T18:42:33Z,shadcn,arshad@chummun.com,2021-12-21T18:42:33Z,fix(example-auth): update to latest next-auth,examples/example-auth/.env.example;examples/example-auth/.env.local;examples/example-auth/package.json;examples/example-auth/pages/api/auth/[...nextauth].ts;examples/example-auth/types/next-auth.d.ts,False,False,False,False,16,9,25,"---FILE: examples/example-auth/.env.example---
@@ -3,4 +3,4 @@ NEXT_IMAGE_DOMAIN=localhost
 OAUTH_CLIENT_ID=09989878-4e08-4669-afc1-5071d824566a
 OAUTH_CLIENT_SECRET=cHNmGiu5yuzn9MvwmUggdDZrH6MwvNtK
 NEXTAUTH_URL=http://localhost:3434
-JWT_SIGNING_PRIVATE_KEY=// Generate one using `jose newkey -s 512 -t oct -a HS512`
\ No newline at end of file
+NEXTAUTH_SECRET=zdauNuBL7lLAHT9zIpxExCThVHSSOfIwouGOhr5cjWQ
\ No newline at end of file

---FILE: examples/example-auth/.env.local---
@@ -3,4 +3,4 @@ NEXT_IMAGE_DOMAIN=localhost
 OAUTH_CLIENT_ID=09989878-4e08-4669-afc1-5071d824566a
 OAUTH_CLIENT_SECRET=cHNmGiu5yuzn9MvwmUggdDZrH6MwvNtK
 NEXTAUTH_URL=http://localhost:3434
-JWT_SIGNING_PRIVATE_KEY={""kty"":""oct"",""kid"":""zdauNuBL7lLAHT9zIpxExCThVHSSOfIwouGOhr5cjWQ"",""alg"":""HS512"",""k"":""EpsZYLeBSy69tbhhDbWa5surOI3Xsd1IVxLI_oodJmDkjDXnMvAJocG7tAU6ZpKraxV8DxEXr5W0zWqEXUoMTQ""}
\ No newline at end of file
+NEXTAUTH_SECRET=zdauNuBL7lLAHT9zIpxExCThVHSSOfIwouGOhr5cjWQ
\ No newline at end of file

---FILE: examples/example-auth/package.json---
@@ -18,7 +18,7 @@
     ""@tailwindcss/typography"": ""^0.4.1"",
     ""jwt-decode"": ""^3.1.2"",
     ""next"": ""^12.0.3"",
-    ""next-auth"": ""4.0.0-beta.6"",
+    ""next-auth"": ""^4.0.5"",
     ""next-drupal"": ""^1.0.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2""

---FILE: examples/example-auth/pages/api/auth/[...nextauth].ts---
@@ -1,6 +1,7 @@
 import NextAuth from ""next-auth""
 import CredentialsProvider from ""next-auth/providers/credentials""
 import jwt_decode from ""jwt-decode""
+import { DecodedUserInfo } from ""../../../types/next-auth""
 
 export default NextAuth({
   providers: [
@@ -63,17 +64,15 @@ export default NextAuth({
       clientSecret: process.env.OAUTH_CLIENT_SECRET,
     },
   ],
-  jwt: {
-    signingKey: process.env.JWT_SIGNING_PRIVATE_KEY,
-    encryption: true,
-  },
+  secret: process.env.NEXTAUTH_SECRET,
   callbacks: {
     async jwt({ token, user }) {
       // Forward the access token, refresh token and expiration date from user.
       // We'll use to handle token refresh.
       if (user) {
         token.accessToken = user.access_token
-        token.accessTokenExpires = Date.now() + user.expires_in * 1000
+        token.accessTokenExpires =
+          Date.now() + (user.expires_in as number) * 1000
         token.refreshToken = user.refresh_token
       }
 
@@ -91,7 +90,7 @@ export default NextAuth({
 
         // Decode token and pass info to session.
         // This is used for the Password Grant.
-        const decoded = jwt_decode(token.accessToken)
+        const decoded = jwt_decode<DecodedUserInfo>(token.accessToken as string)
         session.user.id = decoded.id
         session.user.email = decoded.email
         session.user.username = decoded.username

---FILE: examples/example-auth/types/next-auth.d.ts---
@@ -3,7 +3,15 @@ import { DefaultSession, Session } from ""next-auth""
 declare module ""next-auth"" {
   interface Session {
     user?: DefaultSession[""user""] & {
+      id?: string
       username?: string
     }
   }
 }
+
+type DecodedUserInfo = {
+  id: string
+  email: string
+  username: string
+  field_name: string
+}",False,False,Documentation / Formatting,3
chapter-three,next-drupal,36e756b069c654b9197fb1b818f2ef61f937bff1,shadcn,arshad@chummun.com,2021-12-21T18:41:35Z,shadcn,arshad@chummun.com,2021-12-21T18:41:35Z,fix(next-drupal): handle nested params in getResourceByPath,packages/next-drupal/src/get-resource.ts,False,False,False,False,4,4,8,"---FILE: packages/next-drupal/src/get-resource.ts---
@@ -1,4 +1,5 @@
 import { GetStaticPropsContext } from ""next""
+import { stringify } from ""qs""
 import {
   AccessToken,
   JsonApiParams,
@@ -101,14 +102,13 @@ export async function getResourceByPath<T extends JsonApiResource>(
   }
 
   const { resourceVersion = ""rel:latest-version"", ...params } = options?.params
-  const resourceParams = new URLSearchParams({
-    ...params,
-  })
 
   if (options.isVersionable) {
-    resourceParams.set(""resourceVersion"", resourceVersion)
+    params.resourceVersion = resourceVersion
   }
 
+  const resourceParams = stringify(params)
+
   const payload = [
     {
       requestId: ""router"",",False,False,Rendering / Conversion,0
chapter-three,next-drupal,498c9d648a48da93fff6252eb5b00973bcff6ef9,shadcn,arshad@chummun.com,2021-12-21T10:12:33Z,shadcn,arshad@chummun.com,2021-12-21T10:12:33Z,fix(www): update name,www/components/layout.tsx,False,False,False,False,11,26,37,"---FILE: www/components/layout.tsx---
@@ -50,11 +50,6 @@ export function Layout({
           showMenu ? ""translate-x-0"" : ""-translate-x-full""
         )}
       >
-        <Link href=""/"" passHref>
-          <a className=""block mb-6 sm:hidden"">
-            <Logo classes={""h-11""} />
-          </a>
-        </Link>
         <ul className=""grid grid-flow-row gap-2 mb-8 auto-rows-max"">
           <li>
             <Link href=""/"" passHref>
@@ -141,11 +136,12 @@ export function Layout({
                 <span className=""sr-only"">Toggle Menu</span>
               </button>
               <Link href=""/"" passHref>
-                <a className=""items-center hidden text-lg font-semibold sm:block flex-shrink"">
-                  <Logo classes={""hidden mr-2 sm:block h-12""} />
+                <a className=""items-center flex-shrink hidden text-lg font-semibold sm:flex"">
+                  <Logo classes=""hidden mr-2 sm:block w-10 h-10"" />
+                  {site.name}
                 </a>
               </Link>
-              <div className=""hidden flex-grow grid-flow-col gap-6 ml-4 lg:grid lg:ml-8 lg:gap-8 auto-cols-max"">
+              <div className=""flex-grow hidden grid-flow-col gap-6 ml-4 lg:grid lg:ml-8 lg:gap-8 auto-cols-max"">
                 {site.links.map((link) => {
                   const isActive =
                     pathname === link.href ||
@@ -230,25 +226,11 @@ export function Layout({
 function Logo({ classes }) {
   return (
     <svg
-      className={classes}
-      viewBox=""0 0 1052 252""
+      className={classNames(""text-purple-700"", classes)}
+      viewBox=""0 0 252 252""
       xmlns=""http://www.w3.org/2000/svg""
     >
-      <rect x=""-299"" y=""-250"" width=""3"" height=""3"" />
-      <g transform=""translate(305 63)"" fill=""currentColor"">
-        <path d=""M-22,107.1V15.9h7.3L47,96.5V15.9h7v91.2h-7.3L-15,26.3v80.8H-22z"" />
-        <path d=""M83.3,107.1V15.9h52.8v6.5H90.7v34.6h40.6v6.4H90.7v37.3h47.2v6.5L83.3,107.1z"" />
-        <path d=""m151 107.1 35.2-47.8-31.8-43.4h8.9l27.3 38.1 27.6-38.2h8.3l-31.8 43.4 34.9 47.8h-9l-30.5-42.5-30.7 42.5h-8.4z"" />
-        <path d=""M270,107.1V22.4h-31.2v-6.5h69.8v6.5h-31.2v84.7H270z"" />
-        <path d=""m325 107.1v-91.2h34.9c10.6 0 19.6 1.8 27.1 5.4s13.2 8.8 17.1 15.5 5.9 14.9 5.9 24.5-2 17.8-6.1 24.7-9.9 12.1-17.5 15.7-16.9 5.4-27.8 5.4h-33.6zm33.2-76.5h-15.1v61.7h15.1c21.8 0 32.8-10.3 32.8-30.8s-11-30.9-32.8-30.9z"" />
-        <path d=""m424.7 107.1v-61.1h16l0.1 12.1c1.4-4.2 3.6-7.5 6.5-9.8s6.3-3.4 10.3-3.4c1.3 0 2.6 0.1 3.9 0.4s2.4 0.6 3.2 1l-1.5 15.7c-1-0.4-2.3-0.8-3.7-1.1s-2.8-0.5-4-0.5c-4.6 0-8.1 1.6-10.6 4.9-2.5 3.2-3.7 7.9-3.7 14v27.8h-16.5z"" />
-        <path d=""m504.4 109c-9 0-16-2.4-20.8-7.1s-7.3-11.4-7.3-20.2v-35.7h16.7v35.4c0 8.6 3.8 12.8 11.5 12.8 7.6 0 11.4-4.3 11.4-12.8v-35.4h16.7v35.8c0 8.7-2.4 15.4-7.3 20.2s-11.9 7-20.9 7z"" />
-        <path d=""m549.7 136.5v-90.5h15.6l0.2 9.6c2.2-3.7 5-6.5 8.6-8.5s7.7-3 12.3-3c5.4 0 10.3 1.4 14.5 4.1s7.6 6.6 10 11.4 3.6 10.4 3.6 16.7c0 6.2-1.3 11.7-3.8 16.6s-6 8.8-10.4 11.7-9.3 4.3-14.7 4.3c-8.5 0-14.9-3.4-19.3-10.2v37.7h-16.6zm31.9-42.4c4.7 0 8.6-1.6 11.6-4.9s4.6-7.5 4.6-12.6c0-5.2-1.5-9.4-4.6-12.7-3-3.3-6.9-4.9-11.6-4.9-4.8 0-8.7 1.6-11.8 4.9s-4.6 7.5-4.6 12.7c0 5.1 1.5 9.3 4.6 12.6s7 4.9 11.8 4.9z"" />
-        <path d=""m653.3 109c-5.4 0-10.3-1.4-14.5-4.1s-7.5-6.6-9.9-11.5-3.6-10.4-3.6-16.7c0-6.2 1.3-11.7 3.8-16.6s6-8.8 10.4-11.7 9.3-4.3 14.7-4.3c4.2 0 8.1 1 11.6 2.9s6.2 4.7 8.2 8.3l0.2-9.4h15.8v61.1h-15.8l-0.2-9.4c-4.2 7.6-11.1 11.4-20.7 11.4zm4.9-14.9c4.7 0 8.6-1.6 11.6-4.9s4.6-7.5 4.6-12.6c0-5.2-1.5-9.4-4.6-12.7-3-3.3-6.9-4.9-11.6-4.9s-8.6 1.6-11.6 4.9-4.6 7.5-4.6 12.7c0 5.1 1.5 9.3 4.6 12.6s6.9 4.9 11.6 4.9z"" />
-        <path d=""M707.9,107.1V9.9h16.6v97.2H707.9z"" />
-      </g>
-
-      <circle cx=""126.2"" cy=""124.5"" r=""103"" fill=""#6D28D9"" />
+      <circle cx=""126.2"" cy=""124.5"" r=""103"" fill=""currentColor"" />
       <g transform=""translate(42 71)"">
         <path
           d=""m83.7 101.7v-93.2h34.9c10.4 0 19.4 1.9 26.9 5.6s13.2 9 17.2 15.9 6 15.2 6 24.9c0 9.9-2 18.3-6.1 25.2s-10 12.3-17.7 15.9c-7.7 3.7-17.1 5.5-28.1 5.5h-33.1zm33.1-80.5h-17.9v67.9h17.8c24 0 36-11.3 36-33.9s-12-34-35.9-34z""
@@ -258,7 +240,10 @@ function Logo({ classes }) {
           d=""M15.5,101.7V8.5h14l53.7,71v-71h14v93.1h-14L29.6,30.8v70.8H15.5z""
           fill=""#FFFFFF""
         />
-        <path d=""M80.3,75.3l9.9,13.7h9.9V71.8L80.3,49.1V75.3z"" fill=""#6D28D9"" />
+        <path
+          d=""M80.3,75.3l9.9,13.7h9.9V71.8L80.3,49.1V75.3z""
+          fill=""currentColor""
+        />
       </g>
     </svg>
   )",False,False,Dependency / Package,1
chapter-three,next-drupal,65e1c996194071e9dfb897b492e832215ad3879e,Rob Decker,rob@deckerdev.com,2021-12-16T21:47:34Z,Rob Decker,rob@deckerdev.com,2021-12-16T21:47:34Z,fix(www): change blue to purple,www/components/callout.tsx;www/components/doc-search.tsx;www/components/example-card.tsx;www/components/layout.tsx;www/components/mdx.tsx;www/components/sidebar-nav.tsx;www/pages/index.tsx;www/pages/learn/[[...slug]].tsx,False,False,False,False,14,14,28,"---FILE: www/components/callout.tsx---
@@ -6,7 +6,7 @@ interface CalloutProps {
 export function Callout({ children, icon, ...props }: CalloutProps) {
   return (
     <div
-      className=""flex items-start p-4 my-6 border border-l-4 rounded-md border-blue-50 bg-blue-50 callout""
+      className=""flex items-start p-4 my-6 border border-l-4 rounded-md border-purple-50 bg-purple-50 callout""
       {...props}
     >
       {icon && <span className=""mr-2 text-2xl"">{icon}</span>}

---FILE: www/components/doc-search.tsx---
@@ -51,7 +51,7 @@ export function DocSearch({ ...props }) {
         id=""docsearch-input""
         placeholder=""Search the docs...""
         ref={input}
-        className=""w-full text-sm text-black border-0 border-gray-200 rounded-md h-9 bg-gray-50""
+        className=""w-full text-sm text-black border-0 border-gray-200 rounded-md h-9 bg-gray-50 focus:ring-purple-700""
       />
       <span className=""absolute flex items-center justify-center w-5 h-5 text-xs text-gray-600 bg-gray-200 rounded-md top-2 right-2"">
         {KEYBOARD_SHORTCUT_KEY}

---FILE: www/components/example-card.tsx---
@@ -23,7 +23,7 @@ export function ExampleCard({
         {links?.map((link) => (
           <li key={link.href} className=""mb-1"">
             <Link href={link.href}>
-              <a className=""text-sm text-blue-600 hover:underline"">
+              <a className=""text-sm text-purple-700 hover:underline"">
                 {link.title}
               </a>
             </Link>

---FILE: www/components/layout.tsx---
@@ -61,7 +61,7 @@ export function Layout({
               <a
                 className={classNames(
                   ""text-sm font-medium hover:underline"",
-                  pathname === ""/"" ? ""text-blue-600"" : ""text-gray-700""
+                  pathname === ""/"" ? ""text-purple-700"" : ""text-gray-700""
                 )}
               >
                 Home
@@ -77,7 +77,7 @@ export function Layout({
                   <a
                     className={classNames(
                       ""text-sm font-medium hover:underline"",
-                      isActive ? ""text-blue-600"" : ""text-gray-700""
+                      isActive ? ""text-purple-700"" : ""text-gray-700""
                     )}
                     target={link.external ? ""_blank"" : ""_self""}
                     rel={link.external ? ""noreferrer"" : """"}

---FILE: www/components/mdx.tsx---
@@ -29,7 +29,7 @@ export const mdxComponents = {
     <ol className=""pl-8 mb-8 list-decimal list-outside"" {...props} />
   ),
   li: (props) => <li className=""mb-2 leading-relaxed break-words"" {...props} />,
-  a: (props) => <a className=""text-blue-600 hover:underline"" {...props} />,
+  a: (props) => <a className=""text-purple-700 hover:underline"" {...props} />,
   figure: (props) => <figure className=""my-6"" {...props} />,
   figcaption: (props) => <figcaption className=""text-center"" {...props} />,
   inlineCode: ({ children, ...props }) => (

---FILE: www/components/sidebar-nav.tsx---
@@ -34,7 +34,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
           <a
             className={classNames(
               ""px-2 py-1 rounded-md hover:text-black"",
-              asPath === item.href ? ""text-black bg-blue-50"" : ""text-gray-700""
+              asPath === item.href ? ""text-black bg-purple-50"" : ""text-gray-700""
             )}
             onClick={onLinkClick}
             target={item.external && ""_blank""}

---FILE: www/pages/index.tsx---
@@ -44,7 +44,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           </p>
           <div className=""flex flex-col items-center justify-center py-4 sm:flex-row md:py-8 lg:py-10"">
             <Link href=""/learn/quick-start"" passHref>
-              <a className=""w-2/3 px-8 py-2 font-semibold text-center text-white transition-all bg-blue-800 border-2 border-blue-800 rounded-md sm:w-auto hover:bg-blue-500 hover:border-blue-500"">
+              <a className=""w-2/3 px-8 py-2 font-semibold text-center text-white transition-all bg-purple-700 border-2 border-purple-700 rounded-md sm:w-auto hover:bg-purple-800 hover:border-purple-800"">
                 Get Started
               </a>
             </Link>
@@ -147,13 +147,13 @@ export default function IndexPage({ features }: IndexPageProps) {
                   className={classNames(
                     ""px-6 md:px-4 py-4 bg-white rounded-md w-full text-left block transition-all group"",
                     {
-                      ""md:shadow-lg text-blue-700"":
+                      ""md:shadow-lg text-purple-700"":
                         selectedFeature.hash === feature.hash,
                     }
                   )}
                   onClick={() => setSelectedFeature(feature)}
                 >
-                  <h3 className=""font-bold transition-all group-hover:text-blue-700"">
+                  <h3 className=""font-bold transition-all group-hover:text-purple-700"">
                     {feature.frontMatter.title}
                   </h3>
                   <p className=""text-sm text-gray-700"">

---FILE: www/pages/learn/[[...slug]].tsx---
@@ -103,27 +103,27 @@ export default function TutorialPage({
               </li>
             ))}
           </ul>
-          <div className=""p-4 my-6 mt-10 mr-4 border rounded-md border-blue-50 bg-blue-50 callout"">
+          <div className=""p-4 my-6 mt-10 mr-4 border rounded-md border-purple-50 bg-purple-50 callout"">
             <h4 className=""mb-2 text-sm font-medium"">Need help?</h4>
             <p className=""text-sm text-gray-600"">
               We are on{"" ""}
               <a
                 href=""https://twitter.com/shadcn""
-                className=""text-blue-600 hover:underline""
+                className=""text-purple-800 hover:underline""
               >
                 Twitter
               </a>
               ,{"" ""}
               <a
                 href=""https://github.com/chapter-three/next-drupal""
-                className=""text-blue-600 hover:underline""
+                className=""text-purple-800 hover:underline""
               >
                 GitHub
               </a>{"" ""}
               and{"" ""}
               <a
                 href=""https://drupal.slack.com/archives/C01E36BMU72""
-                className=""text-blue-600 hover:underline""
+                className=""text-purple-800 hover:underline""
               >
                 Slack
               </a>",False,False,Implementation / Logic,3
chapter-three,next-drupal,2bfd8155061b7e7386e06879ef47b2ab41c8495e,Joe Shindelar,eojthebrave@gmail.com,2021-12-07T20:25:09Z,GitHub,noreply@github.com,2021-12-07T20:25:09Z,"Fix wrong package name in password-grant.mdx

The npm package is named jwt-decode not jwt_decode. Trying to install jwt_decode will result in an error.",www/docs/authentication/password-grant.mdx,False,False,False,False,2,2,4,"---FILE: www/docs/authentication/password-grant.mdx---
@@ -18,10 +18,10 @@ See [https://example-auth.next-drupal.org/](https://example-auth.next-drupal.org
 
 ## Dependencies
 
-Add `next-auth` and `jwt_decode` to your Next.js site.
+Add `next-auth` and `jwt-decode` to your Next.js site.
 
 ```sh
-yarn add next-auth@beta jwt_decode
+yarn add next-auth@beta jwt-decode
 ```
 
 <Callout>",False,False,Documentation / Formatting,3
chapter-three,next-drupal,f68ed912100c5a2aedf8c0a2df894c6f58afcd5c,shadcn,arshad@chummun.com,2021-12-06T07:02:12Z,shadcn,arshad@chummun.com,2021-12-06T07:02:12Z,fix(www): meta tags,packages/next-drupal/README.md;www/pages/_app.tsx;www/public/images/meta.jpg,False,False,False,False,2,2,4,"---FILE: packages/next-drupal/README.md---
@@ -33,7 +33,7 @@ export default function BlogPage({ nodes }: BlogPageProps) {
               <h1>{node.title}</h1>
             </div>
           ))
-        : null}
+    null}
     </div>
   )
 }

---FILE: www/pages/_app.tsx---
@@ -14,7 +14,7 @@ export default function App({ Component, pageProps }) {
           url: process.env.NEXT_PUBLIC_BASE_URL,
           images: [
             {
-              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/og.jpg`,
+              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`,
               width: 800,
               height: 600,
             },",False,False,Documentation / Formatting,6
chapter-three,next-drupal,a74b3181aa5edd83a011f4b01fc93ce3f091facd,shadcn,arshad@chummun.com,2021-12-06T06:51:21Z,shadcn,arshad@chummun.com,2021-12-06T06:51:21Z,fix(www): update meta tags,www/config/site.ts;www/pages/_app.tsx;www/public/images/og.jpg,False,False,False,False,2,1,3,"---FILE: www/config/site.ts---
@@ -22,5 +22,6 @@ export const site: SiteConfig = {
   ],
   social: {
     github: ""chapter-three/next-drupal"",
+    twitter: ""shadcn"",
   },
 }

---FILE: www/pages/_app.tsx---
@@ -14,7 +14,7 @@ export default function App({ Component, pageProps }) {
           url: process.env.NEXT_PUBLIC_BASE_URL,
           images: [
             {
-              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`,
+              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/og.jpg`,
               width: 800,
               height: 600,
             },",False,False,Visualization / Plotting,3
chapter-three,next-drupal,8ad54c564d63b80eae98ebad24d61b36c8586107,shadcn,arshad@chummun.com,2021-12-06T06:44:36Z,shadcn,arshad@chummun.com,2021-12-06T06:44:36Z,fix(www): update styles and open graph image,www/pages/index.tsx;www/public/images/meta.jpg;www/styles/global.css,False,False,False,False,9,8,17,"---FILE: www/pages/index.tsx---
@@ -38,7 +38,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           <h1 className=""text-4xl font-black tracking-tight text-center md:text-6xl lg:tracking-tighter lg:text-8xl"">
             The future of Drupal is headless
           </h1>
-          <p className=""mx-auto mt-4 text-lg text-center text-gray-200 leading-1 md:px-16 lg:leading-normal lg:text-2xl"">
+          <p className=""mx-auto mt-4 text-lg text-center text-gray-200 leading-1 md:px-20 lg:leading-normal lg:text-2xl"">
             Next.js for Drupal has everything you need to build a
             next-generation front-end for your Drupal site.
           </p>

---FILE: www/styles/global.css---
@@ -15,15 +15,16 @@
   }
 }
 
-/* -------------------------------------------------------
-Variable font.
-Usage:
+html {
+  font-family: ""Inter"", sans-serif;
+}
 
-  html { font-family: 'Inter', sans-serif; }
-  @supports (font-variation-settings: normal) {
-    html { font-family: 'Inter var', sans-serif; }
+@supports (font-variation-settings: normal) {
+  html {
+    font-family: ""Inter var"", sans-serif;
   }
-*/
+}
+
 @font-face {
   font-family: ""Inter var"";
   font-weight: 100 900;",False,False,Implementation / Logic,3
chapter-three,next-drupal,57bde695e3185e87ddb17d7a01e26d6efdb74a0e,shadcn,arshad@chummun.com,2021-12-04T17:43:04Z,shadcn,arshad@chummun.com,2021-12-04T17:43:04Z,fix(www): use variable fonts,www/package.json;www/pages/_app.tsx;www/pages/index.tsx;www/public/fonts/Inter-italic.var.woff2;www/public/fonts/Inter-roman.var.woff2;www/public/fonts/Inter.var.woff2;www/styles/global.css;www/tailwind.config.js;yarn.lock,False,False,False,False,28,9,37,"---FILE: www/package.json---
@@ -11,7 +11,6 @@
     ""preview"": ""next build && next start -p 4444""
   },
   ""dependencies"": {
-    ""@fontsource/inter"": ""^4.5.1"",
     ""classnames"": ""^2.3.1"",
     ""copy-to-clipboard"": ""^3.3.1"",
     ""next"": ""^12.0.4"",

---FILE: www/pages/_app.tsx---
@@ -1,6 +1,5 @@
 import { site } from ""config/site""
 import { DefaultSeo } from ""next-seo""
-import ""@fontsource/inter/latin.css""
 
 import ""../styles/global.css""
 

---FILE: www/pages/index.tsx---
@@ -56,7 +56,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           </div>
         </div>
       </section>
-      <div className=""w-full h-14 md:h-20 divider"" />
+      <div className=""hidden w-full lg:block h-14 md:h-20 divider"" />
       <section className=""px-6 py-6 md:py-12 lg:py-20"">
         <div className=""container max-w-5xl mx-auto"">
           <h2 className=""text-3xl font-black tracking-tight text-center md:text-5xl lg:tracking-tighter lg:text-6xl"">

---FILE: www/styles/global.css---
@@ -15,6 +15,32 @@
   }
 }
 
+/* -------------------------------------------------------
+Variable font.
+Usage:
+
+  html { font-family: 'Inter', sans-serif; }
+  @supports (font-variation-settings: normal) {
+    html { font-family: 'Inter var', sans-serif; }
+  }
+*/
+@font-face {
+  font-family: ""Inter var"";
+  font-weight: 100 900;
+  font-display: optional;
+  font-style: normal;
+  font-named-instance: ""Regular"";
+  src: url(""/fonts/Inter-roman.var.woff2?v=3.19"") format(""woff2"");
+}
+@font-face {
+  font-family: ""Inter var"";
+  font-weight: 100 900;
+  font-display: optional;
+  font-style: italic;
+  font-named-instance: ""Italic"";
+  src: url(""/fonts/Inter-italic.var.woff2?v=3.19"") format(""woff2"");
+}
+
 .callout p {
   @apply text-sm;
 }

---FILE: www/tailwind.config.js---
@@ -6,7 +6,7 @@ module.exports = {
   darkMode: false,
   theme: {
     fontFamily: {
-      sans: [""Inter"", ...fontFamily.sans],
+      sans: [""Inter var"", ...fontFamily.sans],
     },
     container: {
       screens: {

---FILE: yarn.lock---
@@ -1458,11 +1458,6 @@
     unique-filename ""^1.1.1""
     which ""^1.3.1""
 
-""@fontsource/inter@^4.5.1"":
-  version ""4.5.1""
-  resolved ""https://registry.yarnpkg.com/@fontsource/inter/-/inter-4.5.1.tgz#058d8a02354f3c78e369d452c15d33557ec1b705""
-  integrity sha512-mvtOvXNNVLlF1p/UbLgLrmz2RCOl6Ow+TqyiK10SosoLKX7edsXYiHFHb7XIZdjII6F2sJVPPsJXWhBnbXT2DQ==
-
 ""@fontsource/playfair-display@^4.4.5"":
   version ""4.5.1""
   resolved ""https://registry.yarnpkg.com/@fontsource/playfair-display/-/playfair-display-4.5.1.tgz#2cdbe3300013091ea02dc663e9ebf30b47e2d221""",False,False,Data / Input Handling,3
chapter-three,next-drupal,23485c1951dad2b259960befdd67318e1c0e9c83,shadcn,arshad@chummun.com,2021-12-04T16:56:51Z,shadcn,arshad@chummun.com,2021-12-04T16:56:51Z,fix(www): code blocks on front page,www/components/code-block.tsx;www/pages/index.tsx,False,False,False,False,13,24,37,"---FILE: www/components/code-block.tsx---
@@ -64,7 +64,7 @@ export function CodeBlock({ ...preProps }) {
             )}
           />
         </div>
-        <div className=""relative flex-1 overflow-hidden rounded-md"">
+        <div className=""relative flex-1 overflow-hidden md:rounded-md"">
           <Prism className={className}>{codeString}</Prism>
         </div>
       </div>

---FILE: www/pages/index.tsx---
@@ -56,7 +56,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           </div>
         </div>
       </section>
-      <div className=""w-full h-8 md:h-20 divider"" />
+      <div className=""w-full h-14 md:h-20 divider"" />
       <section className=""px-6 py-6 md:py-12 lg:py-20"">
         <div className=""container max-w-5xl mx-auto"">
           <h2 className=""text-3xl font-black tracking-tight text-center md:text-5xl lg:tracking-tighter lg:text-6xl"">
@@ -127,7 +127,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           </div>
         </div>
       </section>
-      <section id=""features"" className=""px-6 py-6 md:py-12 lg:py-20"">
+      <section id=""features"" className=""py-6 md:px-6 md:py-12 lg:py-20"">
         <div className=""container max-w-4xl mx-auto"">
           <h2 className=""text-3xl font-black tracking-tight text-center md:text-5xl lg:tracking-tighter lg:text-6xl"">
             Out-of-the-box tooling for the best developer experience
@@ -136,30 +136,18 @@ export default function IndexPage({ features }: IndexPageProps) {
             Build all the features you need. Faster.
           </p>
         </div>
-        <div className=""container max-w-5xl grid-cols-2 gap-6 mx-auto mt-10 lg:grid"">
-          <div className=""grid-flow-row gap-4 mt-10 lg:max-w-md lg:grid auto-rows-max"">
+        <div className=""container max-w-5xl grid-cols-2 gap-6 mx-auto mt-10 md:grid"">
+          <div className=""grid grid-flow-row gap-4 mt-10 md:max-w-md auto-rows-max"">
             {features.map((feature) => (
-              <div key={feature.hash}>
-                <div className=""lg:hidden"">
-                  <div
-                    className={classNames(
-                      ""p-4 bg-white rounded-md text-left transition-all group w-full shadow-lg""
-                    )}
-                  >
-                    <h3 className=""font-bold transition-all group-hover:text-blue-700"">
-                      {feature.frontMatter.title}
-                    </h3>
-                    <p className=""text-sm text-gray-700"">
-                      {feature.frontMatter.excerpt}
-                    </p>
-                  </div>
-                  <FeatureCode className=""mt-6"" feature={feature} />
-                </div>
+              <div
+                className=""overflow-hidden md:overflow-visible""
+                key={feature.hash}
+              >
                 <button
                   className={classNames(
-                    ""p-4 bg-white rounded-md w-full text-left hidden lg:block transition-all group"",
+                    ""px-6 md:px-4 py-4 bg-white rounded-md w-full text-left block transition-all group"",
                     {
-                      ""shadow-lg text-blue-700"":
+                      ""md:shadow-lg text-blue-700"":
                         selectedFeature.hash === feature.hash,
                     }
                   )}
@@ -172,11 +160,12 @@ export default function IndexPage({ features }: IndexPageProps) {
                     {feature.frontMatter.excerpt}
                   </p>
                 </button>
+                <FeatureCode feature={feature} className=""md:hidden"" />
               </div>
             ))}
           </div>
           <FeatureCode
-            className=""flex-col hidden lg:flex""
+            className=""flex-col hidden md:flex""
             feature={selectedFeature}
           />
         </div>",False,False,Implementation / Logic,3
chapter-three,next-drupal,92321b741ed92e6870f7961166c08ae0599d88fe,shadcn,arshad@chummun.com,2021-12-03T18:44:06Z,shadcn,arshad@chummun.com,2021-12-03T18:44:06Z,fix(www): update text color for search box,www/components/doc-search.tsx,False,False,False,False,1,1,2,"---FILE: www/components/doc-search.tsx---
@@ -51,7 +51,7 @@ export function DocSearch({ ...props }) {
         id=""docsearch-input""
         placeholder=""Search the docs...""
         ref={input}
-        className=""w-full text-sm border-0 border-gray-200 rounded-md h-9 bg-gray-50""
+        className=""w-full text-sm text-black border-0 border-gray-200 rounded-md h-9 bg-gray-50""
       />
       <span className=""absolute flex items-center justify-center w-5 h-5 text-xs text-gray-600 bg-gray-200 rounded-md top-2 right-2"">
         {KEYBOARD_SHORTCUT_KEY}",False,False,Dependency / Package,1
chapter-three,next-drupal,bda6a460e64383f716e7cfdef39ce778200d3c30,shadcn,arshad@chummun.com,2021-12-03T17:51:59Z,shadcn,arshad@chummun.com,2021-12-03T17:51:59Z,fix(www): hover button color,www/pages/index.tsx,False,False,False,False,1,1,2,"---FILE: www/pages/index.tsx---
@@ -44,7 +44,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           </p>
           <div className=""flex flex-col items-center justify-center py-4 sm:flex-row md:py-8 lg:py-10"">
             <Link href=""/learn/quick-start"" passHref>
-              <a className=""w-2/3 px-8 py-2 font-semibold text-center text-white transition-all bg-blue-800 border-2 border-blue-800 rounded-md sm:w-auto hover:bg-white hover:text-black"">
+              <a className=""w-2/3 px-8 py-2 font-semibold text-center text-white transition-all bg-blue-800 border-2 border-blue-800 rounded-md sm:w-auto hover:bg-blue-500 hover:border-blue-500"">
                 Get Started
               </a>
             </Link>",False,False,Implementation / Logic,3
chapter-three,next-drupal,d04df963d439c7dcad16c226d0b5152d8cb111cf,shadcn,arshad@chummun.com,2021-12-02T16:51:17Z,shadcn,arshad@chummun.com,2021-12-02T16:51:17Z,fix(www): remove video,www/pages/index.tsx,False,False,False,False,0,9,9,"---FILE: www/pages/index.tsx---
@@ -9,7 +9,6 @@ import { Layout } from ""components/layout""
 import classNames from ""classnames""
 import { useHydrate } from ""next-mdx/client""
 import { mdxComponents } from ""components/mdx""
-import { Video } from ""../components/video""
 
 interface FeatureCodeProps extends React.HTMLAttributes<HTMLDivElement> {
   feature: Feature
@@ -56,14 +55,6 @@ export default function IndexPage({ features }: IndexPageProps) {
             </Link>
           </div>
         </div>
-        <div className=""container pt-10 mx-auto"">
-          <Video
-            src=""/videos/next-drupal-demo.mp4""
-            image=""/images/home-page-video.jpg""
-            heading=""Watch a demo""
-            className=""shadow-lg""
-          />
-        </div>
       </section>
       <section className=""px-6 py-6 md:py-12 lg:py-20"">
         <div className=""container max-w-5xl mx-auto"">",False,False,Implementation / Logic,3
chapter-three,next-drupal,b677df3f62a6924532e825a6a9478a7a9b681837,shadcn,arshad@chummun.com,2021-12-02T12:02:51Z,shadcn,arshad@chummun.com,2021-12-02T12:02:51Z,fix(www): update headings,www/pages/index.tsx,False,False,False,False,12,12,24,"---FILE: www/pages/index.tsx---
@@ -77,37 +77,37 @@ export default function IndexPage({ features }: IndexPageProps) {
           </p>
           <div className=""grid gap-6 pt-6 text-left sm:grid-cols-2 lg:pt-10 lg:grid-cols-3"">
             <div className=""p-6 bg-white border rounded-md"">
-              <h4 className=""mb-2 font-bold"">Seamless Editing</h4>
+              <h3 className=""mb-2 font-bold"">Seamless Editing</h3>
               <p className=""text-sm leading-normal text-gray-600"">
                 Inline preview built-in. With support for content revision.
               </p>
             </div>
             <div className=""p-6 bg-white border rounded-md"">
-              <h4 className=""mb-2 font-bold"">Instant Publishing</h4>
+              <h3 className=""mb-2 font-bold"">Instant Publishing</h3>
               <p className=""text-sm leading-normal text-gray-600"">
                 New content and updates are live instantly.
               </p>
             </div>
             <div className=""p-6 bg-white border rounded-md"">
-              <h4 className=""mb-2 font-bold"">Multi-site</h4>
+              <h3 className=""mb-2 font-bold"">Multi-site</h3>
               <p className=""text-sm leading-normal text-gray-600"">
                 Power multiple Next.js sites from one Drupal site.
               </p>
             </div>
             <div className=""p-6 bg-white border rounded-md"">
-              <h4 className=""mb-2 font-bold"">Authentication</h4>
+              <h3 className=""mb-2 font-bold"">Authentication</h3>
               <p className=""text-sm leading-normal text-gray-600"">
                 Authentication with support for roles and permissions.
               </p>
             </div>
             <div className=""p-6 bg-white border rounded-md"">
-              <h4 className=""mb-2 font-bold"">Webforms</h4>
+              <h3 className=""mb-2 font-bold"">Webforms</h3>
               <p className=""text-sm leading-normal text-gray-600"">
                 Built React forms backed by the Webform module.
               </p>
             </div>
             <div className=""p-6 bg-white border rounded-md"">
-              <h4 className=""mb-2 font-bold"">Search API</h4>
+              <h3 className=""mb-2 font-bold"">Search API</h3>
               <p className=""text-sm leading-normal text-gray-600"">
                 Support for decoupled faceted search powered by Search API.
               </p>
@@ -129,18 +129,18 @@ export default function IndexPage({ features }: IndexPageProps) {
             {features.map((feature) => (
               <div key={feature.hash}>
                 <div className=""lg:hidden"">
-                  <button
+                  <div
                     className={classNames(
                       ""p-4 bg-white rounded-md text-left transition-all group w-full shadow-lg""
                     )}
                   >
-                    <h4 className=""font-bold transition-all group-hover:text-blue-700"">
+                    <h3 className=""font-bold transition-all group-hover:text-blue-700"">
                       {feature.frontMatter.title}
-                    </h4>
+                    </h3>
                     <p className=""text-sm text-gray-700"">
                       {feature.frontMatter.excerpt}
                     </p>
-                  </button>
+                  </div>
                   <FeatureCode className=""mt-6"" feature={feature} />
                 </div>
                 <button
@@ -153,9 +153,9 @@ export default function IndexPage({ features }: IndexPageProps) {
                   )}
                   onClick={() => setSelectedFeature(feature)}
                 >
-                  <h4 className=""font-bold transition-all group-hover:text-blue-700"">
+                  <h3 className=""font-bold transition-all group-hover:text-blue-700"">
                     {feature.frontMatter.title}
-                  </h4>
+                  </h3>
                   <p className=""text-sm text-gray-700"">
                     {feature.frontMatter.excerpt}
                   </p>",False,False,Implementation / Logic,3
chapter-three,next-drupal,e888bbb2cd8366d54a83ca5a34ed5ae86037fdd1,shadcn,arshad@chummun.com,2021-12-02T11:58:46Z,shadcn,arshad@chummun.com,2021-12-02T11:58:46Z,fix(www): a11y warnings,www/components/layout.tsx;www/components/video.tsx,False,False,False,False,2,0,2,"---FILE: www/components/layout.tsx---
@@ -185,6 +185,7 @@ export function Layout({
                 rel=""noreferrer""
                 className=""flex ml-4""
               >
+                <span className=""sr-only"">GitHub</span>
                 <svg
                   className=""w-6 h-6""
                   viewBox=""0 0 24 24""

---FILE: www/components/video.tsx---
@@ -48,6 +48,7 @@ export function Video({
                 layout=""responsive""
                 width=""1600px""
                 height=""900px""
+                alt=""Thumbnail""
               />
             </div>
           )}",False,False,Rendering / Conversion,0
chapter-three,next-drupal,696b55a817d1010ee1f0185bbf89b38414520bfa,shadcn,arshad@chummun.com,2021-12-02T08:33:29Z,shadcn,arshad@chummun.com,2021-12-02T08:33:29Z,fix(drupal): update config,drupal/config/gin_login.settings.yml;drupal/config/require_login.config.yml,False,False,False,False,2,2,4,"---FILE: drupal/config/gin_login.settings.yml---
@@ -1,7 +1,7 @@
 logo:
   use_default: true
 brand_image:
-  use_default: false
+  use_default: true
   path: 'public://74fec6ec-ab34-4840-af52-fd253fe1d282_cover5.jpg'
 _core:
   default_config_hash: OhypfKr4_Eo8XwXg3Sios05lN-LjxOhSdSOSkEN9Ndo

---FILE: drupal/config/require_login.config.yml---
@@ -3,7 +3,7 @@ destination_path: ''
 deny_message: ''
 excluded_403: true
 excluded_404: true
-excluded_paths: ''
+excluded_paths: ""/oauth/token\r\n/jsonapi*""
 excluded_routes: ""simplesamlphp_auth.saml_login\r\nsamlauth.saml_controller_login\r\nsamlauth.saml_controller_logout\r\nsamlauth.saml_controller_metadata\r\nsamlauth.saml_controller_acs\r\nsamlauth.saml_controller_sls\r\nsamlauth.saml_controller_changepw\r\n""
 _core:
   default_config_hash: TlUwZ6b5Ycd717ekKmg-WXuL8Lf4bBI8e9hEWuvZWug",False,False,Visualization / Plotting,3
chapter-three,next-drupal,0592226f619736ab82d205f4e3f958fdf7eb25b3,shadcn,arshad@chummun.com,2021-12-01T11:25:44Z,shadcn,arshad@chummun.com,2021-12-01T11:25:44Z,ci: fix,.github/workflows/drupal.yml,False,False,False,False,3,1,4,"---FILE: .github/workflows/drupal.yml---
@@ -54,7 +54,9 @@ jobs:
           composer config repositories.1 composer https://packages.drupal.org/8
           COMPOSER_MEMORY_LIMIT=-1 composer require drupal/core-dev:${{ matrix.drupal }} --no-suggest
       - name: Add phpspec/prophecy-phpunit
-        run: COMPOSER_MEMORY_LIMIT=-1 composer require --dev phpspec/prophecy-phpunit:^2 -W
+        run: |
+          cd ~/drupal
+          COMPOSER_MEMORY_LIMIT=-1 composer require --dev phpspec/prophecy-phpunit:^2 -W
         if: ${{ startsWith(matrix.drupal, '9') }}
       - name: Copy module
         run: cp -R ../next-drupal/modules/next ~/drupal/web/modules/next",False,False,Data / Input Handling,3
chapter-three,next-drupal,e216c0233b1e7d74a05f348b602aa34430e50533,shadcn,arshad@chummun.com,2021-12-01T11:22:13Z,shadcn,arshad@chummun.com,2021-12-01T11:22:13Z,ci: fix check,.github/workflows/drupal.yml,False,False,False,False,1,1,2,"---FILE: .github/workflows/drupal.yml---
@@ -55,7 +55,7 @@ jobs:
           COMPOSER_MEMORY_LIMIT=-1 composer require drupal/core-dev:${{ matrix.drupal }} --no-suggest
       - name: Add phpspec/prophecy-phpunit
         run: COMPOSER_MEMORY_LIMIT=-1 composer require --dev phpspec/prophecy-phpunit:^2 -W
-        if: ${{ startsWith(matrix.drupal, '8') }}
+        if: ${{ startsWith(matrix.drupal, '9') }}
       - name: Copy module
         run: cp -R ../next-drupal/modules/next ~/drupal/web/modules/next
       - name: Run php built-in server",False,False,Data / Input Handling,3
chapter-three,next-drupal,76efd38d1b1cccac59abb78fce23305dbc89f9f4,shadcn,arshad@chummun.com,2021-11-30T10:08:42Z,shadcn,arshad@chummun.com,2021-11-30T10:08:42Z,fix: update tsconfig,www/tsconfig.json,False,False,False,False,2,1,3,"---FILE: www/tsconfig.json---
@@ -24,7 +24,8 @@
       ""@/utils/*"": [""src/utils/*""],
       ""@/config/*"": [""config/*""],
       ""@/scenes/*"": [""src/scenes/*""]
-    }
+    },
+    ""incremental"": true
   },
   ""include"": [""next-env.d.ts"", ""**/*.ts"", ""**/*.tsx""],
   ""exclude"": [""node_modules""]",False,False,Data / Input Handling,3
chapter-three,next-drupal,65368f67ac458bbf6ef1ac38ec85445c043c68f4,shadcn,arshad@chummun.com,2021-11-29T16:49:20Z,shadcn,arshad@chummun.com,2021-11-29T16:49:20Z,fix(www): rename demo to examples,www/components/callout.tsx;www/components/video.tsx;www/config/docs.ts;www/config/site.ts;www/docs/demo.mdx;www/docs/examples.mdx;www/docs/guides/tips.mdx;www/next.config.js;www/styles/global.css,False,False,False,False,34,127,161,"---FILE: www/components/callout.tsx---
@@ -5,7 +5,7 @@ interface CalloutProps {
 export function Callout({ children, ...props }: CalloutProps) {
   return (
     <div
-      className=""flex items-center p-4 my-6 border border-l-4 rounded-md border-blue-50 bg-blue-50 callout""
+      className=""flex flex-col items-center p-4 my-6 border border-l-4 rounded-md border-blue-50 bg-blue-50 callout""
       {...props}
     >
       {children}

---FILE: www/components/video.tsx---
@@ -15,7 +15,7 @@ export function Video({ src, heading, ...props }: VideoProps) {
   }, [src])
 
   return (
-    <div className=""relative overflow-hidden border-2 border-black rounded-lg aspect-w-16 aspect-h-9"">
+    <div className=""relative mb-6 overflow-hidden border-2 border-black rounded-lg aspect-w-16 aspect-h-9"">
       {heading ? (
         <button
           className={classNames(

---FILE: www/config/docs.ts---
@@ -31,7 +31,7 @@ export const docs: DocsConfig = {
         },
         {
           title: ""Examples"",
-          href: ""/docs/demo"",
+          href: ""/docs/examples"",
         },
         {
           title: ""Quick Start"",

---FILE: www/config/site.ts---
@@ -17,7 +17,7 @@ export const site: SiteConfig = {
     },
     {
       title: ""Examples"",
-      href: ""/docs/demo"",
+      href: ""/docs/examples"",
     },
   ],
   social: {

---FILE: www/docs/demo.mdx---
@@ -1,37 +0,0 @@
----
-title: Demo
-excerpt: Demo for Next.js sites powered by Drupal.
----
-
-## Examples
-
-### Site
-
-A site with complex content structure using paragaphs with translation, menus and views.
-
-- Demo: https://demo.next-drupal.org
-- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-marketing
-
-### Blogs
-
-The official Next.js example:
-
-- Demo: https://cms-drupal.vercel.app
-- Source: https://github.com/vercel/next.js/tree/canary/examples/cms-drupal
-
-Blog
-
-- Demo: https://example-blog.next-drupal.org
-- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-blog
-
-### Authentication
-
-Authentication example for Next.js for Drupal:
-
-- Demo: https://example-auth.next-drupal.org
-- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-auth
-
-### Webform
-
-- Demo: https://example-webform.next-drupal.org/
-- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-webform

---FILE: www/docs/examples.mdx---
@@ -1,97 +1,40 @@
 ---
 title: Examples
-excerpt: Example pages built from Drupal JSON:API data.
+excerpt: Next.js sites powered by Drupal.
 ---
 
-## List of nodes
+## Examples
 
-A page that list all published articles sorted by created date.
+### Site
 
-```tsx title=pages/index.tsx
-import {
-  getPathsFromContext,
-  getResourceCollectionFromContext,
-  DrupalNode,
-} from ""next-drupal""
+A site with complex content structure using paragaphs with translation, menus and views.
 
-interface BlogPageProps {
-  nodes: DrupalNode[]
-}
+- Demo: https://demo.next-drupal.org
+- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-marketing
 
-export default function BlogPage({ nodes }: BlogPageProps) {
-  return nodes?.length ? (
-    <div key={node.id}>
-      <h2>{node.title}</h2>
-    </div>
-  ) : null
-}
+### Blogs
 
-export async function getStaticProps(
-  context
-): Promise<GetStaticPropsResult<BlogPageProps>> {
-  const nodes = await getResourceCollectionFromContext<DrupalNode[]>(
-    ""node--article"",
-    context,
-    {
-      params: {
-        ""filter[status]"": 1,
-        sort: ""-created"",
-      },
-    }
-  )
+The official Next.js example:
 
-  return {
-    props: {
-      nodes,
-    },
-    revalidate: 60,
-  }
-}
-```
+- Demo: https://cms-drupal.vercel.app
+- Source: https://github.com/vercel/next.js/tree/canary/examples/cms-drupal
 
-## Node page
+- Demo: https://example-blog.next-drupal.org
+- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-blog
 
-A page for every article nodes.
+### Authentication
 
-```tsx title=pages/[...slug].tsx
-import {
-  getPathsFromContext,
-  getResourceFromContext,
-  DrupalNode,
-} from ""next-drupal""
+Authentication example for Next.js for Drupal:
 
-interface ArticleNodePageProps {
-  node: DrupalNode
-}
+- Demo: https://example-auth.next-drupal.org
+- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-auth
 
-export default function ArticleNodePage({ node }: ArticleNodePageProps) {
-  return node ? (
-    <div>
-      <h1>{node.title}</h1>
-    </div>
-  ) : null
-}
+### Webform
 
-export async function getStaticPaths(context): Promise<GetStaticPathsResult> {
-  return {
-    paths: await getPathsFromContext(""node--article"", context),
-    fallback: true,
-  }
-}
+- Demo: https://example-webform.next-drupal.org
+- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-webform
 
-export async function getStaticProps(
-  context
-): Promise<GetStaticPropsResult<ArticleNodePageProps>> {
-  const node = await getResourceFromContext<DrupalNode>(
-    ""node--article"",
-    context
-  )
+### Search
 
-  return {
-    props: {
-      node,
-    },
-    revalidate: 60,
-  }
-}
-```
+- Demo: https://example-search-api.next-drupal.org
+- Source: https://github.com/chapter-three/next-drupal/tree/main/examples/example-search-api

---FILE: www/docs/guides/tips.mdx---
@@ -1,6 +0,0 @@
----
-title: Tips
-excerpt: Quick tips for using Next.js and Drupal.
----
-
-<Tweet tweetLink=""https://twitter.com/shadcn/status/1448746659094032404"" />

---FILE: www/next.config.js---
@@ -12,6 +12,11 @@ module.exports = {
         destination: ""/learn/quick-start"",
         permanent: false,
       },
+      {
+        source: ""/docs/demo"",
+        destination: ""/docs/examples"",
+        permanent: true,
+      },
     ]
   },
 }

---FILE: www/styles/global.css---
@@ -19,7 +19,9 @@
   @apply text-sm;
 }
 
-.callout p:last-child {
+.callout p:last-child,
+.callout ul:last-child,
+.callout ol:last-child {
   @apply mb-0;
 }
 ",False,False,Documentation / Formatting,6
chapter-three,next-drupal,144e574d4597de0da2b20f9df2c2f4cd02e46540,shadcn,arshad@chummun.com,2021-11-29T16:41:10Z,shadcn,arshad@chummun.com,2021-11-29T16:41:10Z,fix(www): update copy,www/pages/index.tsx,False,False,False,False,2,2,4,"---FILE: www/pages/index.tsx---
@@ -56,9 +56,9 @@ export default function IndexPage({ features }: IndexPageProps) {
           <h1 className=""text-4xl font-black tracking-tight text-center md:text-6xl lg:tracking-tighter lg:text-8xl"">
             The future of Drupal is headless
           </h1>
-          <p className=""mx-auto mt-4 text-lg text-center text-gray-500 leading-1 md:px-10 lg:leading-normal lg:text-2xl"">
+          <p className=""mx-auto mt-4 text-lg text-center text-gray-500 leading-1 md:px-16 lg:leading-normal lg:text-2xl"">
             Next.js for Drupal has everything you need to build a
-            high-performant and fast front-end for your Drupal site.
+            next-generation front-end for your Drupal site.
           </p>
           <div className=""flex flex-col items-center justify-center py-4 sm:flex-row md:py-8 lg:py-10"">
             <Link href=""/learn/quick-start"" passHref>",False,False,Implementation / Logic,3
chapter-three,next-drupal,b28630a9d60bfafcd949787f72721a61db65f01f,shadcn,arshad@chummun.com,2021-11-29T16:35:49Z,shadcn,arshad@chummun.com,2021-11-29T16:35:49Z,fix(www): spacing,www/pages/index.tsx,False,False,False,False,4,2,6,"---FILE: www/pages/index.tsx---
@@ -75,9 +75,11 @@ export default function IndexPage({ features }: IndexPageProps) {
         </div>
       </section>
       <section className=""px-6 py-6 md:py-12 lg:py-20"">
-        <div className=""container max-w-4xl mx-auto"">
+        <div className=""container max-w-5xl mx-auto"">
           <h2 className=""text-3xl font-black tracking-tight text-center md:text-5xl lg:tracking-tighter lg:text-6xl"">
-            Everything you expect from Drupal. On a Modern Stack.
+            Everything you expect from Drupal.
+            <br />
+            On a modern stack.
           </h2>
           <p className=""mx-auto mt-4 text-lg text-center text-gray-500 leading-1 md:px-10 lg:leading-normal lg:text-2xl"">
             Going headless does not mean you have to compromise on features.",False,False,Implementation / Logic,3
chapter-three,next-drupal,089f8f1fee60d6e4aab3599e6e46f2bf69c51c4a,shadcn,arshad@chummun.com,2021-11-29T13:27:58Z,shadcn,arshad@chummun.com,2021-11-29T13:27:58Z,fix(www): style fixes,www/components/layout.tsx;www/components/video.tsx;www/pages/index.tsx,False,False,False,False,18,6,24,"---FILE: www/components/layout.tsx---
@@ -49,6 +49,18 @@ export function Layout({
         )}
       >
         <ul className=""grid grid-flow-row gap-2 mb-8 auto-rows-max"">
+          <li>
+            <Link href=""/"" passHref>
+              <a
+                className={classNames(
+                  ""text-sm font-medium hover:underline"",
+                  pathname === ""/"" ? ""text-blue-600"" : ""text-gray-700""
+                )}
+              >
+                Home
+              </a>
+            </Link>
+          </li>
           {site.links.map((link, index) => {
             const isActive =
               pathname === link.href || link.activePathNames?.includes(pathname)
@@ -57,7 +69,7 @@ export function Layout({
                 <Link href={link.href} passHref>
                   <a
                     className={classNames(
-                      ""hover:underline"",
+                      ""text-sm font-medium hover:underline"",
                       isActive ? ""text-blue-600"" : ""text-gray-700""
                     )}
                     target={link.external ? ""_blank"" : ""_self""}

---FILE: www/components/video.tsx---
@@ -19,7 +19,7 @@ export function Video({ src, heading, ...props }: VideoProps) {
       {heading ? (
         <button
           className={classNames(
-            ""absolute inset-0 bg-white z-10 flex-col items-center justify-center group"",
+            ""appearance-none absolute inset-0 bg-white z-10 flex-col items-center justify-center group"",
             isPlaying ? ""hidden"" : ""flex""
           )}
           onClick={() => {

---FILE: www/pages/index.tsx---
@@ -60,14 +60,14 @@ export default function IndexPage({ features }: IndexPageProps) {
             Next.js for Drupal has everything you need to build a
             high-performant and fast front-end for your Drupal site.
           </p>
-          <div className=""flex flex-col items-center justify-center py-4 md:flex-row md:py-8 lg:py-10"">
+          <div className=""flex flex-col items-center justify-center py-4 sm:flex-row md:py-8 lg:py-10"">
             <Link href=""/learn/quick-start"" passHref>
-              <a className=""w-2/3 px-8 py-2 font-semibold text-white transition-all bg-blue-800 border-2 border-blue-800 rounded-md md:w-auto hover:bg-white hover:text-black"">
+              <a className=""w-2/3 px-8 py-2 font-semibold text-center text-white transition-all bg-blue-800 border-2 border-blue-800 rounded-md sm:w-auto hover:bg-white hover:text-black"">
                 Get Started
               </a>
             </Link>
             <Link href=""/docs"" passHref>
-              <a className=""w-2/3 px-8 py-2 mt-4 font-semibold text-black transition-all bg-white border-2 border-black rounded-md md:w-auto md:mt-0 md:ml-4 hover:bg-gray-100 hover:text-black"">
+              <a className=""w-2/3 px-8 py-2 mt-4 font-semibold text-center text-black transition-all bg-white border-2 border-black rounded-md sm:w-auto sm:mt-0 sm:ml-4 hover:bg-gray-100 hover:text-black"">
                 Read the docs
               </a>
             </Link>
@@ -82,7 +82,7 @@ export default function IndexPage({ features }: IndexPageProps) {
           <p className=""mx-auto mt-4 text-lg text-center text-gray-500 leading-1 md:px-10 lg:leading-normal lg:text-2xl"">
             Going headless does not mean you have to compromise on features.
           </p>
-          <div className=""grid gap-6 pt-6 text-left md:grid-cols-2 lg:pt-10 lg:grid-cols-3"">
+          <div className=""grid gap-6 pt-6 text-left sm:grid-cols-2 lg:pt-10 lg:grid-cols-3"">
             <div className=""p-6 bg-white border rounded-md"">
               <h4 className=""mb-2 font-bold"">Seamless Editing</h4>
               <p className=""text-sm leading-normal text-gray-600"">",False,False,Implementation / Logic,3
chapter-three,next-drupal,568e9b06e92d311c8bb0b10d6a54712dd31a3a75,shadcn,arshad@chummun.com,2021-11-29T12:55:32Z,shadcn,arshad@chummun.com,2021-11-29T12:55:32Z,fix(www): remove unused code,www/config/features.ts,False,False,False,False,0,21,21,"---FILE: www/config/features.ts---
@@ -1,21 +0,0 @@
-type Feature = {
-  heading: string
-  text: string
-  codeBlocks: {
-    title?: string
-    code: string
-  }[]
-}
-
-export const features: Feature[] = [
-  {
-    heading: ""Data Fetching"",
-    text: ""Fetch JSON:API data to build SSG, ISR and SSR pages."",
-    codeBlocks: [
-      {
-        title: ""pages/blog.tsx"",
-				code: 
-      },
-    ],
-  },
-]",False,False,Documentation / Formatting,3
chapter-three,next-drupal,f99410c96a49e141b8a5b5aae86e975b71fa510e,shadcn,arshad@chummun.com,2021-11-28T08:55:58Z,shadcn,arshad@chummun.com,2021-11-28T08:55:58Z,fix(www): update algolia style,www/styles/global.css,False,False,False,False,4,0,4,"---FILE: www/styles/global.css---
@@ -23,6 +23,10 @@
   @apply mb-0;
 }
 
+.algolia-autocomplete {
+  display: block !important;
+}
+
 /**
  * MIT License
  * Copyright (c) 2018 Sarah Drasner",False,False,Dependency / Package,1
chapter-three,next-drupal,a8cbb82ba04f2343c3fb44788718d3256af46ba3,shadcn,arshad@chummun.com,2021-11-24T16:56:35Z,shadcn,arshad@chummun.com,2021-11-24T16:56:35Z,fix(example-search-api): update responsive styles,examples/example-search-api/pages/advanced.tsx;examples/example-search-api/pages/simple.tsx,False,False,False,False,27,26,53,"---FILE: examples/example-search-api/pages/advanced.tsx---
@@ -29,7 +29,7 @@ export default function AdvancedPage({
   nodes,
   facets: initialFacets,
 }: AdvancedPageProps) {
-  const [status, setStatus] = React.useState<""error"" | ""success"">()
+  const [status, setStatus] = React.useState<""error"" | ""success"" | ""loading"">()
   const [results, setResults] = React.useState<DrupalNode[]>(nodes)
   const [facets, setFacets] =
     React.useState<DrupalSearchApiFacet[]>(initialFacets)
@@ -43,6 +43,7 @@ export default function AdvancedPage({
       }
     }
 
+    setStatus(""loading"")
     const response = await fetch(""/api/search/property"", {
       method: ""POST"",
       body: JSON.stringify({
@@ -52,7 +53,7 @@ export default function AdvancedPage({
     })
 
     if (!response.ok) {
-      setStatus(""error"")
+      return setStatus(""error"")
     }
 
     setStatus(""success"")
@@ -82,21 +83,13 @@ export default function AdvancedPage({
           </p>
           <p>Use the form below to search for property listing.</p>
           <form onSubmit={handleSubmit} className=""mb-4"">
-            <div className=""grid grid-cols-6 items-center gap-4"">
-              <input
-                type=""search""
-                placeholder=""Search properties (min 4 characters)...""
-                name=""fulltext""
-                className=""col-span-5 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm""
-              />
-              <button
-                type=""submit""
-                className=""flex w-full justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-black""
-              >
-                Search
-              </button>
-            </div>
-            <div className=""grid grid-cols-2 gap-4 py-4"">
+            <input
+              type=""search""
+              placeholder=""Search properties (min 4 characters)...""
+              name=""fulltext""
+              className=""col-span-5 appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-black focus:border-black focus:z-10 sm:text-sm""
+            />
+            <div className=""grid md:grid-cols-2 gap-4 py-4"">
               {facets.map((facet) => (
                 <div key={facet.id} className=""border p-4 rounded-md"">
                   <h3 className=""text-base mt-0 mb-2"">{facet.label}</h3>
@@ -119,7 +112,7 @@ export default function AdvancedPage({
                       <label
                         key={term.url}
                         htmlFor={`${facet.id}--${term.values.value}`}
-                        className=""flex items-center text-base""
+                        className=""flex items-center text-sm""
                       >
                         <input
                           type=""radio""
@@ -139,6 +132,12 @@ export default function AdvancedPage({
                 </div>
               ))}
             </div>
+            <button
+              type=""submit""
+              className=""flex w-full justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-black""
+            >
+              {status === ""loading"" ? ""Please wait..."" : ""Search""}
+            </button>
           </form>
           {status === ""error"" ? (
             <div className=""border-red-200 bg-red-100 text-red-600 px-4 py-2 rounded-md text-sm"">
@@ -149,7 +148,7 @@ export default function AdvancedPage({
             <p className=""text-sm"">No results found.</p>
           ) : (
             <div className=""pt-4"">
-              <div className=""grid grid-cols-2 gap-6"">
+              <div className=""grid md:grid-cols-2 gap-6"">
                 {results.map((node) => (
                   <div key={node.id}>
                     <article className=""grid grid-cols-3 gap-4"">

---FILE: examples/example-search-api/pages/simple.tsx---
@@ -14,12 +14,14 @@ function formatDate(input: string): string {
 }
 
 export default function SimplePage() {
-  const [status, setStatus] = React.useState<""error"" | ""success"">()
+  const [status, setStatus] = React.useState<""error"" | ""success"" | ""loading"">()
   const [results, setResults] = React.useState<DrupalNode[]>([])
 
   async function handleSubmit(event) {
     event.preventDefault()
 
+    setStatus(""loading"")
+
     const response = await fetch(""/api/search/article"", {
       method: ""POST"",
       body: JSON.stringify({
@@ -36,7 +38,7 @@ export default function SimplePage() {
     })
 
     if (!response.ok) {
-      setStatus(""error"")
+      return setStatus(""error"")
     }
 
     setStatus(""success"")
@@ -61,7 +63,7 @@ export default function SimplePage() {
           </p>
           <p>Use the form below to search for article nodes.</p>
           <form onSubmit={handleSubmit} className=""mb-4"">
-            <div className=""grid grid-cols-6 items-center gap-4"">
+            <div className=""sm:grid sm:grid-cols-7 items-center gap-4"">
               <input
                 type=""search""
                 placeholder=""Search articles...""
@@ -71,9 +73,9 @@ export default function SimplePage() {
               />
               <button
                 type=""submit""
-                className=""flex w-full justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-black""
+                className=""sm:col-span-2 mt-4 sm:mt-0 flex w-full justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-black""
               >
-                Search
+                {status === ""loading"" ? ""Please wait..."" : ""Search""}
               </button>
             </div>
           </form>
@@ -92,9 +94,9 @@ export default function SimplePage() {
               <h3 className=""mt-0"">Found {results.length} result(s).</h3>
               {results.map((node) => (
                 <div key={node.id} className=""border-b pb-4 mb-4"">
-                  <article className=""grid grid-cols-3 gap-4"">
+                  <article className=""sm:grid grid-cols-3 gap-4"">
                     {node.field_image?.uri && (
-                      <div className=""col-span-1"">
+                      <div className=""col-span-1 mb-4 sm:mb-0"">
                         <Image
                           src={`${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}${node.field_image.uri.url}`}
                           width={200}",False,False,Dependency / Package,1
chapter-three,next-drupal,22c82e2546ecf8050b03e98133f11000c98da2d8,arshad,arshad@chummun.com,2021-11-17T12:05:17Z,arshad,arshad@chummun.com,2021-11-17T12:05:17Z,fix(www): update video key,www/components/navbar.tsx;www/components/video.tsx,False,False,False,False,7,2,9,"---FILE: www/components/navbar.tsx---
@@ -83,7 +83,7 @@ export function Navbar() {
           ))}
         </div>
         <div display=""flex"" ml=""0|auto"" flex=""1|none"">
-          <Link href=""/learn"" passHref>
+          <Link href=""/learn/quick-start"" passHref>
             <a
               bg=""primary""
               color=""white""
@@ -201,7 +201,6 @@ export function NavbarLink({
   href,
   external = false,
   activePathNames,
-  type,
   children,
   ...props
 }: NavbarLinkProps) {

---FILE: www/components/video.tsx---
@@ -10,6 +10,10 @@ export function Video({ src, heading, ...props }: VideoProps) {
   const [isPlaying, setIsPlaying] = React.useState<boolean>(false)
   const videoRef = React.useRef<HTMLVideoElement>(null)
 
+  React.useEffect(() => {
+    setIsPlaying(false)
+  }, [src])
+
   return (
     <div
       borderWidth=""2px""
@@ -75,8 +79,10 @@ export function Video({ src, heading, ...props }: VideoProps) {
         left=""0""
         width=""100%""
         height=""100%""
+        zIndex=""10""
         controls
         muted
+        key={src}
         ref={videoRef}
         {...props}
       >",False,False,Implementation / Logic,3
chapter-three,next-drupal,71e6aed6289bef12455d22ccf10509347d5bc83a,arshad,arshad@chummun.com,2021-11-16T07:16:13Z,arshad,arshad@chummun.com,2021-11-16T07:16:13Z,fix(www): update sidebar and table of contents,www/components/doc-page.tsx;www/components/doc-search.tsx;www/components/mdx-components.tsx;www/components/navbar.tsx;www/components/toc.tsx;www/config/theme.ts,False,False,False,False,79,18,97,"---FILE: www/components/doc-page.tsx---
@@ -22,20 +22,25 @@ export function DocPage({ doc, toc, components }: DocPageProps) {
   return (
     <Layout title={doc.frontMatter.title} description={doc.frontMatter.excerpt}>
       <div variant=""container"">
-        <div display=""grid"" col=""1|||300px 1fr"" gap=""null|6|6|16"">
+        <div display=""grid"" col=""1|||280px 1fr"" gap=""null|6|6|16"">
           <aside
+            className=""sidebar-nav""
             display=""none|none|none|block""
             position=""static|sticky""
             top=""14""
             h={(theme) => `calc(100vh - ${theme.space[14]})`}
             overflow=""scroll""
             py=""6|12""
+            pl=""2""
+            borderRightWidth=""0|1px""
           >
             <SidebarNav items={docs.links} />
           </aside>
           <div display=""grid"" col=""1||||minmax(0, 1fr) 240px"" gap=""6|6|16"">
             <div py=""6|8|10"" className=""DocSearch-content"">
-              <h1 variant=""heading.h1"">{doc.frontMatter.title}</h1>
+              <h1 variant=""heading.h1"" fontSize=""5xl"">
+                {doc.frontMatter.title}
+              </h1>
               {doc.frontMatter.excerpt ? (
                 <p variant=""text.lead"" mt=""2"">
                   {doc.frontMatter.excerpt}
@@ -51,7 +56,7 @@ export function DocPage({ doc, toc, components }: DocPageProps) {
               top=""14""
               h={(theme) => `calc(100vh - ${theme.space[14]})`}
               py=""6|12""
-              overflow=""scroll""
+              overflow=""auto""
             >
               {toc.items?.length && (
                 <div mb=""10"">
@@ -61,9 +66,6 @@ export function DocPage({ doc, toc, components }: DocPageProps) {
                   <Toc tree={toc} />
                 </div>
               )}
-              <h2 variant=""heading.h6"" mb=""2"">
-                Sponsors
-              </h2>
               <div bg=""muted"" p=""4"" textAlign=""center"" borderRadius=""md"">
                 Development sponsored by{"" ""}
                 <a

---FILE: www/components/doc-search.tsx---
@@ -50,22 +50,23 @@ export function DocSearch({ ...props }) {
         variant=""input.sm""
         h=""9""
         id=""docsearch-input""
-        placeholder=""Type to search...""
+        placeholder=""Search the docs...""
         rounded=""md""
         fontSize=""sm""
         w=""100%|275px""
         bg=""muted""
         flex=""1""
+        borderWidth=""0""
         ref={input}
       />
       <span
         position=""absolute""
-        top=""1""
-        right=""1""
+        top=""6px""
+        right=""6px""
         bg=""background""
         borderWidth=""1""
-        width=""7""
-        height=""7""
+        width=""6""
+        height=""6""
         display=""flex""
         alignItems=""center""
         justifyContent=""center""

---FILE: www/components/mdx-components.tsx---
@@ -5,9 +5,50 @@ import { Tweet } from ""mdx-embed""
 
 import { Callout } from ""components/callout""
 
+const headingStyles = {
+  display: ""inline-flex"",
+  flexDirection: ""row-reverse"",
+  alignItems: ""center"",
+  justifyContent: ""flex-end"",
+  scrollMarginTop: (theme) => theme.space[26],
+  width: ""100%"",
+  ""&::before"": {
+    display: ""block"",
+    height: ""6rem"",
+    marginTop: ""-6rem"",
+    visibility: ""hidden"",
+    content: ""''"",
+  },
+  ""> a"": {
+    display: ""none"",
+    position: ""relative"",
+    ml: 2,
+    ""&::before"": {
+      content: ""'#'"",
+      fontSize: ""inherit"",
+    },
+  },
+  _hover: {
+    ""> a"": {
+      display: ""inline-block"",
+    },
+  },
+}
+
 export const mdxComponents = {
   ...components,
   hr: (props) => <hr my=""14"" {...props} />,
+  h2: (props) => (
+    <h2
+      variant=""heading.h2""
+      sx={headingStyles}
+      borderTopWidth=""1px""
+      pt=""4""
+      mt=""8""
+      mb=""4""
+      {...props}
+    />
+  ),
   Callout,
   Tweet,
   Link,

---FILE: www/components/navbar.tsx---
@@ -55,7 +55,7 @@ export function Navbar() {
           <a
             display=""none|flex""
             textDecoration=""none""
-            color=""link""
+            color=""text""
             alignItems=""center""
             fontSize=""md|||xl""
             fontWeight=""semibold""

---FILE: www/components/toc.tsx---
@@ -10,10 +10,17 @@ export function Toc({ tree, level = 1 }: TocProps) {
     <ul pl={level === 1 ? 0 : 3} fontSize=""sm"">
       {tree.items.map((item) => {
         return (
-          <li key={item.title} mt=""1"">
+          <li
+            key={item.title}
+            borderTopWidth={level === 1 ? 1 : 0}
+            borderTopStyle=""dotted""
+            pt={level === 1 ? 2 : 0}
+            pb={level === 1 ? 2 : 0}
+          >
             <a
               href={item.url}
-              color=""text""
+              color={level === 1 ? ""text"" : ""textLighter""}
+              fontSize={level === 1 ? ""sm"" : ""12px""}
               _hover={{
                 color: ""link"",
               }}

---FILE: www/config/theme.ts---
@@ -65,8 +65,7 @@ const theme: Theme = {
   },
   breakpoints: [""640px"", ""768px"", ""1024px"", ""1280px""],
   fonts: {
-    body:
-      ""-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji"",
+    body: ""-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji"",
     heading: ""inherit"",
     monospace:
       ""ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace"",
@@ -214,8 +213,7 @@ const theme: Theme = {
     sm: ""0 1px 2px 0 rgba(0, 0, 0, 0.05)"",
     md: ""0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)"",
     lg: ""0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"",
-    xl:
-      ""0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"",
+    xl: ""0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"",
     ""2xl"":
       ""0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"",
     ""3xl"": ""0 25px 50px -12px rgba(0, 0, 0, 0.25)"",
@@ -300,6 +298,18 @@ const theme: Theme = {
       code: {
         variant: ""text.code"",
       },
+      "".sidebar-nav"": {
+        WebkitOverflowScrolling: ""touch"",
+        ""&::-webkit-scrollbar"": {
+          width: ""5px"",
+          position: ""fixed"",
+          right: 0,
+        },
+        ""&::-webkit-scrollbar-thumb"": {
+          background: ""transparent"",
+          transition: ""background-color 2s"",
+        },
+      },
     },
   },
   text: {",False,False,Dependency / Package,4
chapter-three,next-drupal,1bee614d62d25bf753ad7bfae29db55ff7dad5d0,arshad,arshad@chummun.com,2021-11-15T11:30:21Z,arshad,arshad@chummun.com,2021-11-15T11:30:21Z,fix(example-webform): add comments,examples/example-webform/pages/client-side.tsx;examples/example-webform/pages/server-side.tsx,False,False,False,False,4,2,6,"---FILE: examples/example-webform/pages/client-side.tsx---
@@ -20,6 +20,8 @@ export default function WebformPage({ teams }: WebformPageProps) {
     resolver: yupResolver(contactFormSchema),
   })
 
+  // This makes a client side POST to our Drupal site.
+  // The Drupal base URL and the webform_id are exposed.
   async function onSubmit(data: FormData) {
     const response = await fetch(
       `${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}/webform_rest/submit`,

---FILE: examples/example-webform/pages/server-side.tsx---
@@ -21,14 +21,14 @@ export default function WebformPage({ teams }: WebformPageProps) {
     resolver: yupResolver(contactFormSchema),
   })
 
+  // This makes a POST to a custom API route.
+  // The Drupal base URL and the webform_id are NOT exposed.
   async function onSubmit(data: FormData) {
     const response = await fetch(`/api/contact`, {
       method: ""POST"",
       body: JSON.stringify(data),
     })
 
-    console.log(response)
-
     if (response.ok) {
       reset()
       return setStatus(""success"")",False,False,Rendering / Conversion,0
chapter-three,next-drupal,03aac36cccecedd845183a0dda1a14f261196d48,arshad,arshad@chummun.com,2021-11-15T09:13:14Z,arshad,arshad@chummun.com,2021-11-15T09:13:14Z,fix(www): update sidebar links,www/components/doc-page.tsx;www/components/navbar.tsx;www/components/sidebar-nav.tsx,False,False,False,False,4,5,9,"---FILE: www/components/doc-page.tsx---
@@ -71,7 +71,7 @@ export function DocPage({ doc, toc, components }: DocPageProps) {
                   target=""_blank""
                   rel=""noreferrer""
                   textTransform=""uppercase""
-                  color=""#111""
+                  color=""text""
                   fontWeight=""bold""
                 >
                   Chapter Three

---FILE: www/components/navbar.tsx---
@@ -55,7 +55,7 @@ export function Navbar() {
           <a
             display=""none|flex""
             textDecoration=""none""
-            color=""primary""
+            color=""link""
             alignItems=""center""
             fontSize=""md|||xl""
             fontWeight=""semibold""

---FILE: www/components/sidebar-nav.tsx---
@@ -50,8 +50,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
                 target={item.external && ""_blank""}
                 rel={item.external ? ""noreferrer"" : """"}
               >
-                <Icon name=""circle"" size=""2"" ml=""1"" mr=""3"" opacity=""0.5"" />{"" ""}
-                <span fontSize=""sm"">{item.title}</span>
+                <span fontSize=""15px"">{item.title}</span>
                 {item.external && <Icon name=""external"" ml=""2"" size=""3"" />}
               </a>
             </Link>
@@ -113,7 +112,7 @@ export function SidebarNav({ items, onLinkClick }: SidebarNavProps) {
             fontSize=""sm""
             textTransform=""uppercase""
             fontWeight=""semibold""
-            mb=""4""
+            mb=""2""
             mt={index !== 0 && 6}
             pt={index !== 0 && 4}
           >",False,False,Implementation / Logic,3
chapter-three,next-drupal,7fa57d8dcfaa9d677d72d9d6ef0ef77263c55013,arshad,arshad@chummun.com,2021-11-15T09:01:15Z,arshad,arshad@chummun.com,2021-11-15T09:01:15Z,fix(example-auth): add link to documentation,examples/example-auth/pages/index.tsx,False,False,False,False,5,0,5,"---FILE: examples/example-auth/pages/index.tsx---
@@ -71,6 +71,11 @@ export default function IndexPage() {
             </a>{"" ""}
             on the Drupal side.
           </p>
+          <h2>Documentation</h2>
+          See{"" ""}
+          <a href=""https://next-drupal.org/docs/authentication"">
+            https://next-drupal.org/docs/authentication
+          </a>
         </article>
       </div>
     </>",False,False,Implementation / Logic,3
chapter-three,next-drupal,42af7d0e487a7ff28353f557eb41a19087218d58,arshad,arshad@chummun.com,2021-11-15T08:25:22Z,arshad,arshad@chummun.com,2021-11-15T08:25:22Z,fix(example-auth): rename DRUPAL_CLIENT_ID to OAUTH_CLIENT_ID,examples/example-auth/.env.example;examples/example-auth/.env.local;examples/example-auth/pages/api/auth/[...nextauth].js,False,False,False,False,8,8,16,"---FILE: examples/example-auth/.env.example---
@@ -1,6 +1,6 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
-DRUPAL_CLIENT_ID=09989878-4e08-4669-afc1-5071d824566a
-DRUPAL_CLIENT_SECRET=cHNmGiu5yuzn9MvwmUggdDZrH6MwvNtK
+OAUTH_CLIENT_ID=09989878-4e08-4669-afc1-5071d824566a
+OAUTH_CLIENT_SECRET=cHNmGiu5yuzn9MvwmUggdDZrH6MwvNtK
 NEXTAUTH_URL=http://localhost:3434
 JWT_SIGNING_PRIVATE_KEY=// Generate one using `jose newkey -s 512 -t oct -a HS512`
\ No newline at end of file

---FILE: examples/example-auth/.env.local---
@@ -1,6 +1,6 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
-DRUPAL_CLIENT_ID=09989878-4e08-4669-afc1-5071d824566a
-DRUPAL_CLIENT_SECRET=cHNmGiu5yuzn9MvwmUggdDZrH6MwvNtK
+OAUTH_CLIENT_ID=09989878-4e08-4669-afc1-5071d824566a
+OAUTH_CLIENT_SECRET=cHNmGiu5yuzn9MvwmUggdDZrH6MwvNtK
 NEXTAUTH_URL=http://localhost:3434
 JWT_SIGNING_PRIVATE_KEY={""kty"":""oct"",""kid"":""zdauNuBL7lLAHT9zIpxExCThVHSSOfIwouGOhr5cjWQ"",""alg"":""HS512"",""k"":""EpsZYLeBSy69tbhhDbWa5surOI3Xsd1IVxLI_oodJmDkjDXnMvAJocG7tAU6ZpKraxV8DxEXr5W0zWqEXUoMTQ""}
\ No newline at end of file

---FILE: examples/example-auth/pages/api/auth/[...nextauth].js---
@@ -16,8 +16,8 @@ export default NextAuth({
         const formData = new URLSearchParams()
 
         formData.append(""grant_type"", ""password"")
-        formData.append(""client_id"", process.env.DRUPAL_CLIENT_ID)
-        formData.append(""client_secret"", process.env.DRUPAL_CLIENT_SECRET)
+        formData.append(""client_id"", process.env.OAUTH_CLIENT_ID)
+        formData.append(""client_secret"", process.env.OAUTH_CLIENT_SECRET)
         formData.append(""username"", credentials.username)
         formData.append(""password"", credentials.password)
 
@@ -59,8 +59,8 @@ export default NextAuth({
           email: profile.email,
         }
       },
-      clientId: process.env.DRUPAL_CLIENT_ID,
-      clientSecret: process.env.DRUPAL_CLIENT_SECRET,
+      clientId: process.env.OAUTH_CLIENT_ID,
+      clientSecret: process.env.OAUTH_CLIENT_SECRET,
     },
   ],
   jwt: {",False,False,Rendering / Conversion,0
chapter-three,next-drupal,6e97c68cb26106585b6caca168deb08355f27bd4,arshad,arshad@chummun.com,2021-11-14T16:07:19Z,arshad,arshad@chummun.com,2021-11-14T16:07:19Z,fix(example-no-preview): update .env,examples/example-no-preview/.env.example,False,False,False,False,1,1,2,"---FILE: examples/example-no-preview/.env.example---
@@ -1,4 +1,4 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
-NEXT_IMAGE_DOMAIN=http://localhost:8080
+NEXT_IMAGE_DOMAIN=localhost
 DRUPAL_SITE_ID=6883726a-a000-4200-8bdd-a875e413c25e
 DRUPAL_FRONT_PAGE=/node
\ No newline at end of file",False,False,Dependency / Package,1
chapter-three,next-drupal,c913e42c9d557653a619e5042e997a4f8e9c25bb,arshad,arshad@chummun.com,2021-11-14T15:36:49Z,arshad,arshad@chummun.com,2021-11-14T15:36:49Z,fix: update default branch to main,examples/example-auth/.gitignore;scripts/sync-examples.sh,False,False,False,False,39,1,40,"---FILE: examples/example-auth/.gitignore---
@@ -0,0 +1,38 @@
+# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.
+
+# dependencies
+/node_modules
+/.pnp
+.pnp.js
+
+# testing
+/coverage
+
+# next.js
+/.next/
+/out/
+.next
+
+# production
+/build
+
+# misc
+.DS_Store
+*.pem
+
+# debug
+npm-debug.log*
+yarn-debug.log*
+yarn-error.log*
+lerna-debug.log*
+
+# local env files
+.env.local
+.env.development.local
+.env.test.local
+.env.production.local
+
+# vercel
+.vercel
+
+/certificates/*
\ No newline at end of file

---FILE: scripts/sync-examples.sh---
@@ -25,7 +25,7 @@ for folder in $GLOB; do
   if [ -n ""$(git status --porcelain)"" ]; then
     git add .
     git commit -m ""$COMMIT_MESSAGE""
-    git push origin master
+    git push origin main
   fi
 
   cd $BASE",False,False,Environment / Configuration,3
chapter-three,next-drupal,a933ea9bf5c69c094c8303a4b1d5528ce89184bb,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2021-11-09T11:27:55Z,GitHub,noreply@github.com,2021-11-09T11:27:55Z,"chore(deps-dev): bump @types/react from 17.0.0 to 17.0.34

Bumps [@types/react](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/react) from 17.0.0 to 17.0.34.
- [Release notes](https://github.com/DefinitelyTyped/DefinitelyTyped/releases)
- [Commits](https://github.com/DefinitelyTyped/DefinitelyTyped/commits/HEAD/types/react)

---
updated-dependencies:
- dependency-name: ""@types/react""
  dependency-type: direct:development
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,5,27,32,"---FILE: yarn.lock---
@@ -3942,27 +3942,10 @@
   resolved ""https://registry.yarnpkg.com/@types/q/-/q-1.5.4.tgz#15925414e0ad2cd765bfef58842f7e26a7accb24""
   integrity sha512-1HcDas8SEj4z1Wc696tH56G8OlRaH/sqZOynNNB+HF0WOeXPaxTtbYzJY2oEfiUxjSKjhCKr+MvR7dCHcEelug==
 
-""@types/react@^17.0.0"":
-  version ""17.0.0""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.0.tgz#5af3eb7fad2807092f0046a1302b7823e27919b8""
-  integrity sha512-aj/L7RIMsRlWML3YB6KZiXB3fV2t41+5RBGYF8z+tAKU43Px8C3cYUZsDvf1/+Bm4FK21QWBrDutu8ZJ/70qOw==
-  dependencies:
-    ""@types/prop-types"" ""*""
-    csstype ""^3.0.2""
-
-""@types/react@^17.0.3"":
-  version ""17.0.3""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.3.tgz#ba6e215368501ac3826951eef2904574c262cc79""
-  integrity sha512-wYOUxIgs2HZZ0ACNiIayItyluADNbONl7kt8lkLjVK8IitMH5QMyAh75Fwhmo37r1m7L2JaFj03sIfxBVDvRAg==
-  dependencies:
-    ""@types/prop-types"" ""*""
-    ""@types/scheduler"" ""*""
-    csstype ""^3.0.2""
-
-""@types/react@^17.0.4"":
-  version ""17.0.5""
-  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.5.tgz#3d887570c4489011f75a3fc8f965bf87d09a1bea""
-  integrity sha512-bj4biDB9ZJmGAYTWSKJly6bMr4BLUiBrx9ujiJEoP9XIDY9CTaPGxE5QWN/1WjpPLzYF7/jRNnV2nNxNe970sw==
+""@types/react@^17.0.0"", ""@types/react@^17.0.3"", ""@types/react@^17.0.4"":
+  version ""17.0.34""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.34.tgz#797b66d359b692e3f19991b6b07e4b0c706c0102""
+  integrity sha512-46FEGrMjc2+8XhHXILr+3+/sTe3OfzSPU9YGKILLrUYbQ1CLQC9Daqo1KzENGXAWwrFwiY0l4ZbF20gRvgpWTg==
   dependencies:
     ""@types/prop-types"" ""*""
     ""@types/scheduler"" ""*""
@@ -6073,12 +6056,7 @@ cssstyle@^2.2.0:
   dependencies:
     cssom ""~0.3.6""
 
-csstype@^3.0.2:
-  version ""3.0.6""
-  resolved ""https://registry.yarnpkg.com/csstype/-/csstype-3.0.6.tgz#865d0b5833d7d8d40f4e5b8a6d76aea3de4725ef""
-  integrity sha512-+ZAmfyWMT7TiIlzdqJgjMb7S4f1beorDbWbsocyK4RaiqA5RTX3K14bnBWmmA9QEM0gRdsjyyrEmcyga8Zsxmw==
-
-csstype@^3.0.5, csstype@^3.0.7:
+csstype@^3.0.2, csstype@^3.0.5, csstype@^3.0.7:
   version ""3.0.7""
   resolved ""https://registry.yarnpkg.com/csstype/-/csstype-3.0.7.tgz#2a5fb75e1015e84dd15692f71e89a1450290950b""
   integrity sha512-KxnUB0ZMlnUWCsx2Z8MUsr6qV6ja1w9ArPErJaJaF8a5SOWoHLIszeCTKGRGRgtLgYrs1E8CHkNSP1VZTTPc9g==",False,False,Dependency / Package,1
chapter-three,next-drupal,aaa4d101d253236c8cb1a090b0185bc6f794af23,dependabot[bot],49699333+dependabot[bot]@users.noreply.github.com,2021-11-09T11:26:21Z,GitHub,noreply@github.com,2021-11-09T11:26:21Z,"chore(deps): bump next-mdx-toc from 0.1.1 to 0.1.2

Bumps [next-mdx-toc](https://github.com/arshad/next-mdx) from 0.1.1 to 0.1.2.
- [Release notes](https://github.com/arshad/next-mdx/releases)
- [Commits](https://github.com/arshad/next-mdx/compare/next-mdx-toc@0.1.1...next-mdx-toc@0.1.2)

---
updated-dependencies:
- dependency-name: next-mdx-toc
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>",yarn.lock,False,False,False,False,8,8,16,"---FILE: yarn.lock---
@@ -10696,19 +10696,19 @@ next-mdx-remote@^2.1.3:
     ""@mdx-js/react"" ""^1.6.22""
 
 next-mdx-toc@^0.1.1:
-  version ""0.1.1""
-  resolved ""https://registry.yarnpkg.com/next-mdx-toc/-/next-mdx-toc-0.1.1.tgz#c2e77a8688bc0b75277a79b16c52380fbcf43988""
-  integrity sha512-Xn6WFigBjREIk93iGo8IPhhVoRQHHOT6sBm1PgTbtEDIJgf1jtOiWcgu64Zs2flS/OLg8nbdK6IviBr9MZ1xwg==
+  version ""0.1.2""
+  resolved ""https://registry.yarnpkg.com/next-mdx-toc/-/next-mdx-toc-0.1.2.tgz#da46ff441d3d35d45e5cfdd059d9a0b89d229b4f""
+  integrity sha512-c60k7HPvmpJ0+5Lhd4eS+O6UCs3RV6GArKUEerH83pi7WN+qQBj/KRn0FQpTKnAPD3v3kbngK93g6a5UiDuk5g==
   dependencies:
     mdast-util-toc ""^5.1.0""
-    next-mdx ""^0.6.0""
+    next-mdx ""^0.6.1""
     remark ""^13.0.0""
     unist-util-visit ""^2.0.3""
 
-next-mdx@^0.6.0:
-  version ""0.6.0""
-  resolved ""https://registry.yarnpkg.com/next-mdx/-/next-mdx-0.6.0.tgz#a2714b16cf67077a4bf07f6d11b1430e3ae75849""
-  integrity sha512-FmakNVsLMvTH981DexIu+Fg8hyppx5BHh0iD1fmTzZg15oQEuoI/T/5ZBP93aIj7HC3UA02x0EIO+OmAcE3k8g==
+next-mdx@^0.6.0, next-mdx@^0.6.1:
+  version ""0.6.1""
+  resolved ""https://registry.yarnpkg.com/next-mdx/-/next-mdx-0.6.1.tgz#4106754243a98111029494a2aec305a39eb56d2c""
+  integrity sha512-j0PwQUrR55oWsUdtX9ZuuKmyYd2Vd6frLZDHhulfZjvQDOh4gBJe4e1nSPqGHbcEtaAa625s1TcuWWXZ6nTSOQ==
   dependencies:
     ""@mdx-js/react"" ""^1.6.22""
     fast-glob ""^3.2.5""",False,False,Dependency / Package,1
chapter-three,next-drupal,65e9c6bd36cf01bd77169f558472b2964e38890c,arshad,arshad@chummun.com,2021-11-05T18:03:51Z,arshad,arshad@chummun.com,2021-11-05T18:03:51Z,fix(example-blog): update pages,examples/example-blog/package.json;examples/example-blog/pages/[...slug].tsx;examples/example-blog/pages/blog/[...slug].tsx;examples/example-blog/src/config.ts,False,False,False,False,95,137,232,"---FILE: examples/example-blog/package.json---
@@ -10,6 +10,7 @@
     ""preview"": ""next build && next start -p 3030""
   },
   ""dependencies"": {
+    ""drupal-jsonapi-params"": ""^1.2.2"",
     ""next"": ""^11.0.0"",
     ""next-drupal"": ""^0.17.0"",
     ""react"": ""^17.0.2"",

---FILE: examples/example-blog/pages/[...slug].tsx---
@@ -1,53 +1,123 @@
+import {
+  GetStaticPathsContext,
+  GetStaticPathsResult,
+  GetStaticPropsResult,
+} from ""next""
 import Head from ""next/head""
-import { getPathsFromContext, getResourceFromContext } from ""next-drupal""
+import Image from ""next/image""
+import {
+  DrupalNode,
+  getPathsFromContext,
+  getResourceFromContext,
+  getResourceTypeFromContext,
+} from ""next-drupal""
+import { DrupalJsonApiParams } from ""drupal-jsonapi-params""
 
 import { Layout } from ""@/components/layout""
+import { PostMeta } from ""@/components/post-meta""
 
-export default function BasicPage({ page }) {
-  if (!page) return null
+interface NodePageProps {
+  node: DrupalNode
+}
+
+export default function NodePage({ node }: NodePageProps) {
+  if (!node) return null
 
   return (
     <Layout>
       <Head>
-        <title>{page.title}</title>
+        <title>{node.title}</title>
       </Head>
-      <div variant=""container.sm"" py=""10|12"">
-        <h1 variant=""heading.h1"">{page.title}</h1>
-        {page.body && (
-          <div
-            dangerouslySetInnerHTML={{ __html: page.body.processed }}
-            sx={{
-              p: {
-                variant: ""text.paragraph"",
-              },
-            }}
-          />
-        )}
+      <div variant=""container.sm"" py=""4|10|12"">
+        <article>
+          <h1 variant=""heading.h1"">{node.title}</h1>
+          {node.body?.summary ? (
+            <p variant=""text.lead"" mt=""4"">
+              {node.body.summary}
+            </p>
+          ) : null}
+          <PostMeta post={node} />
+          <hr />
+          {node.field_image?.uri && (
+            <div>
+              <Image
+                src={`${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}${node.field_image.uri.url}`}
+                width={800}
+                height={450}
+                layout=""intrinsic""
+                objectFit=""cover""
+              />
+              {node.field_image.resourceIdObjMeta.alt && (
+                <p variant=""text.sm"" textAlign=""center"">
+                  {node.field_image.resourceIdObjMeta.alt}
+                </p>
+              )}
+            </div>
+          )}
+          {node.body?.processed && (
+            <div
+              dangerouslySetInnerHTML={{ __html: node.body?.processed }}
+              sx={{
+                p: {
+                  variant: ""text"",
+                  fontFamily: ""serif"",
+                  fontSize: ""xl"",
+                  my: 8,
+                  lineHeight: 8,
+                },
+              }}
+            />
+          )}
+        </article>
       </div>
     </Layout>
   )
 }
 
-export async function getStaticPaths(context) {
+export async function getStaticPaths(
+  context: GetStaticPathsContext
+): Promise<GetStaticPathsResult> {
   return {
-    paths: await getPathsFromContext(""node--page"", context),
+    paths: await getPathsFromContext([""node--page"", ""node--article""], context),
     fallback: true,
   }
 }
 
-export async function getStaticProps(context) {
-  const page = await getResourceFromContext(""node--page"", context)
+export async function getStaticProps(
+  context
+): Promise<GetStaticPropsResult<NodePageProps>> {
+  const type = await getResourceTypeFromContext(context)
+
+  if (!type) {
+    return {
+      notFound: true,
+    }
+  }
+
+  const apiParams = new DrupalJsonApiParams()
+
+  if (type === ""node--article"") {
+    apiParams.addInclude([""field_image"", ""uid""])
+  }
+
+  const node = await getResourceFromContext<DrupalNode>(type, context, {
+    params: apiParams.getQueryObject(),
+  })
 
-  if (!page?.status) {
+  if (
+    !node?.status ||
+    (node.field_site &&
+      !node.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID))
+  ) {
     return {
       notFound: true,
     }
   }
 
   return {
     props: {
-      page,
+      node,
     },
-    revalidate: 1,
+    revalidate: 60,
   }
 }

---FILE: examples/example-blog/pages/blog/[...slug].tsx---
@@ -1,104 +0,0 @@
-import Image from ""next/image""
-import Head from ""next/head""
-import { getPathsFromContext, getResourceFromContext } from ""next-drupal""
-
-import { Layout } from ""@/components/layout""
-import { PostMeta } from ""@/components/post-meta""
-
-export default function BlogPostPage({ post }) {
-  if (!post) return null
-
-  return (
-    <Layout>
-      <Head>
-        <title>{post.title}</title>
-      </Head>
-      <div variant=""container.sm"" py=""4|10|12"">
-        <article>
-          <h1 variant=""heading.h1"">{post.title}</h1>
-          {post.body?.summary ? (
-            <p variant=""text.lead"" mt=""4"">
-              {post.body.summary}
-            </p>
-          ) : null}
-          <PostMeta post={post} />
-          <hr />
-          {post.field_image?.uri && (
-            <div>
-              <Image
-                src={`${process.env.NEXT_PUBLIC_DRUPAL_BASE_URL}${post.field_image.uri.url}`}
-                width={800}
-                height={450}
-                layout=""intrinsic""
-                objectFit=""cover""
-              />
-              {post.field_image.resourceIdObjMeta.alt && (
-                <p variant=""text.sm"" textAlign=""center"">
-                  {post.field_image.resourceIdObjMeta.alt}
-                </p>
-              )}
-            </div>
-          )}
-          {post.body?.processed && (
-            <div
-              dangerouslySetInnerHTML={{ __html: post.body?.processed }}
-              sx={{
-                p: {
-                  variant: ""text"",
-                  fontFamily: ""serif"",
-                  fontSize: ""xl"",
-                  my: 8,
-                  lineHeight: 8,
-                },
-              }}
-            />
-          )}
-        </article>
-      </div>
-    </Layout>
-  )
-}
-
-export async function getStaticPaths(context) {
-  let paths = await getPathsFromContext(""node--article"", context, {
-    params: {
-      ""filter[status]"": ""1"",
-      ""fields[node--article]"": ""path,field_site"",
-    },
-  })
-
-  paths = paths.filter((entity) =>
-    entity.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID)
-  )
-
-  return {
-    paths,
-    fallback: true,
-  }
-}
-
-export async function getStaticProps(context) {
-  const post = await getResourceFromContext(""node--article"", context, {
-    prefix: ""/blog"",
-    params: {
-      include: ""field_image,uid"",
-    },
-  })
-
-  if (
-    !post ||
-    !post.status ||
-    !post.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID)
-  ) {
-    return {
-      notFound: true,
-    }
-  }
-
-  return {
-    props: {
-      post,
-    },
-    revalidate: 1,
-  }
-}

---FILE: examples/example-blog/src/config.ts---
@@ -1,14 +1,5 @@
 export const site = {
   name: ""Blog."",
   copyright: ` ${new Date().getFullYear()} Next.js + Drupal`,
-  links: [
-    {
-      title: ""Home"",
-      url: ""/"",
-    },
-    {
-      title: ""About"",
-      url: ""/about"",
-    },
-  ],
+  links: [],
 }",False,False,Documentation / Formatting,3
chapter-three,next-drupal,e527b360da861d3c69ca9a01954e851231b3ac51,arshad,arshad@chummun.com,2021-11-05T17:21:48Z,arshad,arshad@chummun.com,2021-11-05T17:21:48Z,fix: update page for marketing,examples/example-marketing/pages/[[...slug]].tsx,False,False,False,False,1,1,2,"---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -135,7 +135,7 @@ export async function getStaticProps(
   })
 
   if (
-    (""status"" in node && !node?.status) ||
+    !node?.status ||
     (node.field_site &&
       !node.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID))
   ) {",False,False,Dependency / Package,1
chapter-three,next-drupal,62c0e9f121f1ba8c6a7411dbc305b2bc00547ac5,arshad,arshad@chummun.com,2021-11-05T16:58:14Z,arshad,arshad@chummun.com,2021-11-05T16:58:14Z,fix: delete oath-keys,examples/drupal-site/oauth-keys/.gitkeep,False,False,False,False,0,0,0,,False,False,Rendering / Conversion,0
chapter-three,next-drupal,8c3207b79bc641b605c11cec3fd556d0f71f1e72,arshad,arshad@chummun.com,2021-11-04T17:12:10Z,arshad,arshad@chummun.com,2021-11-04T17:12:10Z,fix: update .env files,examples/example-blog/.env.example;examples/example-marketing/.env.example;examples/example-no-preview/.env.example,False,False,False,False,8,6,14,"---FILE: examples/example-blog/.env.example---
@@ -1,6 +1,7 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
+DRUPAL_CLIENT_ID=52ce1a10-bf5c-4c81-8edf-eea3af95da84
+DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
 DRUPAL_SITE_ID=1ccd4bc4-bbc6-4c19-a816-c7d100feff02
-DRUPAL_CLIENT_ID=1a3510bc-a367-4f40-a1dd-6756454f6b69
-DRUPAL_CLIENT_SECRET=Fy2crmgK44PwlBDjvA54m7m7ucvhj837
-DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file
+DRUPAL_PREVIEW_SECRET=secret
+DRUPAL_FRONT_PAGE=/home
\ No newline at end of file

---FILE: examples/example-marketing/.env.example---
@@ -1,7 +1,7 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
-DRUPAL_CLIENT_ID=15cea0a1-1f8d-4595-acec-2c1420f06a5d
+DRUPAL_CLIENT_ID=52ce1a10-bf5c-4c81-8edf-eea3af95da84
 DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
-DRUPAL_SITE_ID=8ec29675-5730-4f1e-b87f-53f72dc1911b
+DRUPAL_SITE_ID=1ccd4bc4-bbc6-4c19-a816-c7d100feff02
 DRUPAL_PREVIEW_SECRET=secret
 DRUPAL_FRONT_PAGE=/home
\ No newline at end of file

---FILE: examples/example-no-preview/.env.example---
@@ -1,3 +1,4 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=http://localhost:8080
-DRUPAL_SITE_ID=6883726a-a000-4200-8bdd-a875e413c25e
\ No newline at end of file
+DRUPAL_SITE_ID=6883726a-a000-4200-8bdd-a875e413c25e
+DRUPAL_FRONT_PAGE=/node
\ No newline at end of file",False,False,Dependency / Package,1
chapter-three,next-drupal,8908a8b4ab96ebc5eebe8ad0697ae71107201bb0,arshad,arshad@chummun.com,2021-10-27T05:53:34Z,arshad,arshad@chummun.com,2021-10-27T05:53:34Z,fix(drupal-site): check for path as first field in sparse fieldsets,modules/next/modules/next_jsonapi/src/Controller/EntityResource.php,False,False,False,False,4,2,6,"---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -72,7 +72,9 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
       return $params;
     }
 
-    // Increase the max size if only path is requested.
+    // Increase the max size if path is requested as the first field.
+    // We do this to overcome the max size limit when building paths for
+    // getStaticPaths.
     // SPEC: https://jsonapi.org/format/#fetching-sparse-fieldsets
     $sparse_fieldset = array_map(function ($item) {
       return explode(',', $item);
@@ -82,7 +84,7 @@ protected function getJsonApiParams(Request $request, ResourceType $resource_typ
       return $params;
     }
 
-    if (in_array(""path"", $sparse_fieldset[$resource_type->getTypeName()])) {
+    if ($sparse_fieldset[$resource_type->getTypeName()][0] === 'path') {
       $params[OffsetPage::KEY_NAME] = new OffsetPage(OffsetPage::DEFAULT_OFFSET, $this->maxSize);
     }
     return $params;",False,False,Environment / Configuration,1
chapter-three,next-drupal,bc593771779d59947ad764d56e35c5fcb82af616,arshad,arshad@chummun.com,2021-10-25T18:03:29Z,arshad,arshad@chummun.com,2021-10-25T18:03:29Z,fix(drupal-site): upgrade to Drupal 9,examples/drupal-site/composer.json;examples/drupal-site/composer.lock;examples/drupal-site/web/.gitignore;package.json;packages/next-drupal/package.json;yarn.lock,False,False,False,False,2797,2484,5281,"---FILE: examples/drupal-site/composer.json---
@@ -17,12 +17,13 @@
   ],
   ""require"": {
     ""php"": "">=7.0.8"",
-    ""composer/installers"": ""^1.2"",
+    ""composer/installers"": ""^1.7"",
     ""cweagans/composer-patches"": ""^1.6.5"",
     ""drupal/admin_toolbar"": ""^3.0"",
     ""drupal/console"": ""^1.0.2"",
-    ""drupal/core"": ""^8.8.0"",
-    ""drupal/core-composer-scaffold"": ""^8.8.0"",
+    ""drupal/core-composer-scaffold"": ""^9"",
+    ""drupal/core-project-message"": ""^9"",
+    ""drupal/core-recommended"": ""^9"",
     ""drupal/ctools"": ""^3.6"",
     ""drupal/decoupled_router"": ""2.x-dev@dev"",
     ""drupal/default_content"": ""^2.0@alpha"",
@@ -32,7 +33,7 @@
     ""drupal/jsonapi_extras"": ""^3.17"",
     ""drupal/jsonapi_menu_items"": ""^1.2"",
     ""drupal/jsonapi_schema"": ""^1.0@beta"",
-    ""drupal/jsonapi_views"": ""^1.0@beta"",
+    ""drupal/jsonapi_views"": ""^1.0"",
     ""drupal/next"": ""1.0.x-dev"",
     ""drupal/paragraphs"": ""^1.12"",
     ""drupal/pathauto"": ""^1.8"",
@@ -44,7 +45,7 @@
     ""zaporylie/composer-drupal-optimizations"": ""^1.0""
   },
   ""require-dev"": {
-    ""drupal/core-dev"": ""^8.8.0""
+    ""drupal/core-dev"": ""^9""
   },
   ""conflict"": {
     ""drupal/drupal"": ""*""
@@ -107,9 +108,6 @@
       ]
     },
     ""patches"": {
-      ""drupal/subrequests"": {
-        ""Subrequest failed validation"": ""https://www.drupal.org/files/issues/2019-05-27/3029570-array-not-object.patch""
-      },
       ""drupal/decoupled_router"": {
         ""Unable to resolve path on node in other language than default"": ""https://www.drupal.org/files/issues/2021-05-05/3111456-34.patch""
       }

---FILE: examples/drupal-site/web/.gitignore---
@@ -10,4 +10,5 @@
 /index.php
 /robots.txt
 /update.php
-/web.config
\ No newline at end of file
+/web.config
+/README.md
\ No newline at end of file

---FILE: package.json---
@@ -9,7 +9,7 @@
   ],
   ""scripts"": {
     ""test"": ""jest"",
-    ""dev"": ""lerna run dev --parallel"",
+    ""dev"": ""lerna run --parallel --ignore www --ignore basic-starter dev"",
     ""prepare"": ""lerna run prepare"",
     ""watch"": ""lerna run watch"",
     ""lint"": ""eslint --cache --ext .js,.jsx ."",

---FILE: packages/next-drupal/package.json---
@@ -13,7 +13,7 @@
   },
   ""scripts"": {
     ""prepare"": ""microbundle --no-compress --jsx React.createElement"",
-    ""watch"": ""microbundle watch --no-compress --jsx React.createElement"",
+    ""dev"": ""microbundle watch --no-compress --jsx React.createElement"",
     ""test"": ""jest""
   },
   ""keywords"": [

---FILE: yarn.lock---
@@ -5274,25 +5274,10 @@ caniuse-api@^3.0.0:
     lodash.memoize ""^4.1.2""
     lodash.uniq ""^4.5.0""
 
-caniuse-lite@^1.0.0, caniuse-lite@^1.0.30001109, caniuse-lite@^1.0.30001173, caniuse-lite@^1.0.30001179:
-  version ""1.0.30001181""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001181.tgz#4f0e5184e1ea7c3bf2727e735cbe7ca9a451d673""
-  integrity sha512-m5ul/ARCX50JB8BSNM+oiPmQrR5UmngaQ3QThTTp5HcIIQGP/nPBs82BYLE+tigzm3VW+F4BJIhUyaVtEweelQ==
-
-caniuse-lite@^1.0.30001181:
-  version ""1.0.30001207""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001207.tgz#364d47d35a3007e528f69adb6fecb07c2bb2cc50""
-  integrity sha512-UPQZdmAsyp2qfCTiMU/zqGSWOYaY9F9LL61V8f+8MrubsaDGpaHD9HRV/EWZGULZn0Hxu48SKzI5DgFwTvHuYw==
-
-caniuse-lite@^1.0.30001196, caniuse-lite@^1.0.30001202:
-  version ""1.0.30001223""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001223.tgz#39b49ff0bfb3ee3587000d2f66c47addc6e14443""
-  integrity sha512-k/RYs6zc/fjbxTjaWZemeSmOjO0JJV+KguOBA3NwPup8uzxM1cMhR2BD9XmO86GuqaqTCO8CgkgH9Rz//vdDiA==
-
-caniuse-lite@^1.0.30001219, caniuse-lite@^1.0.30001228, caniuse-lite@^1.0.30001230:
-  version ""1.0.30001237""
-  resolved ""https://registry.yarnpkg.com/caniuse-lite/-/caniuse-lite-1.0.30001237.tgz#4b7783661515b8e7151fc6376cfd97f0e427b9e5""
-  integrity sha512-pDHgRndit6p1NR2GhzMbQ6CkRrp4VKuSsqbcLeOQppYPKOYkKT/6ZvZDvKJUqcmtyWIAHuZq3SVS2vc1egCZzw==
+caniuse-lite@^1.0.0, caniuse-lite@^1.0.30001109, caniuse-lite@^1.0.30001173, caniuse-lite@^1.0.30001179, caniuse-lite@^1.0.30001181, caniuse-lite@^1.0.30001196, caniuse-lite@^1.0.30001202, caniuse-lite@^1.0.30001219, caniuse-lite@^1.0.30001228, caniuse-lite@^1.0.30001230:
+  version ""1.0.30001271""
+  resolved ""https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001271.tgz""
+  integrity sha512-BBruZFWmt3HFdVPS8kceTBIguKxu4f99n5JNp06OlPD/luoAMIaIK5ieV5YjnBLH3Nysai9sxj9rpJj4ZisXOA==
 
 capture-exit@^2.0.0:
   version ""2.0.0""",False,False,Documentation / Formatting,3
chapter-three,next-drupal,f19894564db52df52827ecf1ccf53220aa3b249a,arshad,arshad@chummun.com,2021-10-14T16:15:06Z,arshad,arshad@chummun.com,2021-10-14T16:15:06Z,fix(next): phpcs warnings,modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php;modules/next/modules/next_jsonapi/src/Controller/EntityResource.php;modules/next/src/Entity/NextSite.php;modules/next/src/NextEntityTypeManager.php;modules/next/src/NextEntityTypeManagerInterface.php,False,False,False,False,8,2,10,"---FILE: modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php---
@@ -5,6 +5,9 @@
 use Drupal\Core\Field\FieldItemList;
 use Drupal\Core\TypedData\ComputedItemListTrait;
 
+/**
+ * Class ContentTranslationsFieldItemList
+ */
 class ContentTranslationsFieldItemList extends FieldItemList {
 
   use ComputedItemListTrait;

---FILE: modules/next/modules/next_jsonapi/src/Controller/EntityResource.php---
@@ -18,6 +18,9 @@
 use Symfony\Component\HttpFoundation\Request;
 use Symfony\Component\Serializer\SerializerInterface;
 
+/**
+ * Process all entity requests.
+ */
 class EntityResource extends JsonApiEntityResource {
 
   /**

---FILE: modules/next/src/Entity/NextSite.php---
@@ -141,7 +141,7 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
       $query['defaultLocale'] = \Drupal::languageManager()->getDefaultLanguage()->getId();
     }
 
-    // Handle revisionable entity types
+    // Handle revisionable entity types.
     /** @var \Drupal\next\NextEntityTypeManagerInterface $next_entity_type_manager */
     $next_entity_type_manager = \Drupal::service('next.entity_type.manager');
     if ($next_entity_type_manager->isEntityRevisionable($entity)) {

---FILE: modules/next/src/NextEntityTypeManager.php---
@@ -92,5 +92,4 @@ public function isEntityRevisionable(EntityInterface $entity): bool {
     return $entity->getEntityType()->isRevisionable();
   }
 
-
 }

---FILE: modules/next/src/NextEntityTypeManagerInterface.php---
@@ -49,6 +49,7 @@ public function getConfigEntityTypeIds();
    *
    * @param \Drupal\Core\Entity\EntityInterface $entity
    *   The entity.
+   *
    * @return bool
    *   TRUE is revisionable. FALSE otherwise.
    */",False,False,Rendering / Conversion,0
chapter-three,next-drupal,7e7de282655bb719bda87e7230a6d1be1bd99aa2,arshad,arshad@chummun.com,2021-10-14T16:14:52Z,arshad,arshad@chummun.com,2021-10-14T16:14:52Z,fix(next): check for jsonapi,modules/next/src/Entity/NextSite.php;modules/next/src/NextEntityTypeManager.php;modules/next/src/NextEntityTypeManagerInterface.php,False,False,False,False,30,4,34,"---FILE: modules/next/src/Entity/NextSite.php---
@@ -142,10 +142,9 @@ public function getPreviewUrlForEntity(EntityInterface $entity): Url {
     }
 
     // Handle revisionable entity types
-    /* @var \Drupal\jsonapi\ResourceType\ResourceTypeRepositoryInterface $resource_type_repository */
-    $resource_type_repository = \Drupal::service('jsonapi.resource_type.repository');
-    $resource = $resource_type_repository->get($entity->getEntityTypeId(), $entity->bundle());
-    if ($resource->isVersionable() && $entity->getEntityType()->isRevisionable()) {
+    /** @var \Drupal\next\NextEntityTypeManagerInterface $next_entity_type_manager */
+    $next_entity_type_manager = \Drupal::service('next.entity_type.manager');
+    if ($next_entity_type_manager->isEntityRevisionable($entity)) {
       $query['resourceVersion'] = $entity->isLatestRevision() ? ""rel:latest-version"" : ""id:{$entity->getRevisionId()}"";
     }
 

---FILE: modules/next/src/NextEntityTypeManager.php---
@@ -3,6 +3,7 @@
 namespace Drupal\next;
 
 use Drupal\Core\Entity\EntityInterface;
+use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Core\Entity\EntityTypeManagerInterface;
 use Drupal\Core\Routing\RouteMatchInterface;
 use Drupal\next\Entity\NextEntityTypeConfigInterface;
@@ -77,4 +78,19 @@ public function getEntityFromRouteMatch(RouteMatchInterface $route_match): ?Enti
     return NULL;
   }
 
+  /**
+   * {@inheritdoc}
+   */
+  public function isEntityRevisionable(EntityInterface $entity): bool {
+    if (\Drupal::hasService('jsonapi.resource_type.repository')) {
+      /* @var \Drupal\jsonapi\ResourceType\ResourceTypeRepositoryInterface $resource_type_repository */
+      $resource_type_repository = \Drupal::service('jsonapi.resource_type.repository');
+      $resource = $resource_type_repository->get($entity->getEntityTypeId(), $entity->bundle());
+      return $resource->isVersionable() && $entity->getEntityType()->isRevisionable();
+    }
+
+    return $entity->getEntityType()->isRevisionable();
+  }
+
+
 }

---FILE: modules/next/src/NextEntityTypeManagerInterface.php---
@@ -3,6 +3,7 @@
 namespace Drupal\next;
 
 use Drupal\Core\Entity\EntityInterface;
+use Drupal\Core\Entity\EntityTypeInterface;
 use Drupal\Core\Routing\RouteMatchInterface;
 use Drupal\next\Entity\NextEntityTypeConfigInterface;
 
@@ -43,4 +44,14 @@ public function getEntityFromRouteMatch(RouteMatchInterface $route_match): ?Enti
    */
   public function getConfigEntityTypeIds();
 
+  /**
+   * Returns true if given entity is revisionable.
+   *
+   * @param \Drupal\Core\Entity\EntityInterface $entity
+   *   The entity.
+   * @return bool
+   *   TRUE is revisionable. FALSE otherwise.
+   */
+  public function isEntityRevisionable(EntityInterface $entity): bool;
+
 }",False,False,Dependency / Package,3
chapter-three,next-drupal,651d6976f88d3f4097df1c41648412837262df4a,arshad,arshad@chummun.com,2021-10-14T14:57:14Z,arshad,arshad@chummun.com,2021-10-14T14:57:14Z,fix(next-drupal): handle nested params,packages/next-drupal/package.json;packages/next-drupal/src/utils.ts;yarn.lock,False,False,False,False,6,3,9,"---FILE: packages/next-drupal/package.json---
@@ -41,6 +41,7 @@
     ""typescript"": ""^4.3.2""
   },
   ""dependencies"": {
-    ""jsona"": ""^1.8.0""
+    ""jsona"": ""^1.8.0"",
+    ""qs"": ""^6.10.1""
   }
 }

---FILE: packages/next-drupal/src/utils.ts---
@@ -2,6 +2,7 @@ import { GetStaticPropsContext } from ""next""
 import Jsona from ""jsona""
 import { getAccessToken } from ""./get-access-token""
 import { AccessToken, Locale } from ""./types""
+import { stringify } from ""qs""
 
 const JSONAPI_PREFIX = process.env.DRUPAL_JSONAPI_PREFIX || ""/jsonapi""
 
@@ -60,7 +61,8 @@ export function buildUrl(
   )
 
   if (params) {
-    url.search = new URLSearchParams(params).toString()
+    // Use instead URLSearchParams for nested params.
+    url.search = stringify(params)
   }
 
   return url

---FILE: yarn.lock---
@@ -12631,7 +12631,7 @@ q@^1.1.2, q@^1.5.1:
   resolved ""https://registry.yarnpkg.com/q/-/q-1.5.1.tgz#7e32f75b41381291d04611f1bf14109ac00651d7""
   integrity sha1-fjL3W0E4EpHQRhHxvxQQmsAGUdc=
 
-qs@^6.10.0:
+qs@^6.10.0, qs@^6.10.1:
   version ""6.10.1""
   resolved ""https://registry.yarnpkg.com/qs/-/qs-6.10.1.tgz#4931482fa8d647a5aab799c5271d2133b981fb6a""
   integrity sha512-M528Hph6wsSVOBiYUnGf+K/7w0hNshs/duGsNXPUCLH5XAqjEtiPGwNONLV0tBH8NoGb0mvD5JubnUTrujKDTg==",False,False,Data / Input Handling,3
chapter-three,next-drupal,d88d61c6fec731971c8ba6f130f6283aae6aec2a,arshad,arshad@chummun.com,2021-10-14T12:48:34Z,arshad,arshad@chummun.com,2021-10-14T12:48:34Z,fix(next-drupal): add types for collection,packages/next-drupal/src/get-resource-collection.ts;packages/next-drupal/src/types.ts,False,False,False,False,18,4,22,"---FILE: packages/next-drupal/src/get-resource-collection.ts---
@@ -12,7 +12,7 @@ import {
   getJsonApiPathForResourceType,
 } from ""./utils""
 
-export async function getResourceCollection<T extends JsonApiResource[]>(
+export async function getResourceCollection<T = JsonApiResource[]>(
   type: string,
   options?: {
     deserialize?: boolean
@@ -50,9 +50,7 @@ export async function getResourceCollection<T extends JsonApiResource[]>(
   return options.deserialize ? deserialize(json) : json
 }
 
-export async function getResourceCollectionFromContext<
-  T extends JsonApiResource[]
->(
+export async function getResourceCollectionFromContext<T = JsonApiResource[]>(
   type: string,
   context: GetStaticPropsContext,
   options?: {

---FILE: packages/next-drupal/src/types.ts---
@@ -17,6 +17,22 @@ export type JsonApiWithLocaleOptions = {
 /* eslint-disable  @typescript-eslint/no-explicit-any */
 export type JsonApiParams = Record<string, any>
 
+// TODO: any...ugh.
+export interface JsonApiResponse extends Record<string, any> {
+  jsonapi?: {
+    version: string
+    meta: Record<string, any>[]
+  }
+  data: Record<string, any>[]
+  errors: Record<string, any>[]
+  meta: {
+    count: number
+    [key: string]: any
+  }
+  links?: Record<string, any>[]
+  included?: Record<string, any>[]
+}
+
 export interface DrupalTranslatedPath {
   resolved: string
   isHomePath: boolean",False,False,Rendering / Conversion,0
chapter-three,next-drupal,242688db74de09066ea76be28428f9716631463a,arshad,arshad@chummun.com,2021-10-13T09:55:49Z,arshad,arshad@chummun.com,2021-10-13T09:55:49Z,fix(next-drupal): update types for resource collection,packages/next-drupal/src/get-resource-collection.ts,False,False,False,False,3,3,6,"---FILE: packages/next-drupal/src/get-resource-collection.ts---
@@ -3,7 +3,7 @@ import {
   AccessToken,
   JsonApiParams,
   JsonApiWithLocaleOptions,
-  JsonApiObject,
+  JsonApiResource,
 } from ""./types""
 import {
   buildHeaders,
@@ -12,7 +12,7 @@ import {
   getJsonApiPathForResourceType,
 } from ""./utils""
 
-export async function getResourceCollection<T extends JsonApiObject[]>(
+export async function getResourceCollection<T extends JsonApiResource[]>(
   type: string,
   options?: {
     deserialize?: boolean
@@ -46,7 +46,7 @@ export async function getResourceCollection<T extends JsonApiObject[]>(
 }
 
 export async function getResourceCollectionFromContext<
-  T extends JsonApiObject[]
+  T extends JsonApiResource[]
 >(
   type: string,
   context: GetStaticPropsContext,",False,False,Dependency / Package,1
chapter-three,next-drupal,da1d5255f3de29d5729ed45b4b05f864b599fdb4,theRuslan,TheRuslan@users.noreply.github.com,2021-10-04T12:34:18Z,GitHub,noreply@github.com,2021-10-04T12:34:18Z,Fix a typo in Quick Start guide,www/docs/quick-start.mdx,False,False,False,False,1,1,2,"---FILE: www/docs/quick-start.mdx---
@@ -45,7 +45,7 @@ Once the modules are enabled, we can now create our first Next.js site.
 3. Fill in the following values:
 
 - **Label**: `Blog`
-- **Base URL**: `http://localhost:300`
+- **Base URL**: `http://localhost:3000`
 - **Preview URL**: `http://localhost:3000/api/preview`
 - **Preview Secret**: `preview-secret-here`
 ",False,False,Documentation / Formatting,4
chapter-three,next-drupal,6e3a4d04c5d6b6b6bc09e1197ebc09bd48b9d5e0,arshad,arshad@chummun.com,2021-10-01T16:43:33Z,arshad,arshad@chummun.com,2021-10-01T16:44:14Z,fix: remove patches from module,modules/next/composer.json,False,False,False,False,1,8,9,"---FILE: modules/next/composer.json---
@@ -6,7 +6,7 @@
   ""license"": ""GPL-2.0-or-later"",
   ""authors"": [
     {
-      ""name"": ""Arshad Chummun"",
+      ""name"": ""shadcn"",
       ""homepage"": ""https://shadcn.com""
     }
   ],
@@ -19,12 +19,5 @@
   },
   ""require-dev"": {
     ""phpunit/phpunit"": ""^6.0 || ^7.0""
-  },
-  ""extra"": {
-    ""patches"": {
-      ""drupal/subrequests"": {
-        ""Get same results on different request"": ""https://www.drupal.org/files/issues/2019-07-18/change_request_type-63049395-09.patch""
-      }
-    }
   }
 }",False,False,Data / Input Handling,3
chapter-three,next-drupal,240888e02d85d8038443d57000755aecbc911951,arshad,arshad@chummun.com,2021-10-01T16:43:24Z,arshad,arshad@chummun.com,2021-10-01T16:44:00Z,docs: remove patch section,www/docs/quick-start.mdx,False,False,False,False,0,32,32,"---FILE: www/docs/quick-start.mdx---
@@ -32,38 +32,6 @@ composer require drupal/next:1.0.x-dev
 
 Note: we are pulling the latest dev version since there are no stable releases at this moment.
 
-<Callout>
-
-#### Apply patch
-
-Under the hood, the Next.js module uses [Subrequests](https://www.drupal.org/project/subrequests) to resolve resources in [`getStaticProps`](https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation).
-
-At the time of writing, there is a [bug](https://www.drupal.org/node/3029570) in the module that causes validation to fail. We need to patch the module to fix this.
-
-1. Open `composer.json` file and add the following lines (see highlighted) under `""extra""`.
-
-```json
-""extra"": {
-  // highlight-start
-  ""patches"": {
-      ""drupal/subrequests"": {
-          ""Subrequest failed validation"": ""https://www.drupal.org/files/issues/2019-05-27/3029570-array-not-object.patch""
-      }
-  },
-  // highlight-end
-}
-```
-
-2. Run the following to apply the patch.
-
-```sh
-composer require cweagans/composer-patches
-```
-
-This will install `cweagans/composer-patches` which will apply the patch.
-
-</Callout>
-
 ### 3. Enable Next.js
 
 Visit `/admin/modules` and enable the **Next.js** and **Next.js JSON API** modules.",False,False,Documentation / Formatting,4
chapter-three,next-drupal,07532cb2e05afcf4a5ff3dc0ae7fcbe93b395128,theRuslan,TheRuslan@users.noreply.github.com,2021-09-30T09:19:42Z,GitHub,noreply@github.com,2021-09-30T09:19:42Z,"Removed patch for drupal/subrequests

Removed patch for drupal/subrequests ""Subrequest failed validation"" because it is fixed in subrequests module.",modules/next/composer.json,False,False,False,False,0,1,1,"---FILE: modules/next/composer.json---
@@ -23,7 +23,6 @@
   ""extra"": {
     ""patches"": {
       ""drupal/subrequests"": {
-        ""Subrequest failed validation"": ""https://www.drupal.org/files/issues/2019-05-27/3029570-array-not-object.patch"",
         ""Get same results on different request"": ""https://www.drupal.org/files/issues/2019-07-18/change_request_type-63049395-09.patch""
       }
     }",False,False,Data / Input Handling,3
chapter-three,next-drupal,48d52dde79f69396ef706d152c03670117b6a480,arshad,arshad@chummun.com,2021-09-25T07:05:06Z,arshad,arshad@chummun.com,2021-09-25T07:05:06Z,fix: rename repo links,README.md;examples/drupal-site/CHANGELOG.md;examples/drupal-site/composer.lock;examples/drupal-site/config/update.settings.yml;examples/example-blog/CHANGELOG.md;examples/example-marketing/CHANGELOG.md;examples/example-no-preview/CHANGELOG.md;examples/example-no-preview/src/layout.tsx;modules/next/composer.json;packages/next-drupal/CHANGELOG.md;packages/next-drupal/package.json;scripts/sync-examples.sh;scripts/sync-starters.sh;starters/basic-starter/CHANGELOG.md;starters/basic-starter/README.md;www/CHANGELOG.md;www/docs/quick-start.mdx,False,False,False,False,155,162,317,"---FILE: README.md---
@@ -4,13 +4,6 @@
   <h3 align=""center"">Next-generation front end for your Drupal site.</h3>
 </div>
 
-<p align=""center"">
-  <a href=""https://github.com/arshad/next-drupal/actions""><img src=""https://github.com/arshad/next-drupal/workflows/Drupal/badge.svg"" alt=""Drupal""></a>
-  <a href=""https://github.com/arshad/next-mdx/pulls""><img src=""https://img.shields.io/badge/PRs-welcome-brightgreen.svg"" alt=""PRs welcome!"" /></a>
-  <a href=""https://twitter.com/arshadcn""><img src=""https://img.shields.io/badge/Follow-%40arshadcn-1da1f2"" alt=""Follow @arshadcn"" /></a>
-</p>
-
-
 <p align=""center"">
   <em>Warning: this project is in early beta.</em>
 </p>

---FILE: examples/drupal-site/CHANGELOG.md---
@@ -64,52 +64,52 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 
 
-## [0.4.1](https://github.com/arshad/next-drupal/compare/drupal-site@0.4.0...drupal-site@0.4.1) (2021-06-10)
+## [0.4.1](https://github.com/chapter-three/next-drupal/compare/drupal-site@0.4.0...drupal-site@0.4.1) (2021-06-10)
 
 **Note:** Version bump only for package drupal-site
 
 
 
 
 
-# [0.4.0](https://github.com/arshad/next-drupal/compare/drupal-site@0.3.0...drupal-site@0.4.0) (2021-05-07)
+# [0.4.0](https://github.com/chapter-three/next-drupal/compare/drupal-site@0.3.0...drupal-site@0.4.0) (2021-05-07)
 
 
 ### Features
 
-* add a no-preview example ([db48c6e](https://github.com/arshad/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
+* add a no-preview example ([db48c6e](https://github.com/chapter-three/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
 
 
 
 
 
-# [0.3.0](https://github.com/arshad/next-drupal/compare/drupal-site@0.2.1...drupal-site@0.3.0) (2021-04-29)
+# [0.3.0](https://github.com/chapter-three/next-drupal/compare/drupal-site@0.2.1...drupal-site@0.3.0) (2021-04-29)
 
 
 ### Bug Fixes
 
-* update drupal site ([b998b3f](https://github.com/arshad/next-drupal/commit/b998b3f3ff9078657640b952f1cdda155afbf978))
-* update seed db ([1944076](https://github.com/arshad/next-drupal/commit/1944076e4e74ba7a5fd3b17a8e2d99f2baf6b4c4))
+* update drupal site ([b998b3f](https://github.com/chapter-three/next-drupal/commit/b998b3f3ff9078657640b952f1cdda155afbf978))
+* update seed db ([1944076](https://github.com/chapter-three/next-drupal/commit/1944076e4e74ba7a5fd3b17a8e2d99f2baf6b4c4))
 
 
 ### Features
 
-* add metatag ([039018a](https://github.com/arshad/next-drupal/commit/039018afddafb3e15c53466ea5f099b0aad7308a))
-* add next_default_content module to seed demo data ([fa7905e](https://github.com/arshad/next-drupal/commit/fa7905e216809c5325db771fca72c5ee5fc76207))
-* add next_jsonapi module and switch to subrequests ([23b1367](https://github.com/arshad/next-drupal/commit/23b136775f7c0f5ee5f386e322affc7fc8adae4f))
-* add www ([955f994](https://github.com/arshad/next-drupal/commit/955f9947a84111c0e00b86bd3b9af5e255791de8))
+* add metatag ([039018a](https://github.com/chapter-three/next-drupal/commit/039018afddafb3e15c53466ea5f099b0aad7308a))
+* add next_default_content module to seed demo data ([fa7905e](https://github.com/chapter-three/next-drupal/commit/fa7905e216809c5325db771fca72c5ee5fc76207))
+* add next_jsonapi module and switch to subrequests ([23b1367](https://github.com/chapter-three/next-drupal/commit/23b136775f7c0f5ee5f386e322affc7fc8adae4f))
+* add www ([955f994](https://github.com/chapter-three/next-drupal/commit/955f9947a84111c0e00b86bd3b9af5e255791de8))
 
 
 
 
 
-## [0.2.1](https://github.com/arshad/next-drupal/compare/drupal-site@0.2.0...drupal-site@0.2.1) (2021-02-01)
+## [0.2.1](https://github.com/chapter-three/next-drupal/compare/drupal-site@0.2.0...drupal-site@0.2.1) (2021-02-01)
 
 
 ### Bug Fixes
 
-* update config ([9a1ef90](https://github.com/arshad/next-drupal/commit/9a1ef908c58149689394616da3e0bb71d94b5acc))
-* update site ([3e72b09](https://github.com/arshad/next-drupal/commit/3e72b09fb7a658a937fcc4aff960e37b3a328a5e))
+* update config ([9a1ef90](https://github.com/chapter-three/next-drupal/commit/9a1ef908c58149689394616da3e0bb71d94b5acc))
+* update site ([3e72b09](https://github.com/chapter-three/next-drupal/commit/3e72b09fb7a658a937fcc4aff960e37b3a328a5e))
 
 
 
@@ -120,13 +120,13 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Bug Fixes
 
-* add files for article images ([e37e13a](https://github.com/arshad/next-drupal/commit/e37e13ad761cf1f92cdda1ceed178c3b52f1d302))
-* add settings.php to repo ([e90ff82](https://github.com/arshad/next-drupal/commit/e90ff82b1c2cd3400f6913d5a0424b654837e2f0))
-* update example sites ([33143d0](https://github.com/arshad/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
+* add files for article images ([e37e13a](https://github.com/chapter-three/next-drupal/commit/e37e13ad761cf1f92cdda1ceed178c3b52f1d302))
+* add settings.php to repo ([e90ff82](https://github.com/chapter-three/next-drupal/commit/e90ff82b1c2cd3400f6913d5a0424b654837e2f0))
+* update example sites ([33143d0](https://github.com/chapter-three/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
 
 
 ### Features
 
-* add example-blog ([1c24eb3](https://github.com/arshad/next-drupal/commit/1c24eb3588696fe35e2a9aa2ac20f9547b901c7c))
-* add marketing site ([8462d7c](https://github.com/arshad/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))
-* add next module to repo ([e8aa4a8](https://github.com/arshad/next-drupal/commit/e8aa4a8001a01ef0a29889f18e74cc37172199d3))
+* add example-blog ([1c24eb3](https://github.com/chapter-three/next-drupal/commit/1c24eb3588696fe35e2a9aa2ac20f9547b901c7c))
+* add marketing site ([8462d7c](https://github.com/chapter-three/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))
+* add next module to repo ([e8aa4a8](https://github.com/chapter-three/next-drupal/commit/e8aa4a8001a01ef0a29889f18e74cc37172199d3))

---FILE: examples/drupal-site/composer.lock---
@@ -3776,7 +3776,7 @@
             ""authors"": [
                 {
                     ""name"": ""Arshad Chummun"",
-                    ""homepage"": ""https://arshadcn.com""
+                    ""homepage"": ""https://shadcn.com""
                 }
             ],
             ""description"": ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",

---FILE: examples/drupal-site/config/update.settings.yml---
@@ -7,7 +7,7 @@ fetch:
   timeout: 30
 notification:
   emails:
-    - arshad@chummun.com
+    - chapter-three@chummun.com
   threshold: all
 _core:
   default_config_hash: 2QzULf0zovJQx3J06Y9rufzzfi-CY2CTTlEfJJh2Qyw

---FILE: examples/example-blog/CHANGELOG.md---
@@ -107,108 +107,108 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 
 
-# [0.7.0](https://github.com/arshad/next-drupal/compare/example-blog@0.6.0...example-blog@0.7.0) (2021-06-10)
+# [0.7.0](https://github.com/chapter-three/next-drupal/compare/example-blog@0.6.0...example-blog@0.7.0) (2021-06-10)
 
 
 ### Features
 
-* **examples:** update examples to use the new menu hook ([f9169e3](https://github.com/arshad/next-drupal/commit/f9169e34ab76584db855f1a69df027024156afff))
+* **examples:** update examples to use the new menu hook ([f9169e3](https://github.com/chapter-three/next-drupal/commit/f9169e34ab76584db855f1a69df027024156afff))
 
 
 
 
 
-# [0.6.0](https://github.com/arshad/next-drupal/compare/example-blog@0.5.0...example-blog@0.6.0) (2021-05-17)
+# [0.6.0](https://github.com/chapter-three/next-drupal/compare/example-blog@0.5.0...example-blog@0.6.0) (2021-05-17)
 
 
 ### Features
 
-* add getEntityByPath ([072ead7](https://github.com/arshad/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
+* add getEntityByPath ([072ead7](https://github.com/chapter-three/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
 
 
 
 
 
-# [0.5.0](https://github.com/arshad/next-drupal/compare/example-blog@0.4.1...example-blog@0.5.0) (2021-05-17)
+# [0.5.0](https://github.com/chapter-three/next-drupal/compare/example-blog@0.4.1...example-blog@0.5.0) (2021-05-17)
 
 
 ### Features
 
-* deserialize entities by default ([8b53ae2](https://github.com/arshad/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
+* deserialize entities by default ([8b53ae2](https://github.com/chapter-three/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
 
 
 
 
 
-## [0.4.1](https://github.com/arshad/next-drupal/compare/example-blog@0.4.0...example-blog@0.4.1) (2021-05-07)
+## [0.4.1](https://github.com/chapter-three/next-drupal/compare/example-blog@0.4.0...example-blog@0.4.1) (2021-05-07)
 
 **Note:** Version bump only for package example-blog
 
 
 
 
 
-# [0.4.0](https://github.com/arshad/next-drupal/compare/example-blog@0.3.0...example-blog@0.4.0) (2021-05-07)
+# [0.4.0](https://github.com/chapter-three/next-drupal/compare/example-blog@0.3.0...example-blog@0.4.0) (2021-05-07)
 
 
 ### Features
 
-* add a no-preview example ([db48c6e](https://github.com/arshad/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
+* add a no-preview example ([db48c6e](https://github.com/chapter-three/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
 
 
 
 
 
-# [0.3.0](https://github.com/arshad/next-drupal/compare/example-blog@0.2.1...example-blog@0.3.0) (2021-04-29)
+# [0.3.0](https://github.com/chapter-three/next-drupal/compare/example-blog@0.2.1...example-blog@0.3.0) (2021-04-29)
 
 
 ### Bug Fixes
 
-* update .env.example ([467047b](https://github.com/arshad/next-drupal/commit/467047b010f54394c52760b9db960b06ee48db61))
+* update .env.example ([467047b](https://github.com/chapter-three/next-drupal/commit/467047b010f54394c52760b9db960b06ee48db61))
 
 
 ### Features
 
-* **www:** update to reflexjs 2.0.0-alpha-5 ([3b28c84](https://github.com/arshad/next-drupal/commit/3b28c84e9b7eefd4892aaf22dea0dd2512091b93))
-* add next_jsonapi module and switch to subrequests ([23b1367](https://github.com/arshad/next-drupal/commit/23b136775f7c0f5ee5f386e322affc7fc8adae4f))
-* update examples to reflexjs 2.0.0-alpha-4 ([49816ee](https://github.com/arshad/next-drupal/commit/49816ee6ba0f669d45cee6930b449547200ce1c7))
+* **www:** update to reflexjs 2.0.0-alpha-5 ([3b28c84](https://github.com/chapter-three/next-drupal/commit/3b28c84e9b7eefd4892aaf22dea0dd2512091b93))
+* add next_jsonapi module and switch to subrequests ([23b1367](https://github.com/chapter-three/next-drupal/commit/23b136775f7c0f5ee5f386e322affc7fc8adae4f))
+* update examples to reflexjs 2.0.0-alpha-4 ([49816ee](https://github.com/chapter-three/next-drupal/commit/49816ee6ba0f669d45cee6930b449547200ce1c7))
 
 
 
 
 
-## [0.2.1](https://github.com/arshad/next-drupal/compare/example-blog@0.2.0...example-blog@0.2.1) (2021-02-02)
+## [0.2.1](https://github.com/chapter-three/next-drupal/compare/example-blog@0.2.0...example-blog@0.2.1) (2021-02-02)
 
 **Note:** Version bump only for package example-blog
 
 
 
 
 
-# [0.2.0](https://github.com/arshad/next-drupal/compare/example-blog@0.1.1...example-blog@0.2.0) (2021-02-01)
+# [0.2.0](https://github.com/chapter-three/next-drupal/compare/example-blog@0.1.1...example-blog@0.2.0) (2021-02-01)
 
 
 ### Bug Fixes
 
-* make image domain configurable via env ([9b66159](https://github.com/arshad/next-drupal/commit/9b66159561a5e0bf17b4e73c4cde318e06fe938d))
-* update examples ([e70ed45](https://github.com/arshad/next-drupal/commit/e70ed459294cb8945f42d04cf7bd20a54ab9fe77))
-* **example-blog:** remove Flex component ([c4d34b2](https://github.com/arshad/next-drupal/commit/c4d34b2ff773b39e013becbcabcc58ebf24a80fd))
+* make image domain configurable via env ([9b66159](https://github.com/chapter-three/next-drupal/commit/9b66159561a5e0bf17b4e73c4cde318e06fe938d))
+* update examples ([e70ed45](https://github.com/chapter-three/next-drupal/commit/e70ed459294cb8945f42d04cf7bd20a54ab9fe77))
+* **example-blog:** remove Flex component ([c4d34b2](https://github.com/chapter-three/next-drupal/commit/c4d34b2ff773b39e013becbcabcc58ebf24a80fd))
 
 
 ### Features
 
-* implement filter by entity reference ([eeade94](https://github.com/arshad/next-drupal/commit/eeade9485caaff587735d5d8211a86a88ca8847f))
+* implement filter by entity reference ([eeade94](https://github.com/chapter-three/next-drupal/commit/eeade9485caaff587735d5d8211a86a88ca8847f))
 
 
 
 
 
-## [0.1.1](https://github.com/arshad/next-drupal/compare/example-blog@0.1.0...example-blog@0.1.1) (2021-02-01)
+## [0.1.1](https://github.com/chapter-three/next-drupal/compare/example-blog@0.1.0...example-blog@0.1.1) (2021-02-01)
 
 
 ### Bug Fixes
 
-* update example sites ([33143d0](https://github.com/arshad/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
+* update example sites ([33143d0](https://github.com/chapter-three/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
 
 
 
@@ -219,5 +219,5 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Features
 
-* add example-blog ([1c24eb3](https://github.com/arshad/next-drupal/commit/1c24eb3588696fe35e2a9aa2ac20f9547b901c7c))
-* add marketing site ([8462d7c](https://github.com/arshad/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))
+* add example-blog ([1c24eb3](https://github.com/chapter-three/next-drupal/commit/1c24eb3588696fe35e2a9aa2ac20f9547b901c7c))
+* add marketing site ([8462d7c](https://github.com/chapter-three/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))

---FILE: examples/example-marketing/CHANGELOG.md---
@@ -130,106 +130,106 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 
 
-# [0.7.0](https://github.com/arshad/next-drupal/compare/example-marketing@0.6.0...example-marketing@0.7.0) (2021-06-10)
+# [0.7.0](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.6.0...example-marketing@0.7.0) (2021-06-10)
 
 
 ### Features
 
-* **examples:** update examples to use the new menu hook ([f9169e3](https://github.com/arshad/next-drupal/commit/f9169e34ab76584db855f1a69df027024156afff))
+* **examples:** update examples to use the new menu hook ([f9169e3](https://github.com/chapter-three/next-drupal/commit/f9169e34ab76584db855f1a69df027024156afff))
 
 
 
 
 
-# [0.6.0](https://github.com/arshad/next-drupal/compare/example-marketing@0.5.0...example-marketing@0.6.0) (2021-05-17)
+# [0.6.0](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.5.0...example-marketing@0.6.0) (2021-05-17)
 
 
 ### Features
 
-* add getEntityByPath ([072ead7](https://github.com/arshad/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
+* add getEntityByPath ([072ead7](https://github.com/chapter-three/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
 
 
 
 
 
-# [0.5.0](https://github.com/arshad/next-drupal/compare/example-marketing@0.4.1...example-marketing@0.5.0) (2021-05-17)
+# [0.5.0](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.4.1...example-marketing@0.5.0) (2021-05-17)
 
 
 ### Features
 
-* deserialize entities by default ([8b53ae2](https://github.com/arshad/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
+* deserialize entities by default ([8b53ae2](https://github.com/chapter-three/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
 
 
 
 
 
-## [0.4.1](https://github.com/arshad/next-drupal/compare/example-marketing@0.4.0...example-marketing@0.4.1) (2021-05-07)
+## [0.4.1](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.4.0...example-marketing@0.4.1) (2021-05-07)
 
 **Note:** Version bump only for package example-marketing
 
 
 
 
 
-# [0.4.0](https://github.com/arshad/next-drupal/compare/example-marketing@0.3.0...example-marketing@0.4.0) (2021-05-07)
+# [0.4.0](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.3.0...example-marketing@0.4.0) (2021-05-07)
 
 
 ### Features
 
-* add a no-preview example ([db48c6e](https://github.com/arshad/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
+* add a no-preview example ([db48c6e](https://github.com/chapter-three/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
 
 
 
 
 
-# [0.3.0](https://github.com/arshad/next-drupal/compare/example-marketing@0.2.1...example-marketing@0.3.0) (2021-04-29)
+# [0.3.0](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.2.1...example-marketing@0.3.0) (2021-04-29)
 
 
 ### Bug Fixes
 
-* update .env.example ([467047b](https://github.com/arshad/next-drupal/commit/467047b010f54394c52760b9db960b06ee48db61))
+* update .env.example ([467047b](https://github.com/chapter-three/next-drupal/commit/467047b010f54394c52760b9db960b06ee48db61))
 
 
 ### Features
 
-* **www:** update to reflexjs 2.0.0-alpha-5 ([3b28c84](https://github.com/arshad/next-drupal/commit/3b28c84e9b7eefd4892aaf22dea0dd2512091b93))
-* update examples to reflexjs 2.0.0-alpha-4 ([49816ee](https://github.com/arshad/next-drupal/commit/49816ee6ba0f669d45cee6930b449547200ce1c7))
+* **www:** update to reflexjs 2.0.0-alpha-5 ([3b28c84](https://github.com/chapter-three/next-drupal/commit/3b28c84e9b7eefd4892aaf22dea0dd2512091b93))
+* update examples to reflexjs 2.0.0-alpha-4 ([49816ee](https://github.com/chapter-three/next-drupal/commit/49816ee6ba0f669d45cee6930b449547200ce1c7))
 
 
 
 
 
-## [0.2.1](https://github.com/arshad/next-drupal/compare/example-marketing@0.2.0...example-marketing@0.2.1) (2021-02-02)
+## [0.2.1](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.2.0...example-marketing@0.2.1) (2021-02-02)
 
 **Note:** Version bump only for package example-marketing
 
 
 
 
 
-# [0.2.0](https://github.com/arshad/next-drupal/compare/example-marketing@0.1.1...example-marketing@0.2.0) (2021-02-01)
+# [0.2.0](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.1.1...example-marketing@0.2.0) (2021-02-01)
 
 
 ### Bug Fixes
 
-* make image domain configurable via env ([9b66159](https://github.com/arshad/next-drupal/commit/9b66159561a5e0bf17b4e73c4cde318e06fe938d))
-* update examples ([e70ed45](https://github.com/arshad/next-drupal/commit/e70ed459294cb8945f42d04cf7bd20a54ab9fe77))
+* make image domain configurable via env ([9b66159](https://github.com/chapter-three/next-drupal/commit/9b66159561a5e0bf17b4e73c4cde318e06fe938d))
+* update examples ([e70ed45](https://github.com/chapter-three/next-drupal/commit/e70ed459294cb8945f42d04cf7bd20a54ab9fe77))
 
 
 ### Features
 
-* implement filter by entity reference ([eeade94](https://github.com/arshad/next-drupal/commit/eeade9485caaff587735d5d8211a86a88ca8847f))
+* implement filter by entity reference ([eeade94](https://github.com/chapter-three/next-drupal/commit/eeade9485caaff587735d5d8211a86a88ca8847f))
 
 
 
 
 
-## [0.1.1](https://github.com/arshad/next-drupal/compare/example-marketing@0.1.0...example-marketing@0.1.1) (2021-02-01)
+## [0.1.1](https://github.com/chapter-three/next-drupal/compare/example-marketing@0.1.0...example-marketing@0.1.1) (2021-02-01)
 
 
 ### Bug Fixes
 
-* update example sites ([33143d0](https://github.com/arshad/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
+* update example sites ([33143d0](https://github.com/chapter-three/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
 
 
 
@@ -240,4 +240,4 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Features
 
-* add marketing site ([8462d7c](https://github.com/arshad/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))
+* add marketing site ([8462d7c](https://github.com/chapter-three/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))

---FILE: examples/example-no-preview/CHANGELOG.md---
@@ -91,34 +91,34 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 
 
-## [0.2.2](https://github.com/arshad/next-drupal/compare/example-no-preview@0.2.1...example-no-preview@0.2.2) (2021-06-10)
+## [0.2.2](https://github.com/chapter-three/next-drupal/compare/example-no-preview@0.2.1...example-no-preview@0.2.2) (2021-06-10)
 
 **Note:** Version bump only for package example-no-preview
 
 
 
 
 
-## [0.2.1](https://github.com/arshad/next-drupal/compare/example-no-preview@0.2.0...example-no-preview@0.2.1) (2021-05-17)
+## [0.2.1](https://github.com/chapter-three/next-drupal/compare/example-no-preview@0.2.0...example-no-preview@0.2.1) (2021-05-17)
 
 **Note:** Version bump only for package example-no-preview
 
 
 
 
 
-# [0.2.0](https://github.com/arshad/next-drupal/compare/example-no-preview@0.1.1...example-no-preview@0.2.0) (2021-05-17)
+# [0.2.0](https://github.com/chapter-three/next-drupal/compare/example-no-preview@0.1.1...example-no-preview@0.2.0) (2021-05-17)
 
 
 ### Features
 
-* deserialize entities by default ([8b53ae2](https://github.com/arshad/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
+* deserialize entities by default ([8b53ae2](https://github.com/chapter-three/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
 
 
 
 
 
-## [0.1.1](https://github.com/arshad/next-drupal/compare/example-no-preview@0.1.0...example-no-preview@0.1.1) (2021-05-07)
+## [0.1.1](https://github.com/chapter-three/next-drupal/compare/example-no-preview@0.1.0...example-no-preview@0.1.1) (2021-05-07)
 
 **Note:** Version bump only for package example-no-preview
 
@@ -131,4 +131,4 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Features
 
-* add a no-preview example ([db48c6e](https://github.com/arshad/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))
+* add a no-preview example ([db48c6e](https://github.com/chapter-three/next-drupal/commit/db48c6e90ae5100eafb25d3b5688b5ef8131c477))

---FILE: examples/example-no-preview/src/layout.tsx---
@@ -16,7 +16,7 @@ export function Layout({ children }) {
                 </Link>
               </li>
               <li>
-                <Link href=""https://github.com/arshad/next-drupal"">
+                <Link href=""https://github.com/chapter-three/next-drupal"">
                   <a target=""_blank"">GitHub</a>
                 </Link>
               </li>

---FILE: modules/next/composer.json---
@@ -7,7 +7,7 @@
   ""authors"": [
     {
       ""name"": ""Arshad Chummun"",
-      ""homepage"": ""https://arshadcn.com""
+      ""homepage"": ""https://shadcn.com""
     }
   ],
   ""require"": {

---FILE: packages/next-drupal/CHANGELOG.md---
@@ -3,237 +3,237 @@
 All notable changes to this project will be documented in this file.
 See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.
 
-# [0.15.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.14.0...next-drupal@0.15.0) (2021-08-11)
+# [0.15.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.14.0...next-drupal@0.15.0) (2021-08-11)
 
 
 ### Bug Fixes
 
-* **next-drupal:** add check for undefined vars ([a9c7d17](https://github.com/arshad/next-drupal/commit/a9c7d170ab72f4c9b2b187c7236bcd1d317da24d))
+* **next-drupal:** add check for undefined vars ([a9c7d17](https://github.com/chapter-three/next-drupal/commit/a9c7d170ab72f4c9b2b187c7236bcd1d317da24d))
 
 
 ### Features
 
-* **next-drupal:** implement syncDrupalPreviewRoutes util ([b7faf40](https://github.com/arshad/next-drupal/commit/b7faf405e2f28bc279d1110afcddb44074689746))
+* **next-drupal:** implement syncDrupalPreviewRoutes util ([b7faf40](https://github.com/chapter-three/next-drupal/commit/b7faf405e2f28bc279d1110afcddb44074689746))
 
 
 
 
 
-# [0.14.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.13.0...next-drupal@0.14.0) (2021-08-07)
+# [0.14.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.13.0...next-drupal@0.14.0) (2021-08-07)
 
 
 ### Features
 
-* **next-drupal:** make access token configurable ([e732578](https://github.com/arshad/next-drupal/commit/e732578940e6da14da069dc67794a935cd9daa19))
+* **next-drupal:** make access token configurable ([e732578](https://github.com/chapter-three/next-drupal/commit/e732578940e6da14da069dc67794a935cd9daa19))
 
 
 
 
 
-# [0.13.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.12.0...next-drupal@0.13.0) (2021-06-22)
+# [0.13.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.12.0...next-drupal@0.13.0) (2021-06-22)
 
 
 ### Bug Fixes
 
-* **next-drupal:** handle cases where previewData is not properly set ([cf2d4d1](https://github.com/arshad/next-drupal/commit/cf2d4d106b8a170e150e040a7496bb1f08caa64f))
-* **next-drupal:** typo ([abcd28e](https://github.com/arshad/next-drupal/commit/abcd28ece952335d4d72352ef3b05b5207b6ca55))
+* **next-drupal:** handle cases where previewData is not properly set ([cf2d4d1](https://github.com/chapter-three/next-drupal/commit/cf2d4d106b8a170e150e040a7496bb1f08caa64f))
+* **next-drupal:** typo ([abcd28e](https://github.com/chapter-three/next-drupal/commit/abcd28ece952335d4d72352ef3b05b5207b6ca55))
 
 
 ### Features
 
-* **next-drupal:** handle locale info in preview ([ed00703](https://github.com/arshad/next-drupal/commit/ed00703a8ccf382b073993eab1a4f2c0f741effa))
+* **next-drupal:** handle locale info in preview ([ed00703](https://github.com/chapter-three/next-drupal/commit/ed00703a8ccf382b073993eab1a4f2c0f741effa))
 
 
 
 
 
-# [0.12.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.11.1...next-drupal@0.12.0) (2021-06-16)
+# [0.12.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.11.1...next-drupal@0.12.0) (2021-06-16)
 
 
 ### Features
 
-* update to nextjs 11 ([1e46e44](https://github.com/arshad/next-drupal/commit/1e46e44ab5eb9d961e95dcc87d51282178f02bb2))
+* update to nextjs 11 ([1e46e44](https://github.com/chapter-three/next-drupal/commit/1e46e44ab5eb9d961e95dcc87d51282178f02bb2))
 
 
 
 
 
-## [0.11.1](https://github.com/arshad/next-drupal/compare/next-drupal@0.11.0...next-drupal@0.11.1) (2021-06-16)
+## [0.11.1](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.11.0...next-drupal@0.11.1) (2021-06-16)
 
 
 ### Bug Fixes
 
-* **next-drupal:** return view page links and count ([4236043](https://github.com/arshad/next-drupal/commit/42360434ac29ef857580ebfb423269c9705ebf04))
+* **next-drupal:** return view page links and count ([4236043](https://github.com/chapter-three/next-drupal/commit/42360434ac29ef857580ebfb423269c9705ebf04))
 
 
 
 
 
-# [0.11.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.10.0...next-drupal@0.11.0) (2021-06-15)
+# [0.11.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.10.0...next-drupal@0.11.0) (2021-06-15)
 
 
 ### Features
 
-* **next-drupal:** add support for jsonapi_views ([4195ee7](https://github.com/arshad/next-drupal/commit/4195ee7687b41f8a88de19d7aa5ccd200d11abb7))
+* **next-drupal:** add support for jsonapi_views ([4195ee7](https://github.com/chapter-three/next-drupal/commit/4195ee7687b41f8a88de19d7aa5ccd200d11abb7))
 
 
 
 
 
-# [0.10.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.9.2...next-drupal@0.10.0) (2021-06-14)
+# [0.10.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.9.2...next-drupal@0.10.0) (2021-06-14)
 
 
 ### Bug Fixes
 
-* **next-drupal:** update handling of locale ([56364ce](https://github.com/arshad/next-drupal/commit/56364ce6f3f2aaef2d0d48a8fe544c1c03fba418))
-* **next-drupal:** update useMenu ([9463bd1](https://github.com/arshad/next-drupal/commit/9463bd174b71172eebaa98c91475b64245f16934))
+* **next-drupal:** update handling of locale ([56364ce](https://github.com/chapter-three/next-drupal/commit/56364ce6f3f2aaef2d0d48a8fe544c1c03fba418))
+* **next-drupal:** update useMenu ([9463bd1](https://github.com/chapter-three/next-drupal/commit/9463bd174b71172eebaa98c91475b64245f16934))
 
 
 ### Features
 
-* **next-drupal:** add locale dependency to useMenu ([d9bb031](https://github.com/arshad/next-drupal/commit/d9bb03136884b5a2ac109ccbef77a3984fc21247))
+* **next-drupal:** add locale dependency to useMenu ([d9bb031](https://github.com/chapter-three/next-drupal/commit/d9bb03136884b5a2ac109ccbef77a3984fc21247))
 
 
 
 
 
-## [0.9.2](https://github.com/arshad/next-drupal/compare/next-drupal@0.9.1...next-drupal@0.9.2) (2021-06-13)
+## [0.9.2](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.9.1...next-drupal@0.9.2) (2021-06-13)
 
 
 ### Bug Fixes
 
-* update locale support for translated path ([4fad345](https://github.com/arshad/next-drupal/commit/4fad3457e8e8d6205122c29783c2aff67aa4fbe6))
+* update locale support for translated path ([4fad345](https://github.com/chapter-three/next-drupal/commit/4fad3457e8e8d6205122c29783c2aff67aa4fbe6))
 
 
 
 
 
-## [0.9.1](https://github.com/arshad/next-drupal/compare/next-drupal@0.9.0...next-drupal@0.9.1) (2021-06-13)
+## [0.9.1](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.9.0...next-drupal@0.9.1) (2021-06-13)
 
 
 ### Bug Fixes
 
-* **next-drupal:** let site handle published status ([c1fc90a](https://github.com/arshad/next-drupal/commit/c1fc90a5c3e7fea7e3b1e2d06504f67669dbc57e))
+* **next-drupal:** let site handle published status ([c1fc90a](https://github.com/chapter-three/next-drupal/commit/c1fc90a5c3e7fea7e3b1e2d06504f67669dbc57e))
 
 
 
 
 
-# [0.9.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.8.0...next-drupal@0.9.0) (2021-06-13)
+# [0.9.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.8.0...next-drupal@0.9.0) (2021-06-13)
 
 
 ### Features
 
-* **next-drupal:** add getResource and preview handlers ([b32410f](https://github.com/arshad/next-drupal/commit/b32410fce47567a22210eca61987bb635cacaeb5))
+* **next-drupal:** add getResource and preview handlers ([b32410f](https://github.com/chapter-three/next-drupal/commit/b32410fce47567a22210eca61987bb635cacaeb5))
 
 
 
 
 
-# [0.8.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.7.0...next-drupal@0.8.0) (2021-06-11)
+# [0.8.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.7.0...next-drupal@0.8.0) (2021-06-11)
 
 
 ### Bug Fixes
 
-* remove console ([56a4c3e](https://github.com/arshad/next-drupal/commit/56a4c3eb5b95b90cb5a513653c05a09abbf3a213))
+* remove console ([56a4c3e](https://github.com/chapter-three/next-drupal/commit/56a4c3eb5b95b90cb5a513653c05a09abbf3a213))
 
 
 ### Features
 
-* update all sites ([ca9b2e9](https://github.com/arshad/next-drupal/commit/ca9b2e964c5a7fe591602465f2c2516eb4a54a1b))
+* update all sites ([ca9b2e9](https://github.com/chapter-three/next-drupal/commit/ca9b2e964c5a7fe591602465f2c2516eb4a54a1b))
 
 
 
 
 
-# [0.7.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.6.0...next-drupal@0.7.0) (2021-06-10)
+# [0.7.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.6.0...next-drupal@0.7.0) (2021-06-10)
 
 
 ### Features
 
-* **next-drupal:** add menu support ([95b4a84](https://github.com/arshad/next-drupal/commit/95b4a8422bc092ca60b75e8c85504d2919834df5))
+* **next-drupal:** add menu support ([95b4a84](https://github.com/chapter-three/next-drupal/commit/95b4a8422bc092ca60b75e8c85504d2919834df5))
 
 
 
 
 
-# [0.6.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.5.0...next-drupal@0.6.0) (2021-05-17)
+# [0.6.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.5.0...next-drupal@0.6.0) (2021-05-17)
 
 
 ### Features
 
-* add getEntityByPath ([072ead7](https://github.com/arshad/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
+* add getEntityByPath ([072ead7](https://github.com/chapter-three/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
 
 
 
 
 
-# [0.5.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.4.1...next-drupal@0.5.0) (2021-05-17)
+# [0.5.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.4.1...next-drupal@0.5.0) (2021-05-17)
 
 
 ### Features
 
-* deserialize entities by default ([8b53ae2](https://github.com/arshad/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
+* deserialize entities by default ([8b53ae2](https://github.com/chapter-three/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
 
 
 
 
 
-## [0.4.1](https://github.com/arshad/next-drupal/compare/next-drupal@0.4.0...next-drupal@0.4.1) (2021-05-07)
+## [0.4.1](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.4.0...next-drupal@0.4.1) (2021-05-07)
 
 **Note:** Version bump only for package next-drupal
 
 
 
 
 
-# [0.4.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.3.0...next-drupal@0.4.0) (2021-05-07)
+# [0.4.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.3.0...next-drupal@0.4.0) (2021-05-07)
 
 
 ### Features
 
-* allow sites with no access_token ([50cc84a](https://github.com/arshad/next-drupal/commit/50cc84a73ca694691ad93d020f40fe86ffdf8798))
+* allow sites with no access_token ([50cc84a](https://github.com/chapter-three/next-drupal/commit/50cc84a73ca694691ad93d020f40fe86ffdf8798))
 
 
 
 
 
-# [0.3.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.2.1...next-drupal@0.3.0) (2021-04-29)
+# [0.3.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.2.1...next-drupal@0.3.0) (2021-04-29)
 
 
 ### Features
 
-* add next_jsonapi module and switch to subrequests ([23b1367](https://github.com/arshad/next-drupal/commit/23b136775f7c0f5ee5f386e322affc7fc8adae4f))
+* add next_jsonapi module and switch to subrequests ([23b1367](https://github.com/chapter-three/next-drupal/commit/23b136775f7c0f5ee5f386e322affc7fc8adae4f))
 
 
 
 
 
-## [0.2.1](https://github.com/arshad/next-drupal/compare/next-drupal@0.2.0...next-drupal@0.2.1) (2021-02-02)
+## [0.2.1](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.2.0...next-drupal@0.2.1) (2021-02-02)
 
 **Note:** Version bump only for package next-drupal
 
 
 
 
 
-# [0.2.0](https://github.com/arshad/next-drupal/compare/next-drupal@0.1.1...next-drupal@0.2.0) (2021-02-01)
+# [0.2.0](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.1.1...next-drupal@0.2.0) (2021-02-01)
 
 
 ### Features
 
-* implement filter by entity reference ([eeade94](https://github.com/arshad/next-drupal/commit/eeade9485caaff587735d5d8211a86a88ca8847f))
+* implement filter by entity reference ([eeade94](https://github.com/chapter-three/next-drupal/commit/eeade9485caaff587735d5d8211a86a88ca8847f))
 
 
 
 
 
-## [0.1.1](https://github.com/arshad/next-drupal/compare/next-drupal@0.1.0...next-drupal@0.1.1) (2021-02-01)
+## [0.1.1](https://github.com/chapter-three/next-drupal/compare/next-drupal@0.1.0...next-drupal@0.1.1) (2021-02-01)
 
 
 ### Bug Fixes
 
-* update example sites ([33143d0](https://github.com/arshad/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
+* update example sites ([33143d0](https://github.com/chapter-three/next-drupal/commit/33143d0d5229be6424c41ace2ad846c0d85447d9))
 
 
 
@@ -244,10 +244,10 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Bug Fixes
 
-* return null if no body passed ([327fb7e](https://github.com/arshad/next-drupal/commit/327fb7ea0996eb5ecefa416630d11c9597c5f4be))
+* return null if no body passed ([327fb7e](https://github.com/chapter-three/next-drupal/commit/327fb7ea0996eb5ecefa416630d11c9597c5f4be))
 
 
 ### Features
 
-* add example-blog ([1c24eb3](https://github.com/arshad/next-drupal/commit/1c24eb3588696fe35e2a9aa2ac20f9547b901c7c))
-* add marketing site ([8462d7c](https://github.com/arshad/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))
+* add example-blog ([1c24eb3](https://github.com/chapter-three/next-drupal/commit/1c24eb3588696fe35e2a9aa2ac20f9547b901c7c))
+* add marketing site ([8462d7c](https://github.com/chapter-three/next-drupal/commit/8462d7cfcf623a9e8ca03456ebed0bb6ab838e11))

---FILE: packages/next-drupal/package.json---
@@ -23,12 +23,12 @@
     ""preview""
   ],
   ""bugs"": {
-    ""url"": ""https://github.com/arshad/next-drupal/issues""
+    ""url"": ""https://github.com/chapter-three/next-drupal/issues""
   },
-  ""homepage"": ""https://github.com/arshad/next-drupal"",
+  ""homepage"": ""https://github.com/chapter-three/next-drupal"",
   ""repository"": {
     ""type"": ""git"",
-    ""url"": ""https://github.com/arshad/next-drupal.git"",
+    ""url"": ""https://github.com/chapter-three/next-drupal.git"",
     ""directory"": ""packages/next-drupal""
   },
   ""peerDependencies"": {

---FILE: scripts/sync-examples.sh---
@@ -17,7 +17,7 @@ for folder in $GLOB; do
   # clone, delete files in the clone, and copy (new) files over
   # this handles file deletions, additions, and changes seamlessly
   # note: redirect output to dev/null to avoid any possibility of leaking token
-  git clone --quiet --depth 1 https://github.com/arshad/next-${NAME}.git $CLONE_DIR > /dev/null
+  git clone --quiet --depth 1 https://github.com/chapter-three/next-${NAME}.git $CLONE_DIR > /dev/null
   cd $CLONE_DIR
   find . | grep -v "".git"" | grep -v ""^\.*$"" | xargs rm -rf # delete all files (to handle deletions in monorepo)
   cp -r $BASE/$folder/. .

---FILE: scripts/sync-starters.sh---
@@ -17,7 +17,7 @@ for folder in $GLOB; do
   # clone, delete files in the clone, and copy (new) files over
   # this handles file deletions, additions, and changes seamlessly
   # note: redirect output to dev/null to avoid any possibility of leaking token
-  git clone --quiet --depth 1 https://github.com/arshad/next-drupal-${NAME}.git $CLONE_DIR > /dev/null
+  git clone --quiet --depth 1 https://github.com/chapter-three/next-drupal-${NAME}.git $CLONE_DIR > /dev/null
   cd $CLONE_DIR
   find . | grep -v "".git"" | grep -v ""^\.*$"" | xargs rm -rf # delete all files (to handle deletions in monorepo)
   cp -r $BASE/$folder/. .

---FILE: starters/basic-starter/CHANGELOG.md---
@@ -99,31 +99,31 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 
 
-## [0.3.1](https://github.com/arshad/next-drupal/compare/basic-starter@0.3.0...basic-starter@0.3.1) (2021-06-10)
+## [0.3.1](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.3.0...basic-starter@0.3.1) (2021-06-10)
 
 **Note:** Version bump only for package basic-starter
 
 
 
 
 
-# [0.3.0](https://github.com/arshad/next-drupal/compare/basic-starter@0.2.0...basic-starter@0.3.0) (2021-05-17)
+# [0.3.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.2.0...basic-starter@0.3.0) (2021-05-17)
 
 
 ### Features
 
-* add getEntityByPath ([072ead7](https://github.com/arshad/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
+* add getEntityByPath ([072ead7](https://github.com/chapter-three/next-drupal/commit/072ead7ecc3b7f158e4b81e03d17f0bf1a5b511c))
 
 
 
 
 
-# [0.2.0](https://github.com/arshad/next-drupal/compare/basic-starter@0.1.0...basic-starter@0.2.0) (2021-05-17)
+# [0.2.0](https://github.com/chapter-three/next-drupal/compare/basic-starter@0.1.0...basic-starter@0.2.0) (2021-05-17)
 
 
 ### Features
 
-* deserialize entities by default ([8b53ae2](https://github.com/arshad/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
+* deserialize entities by default ([8b53ae2](https://github.com/chapter-three/next-drupal/commit/8b53ae222717b8983568194373be04903944a032))
 
 
 
@@ -134,4 +134,4 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Features
 
-* add basic-starter ([92b746a](https://github.com/arshad/next-drupal/commit/92b746aef6b59d893cb3c2f49d35d7dcc733c7c8))
+* add basic-starter ([92b746a](https://github.com/chapter-three/next-drupal/commit/92b746aef6b59d893cb3c2f49d35d7dcc733c7c8))

---FILE: starters/basic-starter/README.md---
@@ -4,7 +4,7 @@ A simple starter for building your site with Next.js and Drupal.
 
 ## How to use
 
-`npx create-next-app -e https://github.com/arshad/next-drupal-basic-starter`
+`npx create-next-app -e https://github.com/chapter-three/next-drupal-basic-starter`
 
 ## Documentation
 

---FILE: www/CHANGELOG.md---
@@ -41,7 +41,7 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 
 
-## [0.1.1](https://github.com/arshad/next-drupal/compare/www@0.1.0...www@0.1.1) (2021-05-17)
+## [0.1.1](https://github.com/chapter-three/next-drupal/compare/www@0.1.0...www@0.1.1) (2021-05-17)
 
 **Note:** Version bump only for package www
 
@@ -54,29 +54,29 @@ See [Conventional Commits](https://conventionalcommits.org) for commit guideline
 
 ### Bug Fixes
 
-* **www:** c'mon vscode ([548610c](https://github.com/arshad/next-drupal/commit/548610c6bb2a19fbdab756c97016f74973049043))
-* **www:** fix activePathNames ([a9cdf21](https://github.com/arshad/next-drupal/commit/a9cdf21493a55245141dd1e28e731198227c4f2d))
-* **www:** fix typo ([66ea0c3](https://github.com/arshad/next-drupal/commit/66ea0c3697b5b7373a7e1cabade048e706c161bb))
-* **www:** make site configurable ([e1ca7df](https://github.com/arshad/next-drupal/commit/e1ca7dfc668d9a58753ddd22a4e5d8f0393fc60c))
-* **www:** update .gitignore ([e003477](https://github.com/arshad/next-drupal/commit/e003477f534f5effd1b60bc8a5463da953025a97))
-* **www:** update core theme ([54549d8](https://github.com/arshad/next-drupal/commit/54549d8c471002f4f8c3f8412a6b55f2feee94a5))
-* **www:** update meta ([3446878](https://github.com/arshad/next-drupal/commit/3446878737869d8d531bd6a186bbd12576b461f7))
-* **www:** update meta tags ([d957b97](https://github.com/arshad/next-drupal/commit/d957b97c4fd0376091d344835a9eb7fad4a0aa31))
-* **www:** update navbar ([e90dba6](https://github.com/arshad/next-drupal/commit/e90dba612c3786bcc982082269cb13238f9e5c9a))
-* **www:** update next.config.js ([5de3c3f](https://github.com/arshad/next-drupal/commit/5de3c3fb06f73e7c9ce05d03c036f326249b8aac))
-* **www:** update notice color ([4795cb5](https://github.com/arshad/next-drupal/commit/4795cb5aa0fde2ee762eff4cad771366145e3eec))
-* **www:** update site ([b5ffd8e](https://github.com/arshad/next-drupal/commit/b5ffd8e9bfdf1037bb27729d1edf1dc3f0e48b06))
+* **www:** c'mon vscode ([548610c](https://github.com/chapter-three/next-drupal/commit/548610c6bb2a19fbdab756c97016f74973049043))
+* **www:** fix activePathNames ([a9cdf21](https://github.com/chapter-three/next-drupal/commit/a9cdf21493a55245141dd1e28e731198227c4f2d))
+* **www:** fix typo ([66ea0c3](https://github.com/chapter-three/next-drupal/commit/66ea0c3697b5b7373a7e1cabade048e706c161bb))
+* **www:** make site configurable ([e1ca7df](https://github.com/chapter-three/next-drupal/commit/e1ca7dfc668d9a58753ddd22a4e5d8f0393fc60c))
+* **www:** update .gitignore ([e003477](https://github.com/chapter-three/next-drupal/commit/e003477f534f5effd1b60bc8a5463da953025a97))
+* **www:** update core theme ([54549d8](https://github.com/chapter-three/next-drupal/commit/54549d8c471002f4f8c3f8412a6b55f2feee94a5))
+* **www:** update meta ([3446878](https://github.com/chapter-three/next-drupal/commit/3446878737869d8d531bd6a186bbd12576b461f7))
+* **www:** update meta tags ([d957b97](https://github.com/chapter-three/next-drupal/commit/d957b97c4fd0376091d344835a9eb7fad4a0aa31))
+* **www:** update navbar ([e90dba6](https://github.com/chapter-three/next-drupal/commit/e90dba612c3786bcc982082269cb13238f9e5c9a))
+* **www:** update next.config.js ([5de3c3f](https://github.com/chapter-three/next-drupal/commit/5de3c3fb06f73e7c9ce05d03c036f326249b8aac))
+* **www:** update notice color ([4795cb5](https://github.com/chapter-three/next-drupal/commit/4795cb5aa0fde2ee762eff4cad771366145e3eec))
+* **www:** update site ([b5ffd8e](https://github.com/chapter-three/next-drupal/commit/b5ffd8e9bfdf1037bb27729d1edf1dc3f0e48b06))
 
 
 ### Features
 
-* **www:** add logo ([089521b](https://github.com/arshad/next-drupal/commit/089521b0d231e27aa052e8b64e447c994b8b2ac5))
-* **www:** add search shortcut ([21251f9](https://github.com/arshad/next-drupal/commit/21251f91079ebebbd0e6e9c9f451a1590d8ed82e))
-* **www:** update core ([697b894](https://github.com/arshad/next-drupal/commit/697b894ea5adc4c8f5bfec167fa877ea12b6de68))
-* **www:** update to reflexjs 2.0.0-alpha-5 ([3b28c84](https://github.com/arshad/next-drupal/commit/3b28c84e9b7eefd4892aaf22dea0dd2512091b93))
-* add www ([955f994](https://github.com/arshad/next-drupal/commit/955f9947a84111c0e00b86bd3b9af5e255791de8))
+* **www:** add logo ([089521b](https://github.com/chapter-three/next-drupal/commit/089521b0d231e27aa052e8b64e447c994b8b2ac5))
+* **www:** add search shortcut ([21251f9](https://github.com/chapter-three/next-drupal/commit/21251f91079ebebbd0e6e9c9f451a1590d8ed82e))
+* **www:** update core ([697b894](https://github.com/chapter-three/next-drupal/commit/697b894ea5adc4c8f5bfec167fa877ea12b6de68))
+* **www:** update to reflexjs 2.0.0-alpha-5 ([3b28c84](https://github.com/chapter-three/next-drupal/commit/3b28c84e9b7eefd4892aaf22dea0dd2512091b93))
+* add www ([955f994](https://github.com/chapter-three/next-drupal/commit/955f9947a84111c0e00b86bd3b9af5e255791de8))
 
 
 ### Performance Improvements
 
-* optimizations ([b1b0450](https://github.com/arshad/next-drupal/commit/b1b04504f797feae32486db1a724b2ff58c3b091))
+* optimizations ([b1b0450](https://github.com/chapter-three/next-drupal/commit/b1b04504f797feae32486db1a724b2ff58c3b091))

---FILE: www/docs/quick-start.mdx---
@@ -191,7 +191,7 @@ We are going to use the [basic starter](https://github.com/chapter-three/next-dr
 Run the following command to create a new Next.js site:
 
 ```sh
-npx create-next-app -e https://github.com/arshad/next-drupal-basic-starter
+npx create-next-app -e https://github.com/chapter-three/next-drupal-basic-starter
 ```
 
 ### 2. Connect Drupal
@@ -231,6 +231,6 @@ It is built this way for flexibility. With the current setup, you can easily con
 
 You maintain control on which content is pushed to which sites and how.
 
-If you need help, feel free to create an issue on [GitHub](https://github.com/arshad/next-drupal).
+If you need help, feel free to create an issue on [GitHub](https://github.com/chapter-three/next-drupal).
 
-You can also reach out on [Twitter](https://twitter.com/arshadcn).
+You can also reach out on [Twitter](https://twitter.com/shadcn).",False,False,Documentation / Formatting,6
chapter-three,next-drupal,ea465044bec1865bab850f588e856be2fcaaf34c,arshad,arshad@chummun.com,2021-09-10T08:40:49Z,arshad,arshad@chummun.com,2021-09-10T08:40:49Z,fix(basic-starter): update next,starters/basic-starter/package.json;yarn.lock,False,False,False,False,76,32,108,"---FILE: starters/basic-starter/package.json---
@@ -9,7 +9,7 @@
   },
   ""dependencies"": {
     ""@tailwindcss/typography"": ""^0.4.1"",
-    ""next"": ""^11.1.0"",
+    ""next"": ""^11.1.2"",
     ""next-drupal"": ""^0.15.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2""

---FILE: yarn.lock---
@@ -1777,6 +1777,13 @@
   dependencies:
     regenerator-runtime ""^0.13.4""
 
+""@babel/runtime@7.15.3"":
+  version ""7.15.3""
+  resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.15.3.tgz#2e1c2880ca118e5b2f9988322bd8a7656a32502b""
+  integrity sha512-OvwMLqNXkCXSz1kSm58sEsNuhqOx/fKpnUnKnFB5v8uDda5bLNEHNgKPvhDN6IU0LDcnHQ90LlJ0Q6jnyBSIBA==
+  dependencies:
+    regenerator-runtime ""^0.13.4""
+
 ""@babel/runtime@^7.5.5"", ""@babel/runtime@^7.6.2"":
   version ""7.14.6""
   resolved ""https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.14.6.tgz#535203bc0892efc7dec60bdc27b2ecf6e409062d""
@@ -3225,10 +3232,10 @@
   resolved ""https://registry.yarnpkg.com/@next/env/-/env-11.0.0.tgz#bdd306a45e88ba3e4e7a36aa91806f6486bb61d0""
   integrity sha512-VKpmDvTYeCpEQjREg3J4pCmVs/QjEzoLmkM8shGFK6e9AmFd0G9QXOL8HGA8qKhy/XmNb7dHeMqrcMiBua4OgA==
 
-""@next/env@11.1.0"":
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/@next/env/-/env-11.1.0.tgz#cae83d8e0a65aa9f2af3368f8269ffd9d911746a""
-  integrity sha512-zPJkMFRenSf7BLlVee8987G0qQXAhxy7k+Lb/5hLAGkPVHAHm+oFFeL+2ipbI2KTEFlazdmGY0M+AlLQn7pWaw==
+""@next/env@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/env/-/env-11.1.2.tgz#27996efbbc54c5f949f5e8c0a156e3aa48369b99""
+  integrity sha512-+fteyVdQ7C/OoulfcF6vd1Yk0FEli4453gr8kSFbU8sKseNSizYq6df5MKz/AjwLptsxrUeIkgBdAzbziyJ3mA==
 
 ""@next/eslint-plugin-next@11.0.0"":
   version ""11.0.0""
@@ -3245,10 +3252,10 @@
   resolved ""https://registry.yarnpkg.com/@next/polyfill-module/-/polyfill-module-11.0.0.tgz#cb2f46b323bbe7f8a337ccd80fb82314d4039403""
   integrity sha512-gydtFzRqsT549U8+sY8382I/f4HFcelD8gdUGnAofQJa/jEU1jkxmjCHC8tmEiyeMLidl7iDZgchfSCpmMzzUg==
 
-""@next/polyfill-module@11.1.0"":
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/@next/polyfill-module/-/polyfill-module-11.1.0.tgz#ee6b9117a1f9bb137479dfa51d5a9e38e066a62f""
-  integrity sha512-64EgW8SzJRQls2yJ5DkuljRxgE24o2kYtX/ghTkPUJYsfidHMWzQGwg26IgRbb/uHqTd1G0W5UkKag+Nt8TWaQ==
+""@next/polyfill-module@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/polyfill-module/-/polyfill-module-11.1.2.tgz#1fe92c364fdc81add775a16c678f5057c6aace98""
+  integrity sha512-xZmixqADM3xxtqBV0TpAwSFzWJP0MOQzRfzItHXf1LdQHWb0yofHHC+7eOrPFic8+ZGz5y7BdPkkgR1S25OymA==
 
 ""@next/react-dev-overlay@10.1.3"":
   version ""10.1.3""
@@ -3284,10 +3291,10 @@
     stacktrace-parser ""0.1.10""
     strip-ansi ""6.0.0""
 
-""@next/react-dev-overlay@11.1.0"":
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/@next/react-dev-overlay/-/react-dev-overlay-11.1.0.tgz#8d4e8020a4cbdacbca431a0bf40c4d28187083af""
-  integrity sha512-h+ry0sTk1W3mJw+TwEf91aqLbBJ5oqAsxfx+QryqEItNtfW6zLSSjxkyTYTqX8DkgSssQQutQfATkzBVgOR+qQ==
+""@next/react-dev-overlay@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/react-dev-overlay/-/react-dev-overlay-11.1.2.tgz#73795dc5454b7af168bac93df7099965ebb603be""
+  integrity sha512-rDF/mGY2NC69mMg2vDqzVpCOlWqnwPUXB2zkARhvknUHyS6QJphPYv9ozoPJuoT/QBs49JJd9KWaAzVBvq920A==
   dependencies:
     ""@babel/code-frame"" ""7.12.11""
     anser ""1.4.9""
@@ -3311,10 +3318,30 @@
   resolved ""https://registry.yarnpkg.com/@next/react-refresh-utils/-/react-refresh-utils-11.0.0.tgz#cb671723c50b904eaa44b4b45c0845476ecd8825""
   integrity sha512-hi5eY+KBn4QGtUv7VL2OptdM33fI2hxhd7+omOFmAK+S0hDWhg1uqHqqGJk0W1IfqlWEzzL10WvTJDPRAtDugQ==
 
-""@next/react-refresh-utils@11.1.0"":
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/@next/react-refresh-utils/-/react-refresh-utils-11.1.0.tgz#60c3c7b127a5dab8b0a2889a7dcf8a90d2c4e592""
-  integrity sha512-g5DtFTpLTGa36iy9DuZawtJeitI11gysFGKPQQqy+mNbSFazguArcJ10gAYFlbqpIi4boUamWNI5mAoSPx3kog==
+""@next/react-refresh-utils@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/react-refresh-utils/-/react-refresh-utils-11.1.2.tgz#44ea40d8e773e4b77bad85e24f6ac041d5e4b4a5""
+  integrity sha512-hsoJmPfhVqjZ8w4IFzoo8SyECVnN+8WMnImTbTKrRUHOVJcYMmKLL7xf7T0ft00tWwAl/3f3Q3poWIN2Ueql/Q==
+
+""@next/swc-darwin-arm64@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-arm64/-/swc-darwin-arm64-11.1.2.tgz#93226c38db488c4b62b30a53b530e87c969b8251""
+  integrity sha512-hZuwOlGOwBZADA8EyDYyjx3+4JGIGjSHDHWrmpI7g5rFmQNltjlbaefAbiU5Kk7j3BUSDwt30quJRFv3nyJQ0w==
+
+""@next/swc-darwin-x64@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/swc-darwin-x64/-/swc-darwin-x64-11.1.2.tgz#792003989f560c00677b5daeff360b35b510db83""
+  integrity sha512-PGOp0E1GisU+EJJlsmJVGE+aPYD0Uh7zqgsrpD3F/Y3766Ptfbe1lEPPWnRDl+OzSSrSrX1lkyM/Jlmh5OwNvA==
+
+""@next/swc-linux-x64-gnu@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-11.1.2.tgz#8216b2ae1f21f0112958735c39dd861088108f37""
+  integrity sha512-YcDHTJjn/8RqvyJVB6pvEKXihDcdrOwga3GfMv/QtVeLphTouY4BIcEUfrG5+26Nf37MP1ywN3RRl1TxpurAsQ==
+
+""@next/swc-win32-x64-msvc@11.1.2"":
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-11.1.2.tgz#e15824405df137129918205e43cb5e9339589745""
+  integrity sha512-e/pIKVdB+tGQYa1cW3sAeHm8gzEri/HYLZHT4WZojrUxgWXqx8pk7S7Xs47uBcFTqBDRvK3EcQpPLf3XdVsDdg==
 
 ""@node-rs/helper@1.2.1"":
   version ""1.2.1""
@@ -10898,17 +10925,17 @@ next@^11.0.0:
     vm-browserify ""1.1.2""
     watchpack ""2.1.1""
 
-next@^11.1.0:
-  version ""11.1.0""
-  resolved ""https://registry.yarnpkg.com/next/-/next-11.1.0.tgz#767d4c4fa0b9b0c768cdbd6c9f03dd86b5d701c0""
-  integrity sha512-GHBk/c7Wyr6YbFRFZF37I0X7HKzkHHI8pur/loyXo5AIE8wdkbGPGO0ds3vNAO6f8AxZAKGCRYtAzoGlVLoifA==
+next@^11.1.2:
+  version ""11.1.2""
+  resolved ""https://registry.yarnpkg.com/next/-/next-11.1.2.tgz#527475787a9a362f1bc916962b0c0655cc05bc91""
+  integrity sha512-azEYL0L+wFjv8lstLru3bgvrzPvK0P7/bz6B/4EJ9sYkXeW8r5Bjh78D/Ol7VOg0EIPz0CXoe72hzAlSAXo9hw==
   dependencies:
-    ""@babel/runtime"" ""7.12.5""
+    ""@babel/runtime"" ""7.15.3""
     ""@hapi/accept"" ""5.0.2""
-    ""@next/env"" ""11.1.0""
-    ""@next/polyfill-module"" ""11.1.0""
-    ""@next/react-dev-overlay"" ""11.1.0""
-    ""@next/react-refresh-utils"" ""11.1.0""
+    ""@next/env"" ""11.1.2""
+    ""@next/polyfill-module"" ""11.1.2""
+    ""@next/react-dev-overlay"" ""11.1.2""
+    ""@next/react-refresh-utils"" ""11.1.2""
     ""@node-rs/helper"" ""1.2.1""
     assert ""2.0.0""
     ast-types ""0.13.2""
@@ -10946,13 +10973,18 @@ next@^11.1.0:
     stream-browserify ""3.0.0""
     stream-http ""3.1.1""
     string_decoder ""1.3.0""
-    styled-jsx ""4.0.0""
+    styled-jsx ""4.0.1""
     timers-browserify ""2.0.12""
     tty-browserify ""0.0.1""
     use-subscription ""1.5.1""
-    util ""0.12.3""
+    util ""0.12.4""
     vm-browserify ""1.1.2""
     watchpack ""2.1.1""
+  optionalDependencies:
+    ""@next/swc-darwin-arm64"" ""11.1.2""
+    ""@next/swc-darwin-x64"" ""11.1.2""
+    ""@next/swc-linux-x64-gnu"" ""11.1.2""
+    ""@next/swc-win32-x64-msvc"" ""11.1.2""
 
 nice-try@^1.0.4:
   version ""1.0.5""
@@ -14288,10 +14320,10 @@ styled-jsx@3.3.2:
     stylis ""3.5.4""
     stylis-rule-sheet ""0.0.10""
 
-styled-jsx@4.0.0:
-  version ""4.0.0""
-  resolved ""https://registry.yarnpkg.com/styled-jsx/-/styled-jsx-4.0.0.tgz#f7b90e7889d0a4f4635f8d1ae9ac32f3acaedc57""
-  integrity sha512-2USeoWMoJ/Lx5s2y1PxuvLy/cz2Yrr8cTySV3ILHU1Vmaw1bnV7suKdblLPjnyhMD+qzN7B1SWyh4UZTARn/WA==
+styled-jsx@4.0.1:
+  version ""4.0.1""
+  resolved ""https://registry.yarnpkg.com/styled-jsx/-/styled-jsx-4.0.1.tgz#ae3f716eacc0792f7050389de88add6d5245b9e9""
+  integrity sha512-Gcb49/dRB1k8B4hdK8vhW27Rlb2zujCk1fISrizCcToIs+55B4vmUM0N9Gi4nnVfFZWe55jRdWpAqH1ldAKWvQ==
   dependencies:
     ""@babel/plugin-syntax-jsx"" ""7.14.5""
     ""@babel/types"" ""7.15.0""
@@ -15240,6 +15272,18 @@ util@0.12.3, util@^0.12.0:
     safe-buffer ""^5.1.2""
     which-typed-array ""^1.1.2""
 
+util@0.12.4:
+  version ""0.12.4""
+  resolved ""https://registry.yarnpkg.com/util/-/util-0.12.4.tgz#66121a31420df8f01ca0c464be15dfa1d1850253""
+  integrity sha512-bxZ9qtSlGUWSOy9Qa9Xgk11kSslpuZwaxCg4sNIDj6FLucDab2JxnHwyNTCpHMtK1MjoQiWQ6DiUMZYbSrO+Sw==
+  dependencies:
+    inherits ""^2.0.3""
+    is-arguments ""^1.0.4""
+    is-generator-function ""^1.0.7""
+    is-typed-array ""^1.1.3""
+    safe-buffer ""^5.1.2""
+    which-typed-array ""^1.1.2""
+
 util@^0.11.0:
   version ""0.11.1""
   resolved ""https://registry.yarnpkg.com/util/-/util-0.11.1.tgz#3236733720ec64bb27f6e26f421aaa2e1b588d61""",False,False,Documentation / Formatting,3
chapter-three,next-drupal,37deb8ced49fe279520ab666c3c28ee956ba3a2a,arshad,arshad@chummun.com,2021-08-12T12:51:50Z,arshad,arshad@chummun.com,2021-08-12T12:51:50Z,fix(drupal-site): update composer,examples/drupal-site/composer.lock,False,False,False,False,25,25,50,"---FILE: examples/drupal-site/composer.lock---
@@ -1699,26 +1699,26 @@
         },
         {
             ""name"": ""doctrine/collections"",
-            ""version"": ""1.6.7"",
+            ""version"": ""1.6.8"",
             ""source"": {
                 ""type"": ""git"",
                 ""url"": ""https://github.com/doctrine/collections.git"",
-                ""reference"": ""55f8b799269a1a472457bd1a41b4f379d4cfba4a""
+                ""reference"": ""1958a744696c6bb3bb0d28db2611dc11610e78af""
             },
             ""dist"": {
                 ""type"": ""zip"",
-                ""url"": ""https://api.github.com/repos/doctrine/collections/zipball/55f8b799269a1a472457bd1a41b4f379d4cfba4a"",
-                ""reference"": ""55f8b799269a1a472457bd1a41b4f379d4cfba4a"",
+                ""url"": ""https://api.github.com/repos/doctrine/collections/zipball/1958a744696c6bb3bb0d28db2611dc11610e78af"",
+                ""reference"": ""1958a744696c6bb3bb0d28db2611dc11610e78af"",
                 ""shasum"": """"
             },
             ""require"": {
                 ""php"": ""^7.1.3 || ^8.0""
             },
             ""require-dev"": {
-                ""doctrine/coding-standard"": ""^6.0"",
-                ""phpstan/phpstan-shim"": ""^0.9.2"",
-                ""phpunit/phpunit"": ""^7.0"",
-                ""vimeo/psalm"": ""^3.8.1""
+                ""doctrine/coding-standard"": ""^9.0"",
+                ""phpstan/phpstan"": ""^0.12"",
+                ""phpunit/phpunit"": ""^7.5 || ^8.5 || ^9.1.5"",
+                ""vimeo/psalm"": ""^4.2.1""
             },
             ""type"": ""library"",
             ""autoload"": {
@@ -1762,9 +1762,9 @@
             ],
             ""support"": {
                 ""issues"": ""https://github.com/doctrine/collections/issues"",
-                ""source"": ""https://github.com/doctrine/collections/tree/1.6.7""
+                ""source"": ""https://github.com/doctrine/collections/tree/1.6.8""
             },
-            ""time"": ""2020-07-27T17:53:49+00:00""
+            ""time"": ""2021-08-10T18:51:53+00:00""
         },
         {
             ""name"": ""doctrine/common"",
@@ -3371,17 +3371,17 @@
         },
         {
             ""name"": ""drupal/field_group"",
-            ""version"": ""3.1.0"",
+            ""version"": ""3.2.0"",
             ""source"": {
                 ""type"": ""git"",
                 ""url"": ""https://git.drupalcode.org/project/field_group.git"",
-                ""reference"": ""8.x-3.1""
+                ""reference"": ""8.x-3.2""
             },
             ""dist"": {
                 ""type"": ""zip"",
-                ""url"": ""https://ftp.drupal.org/files/projects/field_group-8.x-3.1.zip"",
-                ""reference"": ""8.x-3.1"",
-                ""shasum"": ""8a719eaea594f0ba874172831cb28da93c66b77a""
+                ""url"": ""https://ftp.drupal.org/files/projects/field_group-8.x-3.2.zip"",
+                ""reference"": ""8.x-3.2"",
+                ""shasum"": ""2020bbfe40f6ba43bc733ae7c8761632572433a0""
             },
             ""require"": {
                 ""drupal/core"": ""^8.8 || ^9""
@@ -3392,8 +3392,8 @@
             ""type"": ""drupal-module"",
             ""extra"": {
                 ""drupal"": {
-                    ""version"": ""8.x-3.1"",
-                    ""datestamp"": ""1591772567"",
+                    ""version"": ""8.x-3.2"",
+                    ""datestamp"": ""1628513585"",
                     ""security-coverage"": {
                         ""status"": ""covered"",
                         ""message"": ""Covered by Drupal's security advisory policy""
@@ -3734,7 +3734,7 @@
             ""source"": {
                 ""type"": ""git"",
                 ""url"": ""https://git.drupalcode.org/project/next.git"",
-                ""reference"": ""c92ca7adf4812e9c0eb8e851900c15a0cbce4ff8""
+                ""reference"": ""9154a6aa45e16135a7f67454dd03ae14d1b01977""
             },
             ""require"": {
                 ""cweagans/composer-patches"": ""~1.0"",
@@ -3755,8 +3755,8 @@
                     ""dev-1.0.x"": ""1.0.x-dev""
                 },
                 ""drupal"": {
-                    ""version"": ""1.0.0-beta2+3-dev"",
-                    ""datestamp"": ""1624345324"",
+                    ""version"": ""1.0.0-beta3+1-dev"",
+                    ""datestamp"": ""1628667359"",
                     ""security-coverage"": {
                         ""status"": ""not-covered"",
                         ""message"": ""Dev releases are not covered by Drupal security advisories.""
@@ -5892,16 +5892,16 @@
         },
         {
             ""name"": ""pear/pear-core-minimal"",
-            ""version"": ""v1.10.10"",
+            ""version"": ""v1.10.11"",
             ""source"": {
                 ""type"": ""git"",
                 ""url"": ""https://github.com/pear/pear-core-minimal.git"",
-                ""reference"": ""625a3c429d9b2c1546438679074cac1b089116a7""
+                ""reference"": ""68d0d32ada737153b7e93b8d3c710ebe70ac867d""
             },
             ""dist"": {
                 ""type"": ""zip"",
-                ""url"": ""https://api.github.com/repos/pear/pear-core-minimal/zipball/625a3c429d9b2c1546438679074cac1b089116a7"",
-                ""reference"": ""625a3c429d9b2c1546438679074cac1b089116a7"",
+                ""url"": ""https://api.github.com/repos/pear/pear-core-minimal/zipball/68d0d32ada737153b7e93b8d3c710ebe70ac867d"",
+                ""reference"": ""68d0d32ada737153b7e93b8d3c710ebe70ac867d"",
                 ""shasum"": """"
             },
             ""require"": {
@@ -5936,7 +5936,7 @@
                 ""issues"": ""http://pear.php.net/bugs/search.php?cmd=display&package_name[]=PEAR"",
                 ""source"": ""https://github.com/pear/pear-core-minimal""
             },
-            ""time"": ""2019-11-19T19:00:24+00:00""
+            ""time"": ""2021-08-10T22:31:03+00:00""
         },
         {
             ""name"": ""pear/pear_exception"",",False,False,Dependency / Package,1
chapter-three,next-drupal,7b65916bffa77120e736d6c6272a2a5bd10b3984,arshad,arshad@chummun.com,2021-08-10T12:23:24Z,arshad,arshad@chummun.com,2021-08-10T12:23:24Z,fix(next): yml indent,modules/next/next.libraries.yml,False,False,False,False,4,4,8,"---FILE: modules/next/next.libraries.yml---
@@ -5,7 +5,7 @@ site_preview.iframe:
       css/next.site_preview.iframe.css: {}
   js:
     js/next.site_preview.iframe.js: {}
-    dependencies:
-      - core/jquery
-      - core/drupal
-      - core/drupalSettings
+  dependencies:
+    - core/jquery
+    - core/drupal
+    - core/drupalSettings",False,False,Data / Input Handling,3
chapter-three,next-drupal,f652a72939078357abec530da316f9ed2d17ba9e,arshad,arshad@chummun.com,2021-08-10T12:15:07Z,arshad,arshad@chummun.com,2021-08-10T12:15:07Z,fix: update dependencies,examples/drupal-site/.gitignore;examples/drupal-site/composer.lock;yarn.lock,False,False,False,False,1100,284,1384,"---FILE: examples/drupal-site/.gitignore---
@@ -27,4 +27,5 @@
 /.gitattributes
 
 /oauth-keys/*.key
-/web/sites/default/settings.local.php
\ No newline at end of file
+/web/sites/default/settings.local.php
+/web/sites/default/services.local.yml

---FILE: yarn.lock---
@@ -6362,6 +6362,15 @@ dom-serializer@0:
     domelementtype ""^2.0.1""
     entities ""^2.0.0""
 
+dom-serializer@^1.0.1:
+  version ""1.3.2""
+  resolved ""https://registry.yarnpkg.com/dom-serializer/-/dom-serializer-1.3.2.tgz#6206437d32ceefaec7161803230c7a20bc1b4d91""
+  integrity sha512-5c54Bk5Dw4qAxNOI1pFEizPSjVsx5+bpJKmL2kPn8JhBUq2q09tTCa3mjijun2NfK78NMouDYNMBkOrPZiS+ig==
+  dependencies:
+    domelementtype ""^2.0.1""
+    domhandler ""^4.2.0""
+    entities ""^2.0.0""
+
 domain-browser@4.19.0:
   version ""4.19.0""
   resolved ""https://registry.yarnpkg.com/domain-browser/-/domain-browser-4.19.0.tgz#1093e17c0a17dbd521182fe90d49ac1370054af1""
@@ -6382,13 +6391,25 @@ domelementtype@^2.0.1:
   resolved ""https://registry.yarnpkg.com/domelementtype/-/domelementtype-2.1.0.tgz#a851c080a6d1c3d94344aed151d99f669edf585e""
   integrity sha512-LsTgx/L5VpD+Q8lmsXSHW2WpA+eBlZ9HPf3erD1IoPF00/3JKHZ3BknUVA2QGDNu69ZNmyFmCWBSO45XjYKC5w==
 
+domelementtype@^2.2.0:
+  version ""2.2.0""
+  resolved ""https://registry.yarnpkg.com/domelementtype/-/domelementtype-2.2.0.tgz#9a0b6c2782ed6a1c7323d42267183df9bd8b1d57""
+  integrity sha512-DtBMo82pv1dFtUmHyr48beiuq792Sxohr+8Hm9zoxklYPfa6n0Z3Byjj2IV7bmr2IyqClnqEQhfgHJJ5QF0R5A==
+
 domexception@^2.0.1:
   version ""2.0.1""
   resolved ""https://registry.yarnpkg.com/domexception/-/domexception-2.0.1.tgz#fb44aefba793e1574b0af6aed2801d057529f304""
   integrity sha512-yxJ2mFy/sibVQlu5qHjOkf9J3K6zgmCxgJ94u2EdvDOV09H+32LtRswEcUsmUWN72pVLOEnTSRaIVVzVQgS0dg==
   dependencies:
     webidl-conversions ""^5.0.0""
 
+domhandler@4.2.0, domhandler@^4.0.0, domhandler@^4.2.0:
+  version ""4.2.0""
+  resolved ""https://registry.yarnpkg.com/domhandler/-/domhandler-4.2.0.tgz#f9768a5f034be60a89a27c2e4d0f74eba0d8b059""
+  integrity sha512-zk7sgt970kzPks2Bf+dwT/PLzghLnsivb9CcxkvR8Mzr66Olr0Ofd8neSbglHJHaHa2MadfoSdNlKYAaafmWfA==
+  dependencies:
+    domelementtype ""^2.2.0""
+
 domutils@^1.7.0:
   version ""1.7.0""
   resolved ""https://registry.yarnpkg.com/domutils/-/domutils-1.7.0.tgz#56ea341e834e06e6748af7a1cb25da67ea9f8c2a""
@@ -6397,6 +6418,15 @@ domutils@^1.7.0:
     dom-serializer ""0""
     domelementtype ""1""
 
+domutils@^2.5.2:
+  version ""2.7.0""
+  resolved ""https://registry.yarnpkg.com/domutils/-/domutils-2.7.0.tgz#8ebaf0c41ebafcf55b0b72ec31c56323712c5442""
+  integrity sha512-8eaHa17IwJUPAiB+SoTYBo5mCdeMgdcAoXJ59m6DT1vw+5iLS3gNoqYaRowaBKtGVrOF1Jz4yDTgYKLK2kvfJg==
+  dependencies:
+    dom-serializer ""^1.0.1""
+    domelementtype ""^2.2.0""
+    domhandler ""^4.2.0""
+
 dot-prop@^3.0.0:
   version ""3.0.0""
   resolved ""https://registry.yarnpkg.com/dot-prop/-/dot-prop-3.0.0.tgz#1b708af094a49c9a0e7dbcad790aba539dac1177""
@@ -8131,6 +8161,14 @@ html-comment-regex@^1.1.0:
   resolved ""https://registry.yarnpkg.com/html-comment-regex/-/html-comment-regex-1.1.2.tgz#97d4688aeb5c81886a364faa0cad1dda14d433a7""
   integrity sha512-P+M65QY2JQ5Y0G9KKdlDpo0zK+/OHptU5AaBwUfAIDJZk1MYf32Frm84EcOytfJE0t5JvkAnKlmjsXDnWzCJmQ==
 
+html-dom-parser@1.0.1:
+  version ""1.0.1""
+  resolved ""https://registry.yarnpkg.com/html-dom-parser/-/html-dom-parser-1.0.1.tgz#5d147fed6656c12918edbcea4a423eefe8d0e715""
+  integrity sha512-uKXISKlHzB/l9A08jrs2wseQJ9b864ZfEdmIZskj10cuP6HxCOMHSK0RdluV8NVQaWs0PwefN7d8wqG3jR0IbQ==
+  dependencies:
+    domhandler ""4.2.0""
+    htmlparser2 ""6.1.0""
+
 html-encoding-sniffer@^2.0.1:
   version ""2.0.1""
   resolved ""https://registry.yarnpkg.com/html-encoding-sniffer/-/html-encoding-sniffer-2.0.1.tgz#42a6dc4fd33f00281176e8b23759ca4e4fa185f3""
@@ -8143,6 +8181,16 @@ html-escaper@^2.0.0:
   resolved ""https://registry.yarnpkg.com/html-escaper/-/html-escaper-2.0.2.tgz#dfd60027da36a36dfcbe236262c00a5822681453""
   integrity sha512-H2iMtd0I4Mt5eYiapRdIDjp+XzelXQ0tFE4JS7YFwFevXXMmOp9myNrUvCg0D6ws8iqkRPBfKHgbwig1SmlLfg==
 
+html-react-parser@^1.2.7:
+  version ""1.2.7""
+  resolved ""https://registry.yarnpkg.com/html-react-parser/-/html-react-parser-1.2.7.tgz#1674ed4b96b3440ad922962a3ff000e7f3325293""
+  integrity sha512-gUUEgrZV0YaCxtZO2XuJDUnHSq7gOqKu1krye97cxgiZ+ipaIzspGMhATeq9lhy9gwYmwBF2YCHe/accrMMo8Q==
+  dependencies:
+    domhandler ""4.2.0""
+    html-dom-parser ""1.0.1""
+    react-property ""1.0.1""
+    style-to-js ""1.1.0""
+
 html-tags@^3.1.0:
   version ""3.1.0""
   resolved ""https://registry.yarnpkg.com/html-tags/-/html-tags-3.1.0.tgz#7b5e6f7e665e9fb41f30007ed9e0d41e97fb2140""
@@ -8153,6 +8201,16 @@ html-void-elements@^1.0.0:
   resolved ""https://registry.yarnpkg.com/html-void-elements/-/html-void-elements-1.0.5.tgz#ce9159494e86d95e45795b166c2021c2cfca4483""
   integrity sha512-uE/TxKuyNIcx44cIWnjr/rfIATDH7ZaOMmstu0CwhFG1Dunhlp4OC6/NMbhiwoq5BpW0ubi303qnEk/PZj614w==
 
+htmlparser2@6.1.0:
+  version ""6.1.0""
+  resolved ""https://registry.yarnpkg.com/htmlparser2/-/htmlparser2-6.1.0.tgz#c4d762b6c3371a05dbe65e94ae43a9f845fb8fb7""
+  integrity sha512-gyyPk6rgonLFEDGoeRgQNaEUvdJ4ktTmmUh/h2t7s+M8oPpIPxgNACWa+6ESR57kXstwqPiCut0V8NRpcwgU7A==
+  dependencies:
+    domelementtype ""^2.0.1""
+    domhandler ""^4.0.0""
+    domutils ""^2.5.2""
+    entities ""^2.0.0""
+
 http-cache-semantics@^3.8.1:
   version ""3.8.1""
   resolved ""https://registry.yarnpkg.com/http-cache-semantics/-/http-cache-semantics-3.8.1.tgz#39b0e16add9b605bf0a9ef3d9daaf4843b4cacd2""
@@ -12510,6 +12568,11 @@ react-is@^17.0.1:
   resolved ""https://registry.yarnpkg.com/react-is/-/react-is-17.0.1.tgz#5b3531bd76a645a4c9fb6e693ed36419e3301339""
   integrity sha512-NAnt2iGDXohE5LI7uBnLnqvLQMtzhkiAOLXTmv+qnF9Ky7xAPcX8Up/xWIhxvLVGJvuLiNc4xQLtuqDRzb4fSA==
 
+react-property@1.0.1:
+  version ""1.0.1""
+  resolved ""https://registry.yarnpkg.com/react-property/-/react-property-1.0.1.tgz#4ae4211557d0a0ae050a71aa8ad288c074bea4e6""
+  integrity sha512-1tKOwxFn3dXVomH6pM9IkLkq2Y8oh+fh/lYW3MJ/B03URswUTqttgckOlbxY2XHF3vPG6uanSc4dVsLW/wk3wQ==
+
 react-query@^3.17.0:
   version ""3.17.0""
   resolved ""https://registry.yarnpkg.com/react-query/-/react-query-3.17.0.tgz#461c0a030044760cd874c7ea8aa9d55c2dceb15d""
@@ -14041,6 +14104,13 @@ style-inject@^0.3.0:
   resolved ""https://registry.yarnpkg.com/style-inject/-/style-inject-0.3.0.tgz#d21c477affec91811cc82355832a700d22bf8dd3""
   integrity sha512-IezA2qp+vcdlhJaVm5SOdPPTUu0FCEqfNSli2vRuSIBbu5Nq5UvygTk/VzeCqfLz2Atj3dVII5QBKGZRZ0edzw==
 
+style-to-js@1.1.0:
+  version ""1.1.0""
+  resolved ""https://registry.yarnpkg.com/style-to-js/-/style-to-js-1.1.0.tgz#631cbb20fce204019b3aa1fcb5b69d951ceac4ac""
+  integrity sha512-1OqefPDxGrlMwcbfpsTVRyzwdhr4W0uxYQzeA2F1CBc8WG04udg2+ybRnvh3XYL4TdHQrCahLtax2jc8xaE6rA==
+  dependencies:
+    style-to-object ""0.3.0""
+
 style-to-object@0.3.0, style-to-object@^0.3.0:
   version ""0.3.0""
   resolved ""https://registry.yarnpkg.com/style-to-object/-/style-to-object-0.3.0.tgz#b1b790d205991cc783801967214979ee19a76e46""",False,False,Environment / Configuration,3
chapter-three,next-drupal,da8363088a96f18284be61d29f049663d5d5c3fa,arshad,arshad@chummun.com,2021-08-10T12:14:20Z,arshad,arshad@chummun.com,2021-08-10T12:14:20Z,fix(next): update margin for claro theme,modules/next/css/next.site_preview.iframe.css,False,False,False,False,4,0,4,"---FILE: modules/next/css/next.site_preview.iframe.css---
@@ -44,6 +44,10 @@
   border: 2px solid #e0e0d8;
 }
 
+.iframe-site-previewer .claro-details__wrapper.details-wrapper {
+  margin: 0 1.6rem;
+}
+
 .next-site-preview-iframe {
   margin: 0;
   padding: 0;",False,False,Visualization / Plotting,1
chapter-three,next-drupal,a9c7d170ab72f4c9b2b187c7236bcd1d317da24d,arshad,arshad@chummun.com,2021-08-10T12:05:53Z,arshad,arshad@chummun.com,2021-08-10T12:05:53Z,fix(next-drupal): add check for undefined vars,packages/next-drupal/src/get-resource.ts;packages/next-drupal/src/preview.ts,False,False,False,False,2,2,4,"---FILE: packages/next-drupal/src/get-resource.ts---
@@ -51,7 +51,7 @@ export async function getResourceFromContext(
   // TODO: Figure out if we want this behavior.
   // For now this causes a bug where a non-i18n sites builds (ISR) pages for
   // localized pages.
-  if (!context.locale && !resource.default_langcode) {
+  if (!context.locale && !resource?.default_langcode) {
     return null
   }
 

---FILE: packages/next-drupal/src/preview.ts---
@@ -67,7 +67,7 @@ export async function getResourcePreviewUrl(
     return null
   }
 
-  return node.default_langcode
+  return node?.default_langcode
     ? node.path.alias
     : `/${node.path.langcode}${node.path.alias}`
 }",False,False,Implementation / Logic,3
chapter-three,next-drupal,ac2b28c840585f5c26038c1868cab9c99407d8b9,arshad,arshad@chummun.com,2021-06-22T07:16:07Z,arshad,arshad@chummun.com,2021-06-22T07:16:07Z,fix(next): update tests for preview url,modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php,False,False,False,False,2,2,4,"---FILE: modules/next/tests/src/Kernel/Plugin/SiteResolverTest.php---
@@ -97,8 +97,8 @@ public function testGetSitesForEntity() {
 
     $sites = $site_resolver->getSitesForEntity($page);
     $this->assertSame(['blog', 'marketing'], array_keys($sites));
-    $this->assertEqual(""https://blog.com/api/preview?secret=one&slug=/node/1&resourceVersion=rel%3Alatest-version"", $sites['blog']->getPreviewUrlForEntity($page)->toString());
-    $this->assertEqual(""https://marketing.com/api/preview?secret=two&slug=/node/1&resourceVersion=rel%3Alatest-version"", $sites['marketing']->getPreviewUrlForEntity($page)->toString());
+    $this->assertEqual(""https://blog.com/api/preview?secret=one&slug=/node/1&locale=en&defaultLocale=en&resourceVersion=rel%3Alatest-version"", $sites['blog']->getPreviewUrlForEntity($page)->toString());
+    $this->assertEqual(""https://marketing.com/api/preview?secret=two&slug=/node/1&locale=en&defaultLocale=en&resourceVersion=rel%3Alatest-version"", $sites['marketing']->getPreviewUrlForEntity($page)->toString());
 
     $article = $this->createNode(['type' => 'article']);
     $next_entity_type_config = $next_entity_type_manager->getConfigForEntityType($article->getEntityTypeId(), $article->bundle());",False,False,Dependency / Package,1
chapter-three,next-drupal,5fa416db2758058288f4db956b79453a01b827cd,arshad,arshad@chummun.com,2021-06-22T07:05:40Z,arshad,arshad@chummun.com,2021-06-22T07:05:40Z,fix: allow publishing from main branch,lerna.json,False,False,False,False,1,1,2,"---FILE: lerna.json---
@@ -14,7 +14,7 @@
       ""loglevel"": ""verbose""
     },
     ""publish"": {
-      ""allowBranch"": ""master"",
+      ""allowBranch"": ""main"",
       ""conventionalCommits"": true,
       ""message"": ""chore(release): publish""
     }",False,False,Data / Input Handling,3
chapter-three,next-drupal,cf2d4d106b8a170e150e040a7496bb1f08caa64f,arshad,arshad@chummun.com,2021-06-22T07:01:03Z,arshad,arshad@chummun.com,2021-06-22T07:01:03Z,fix(next-drupal): handle cases where previewData is not properly set,packages/next-drupal/src/get-resource.ts,False,False,False,False,3,1,4,"---FILE: packages/next-drupal/src/get-resource.ts---
@@ -32,12 +32,14 @@ export async function getResourceFromContext(
   //   }
   // }
 
+  const previewData = context.previewData as { resourceVersion?: string }
+
   const resource = await getResourceByPath(path, {
     deserialize: options.deserialize,
     locale: context.locale,
     defaultLocale: context.defaultLocale,
     params: {
-      resourceVersion: context.previewData?.resourceVersion,
+      resourceVersion: previewData?.resourceVersion,
       ...options?.params,
     },
   })",False,False,Environment / Configuration,3
chapter-three,next-drupal,be5a2d32764d1c510ffb335cb5076cc927c65e0e,arshad,arshad@chummun.com,2021-06-22T07:00:05Z,arshad,arshad@chummun.com,2021-06-22T07:00:05Z,fix(example-marketing): use fallback blocking,examples/example-marketing/pages/[[...slug]].tsx,False,False,False,False,3,2,5,"---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -15,6 +15,7 @@ import { useRouter } from ""next/router""
 
 export default function NodePage({ node }) {
   const router = useRouter()
+
   if (!node) return null
 
   return (
@@ -50,7 +51,7 @@ export async function getStaticPaths(
 
   return {
     paths: await getPathsFromContext(resourceTypes, context),
-    fallback: true,
+    fallback: ""blocking"",
   }
 }
 
@@ -114,6 +115,6 @@ export async function getStaticProps(context) {
     props: {
       node,
     },
-    revalidate: 1,
+    revalidate: 60,
   }
 }",False,False,Documentation / Formatting,3
chapter-three,next-drupal,287f1840281aa7685236b2a8dc4ca49741db984f,arshad,arshad@chummun.com,2021-06-22T06:59:22Z,arshad,arshad@chummun.com,2021-06-22T06:59:22Z,fix(example-blog): update blog mode toggle,examples/example-blog/src/components/mode-toggle.tsx,False,False,False,False,1,2,3,"---FILE: examples/example-blog/src/components/mode-toggle.tsx---
@@ -1,7 +1,6 @@
 import { Icon, useColorMode } from ""reflexjs""
 
-export interface ModeToggleProps
-  extends React.ButtonHTMLAttributes<HTMLButtonElement> {}
+export type ModeToggleProps = React.ButtonHTMLAttributes<HTMLButtonElement>
 
 export function ModeToggle({ ...props }: ModeToggleProps) {
   const [colorMode, setColorMode] = useColorMode()",False,False,Dependency / Package,1
chapter-three,next-drupal,abcd28ece952335d4d72352ef3b05b5207b6ca55,arshad,arshad@chummun.com,2021-06-17T16:55:22Z,arshad,arshad@chummun.com,2021-06-17T16:55:22Z,fix(next-drupal): typo,packages/next-drupal/src/get-resource.ts,False,False,False,False,1,1,2,"---FILE: packages/next-drupal/src/get-resource.ts---
@@ -106,7 +106,7 @@ export async function getResourceByPath(
   ]
 
   // Localized subrequests.
-  // I was hoping we not need this but it seems like subrequests is not properly
+  // I was hoping we would not need this but it seems like subrequests is not properly
   // setting the jsonapi locale from a translated path.
   let subrequestsPath = ""/subrequests""
   if (",False,False,Documentation / Formatting,1
chapter-three,next-drupal,613a2e1c732b2fe94538ffdd66e42d3af60d0088,arshad,arshad@chummun.com,2021-06-17T07:32:38Z,arshad,arshad@chummun.com,2021-06-17T07:32:38Z,fix(basic-starter): add props to NodeMeta,starters/basic-starter/components/nodes/node-article.tsx,False,False,False,False,1,1,2,"---FILE: starters/basic-starter/components/nodes/node-article.tsx---
@@ -64,7 +64,7 @@ export function NodeArticleTeaser({ node, ...props }) {
 
 function NodeMeta({ node, ...props }) {
   return (
-    <div className=""mb-4 text-gray-600"">
+    <div className=""mb-4 text-gray-600"" {...props}>
       {node.uid?.display_name ? (
         <span>
           Posted by{"" ""}",False,False,Rendering / Conversion,0
chapter-three,next-drupal,7a182f68f0cf86b03977009c07660e886c9635eb,arshad,arshad@chummun.com,2021-06-16T14:26:27Z,arshad,arshad@chummun.com,2021-06-16T14:26:27Z,fix(example-marketing): add missing dependency,examples/example-blog/package.json;examples/example-marketing/package.json,False,False,False,False,1,1,2,"---FILE: examples/example-blog/package.json---
@@ -10,7 +10,6 @@
     ""preview"": ""next build && next start -p 3030""
   },
   ""dependencies"": {
-    ""@fontsource/playfair-display"": ""^4.4.5"",
     ""next"": ""^11.0.0"",
     ""next-drupal"": ""^0.12.0"",
     ""react"": ""^17.0.2"",

---FILE: examples/example-marketing/package.json---
@@ -10,6 +10,7 @@
     ""preview"": ""next build && next start""
   },
   ""dependencies"": {
+    ""@fontsource/playfair-display"": ""^4.4.5"",
     ""next"": ""^11.0.0"",
     ""next-drupal"": ""^0.12.0"",
     ""nprogress"": ""^0.2.0"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,3b505a5ed21e70cc19cac5bcce4a7ce65a299fdf,arshad,arshad@chummun.com,2021-06-16T12:50:50Z,arshad,arshad@chummun.com,2021-06-16T12:50:50Z,fix(next): rename alias to path,modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsItem.php,False,False,False,False,2,2,4,"---FILE: modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsItem.php---
@@ -27,7 +27,7 @@ public static function propertyDefinitions(FieldStorageDefinitionInterface $fiel
     $properties['label'] = DataDefinition::create('string')
       ->setLabel(t('Label'));
 
-    $properties['alias'] = DataDefinition::create('string')
+    $properties['path'] = DataDefinition::create('string')
       ->setLabel(t('Path alias'));
 
     $properties['langcode'] = DataDefinition::create('string')
@@ -47,7 +47,7 @@ public static function schema(FieldStorageDefinitionInterface $field_definition)
    * {@inheritdoc}
    */
   public function isEmpty() {
-    return $this->label === NULL && $this->alias === '' && $this->langcode === NULL;
+    return $this->label === NULL && $this->path === '' && $this->langcode === NULL;
   }
 
 }",False,False,Implementation / Logic,3
chapter-three,next-drupal,42360434ac29ef857580ebfb423269c9705ebf04,arshad,arshad@chummun.com,2021-06-16T07:31:49Z,arshad,arshad@chummun.com,2021-06-16T07:31:49Z,fix(next-drupal): return view page links and count,packages/next-drupal/src/get-view.ts,False,False,False,False,9,4,13,"---FILE: packages/next-drupal/src/get-view.ts---
@@ -8,8 +8,13 @@ export async function getView<T>(
   } & JsonApiWithLocaleOptions
 ): Promise<{
   results: T
-  count: number
-  jsonApiUrl: string
+  /* eslint-disable  @typescript-eslint/no-explicit-any */
+  meta: Record<string, any>
+  links: {
+    [key in ""next"" | ""prev"" | ""self""]?: {
+      href: ""string""
+    }
+  }
 }> {
   options = {
     deserialize: true,
@@ -40,7 +45,7 @@ export async function getView<T>(
 
   return {
     results,
-    count: data.meta.count,
-    jsonApiUrl: `${url.origin}${url.pathname}`,
+    meta: data.meta,
+    links: data.links,
   }
 }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,aebc161fe342211504c94948c4484661c0137d67,arshad,arshad@chummun.com,2021-06-15T13:41:48Z,arshad,arshad@chummun.com,2021-06-15T13:41:48Z,fix(drupal-site): add jsonapi_views and field_group modules,examples/drupal-site/composer.json;examples/drupal-site/composer.lock,False,False,False,False,121,1,122,"---FILE: examples/drupal-site/composer.json---
@@ -28,9 +28,11 @@
     ""drupal/default_content"": ""^2.0@alpha"",
     ""drupal/entity_reference_revisions"": ""^1.9"",
     ""drupal/entity_usage"": ""^2.0@beta"",
+    ""drupal/field_group"": ""^3.1"",
     ""drupal/jsonapi_extras"": ""^3.17"",
     ""drupal/jsonapi_menu_items"": ""^1.2"",
     ""drupal/jsonapi_schema"": ""^1.0@beta"",
+    ""drupal/jsonapi_views"": ""^1.0@beta"",
     ""drupal/next"": ""1.0.x-dev"",
     ""drupal/paragraphs"": ""^1.12"",
     ""drupal/pathauto"": ""^1.8"",

---FILE: examples/drupal-site/composer.lock---
@@ -4,7 +4,7 @@
         ""Read more about it at https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies"",
         ""This file is @generated automatically""
     ],
-    ""content-hash"": ""979323c847d98984567eff229c97c229"",
+    ""content-hash"": ""43dfe7ca8bef84226d1f85d3d38bee7e"",
     ""packages"": [
         {
             ""name"": ""alchemy/zippy"",
@@ -3278,6 +3278,70 @@
                 ""issues"": ""http://drupal.org/project/issues/entity_usage""
             }
         },
+        {
+            ""name"": ""drupal/field_group"",
+            ""version"": ""3.1.0"",
+            ""source"": {
+                ""type"": ""git"",
+                ""url"": ""https://git.drupalcode.org/project/field_group.git"",
+                ""reference"": ""8.x-3.1""
+            },
+            ""dist"": {
+                ""type"": ""zip"",
+                ""url"": ""https://ftp.drupal.org/files/projects/field_group-8.x-3.1.zip"",
+                ""reference"": ""8.x-3.1"",
+                ""shasum"": ""8a719eaea594f0ba874172831cb28da93c66b77a""
+            },
+            ""require"": {
+                ""drupal/core"": ""^8.8 || ^9""
+            },
+            ""require-dev"": {
+                ""drupal/jquery_ui_accordion"": ""^1.0""
+            },
+            ""type"": ""drupal-module"",
+            ""extra"": {
+                ""drupal"": {
+                    ""version"": ""8.x-3.1"",
+                    ""datestamp"": ""1591772567"",
+                    ""security-coverage"": {
+                        ""status"": ""covered"",
+                        ""message"": ""Covered by Drupal's security advisory policy""
+                    }
+                }
+            },
+            ""notification-url"": ""https://packages.drupal.org/8/downloads"",
+            ""license"": [
+                ""GPL-2.0-or-later""
+            ],
+            ""authors"": [
+                {
+                    ""name"": ""Hydra"",
+                    ""homepage"": ""https://www.drupal.org/user/647364""
+                },
+                {
+                    ""name"": ""Stalski"",
+                    ""homepage"": ""https://www.drupal.org/user/322618""
+                },
+                {
+                    ""name"": ""jyve"",
+                    ""homepage"": ""https://www.drupal.org/user/591438""
+                },
+                {
+                    ""name"": ""nils.destoop"",
+                    ""homepage"": ""https://www.drupal.org/user/361625""
+                },
+                {
+                    ""name"": ""swentel"",
+                    ""homepage"": ""https://www.drupal.org/user/107403""
+                }
+            ],
+            ""description"": ""Provides the field_group module."",
+            ""homepage"": ""https://www.drupal.org/project/field_group"",
+            ""support"": {
+                ""source"": ""https://git.drupalcode.org/project/field_group"",
+                ""issues"": ""https://www.drupal.org/project/issues/field_group""
+            }
+        },
         {
             ""name"": ""drupal/jsonapi_extras"",
             ""version"": ""3.17.0"",
@@ -3520,6 +3584,59 @@
                 ""issues"": ""https://www.drupal.org/project/issues/jsonapi_schema""
             }
         },
+        {
+            ""name"": ""drupal/jsonapi_views"",
+            ""version"": ""1.0.0-beta2"",
+            ""source"": {
+                ""type"": ""git"",
+                ""url"": ""https://git.drupalcode.org/project/jsonapi_views.git"",
+                ""reference"": ""8.x-1.0-beta2""
+            },
+            ""dist"": {
+                ""type"": ""zip"",
+                ""url"": ""https://ftp.drupal.org/files/projects/jsonapi_views-8.x-1.0-beta2.zip"",
+                ""reference"": ""8.x-1.0-beta2"",
+                ""shasum"": ""2c6cb8e27ac500a60ad2b531b509e9422fcb3ac9""
+            },
+            ""require"": {
+                ""drupal/core"": ""^8.8 || ^9"",
+                ""drupal/jsonapi_resources"": ""^1.0""
+            },
+            ""type"": ""drupal-module"",
+            ""extra"": {
+                ""drupal"": {
+                    ""version"": ""8.x-1.0-beta2"",
+                    ""datestamp"": ""1616619144"",
+                    ""security-coverage"": {
+                        ""status"": ""not-covered"",
+                        ""message"": ""Beta releases are not covered by Drupal security advisories.""
+                    }
+                }
+            },
+            ""notification-url"": ""https://packages.drupal.org/8/downloads"",
+            ""license"": [
+                ""GPL-2.0-or-later""
+            ],
+            ""authors"": [
+                {
+                    ""name"": ""Deciphered"",
+                    ""homepage"": ""https://www.drupal.org/user/103796""
+                },
+                {
+                    ""name"": ""pixelwhip"",
+                    ""homepage"": ""https://www.drupal.org/user/275292""
+                }
+            ],
+            ""description"": ""This module creates custom JSON:API resources from Views."",
+            ""homepage"": ""https://www.drupal.org/project/jsonapi_views"",
+            ""keywords"": [
+                ""Drupal"",
+                ""JSON API""
+            ],
+            ""support"": {
+                ""source"": ""https://git.drupalcode.org/project/jsonapi_views""
+            }
+        },
         {
             ""name"": ""drupal/next"",
             ""version"": ""dev-1.0.x"",
@@ -11422,6 +11539,7 @@
         ""drupal/default_content"": 15,
         ""drupal/entity_usage"": 10,
         ""drupal/jsonapi_schema"": 10,
+        ""drupal/jsonapi_views"": 10,
         ""drupal/next"": 20
     },
     ""prefer-stable"": true,",False,False,Data / Input Handling,3
chapter-three,next-drupal,55c76a342c6a11a59997f5113a5103b20d434818,arshad,arshad@chummun.com,2021-06-15T13:40:54Z,arshad,arshad@chummun.com,2021-06-15T13:40:54Z,fix(next): fix issue with new entities,modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php;modules/next/src/NextServiceProvider.php,False,False,False,False,5,3,8,"---FILE: modules/next/modules/next_extras/src/Plugin/Field/FieldType/ContentTranslationsFieldItemList.php---
@@ -16,7 +16,7 @@ protected function computeValue() {
     /** @var \Drupal\Core\Entity\ContentEntityInterface $entity */
     $entity = $this->getEntity();
 
-    if (!$entity->isTranslatable()) {
+    if (!$entity->isTranslatable() || !$entity->id()) {
       return NULL;
     }
 

---FILE: modules/next/src/NextServiceProvider.php---
@@ -17,8 +17,10 @@ class NextServiceProvider implements ServiceModifierInterface {
    */
   public function alter(ContainerBuilder $container) {
     $cors_config = $container->getParameter('cors.config');
-    $cors_config['enabled'] = TRUE;
-    $container->setParameter('cors.config', $cors_config);
+    if (!$cors_config['enabled']) {
+      $cors_config['enabled'] = TRUE;
+      $container->setParameter('cors.config', $cors_config);
+    }
   }
 
 }",False,False,Implementation / Logic,3
chapter-three,next-drupal,412e39d7ce9103f845fafaff8172c1e07bddb442,arshad,arshad@chummun.com,2021-06-14T17:17:07Z,arshad,arshad@chummun.com,2021-06-14T17:17:07Z,fix(example-marketing): remove unused locale,examples/example-marketing/pages/[[...slug]].tsx,False,False,False,False,0,12,12,"---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -14,7 +14,6 @@ import {
 import { NodeArticle } from ""@/components/node-article""
 import { NodeLandingPage } from ""@/components/node-landing-page""
 import { NodeBasicPage } from ""@/components/node-basic-page""
-import { useLocale } from ""@/components/locale-provider""
 
 // Allow any here until JSON API resources are properly typed.
 /* eslint-disable  @typescript-eslint/no-explicit-any */
@@ -23,17 +22,6 @@ interface PageProps {
 }
 
 export default function NodePage({ node }: PageProps) {
-  const { setPaths } = useLocale()
-
-  React.useEffect(() => {
-    setPaths(
-      node?.content_translations.map((translation) => ({
-        path: translation.path,
-        locale: translation.langcode,
-      }))
-    )
-  }, [node])
-
   if (!node) return null
 
   return (",False,False,Implementation / Logic,3
chapter-three,next-drupal,35a8c7e8c7a7378bb001eda8eef66315d5769589,arshad,arshad@chummun.com,2021-06-14T16:59:52Z,arshad,arshad@chummun.com,2021-06-14T16:59:52Z,fix: update drupal site,.gitignore;examples/drupal-site/.gitignore;examples/drupal-site/config/comment.settings.yml;examples/drupal-site/config/comment.type.comment.yml;examples/drupal-site/config/core.base_field_override.block_content.basic.changed.yml;examples/drupal-site/config/core.base_field_override.block_content.basic.info.yml;examples/drupal-site/config/core.base_field_override.block_content.basic.status.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.confidential.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.description.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.image.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.is_default.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.label.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.owner_id.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.pkce.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.redirect.yml;examples/drupal-site/config/core.base_field_override.consumer.consumer.third_party.yml;examples/drupal-site/config/core.base_field_override.media.audio.changed.yml;examples/drupal-site/config/core.base_field_override.media.audio.created.yml;examples/drupal-site/config/core.base_field_override.media.audio.name.yml;examples/drupal-site/config/core.base_field_override.media.audio.path.yml;examples/drupal-site/config/core.base_field_override.media.audio.status.yml;examples/drupal-site/config/core.base_field_override.media.audio.thumbnail.yml;examples/drupal-site/config/core.base_field_override.media.audio.uid.yml;examples/drupal-site/config/core.base_field_override.media.document.changed.yml;examples/drupal-site/config/core.base_field_override.media.document.created.yml;examples/drupal-site/config/core.base_field_override.media.document.name.yml;examples/drupal-site/config/core.base_field_override.media.document.path.yml;examples/drupal-site/config/core.base_field_override.media.document.status.yml;examples/drupal-site/config/core.base_field_override.media.document.thumbnail.yml;examples/drupal-site/config/core.base_field_override.media.document.uid.yml;examples/drupal-site/config/core.base_field_override.media.image.changed.yml;examples/drupal-site/config/core.base_field_override.media.image.created.yml;examples/drupal-site/config/core.base_field_override.media.image.name.yml;examples/drupal-site/config/core.base_field_override.media.image.path.yml;examples/drupal-site/config/core.base_field_override.media.image.status.yml;examples/drupal-site/config/core.base_field_override.media.image.thumbnail.yml;examples/drupal-site/config/core.base_field_override.media.image.uid.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.changed.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.created.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.name.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.path.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.status.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.thumbnail.yml;examples/drupal-site/config/core.base_field_override.media.remote_video.uid.yml;examples/drupal-site/config/core.base_field_override.media.video.changed.yml;examples/drupal-site/config/core.base_field_override.media.video.created.yml;examples/drupal-site/config/core.base_field_override.media.video.name.yml;examples/drupal-site/config/core.base_field_override.media.video.path.yml;examples/drupal-site/config/core.base_field_override.media.video.status.yml;examples/drupal-site/config/core.base_field_override.media.video.thumbnail.yml;examples/drupal-site/config/core.base_field_override.media.video.uid.yml;examples/drupal-site/config/core.base_field_override.menu_link_content.menu_link_content.changed.yml;examples/drupal-site/config/core.base_field_override.menu_link_content.menu_link_content.description.yml;examples/drupal-site/config/core.base_field_override.menu_link_content.menu_link_content.title.yml;examples/drupal-site/config/core.base_field_override.node.article.changed.yml;examples/drupal-site/config/core.base_field_override.node.article.created.yml;examples/drupal-site/config/core.base_field_override.node.article.menu_link.yml;examples/drupal-site/config/core.base_field_override.node.article.promote.yml;examples/drupal-site/config/core.base_field_override.node.article.status.yml;examples/drupal-site/config/core.base_field_override.node.article.sticky.yml;examples/drupal-site/config/core.base_field_override.node.article.title.yml;examples/drupal-site/config/core.base_field_override.node.article.uid.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.changed.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.created.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.menu_link.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.status.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.sticky.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.title.yml;examples/drupal-site/config/core.base_field_override.node.landing_page.uid.yml;examples/drupal-site/config/core.base_field_override.node.page.promote.yml;examples/drupal-site/config/core.base_field_override.paragraph.card.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.card.status.yml;examples/drupal-site/config/core.base_field_override.paragraph.cards.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.cards.status.yml;examples/drupal-site/config/core.base_field_override.paragraph.collapsible.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.collapsible.status.yml;examples/drupal-site/config/core.base_field_override.paragraph.faq.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.faq.status.yml;examples/drupal-site/config/core.base_field_override.paragraph.feature.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.feature.status.yml;examples/drupal-site/config/core.base_field_override.paragraph.from_library.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.from_library.status.yml;examples/drupal-site/config/core.base_field_override.paragraph.hero.created.yml;examples/drupal-site/config/core.base_field_override.paragraph.hero.status.yml;examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.changed.yml;examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.created.yml;examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.label.yml;examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.status.yml;examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.uid.yml;examples/drupal-site/config/core.base_field_override.shortcut.default.title.yml;examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.changed.yml;examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.description.yml;examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.name.yml;examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.path.yml;examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.status.yml;examples/drupal-site/config/core.base_field_override.user.user.changed.yml;examples/drupal-site/config/core.base_field_override.user.user.path.yml;examples/drupal-site/config/core.entity_form_display.block_content.basic.default.yml;examples/drupal-site/config/core.entity_form_display.comment.comment.default.yml;examples/drupal-site/config/core.entity_form_display.media.audio.default.yml;examples/drupal-site/config/core.entity_form_display.media.audio.media_library.yml;examples/drupal-site/config/core.entity_form_display.media.document.default.yml;examples/drupal-site/config/core.entity_form_display.media.document.media_library.yml;examples/drupal-site/config/core.entity_form_display.media.image.default.yml;examples/drupal-site/config/core.entity_form_display.media.image.media_library.yml;examples/drupal-site/config/core.entity_form_display.media.remote_video.default.yml;examples/drupal-site/config/core.entity_form_display.media.remote_video.media_library.yml;examples/drupal-site/config/core.entity_form_display.media.video.default.yml;examples/drupal-site/config/core.entity_form_display.media.video.media_library.yml;examples/drupal-site/config/core.entity_form_display.node.article.default.yml;examples/drupal-site/config/core.entity_form_display.node.landing_page.default.yml;examples/drupal-site/config/core.entity_form_display.node.page.default.yml;examples/drupal-site/config/core.entity_form_display.user.user.default.yml;examples/drupal-site/config/core.entity_view_display.block_content.basic.default.yml;examples/drupal-site/config/core.entity_view_display.comment.comment.default.yml;examples/drupal-site/config/core.entity_view_display.media.audio.default.yml;examples/drupal-site/config/core.entity_view_display.media.audio.media_library.yml;examples/drupal-site/config/core.entity_view_display.media.document.default.yml;examples/drupal-site/config/core.entity_view_display.media.document.media_library.yml;examples/drupal-site/config/core.entity_view_display.media.image.default.yml;examples/drupal-site/config/core.entity_view_display.media.image.media_library.yml;examples/drupal-site/config/core.entity_view_display.media.remote_video.default.yml;examples/drupal-site/config/core.entity_view_display.media.remote_video.media_library.yml;examples/drupal-site/config/core.entity_view_display.media.video.default.yml;examples/drupal-site/config/core.entity_view_display.media.video.media_library.yml;examples/drupal-site/config/core.entity_view_display.node.article.default.yml;examples/drupal-site/config/core.entity_view_display.node.article.rss.yml;examples/drupal-site/config/core.entity_view_display.node.article.teaser.yml;examples/drupal-site/config/core.entity_view_display.node.landing_page.default.yml;examples/drupal-site/config/core.entity_view_display.node.landing_page.teaser.yml;examples/drupal-site/config/core.entity_view_display.node.page.default.yml;examples/drupal-site/config/core.entity_view_display.node.page.teaser.yml;examples/drupal-site/config/core.entity_view_display.paragraphs_library_item.paragraphs_library_item.summary.yml;examples/drupal-site/config/core.entity_view_display.user.user.compact.yml;examples/drupal-site/config/core.entity_view_display.user.user.default.yml;examples/drupal-site/config/core.entity_view_mode.comment.full.yml;examples/drupal-site/config/core.entity_view_mode.comment.token.yml;examples/drupal-site/config/core.extension.yml;examples/drupal-site/config/core.menu.static_menu_link_overrides.yml;examples/drupal-site/config/field.field.block_content.basic.body.yml;examples/drupal-site/config/field.field.comment.comment.comment_body.yml;examples/drupal-site/config/field.field.media.audio.field_media_audio_file.yml;examples/drupal-site/config/field.field.media.document.field_media_document.yml;examples/drupal-site/config/field.field.media.image.field_media_image.yml;examples/drupal-site/config/field.field.media.remote_video.field_media_oembed_video.yml;examples/drupal-site/config/field.field.media.video.field_media_video_file.yml;examples/drupal-site/config/field.field.node.article.comment.yml;examples/drupal-site/config/field.field.node.article.field_image.yml;examples/drupal-site/config/field.field.node.article.field_site.yml;examples/drupal-site/config/field.field.paragraph.cards.field_items.yml;examples/drupal-site/config/field.field.paragraph.feature.field_background_color.yml;examples/drupal-site/config/field.field.paragraph.feature.field_media_position.yml;examples/drupal-site/config/field.field.paragraph.hero.field_heading.yml;examples/drupal-site/config/field.field.paragraph.hero.field_media.yml;examples/drupal-site/config/field.field.paragraph.hero.field_text.yml;examples/drupal-site/config/field.field.user.user.user_picture.yml;examples/drupal-site/config/field.storage.comment.comment_body.yml;examples/drupal-site/config/field.storage.node.comment.yml;examples/drupal-site/config/language.content_settings.block_content.basic.yml;examples/drupal-site/config/language.content_settings.consumer.consumer.yml;examples/drupal-site/config/language.content_settings.contact_message.feedback.yml;examples/drupal-site/config/language.content_settings.contact_message.personal.yml;examples/drupal-site/config/language.content_settings.file.file.yml;examples/drupal-site/config/language.content_settings.media.audio.yml;examples/drupal-site/config/language.content_settings.media.document.yml;examples/drupal-site/config/language.content_settings.media.image.yml;examples/drupal-site/config/language.content_settings.media.remote_video.yml;examples/drupal-site/config/language.content_settings.media.video.yml;examples/drupal-site/config/language.content_settings.menu_link_content.menu_link_content.yml;examples/drupal-site/config/language.content_settings.node.article.yml;examples/drupal-site/config/language.content_settings.node.landing_page.yml;examples/drupal-site/config/language.content_settings.node.page.yml;examples/drupal-site/config/language.content_settings.paragraph.card.yml;examples/drupal-site/config/language.content_settings.paragraph.cards.yml;examples/drupal-site/config/language.content_settings.paragraph.collapsible.yml;examples/drupal-site/config/language.content_settings.paragraph.faq.yml;examples/drupal-site/config/language.content_settings.paragraph.feature.yml;examples/drupal-site/config/language.content_settings.paragraph.from_library.yml;examples/drupal-site/config/language.content_settings.paragraph.hero.yml;examples/drupal-site/config/language.content_settings.paragraphs_library_item.paragraphs_library_item.yml;examples/drupal-site/config/language.content_settings.path_alias.path_alias.yml;examples/drupal-site/config/language.content_settings.shortcut.default.yml;examples/drupal-site/config/language.content_settings.taxonomy_term.tags.yml;examples/drupal-site/config/language.content_settings.user.user.yml;examples/drupal-site/config/language.entity.en.yml;examples/drupal-site/config/language.entity.es.yml;examples/drupal-site/config/language.entity.und.yml;examples/drupal-site/config/language.entity.zxx.yml;examples/drupal-site/config/language.mappings.yml;examples/drupal-site/config/language.negotiation.yml;examples/drupal-site/config/language.types.yml;examples/drupal-site/config/node.type.article.yml;examples/drupal-site/config/node.type.page.yml;examples/drupal-site/config/pathauto.pattern.basic_page.yml;examples/drupal-site/config/pathauto.pattern.landing_page.yml;examples/drupal-site/config/rdf.mapping.comment.comment.yml;examples/drupal-site/config/search.settings.yml;examples/drupal-site/config/simple_oauth.settings.yml;examples/drupal-site/config/system.action.comment_delete_action.yml;examples/drupal-site/config/system.action.comment_publish_action.yml;examples/drupal-site/config/system.action.comment_save_action.yml;examples/drupal-site/config/system.action.comment_unpublish_action.yml;examples/drupal-site/config/system.site.yml;examples/drupal-site/config/tour.tour.language-add.yml;examples/drupal-site/config/tour.tour.language-edit.yml;examples/drupal-site/config/tour.tour.language.yml;examples/drupal-site/config/update.settings.yml;examples/drupal-site/config/views.view.comment.yml;examples/drupal-site/config/views.view.comments_recent.yml;examples/drupal-site/database/database.sqlite;examples/drupal-site/database/database.sqlite-shm;examples/drupal-site/database/database.sqlite-wal;examples/drupal-site/web/sites/default/files/2021-01/campaign-creators-gMsnXqILjp4-unsplash.jpg;examples/drupal-site/web/sites/default/files/2021-01/vince-gx-lDIjGidOrQ0-unsplash.jpg;examples/drupal-site/web/sites/default/files/2021-01/vince-gx-lDIjGidOrQ0-unsplash_0.jpg;examples/drupal-site/web/sites/default/files/2021-01/volkan-vardar-2U5VoTLRFnM-unsplash.jpg;examples/drupal-site/web/sites/default/files/2021-01/volkan-vardar-2U5VoTLRFnM-unsplash_0.jpg;examples/drupal-site/web/sites/default/settings.local.php;examples/drupal-site/web/sites/default/settings.php;www/src/config/site.ts,True,False,True,False,2795,2401,5196,"---FILE: .gitignore---
@@ -87,3 +87,4 @@ cypress/screenshots
 *__clone*
 dist
 examples/certificates/*
+examples/drupal-site/web/sites/default/settings.local.php

---FILE: examples/drupal-site/.gitignore---
@@ -26,4 +26,5 @@
 /.editorconfig
 /.gitattributes
 
-/oauth-keys/*.key
\ No newline at end of file
+/oauth-keys/*.key
+/web/sites/default/settings.local.php
\ No newline at end of file

---FILE: examples/drupal-site/config/comment.settings.yml---
@@ -1,3 +0,0 @@
-log_ip_addresses: false
-_core:
-  default_config_hash: YNUW2Ij5uE7a4oaXp3i_2lvaFdYM1zNKPPfnEjB0jEc

---FILE: examples/drupal-site/config/comment.type.comment.yml---
@@ -1,10 +0,0 @@
-uuid: 34dfca96-b693-4435-beda-b7c342c1cd16
-langcode: en
-status: true
-dependencies: {  }
-_core:
-  default_config_hash: bqZsN31T2n0UjcbyCpOPi9D2iO0sAOHR7FnEs9qMvaA
-id: comment
-label: 'Default comments'
-target_entity_type_id: node
-description: 'Allows commenting on content'

---FILE: examples/drupal-site/config/core.base_field_override.block_content.basic.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 1d754afb-9285-4407-a251-eb1f2b40bfdd
+langcode: es
+status: true
+dependencies:
+  config:
+    - block_content.type.basic
+id: block_content.basic.changed
+field_name: changed
+entity_type: block_content
+bundle: basic
+label: Changed
+description: 'The time that the custom block was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.block_content.basic.info.yml---
@@ -0,0 +1,18 @@
+uuid: fbbeed83-4b16-4591-91c0-c128cc82370c
+langcode: es
+status: true
+dependencies:
+  config:
+    - block_content.type.basic
+id: block_content.basic.info
+field_name: info
+entity_type: block_content
+bundle: basic
+label: 'Block description'
+description: 'A brief description of your block.'
+required: true
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.block_content.basic.status.yml---
@@ -0,0 +1,22 @@
+uuid: 2937470a-e36b-4ba0-982b-ac54e99ca1ad
+langcode: es
+status: true
+dependencies:
+  config:
+    - block_content.type.basic
+id: block_content.basic.status
+field_name: status
+entity_type: block_content
+bundle: basic
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.confidential.yml---
@@ -0,0 +1,22 @@
+uuid: 8cb11016-1433-4c75-9ad4-9ac3a2771d25
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.confidential
+field_name: confidential
+entity_type: consumer
+bundle: consumer
+label: 'Is Confidential?'
+description: 'A boolean indicating whether the client secret needs to be validated or not.'
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.description.yml---
@@ -0,0 +1,18 @@
+uuid: 234ab17f-3f16-4fc0-90c0-9ccdddbab103
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.description
+field_name: description
+entity_type: consumer
+bundle: consumer
+label: Description
+description: 'A description of the consumer. This text will be shown to the users to authorize sharing their data to create an access token.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string_long

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.image.yml---
@@ -0,0 +1,36 @@
+uuid: 2946b88f-74cd-4821-bede-91170146264b
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+    - image
+id: consumer.consumer.image
+field_name: image
+entity_type: consumer
+bundle: consumer
+label: Logo
+description: 'Logo of the consumer.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings:
+  file_extensions: 'png gif jpg jpeg'
+  alt_field: true
+  alt_field_required: true
+  title_field: false
+  title_field_required: false
+  max_resolution: ''
+  min_resolution: ''
+  default_image:
+    uuid: null
+    alt: ''
+    title: ''
+    width: null
+    height: null
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  max_filesize: ''
+  handler: default
+  handler_settings: {  }
+field_type: image

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.is_default.yml---
@@ -0,0 +1,22 @@
+uuid: 9f4ab3b0-8544-4ad3-8735-2ec380f48d66
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.is_default
+field_name: is_default
+entity_type: consumer
+bundle: consumer
+label: 'Is this the default consumer?'
+description: 'There can only be one default consumer. Mark this to use this consumer when none other applies.'
+required: false
+translatable: false
+default_value:
+  -
+    value: 0
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.label.yml---
@@ -0,0 +1,18 @@
+uuid: 8060edaa-9293-43ba-be58-2683f63fd905
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.label
+field_name: label
+entity_type: consumer
+bundle: consumer
+label: Label
+description: 'The consumer label.'
+required: true
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.owner_id.yml---
@@ -0,0 +1,20 @@
+uuid: 9ec89d2f-7e69-4a2e-891a-dc77229ba603
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.owner_id
+field_name: owner_id
+entity_type: consumer
+bundle: consumer
+label: 'User ID'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\consumers\Entity\Consumer::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.pkce.yml---
@@ -0,0 +1,22 @@
+uuid: 5c694501-4b61-4a0c-9dc7-1004a0030554
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.pkce
+field_name: pkce
+entity_type: consumer
+bundle: consumer
+label: 'Use PKCE?'
+description: 'A boolean indicating whether the client uses @pkce (e.g., a native client or SPA)'
+required: false
+translatable: false
+default_value:
+  -
+    value: 0
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.redirect.yml---
@@ -0,0 +1,18 @@
+uuid: 8eedb1e3-85f4-4bd5-86be-6aa4fc0a0dc4
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.redirect
+field_name: redirect
+entity_type: consumer
+bundle: consumer
+label: 'Redirect URI'
+description: 'The URI this client will redirect to when needed.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: uri

---FILE: examples/drupal-site/config/core.base_field_override.consumer.consumer.third_party.yml---
@@ -0,0 +1,22 @@
+uuid: 82ade3df-761a-4d02-ac0d-8a9ffb84c7be
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+id: consumer.consumer.third_party
+field_name: third_party
+entity_type: consumer
+bundle: consumer
+label: 'Is this consumer 3rd party?'
+description: 'Mark this if the organization behind this consumer is not the same as the one behind the Drupal API.'
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 0a591637-e387-4287-9b18-6cedcdec5ec6
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+id: media.audio.changed
+field_name: changed
+entity_type: media
+bundle: audio
+label: Changed
+description: 'The time the media item was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.created.yml---
@@ -0,0 +1,18 @@
+uuid: 394527b4-d5e3-4e0a-9505-76d92a750e56
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+id: media.audio.created
+field_name: created
+entity_type: media
+bundle: audio
+label: 'Authored on'
+description: 'The time the media item was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getRequestTime'
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.name.yml---
@@ -0,0 +1,20 @@
+uuid: 6be24e25-120b-4f09-b873-2f61891e9101
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+id: media.audio.name
+field_name: name
+entity_type: media
+bundle: audio
+label: Name
+description: ''
+required: true
+translatable: false
+default_value:
+  -
+    value: ''
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.path.yml---
@@ -0,0 +1,20 @@
+uuid: b78c3e76-bac7-45eb-87c3-c58a23ab9b46
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+  module:
+    - path
+id: media.audio.path
+field_name: path
+entity_type: media
+bundle: audio
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.status.yml---
@@ -0,0 +1,22 @@
+uuid: 80c5745b-0a0a-4567-a74d-cdd5e7842385
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+id: media.audio.status
+field_name: status
+entity_type: media
+bundle: audio
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.thumbnail.yml---
@@ -0,0 +1,37 @@
+uuid: 2d12aeb4-1287-458c-9a97-d3ad639a1565
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+  module:
+    - image
+id: media.audio.thumbnail
+field_name: thumbnail
+entity_type: media
+bundle: audio
+label: Thumbnail
+description: 'The thumbnail of the media item.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings:
+  file_extensions: 'png gif jpg jpeg'
+  alt_field: true
+  alt_field_required: true
+  title_field: false
+  title_field_required: false
+  max_resolution: ''
+  min_resolution: ''
+  default_image:
+    uuid: null
+    alt: ''
+    title: ''
+    width: null
+    height: null
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  max_filesize: ''
+  handler: default
+  handler_settings: {  }
+field_type: image

---FILE: examples/drupal-site/config/core.base_field_override.media.audio.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 8e702e86-9e32-4c7e-ace4-b90009772947
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+id: media.audio.uid
+field_name: uid
+entity_type: media
+bundle: audio
+label: 'Authored by'
+description: 'The user ID of the author.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.media.document.changed.yml---
@@ -0,0 +1,18 @@
+uuid: b25e0736-cb2a-4eaa-8885-16efbd29cf30
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+id: media.document.changed
+field_name: changed
+entity_type: media
+bundle: document
+label: Changed
+description: 'The time the media item was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.media.document.created.yml---
@@ -0,0 +1,18 @@
+uuid: 8a907d23-8d5d-4aa3-a74c-55d9c31a7732
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+id: media.document.created
+field_name: created
+entity_type: media
+bundle: document
+label: 'Authored on'
+description: 'The time the media item was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getRequestTime'
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.media.document.name.yml---
@@ -0,0 +1,20 @@
+uuid: 24f29b9d-00b3-411f-ac6a-aad52e3bad1b
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+id: media.document.name
+field_name: name
+entity_type: media
+bundle: document
+label: Name
+description: ''
+required: true
+translatable: false
+default_value:
+  -
+    value: ''
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.media.document.path.yml---
@@ -0,0 +1,20 @@
+uuid: f1fb97b0-c00c-42fb-942f-a13920080be1
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+  module:
+    - path
+id: media.document.path
+field_name: path
+entity_type: media
+bundle: document
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.base_field_override.media.document.status.yml---
@@ -0,0 +1,22 @@
+uuid: d9954f5d-d78c-4076-b604-447fcfbc8877
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+id: media.document.status
+field_name: status
+entity_type: media
+bundle: document
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.media.document.thumbnail.yml---
@@ -0,0 +1,37 @@
+uuid: ade47a52-7209-41f5-a28a-7ed6038a88d0
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+  module:
+    - image
+id: media.document.thumbnail
+field_name: thumbnail
+entity_type: media
+bundle: document
+label: Thumbnail
+description: 'The thumbnail of the media item.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings:
+  file_extensions: 'png gif jpg jpeg'
+  alt_field: true
+  alt_field_required: true
+  title_field: false
+  title_field_required: false
+  max_resolution: ''
+  min_resolution: ''
+  default_image:
+    uuid: null
+    alt: ''
+    title: ''
+    width: null
+    height: null
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  max_filesize: ''
+  handler: default
+  handler_settings: {  }
+field_type: image

---FILE: examples/drupal-site/config/core.base_field_override.media.document.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 901ef602-90c0-45cd-b0c2-b58f83804378
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+id: media.document.uid
+field_name: uid
+entity_type: media
+bundle: document
+label: 'Authored by'
+description: 'The user ID of the author.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.media.image.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 66bed61f-517f-4dd0-b455-96855c88c6db
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+id: media.image.changed
+field_name: changed
+entity_type: media
+bundle: image
+label: Changed
+description: 'The time the media item was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.media.image.created.yml---
@@ -0,0 +1,18 @@
+uuid: 55c0b32d-5e2a-4c94-9432-833f1c7b16e0
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+id: media.image.created
+field_name: created
+entity_type: media
+bundle: image
+label: 'Authored on'
+description: 'The time the media item was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getRequestTime'
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.media.image.name.yml---
@@ -0,0 +1,20 @@
+uuid: d6e3f439-fd49-4626-bce4-7d5735d9be04
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+id: media.image.name
+field_name: name
+entity_type: media
+bundle: image
+label: Name
+description: ''
+required: true
+translatable: false
+default_value:
+  -
+    value: ''
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.media.image.path.yml---
@@ -0,0 +1,20 @@
+uuid: c3e2916d-9529-4536-a07e-2808635622ae
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+  module:
+    - path
+id: media.image.path
+field_name: path
+entity_type: media
+bundle: image
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.base_field_override.media.image.status.yml---
@@ -0,0 +1,22 @@
+uuid: 45aa34ac-1528-4bd4-9e0f-b5e8e0c37f02
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+id: media.image.status
+field_name: status
+entity_type: media
+bundle: image
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.media.image.thumbnail.yml---
@@ -0,0 +1,37 @@
+uuid: 99be34d7-98ff-4155-8241-1b9480d14cef
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+  module:
+    - image
+id: media.image.thumbnail
+field_name: thumbnail
+entity_type: media
+bundle: image
+label: Thumbnail
+description: 'The thumbnail of the media item.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings:
+  file_extensions: 'png gif jpg jpeg'
+  alt_field: true
+  alt_field_required: true
+  title_field: false
+  title_field_required: false
+  max_resolution: ''
+  min_resolution: ''
+  default_image:
+    uuid: null
+    alt: ''
+    title: ''
+    width: null
+    height: null
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  max_filesize: ''
+  handler: default
+  handler_settings: {  }
+field_type: image

---FILE: examples/drupal-site/config/core.base_field_override.media.image.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 66033ba1-66f7-467f-8763-592d5451f268
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+id: media.image.uid
+field_name: uid
+entity_type: media
+bundle: image
+label: 'Authored by'
+description: 'The user ID of the author.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 7fa9cba8-cdda-4dee-9f0f-e6da34cb98ba
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+id: media.remote_video.changed
+field_name: changed
+entity_type: media
+bundle: remote_video
+label: Changed
+description: 'The time the media item was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.created.yml---
@@ -0,0 +1,18 @@
+uuid: 83005bea-c0ae-4b57-b5a4-5dffb59478fa
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+id: media.remote_video.created
+field_name: created
+entity_type: media
+bundle: remote_video
+label: 'Authored on'
+description: 'The time the media item was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getRequestTime'
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.name.yml---
@@ -0,0 +1,20 @@
+uuid: 04d32da4-bb8c-4f23-b758-1a00f30d3042
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+id: media.remote_video.name
+field_name: name
+entity_type: media
+bundle: remote_video
+label: Name
+description: ''
+required: true
+translatable: false
+default_value:
+  -
+    value: ''
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.path.yml---
@@ -0,0 +1,20 @@
+uuid: 4106d599-0ae8-425c-865e-426e1a3185ab
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+  module:
+    - path
+id: media.remote_video.path
+field_name: path
+entity_type: media
+bundle: remote_video
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.status.yml---
@@ -0,0 +1,22 @@
+uuid: e8022ee4-cc7b-4f2f-988a-5ac20cbdb9d5
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+id: media.remote_video.status
+field_name: status
+entity_type: media
+bundle: remote_video
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.thumbnail.yml---
@@ -0,0 +1,37 @@
+uuid: 04f1ca95-5d4d-4a3d-bffb-aa29b1a19c2e
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+  module:
+    - image
+id: media.remote_video.thumbnail
+field_name: thumbnail
+entity_type: media
+bundle: remote_video
+label: Thumbnail
+description: 'The thumbnail of the media item.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings:
+  file_extensions: 'png gif jpg jpeg'
+  alt_field: true
+  alt_field_required: true
+  title_field: false
+  title_field_required: false
+  max_resolution: ''
+  min_resolution: ''
+  default_image:
+    uuid: null
+    alt: ''
+    title: ''
+    width: null
+    height: null
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  max_filesize: ''
+  handler: default
+  handler_settings: {  }
+field_type: image

---FILE: examples/drupal-site/config/core.base_field_override.media.remote_video.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 817c1793-d736-4bb7-b0bc-da69b387b0d3
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+id: media.remote_video.uid
+field_name: uid
+entity_type: media
+bundle: remote_video
+label: 'Authored by'
+description: 'The user ID of the author.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.media.video.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 40d751aa-e77c-4b27-b690-a24c7e938be5
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+id: media.video.changed
+field_name: changed
+entity_type: media
+bundle: video
+label: Changed
+description: 'The time the media item was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.media.video.created.yml---
@@ -0,0 +1,18 @@
+uuid: b6522a5b-9302-42d5-859b-07f5ccfcde73
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+id: media.video.created
+field_name: created
+entity_type: media
+bundle: video
+label: 'Authored on'
+description: 'The time the media item was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getRequestTime'
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.media.video.name.yml---
@@ -0,0 +1,20 @@
+uuid: 64064f67-c28a-45a1-8963-6f965f553d83
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+id: media.video.name
+field_name: name
+entity_type: media
+bundle: video
+label: Name
+description: ''
+required: true
+translatable: false
+default_value:
+  -
+    value: ''
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.media.video.path.yml---
@@ -0,0 +1,20 @@
+uuid: 1ae19a20-a785-48da-a529-a833b712c7c3
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+  module:
+    - path
+id: media.video.path
+field_name: path
+entity_type: media
+bundle: video
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.base_field_override.media.video.status.yml---
@@ -0,0 +1,22 @@
+uuid: d5e5857d-37e6-4ab8-bb75-a64c064fc0d4
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+id: media.video.status
+field_name: status
+entity_type: media
+bundle: video
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.media.video.thumbnail.yml---
@@ -0,0 +1,37 @@
+uuid: bc6060d2-e849-4dfd-b2c1-ff8cab1a4da1
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+  module:
+    - image
+id: media.video.thumbnail
+field_name: thumbnail
+entity_type: media
+bundle: video
+label: Thumbnail
+description: 'The thumbnail of the media item.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings:
+  file_extensions: 'png gif jpg jpeg'
+  alt_field: true
+  alt_field_required: true
+  title_field: false
+  title_field_required: false
+  max_resolution: ''
+  min_resolution: ''
+  default_image:
+    uuid: null
+    alt: ''
+    title: ''
+    width: null
+    height: null
+  file_directory: '[date:custom:Y]-[date:custom:m]'
+  max_filesize: ''
+  handler: default
+  handler_settings: {  }
+field_type: image

---FILE: examples/drupal-site/config/core.base_field_override.media.video.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 68552cdb-4c84-4e44-aea8-e0c9d5c6f06a
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+id: media.video.uid
+field_name: uid
+entity_type: media
+bundle: video
+label: 'Authored by'
+description: 'The user ID of the author.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\media\Entity\Media::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.menu_link_content.menu_link_content.changed.yml---
@@ -0,0 +1,18 @@
+uuid: dec5bd9b-fcdb-424a-9cc1-ccabd6b37663
+langcode: es
+status: true
+dependencies:
+  module:
+    - menu_link_content
+id: menu_link_content.menu_link_content.changed
+field_name: changed
+entity_type: menu_link_content
+bundle: menu_link_content
+label: Changed
+description: 'The time that the menu link was last edited.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.menu_link_content.menu_link_content.description.yml---
@@ -0,0 +1,18 @@
+uuid: e0976a73-4b72-44e3-b505-8f05a918d081
+langcode: es
+status: true
+dependencies:
+  module:
+    - menu_link_content
+id: menu_link_content.menu_link_content.description
+field_name: description
+entity_type: menu_link_content
+bundle: menu_link_content
+label: Description
+description: 'Shown when hovering over the menu link.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.menu_link_content.menu_link_content.title.yml---
@@ -0,0 +1,18 @@
+uuid: a3969178-309e-4e3e-b50a-eaa66ae8487a
+langcode: es
+status: true
+dependencies:
+  module:
+    - menu_link_content
+id: menu_link_content.menu_link_content.title
+field_name: title
+entity_type: menu_link_content
+bundle: menu_link_content
+label: 'Menu link title'
+description: 'The text to be used for this link in the menu.'
+required: true
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.node.article.changed.yml---
@@ -0,0 +1,18 @@
+uuid: d82bd963-7f84-4990-9a84-12c38f043bc9
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.changed
+field_name: changed
+entity_type: node
+bundle: article
+label: Changed
+description: 'The time that the node was last edited.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.node.article.created.yml---
@@ -0,0 +1,18 @@
+uuid: 757a505f-98a5-4558-9248-63af79545064
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.created
+field_name: created
+entity_type: node
+bundle: article
+label: 'Authored on'
+description: 'The time that the node was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.node.article.menu_link.yml---
@@ -0,0 +1,20 @@
+uuid: baf2839b-3827-4bca-b44c-d50fbaa3a2f4
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.menu_link
+field_name: menu_link
+entity_type: node
+bundle: article
+label: 'Menu link'
+description: 'Computed menu link for the node (only available during node saving).'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.node.article.promote.yml---
@@ -0,0 +1,22 @@
+uuid: 4c5f2b35-72bc-4ae4-875b-2c186d63814b
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.promote
+field_name: promote
+entity_type: node
+bundle: article
+label: 'Promoted to front page'
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.node.article.status.yml---
@@ -0,0 +1,22 @@
+uuid: 23279170-22e5-42a8-9fe1-02c05fcfd2fb
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.status
+field_name: status
+entity_type: node
+bundle: article
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.node.article.sticky.yml---
@@ -0,0 +1,22 @@
+uuid: f48ea730-f351-4425-932f-68f5ef6779f7
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.sticky
+field_name: sticky
+entity_type: node
+bundle: article
+label: 'Sticky at top of lists'
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 0
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.node.article.title.yml---
@@ -0,0 +1,18 @@
+uuid: 60efdea2-e31d-49b5-9ac4-c17f5eea4bd0
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.title
+field_name: title
+entity_type: node
+bundle: article
+label: Title
+description: ''
+required: true
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.node.article.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 09861e6d-ad7a-4192-9a86-4cea9b4a4e7e
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.article
+id: node.article.uid
+field_name: uid
+entity_type: node
+bundle: article
+label: 'Authored by'
+description: 'The username of the content author.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: 'Drupal\node\Entity\Node::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.changed.yml---
@@ -0,0 +1,18 @@
+uuid: d48a461b-8e34-4949-a226-d999921d4e39
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.changed
+field_name: changed
+entity_type: node
+bundle: landing_page
+label: Changed
+description: 'The time that the node was last edited.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.created.yml---
@@ -0,0 +1,18 @@
+uuid: a2fefbb5-a2d5-4e40-b06f-205ee09dfed4
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.created
+field_name: created
+entity_type: node
+bundle: landing_page
+label: 'Authored on'
+description: 'The time that the node was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.menu_link.yml---
@@ -0,0 +1,20 @@
+uuid: 4800682f-1a55-42af-8369-f8e7ef95212c
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.menu_link
+field_name: menu_link
+entity_type: node
+bundle: landing_page
+label: 'Menu link'
+description: 'Computed menu link for the node (only available during node saving).'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.status.yml---
@@ -0,0 +1,22 @@
+uuid: 1adde23e-c9a9-43c6-a8b8-f3c112bd9211
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.status
+field_name: status
+entity_type: node
+bundle: landing_page
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.sticky.yml---
@@ -0,0 +1,22 @@
+uuid: 2157efda-089d-4462-98d1-26b425c4f97d
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.sticky
+field_name: sticky
+entity_type: node
+bundle: landing_page
+label: 'Sticky at top of lists'
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 0
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.title.yml---
@@ -0,0 +1,18 @@
+uuid: 904c243c-e58e-472c-936e-5ddff35a815b
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.title
+field_name: title
+entity_type: node
+bundle: landing_page
+label: Title
+description: ''
+required: true
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.node.landing_page.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 2ae54b27-c98e-4608-b7da-b2d2b0948d13
+langcode: es
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+id: node.landing_page.uid
+field_name: uid
+entity_type: node
+bundle: landing_page
+label: 'Authored by'
+description: 'The username of the content author.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: 'Drupal\node\Entity\Node::getDefaultEntityOwner'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.node.page.promote.yml---
@@ -13,7 +13,7 @@ bundle: page
 label: 'Promoted to front page'
 description: ''
 required: false
-translatable: false
+translatable: true
 default_value:
   -
     value: 0

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.card.created.yml---
@@ -0,0 +1,18 @@
+uuid: 8448f3fd-253c-4492-9609-88ec0ecd5e93
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.card
+id: paragraph.card.created
+field_name: created
+entity_type: paragraph
+bundle: card
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.card.status.yml---
@@ -0,0 +1,22 @@
+uuid: ab5cb320-c8d7-47cc-a621-53a1aadde1d6
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.card
+id: paragraph.card.status
+field_name: status
+entity_type: paragraph
+bundle: card
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.cards.created.yml---
@@ -0,0 +1,18 @@
+uuid: f3a77f31-3490-4587-b613-377e3f2d18df
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.cards
+id: paragraph.cards.created
+field_name: created
+entity_type: paragraph
+bundle: cards
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.cards.status.yml---
@@ -0,0 +1,22 @@
+uuid: fe74d344-755b-47d3-bf46-59a1698973f0
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.cards
+id: paragraph.cards.status
+field_name: status
+entity_type: paragraph
+bundle: cards
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.collapsible.created.yml---
@@ -0,0 +1,18 @@
+uuid: 54c888fc-ec60-41bd-b43f-9ea3f5a62406
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.collapsible
+id: paragraph.collapsible.created
+field_name: created
+entity_type: paragraph
+bundle: collapsible
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.collapsible.status.yml---
@@ -0,0 +1,22 @@
+uuid: b1a03c29-a351-4cd4-a305-f8c9e131c64c
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.collapsible
+id: paragraph.collapsible.status
+field_name: status
+entity_type: paragraph
+bundle: collapsible
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.faq.created.yml---
@@ -0,0 +1,18 @@
+uuid: b86c64b6-de51-477b-863d-3a3ba39a2840
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.faq
+id: paragraph.faq.created
+field_name: created
+entity_type: paragraph
+bundle: faq
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.faq.status.yml---
@@ -0,0 +1,22 @@
+uuid: 7c98cee1-05d3-41bb-8459-5096ceb2a32c
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.faq
+id: paragraph.faq.status
+field_name: status
+entity_type: paragraph
+bundle: faq
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.feature.created.yml---
@@ -0,0 +1,18 @@
+uuid: fe8e709c-6736-4698-905c-98034b17722c
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.feature
+id: paragraph.feature.created
+field_name: created
+entity_type: paragraph
+bundle: feature
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.feature.status.yml---
@@ -0,0 +1,22 @@
+uuid: 466eb035-d40a-4fc8-bfd1-28ffb45c3feb
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.feature
+id: paragraph.feature.status
+field_name: status
+entity_type: paragraph
+bundle: feature
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.from_library.created.yml---
@@ -0,0 +1,18 @@
+uuid: 4313bd09-79ca-402e-9b3b-129a458793bf
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.from_library
+id: paragraph.from_library.created
+field_name: created
+entity_type: paragraph
+bundle: from_library
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.from_library.status.yml---
@@ -0,0 +1,22 @@
+uuid: 12b96cc7-1c9c-4dd3-8254-144115f96f48
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.from_library
+id: paragraph.from_library.status
+field_name: status
+entity_type: paragraph
+bundle: from_library
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.hero.created.yml---
@@ -0,0 +1,18 @@
+uuid: 8160bbf1-b790-42ba-898c-592a5ecb756f
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.hero
+id: paragraph.hero.created
+field_name: created
+entity_type: paragraph
+bundle: hero
+label: 'Authored on'
+description: 'The time that the Paragraph was created.'
+required: false
+translatable: true
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraph.hero.status.yml---
@@ -0,0 +1,22 @@
+uuid: 58ce6ef3-5548-4287-a73d-6c33899104f7
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.hero
+id: paragraph.hero.status
+field_name: status
+entity_type: paragraph
+bundle: hero
+label: Published
+description: ''
+required: false
+translatable: true
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 0ecf07cd-f39e-452d-9e25-17c5d082d576
+langcode: es
+status: true
+dependencies:
+  module:
+    - paragraphs_library
+id: paragraphs_library_item.paragraphs_library_item.changed
+field_name: changed
+entity_type: paragraphs_library_item
+bundle: paragraphs_library_item
+label: Changed
+description: 'The time that the library item was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.created.yml---
@@ -0,0 +1,18 @@
+uuid: 70a5fab7-c35f-4d2e-938e-8bb7a9f68b70
+langcode: es
+status: true
+dependencies:
+  module:
+    - paragraphs_library
+id: paragraphs_library_item.paragraphs_library_item.created
+field_name: created
+entity_type: paragraphs_library_item
+bundle: paragraphs_library_item
+label: 'Authored on'
+description: 'The time that the library item was created.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: created

---FILE: examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.label.yml---
@@ -0,0 +1,18 @@
+uuid: 9a353d7c-106f-4d11-bb16-cecbc62a4254
+langcode: es
+status: true
+dependencies:
+  module:
+    - paragraphs_library
+id: paragraphs_library_item.paragraphs_library_item.label
+field_name: label
+entity_type: paragraphs_library_item
+bundle: paragraphs_library_item
+label: Label
+description: ''
+required: true
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.status.yml---
@@ -0,0 +1,22 @@
+uuid: a7362d2c-89c1-4c9d-bdb5-07cd2b83390d
+langcode: es
+status: true
+dependencies:
+  module:
+    - paragraphs_library
+id: paragraphs_library_item.paragraphs_library_item.status
+field_name: status
+entity_type: paragraphs_library_item
+bundle: paragraphs_library_item
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.paragraphs_library_item.paragraphs_library_item.uid.yml---
@@ -0,0 +1,20 @@
+uuid: 3365ec59-cfd3-4566-a4e8-4e45445eac80
+langcode: es
+status: true
+dependencies:
+  module:
+    - paragraphs_library
+id: paragraphs_library_item.paragraphs_library_item.uid
+field_name: uid
+entity_type: paragraphs_library_item
+bundle: paragraphs_library_item
+label: 'Authored by'
+description: 'The user ID of the library item author.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: 'Drupal\paragraphs_library\Entity\LibraryItem::getCurrentUserId'
+settings:
+  handler: default
+  handler_settings: {  }
+field_type: entity_reference

---FILE: examples/drupal-site/config/core.base_field_override.shortcut.default.title.yml---
@@ -0,0 +1,18 @@
+uuid: d246e1ce-5159-4f7c-97a1-578cf7eabfd8
+langcode: es
+status: true
+dependencies:
+  config:
+    - shortcut.set.default
+id: shortcut.default.title
+field_name: title
+entity_type: shortcut
+bundle: default
+label: Name
+description: 'The name of the shortcut.'
+required: true
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 5784f3de-5762-4866-bcaa-7b0f162bd9d0
+langcode: es
+status: true
+dependencies:
+  config:
+    - taxonomy.vocabulary.tags
+id: taxonomy_term.tags.changed
+field_name: changed
+entity_type: taxonomy_term
+bundle: tags
+label: Changed
+description: 'The time that the term was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.description.yml---
@@ -0,0 +1,20 @@
+uuid: 8c76aa31-b13e-40a6-a743-5bb2c91dbca4
+langcode: es
+status: true
+dependencies:
+  config:
+    - taxonomy.vocabulary.tags
+  module:
+    - text
+id: taxonomy_term.tags.description
+field_name: description
+entity_type: taxonomy_term
+bundle: tags
+label: Description
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: text_long

---FILE: examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.name.yml---
@@ -0,0 +1,18 @@
+uuid: 2fd000a3-7cdf-4947-8da4-3a70bb1354ab
+langcode: es
+status: true
+dependencies:
+  config:
+    - taxonomy.vocabulary.tags
+id: taxonomy_term.tags.name
+field_name: name
+entity_type: taxonomy_term
+bundle: tags
+label: Name
+description: ''
+required: true
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: string

---FILE: examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.path.yml---
@@ -0,0 +1,20 @@
+uuid: 577a4197-0d77-4bcd-be2f-8db20880bdba
+langcode: es
+status: true
+dependencies:
+  config:
+    - taxonomy.vocabulary.tags
+  module:
+    - path
+id: taxonomy_term.tags.path
+field_name: path
+entity_type: taxonomy_term
+bundle: tags
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.base_field_override.taxonomy_term.tags.status.yml---
@@ -0,0 +1,22 @@
+uuid: a1c5d23e-a94b-48ef-a74d-44d87c5eb17f
+langcode: es
+status: true
+dependencies:
+  config:
+    - taxonomy.vocabulary.tags
+id: taxonomy_term.tags.status
+field_name: status
+entity_type: taxonomy_term
+bundle: tags
+label: Published
+description: ''
+required: false
+translatable: false
+default_value:
+  -
+    value: 1
+default_value_callback: ''
+settings:
+  on_label: 'On'
+  off_label: 'Off'
+field_type: boolean

---FILE: examples/drupal-site/config/core.base_field_override.user.user.changed.yml---
@@ -0,0 +1,18 @@
+uuid: 5012b9a6-312c-4654-b688-43edcc988991
+langcode: es
+status: true
+dependencies:
+  module:
+    - user
+id: user.user.changed
+field_name: changed
+entity_type: user
+bundle: user
+label: Changed
+description: 'The time that the user was last edited.'
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: changed

---FILE: examples/drupal-site/config/core.base_field_override.user.user.path.yml---
@@ -0,0 +1,19 @@
+uuid: 9b20e182-6791-454b-b304-273d8de9a122
+langcode: es
+status: true
+dependencies:
+  module:
+    - path
+    - user
+id: user.user.path
+field_name: path
+entity_type: user
+bundle: user
+label: 'URL alias'
+description: ''
+required: false
+translatable: false
+default_value: {  }
+default_value_callback: ''
+settings: {  }
+field_type: path

---FILE: examples/drupal-site/config/core.entity_form_display.block_content.basic.default.yml---
@@ -32,4 +32,11 @@ content:
       size: 60
       placeholder: ''
     third_party_settings: {  }
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
 hidden: {  }

---FILE: examples/drupal-site/config/core.entity_form_display.comment.comment.default.yml---
@@ -1,36 +0,0 @@
-uuid: fa0e0d1c-1e61-41bf-9e28-099ffe9f5fc2
-langcode: en
-status: true
-dependencies:
-  config:
-    - comment.type.comment
-    - field.field.comment.comment.comment_body
-  module:
-    - text
-_core:
-  default_config_hash: I0Pa0aQvT_jawlPo9oz4FE3h_ickc55dYKTPl6gILes
-id: comment.comment.default
-targetEntityType: comment
-bundle: comment
-mode: default
-content:
-  author:
-    weight: -2
-    region: content
-  comment_body:
-    type: text_textarea
-    weight: 11
-    region: content
-    settings:
-      rows: 5
-      placeholder: ''
-    third_party_settings: {  }
-  subject:
-    type: string_textfield
-    weight: 10
-    region: content
-    settings:
-      size: 60
-      placeholder: ''
-    third_party_settings: {  }
-hidden: {  }

---FILE: examples/drupal-site/config/core.entity_form_display.media.audio.default.yml---
@@ -28,6 +28,13 @@ content:
     third_party_settings: {  }
     type: file_generic
     region: content
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 30

---FILE: examples/drupal-site/config/core.entity_form_display.media.audio.media_library.yml---
@@ -12,7 +12,14 @@ id: media.audio.media_library
 targetEntityType: media
 bundle: audio
 mode: media_library
-content: {  }
+content:
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
 hidden:
   created: true
   field_media_audio_file: true

---FILE: examples/drupal-site/config/core.entity_form_display.media.document.default.yml---
@@ -28,6 +28,13 @@ content:
     type: file_generic
     weight: 0
     region: content
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 30

---FILE: examples/drupal-site/config/core.entity_form_display.media.document.media_library.yml---
@@ -12,7 +12,14 @@ id: media.document.media_library
 targetEntityType: media
 bundle: document
 mode: media_library
-content: {  }
+content:
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
 hidden:
   created: true
   field_media_document: true

---FILE: examples/drupal-site/config/core.entity_form_display.media.image.default.yml---
@@ -30,6 +30,13 @@ content:
     type: image_image
     weight: 0
     region: content
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 30

---FILE: examples/drupal-site/config/core.entity_form_display.media.image.media_library.yml---
@@ -24,6 +24,13 @@ content:
       progress_indicator: throbber
       preview_image_style: thumbnail
     third_party_settings: {  }
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
 hidden:
   created: true
   name: true

---FILE: examples/drupal-site/config/core.entity_form_display.media.remote_video.default.yml---
@@ -29,6 +29,13 @@ content:
       placeholder: ''
     third_party_settings: {  }
     region: content
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 30

---FILE: examples/drupal-site/config/core.entity_form_display.media.remote_video.media_library.yml---
@@ -12,7 +12,14 @@ id: media.remote_video.media_library
 targetEntityType: media
 bundle: remote_video
 mode: media_library
-content: {  }
+content:
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
 hidden:
   created: true
   field_media_oembed_video: true

---FILE: examples/drupal-site/config/core.entity_form_display.media.video.default.yml---
@@ -28,6 +28,13 @@ content:
     third_party_settings: {  }
     type: file_generic
     region: content
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 30

---FILE: examples/drupal-site/config/core.entity_form_display.media.video.media_library.yml---
@@ -12,7 +12,14 @@ id: media.video.media_library
 targetEntityType: media
 bundle: video
 mode: media_library
-content: {  }
+content:
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
 hidden:
   created: true
   field_media_video_file: true

---FILE: examples/drupal-site/config/core.entity_form_display.node.article.default.yml---
@@ -4,14 +4,12 @@ status: true
 dependencies:
   config:
     - field.field.node.article.body
-    - field.field.node.article.comment
     - field.field.node.article.field_image
     - field.field.node.article.field_site
     - field.field.node.article.field_tags
     - image.style.thumbnail
     - node.type.article
   module:
-    - comment
     - image
     - path
     - text
@@ -32,12 +30,6 @@ content:
       placeholder: ''
       show_summary: false
     third_party_settings: {  }
-  comment:
-    type: comment_default
-    weight: 9
-    region: content
-    settings: {  }
-    third_party_settings: {  }
   created:
     type: datetime_timestamp
     weight: 6
@@ -68,6 +60,13 @@ content:
       size: 60
       placeholder: ''
     third_party_settings: {  }
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 10

---FILE: examples/drupal-site/config/core.entity_form_display.node.landing_page.default.yml---
@@ -38,6 +38,13 @@ content:
         duplicate: '0'
     third_party_settings: {  }
     region: content
+  langcode:
+    type: language_select
+    weight: 2
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
     weight: 6

---FILE: examples/drupal-site/config/core.entity_form_display.node.page.default.yml---
@@ -17,7 +17,7 @@ mode: default
 content:
   body:
     type: text_textarea_with_summary
-    weight: 31
+    weight: 8
     region: content
     settings:
       rows: 9
@@ -27,53 +27,66 @@ content:
     third_party_settings: {  }
   created:
     type: datetime_timestamp
-    weight: 10
+    weight: 3
     region: content
     settings: {  }
     third_party_settings: {  }
+  langcode:
+    type: language_select
+    weight: 1
+    region: content
+    settings:
+      include_locked: true
+    third_party_settings: {  }
   path:
     type: path
-    weight: 30
+    weight: 7
     region: content
     settings: {  }
     third_party_settings: {  }
   promote:
     type: boolean_checkbox
     settings:
       display_label: true
-    weight: 15
+    weight: 5
     region: content
     third_party_settings: {  }
   status:
     type: boolean_checkbox
     settings:
       display_label: true
-    weight: 120
+    weight: 10
     region: content
     third_party_settings: {  }
   sticky:
     type: boolean_checkbox
     settings:
       display_label: true
-    weight: 16
+    weight: 6
     region: content
     third_party_settings: {  }
   title:
     type: string_textfield
-    weight: -5
+    weight: 0
     region: content
     settings:
       size: 60
       placeholder: ''
     third_party_settings: {  }
+  translation:
+    weight: 4
+    region: content
+    settings: {  }
+    third_party_settings: {  }
   uid:
     type: entity_reference_autocomplete
-    weight: 5
+    weight: 2
     region: content
     settings:
       match_operator: CONTAINS
       match_limit: 10
       size: 60
       placeholder: ''
     third_party_settings: {  }
-hidden: {  }
+hidden:
+  content_translations: true

---FILE: examples/drupal-site/config/core.entity_form_display.user.user.default.yml---
@@ -59,4 +59,5 @@ content:
     third_party_settings: {  }
     weight: 2
     region: content
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.block_content.basic.default.yml---
@@ -21,4 +21,5 @@ content:
     region: content
     settings: {  }
     third_party_settings: {  }
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.comment.comment.default.yml---
@@ -1,27 +0,0 @@
-uuid: 830ac7ac-8a26-4708-9266-7ca1b7992564
-langcode: en
-status: true
-dependencies:
-  config:
-    - comment.type.comment
-    - field.field.comment.comment.comment_body
-  module:
-    - text
-_core:
-  default_config_hash: 77Ye1kR-P6AaiGfEO8mnXNSr7nqtnP3PiiVBwJeGGMI
-id: comment.comment.default
-targetEntityType: comment
-bundle: comment
-mode: default
-content:
-  comment_body:
-    label: hidden
-    type: text_default
-    weight: 0
-    region: content
-    settings: {  }
-    third_party_settings: {  }
-  links:
-    weight: 100
-    region: content
-hidden: {  }

---FILE: examples/drupal-site/config/core.entity_view_display.media.audio.default.yml---
@@ -27,6 +27,7 @@ content:
     region: content
 hidden:
   created: true
+  langcode: true
   name: true
   thumbnail: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.audio.media_library.yml---
@@ -28,5 +28,6 @@ content:
 hidden:
   created: true
   field_media_audio_file: true
+  langcode: true
   name: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.document.default.yml---
@@ -23,6 +23,7 @@ content:
     region: content
 hidden:
   created: true
+  langcode: true
   name: true
   thumbnail: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.document.media_library.yml---
@@ -28,5 +28,6 @@ content:
 hidden:
   created: true
   field_media_document: true
+  langcode: true
   name: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.image.default.yml---
@@ -26,6 +26,7 @@ content:
     region: content
 hidden:
   created: true
+  langcode: true
   name: true
   thumbnail: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.image.media_library.yml---
@@ -28,5 +28,6 @@ content:
 hidden:
   created: true
   field_media_image: true
+  langcode: true
   name: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.remote_video.default.yml---
@@ -25,6 +25,7 @@ content:
     region: content
 hidden:
   created: true
+  langcode: true
   name: true
   thumbnail: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.remote_video.media_library.yml---
@@ -28,5 +28,6 @@ content:
 hidden:
   created: true
   field_media_oembed_video: true
+  langcode: true
   name: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.video.default.yml---
@@ -30,6 +30,7 @@ content:
     region: content
 hidden:
   created: true
+  langcode: true
   name: true
   thumbnail: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.media.video.media_library.yml---
@@ -28,5 +28,6 @@ content:
 hidden:
   created: true
   field_media_video_file: true
+  langcode: true
   name: true
   uid: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.article.default.yml---
@@ -3,16 +3,13 @@ langcode: en
 status: true
 dependencies:
   config:
-    - core.entity_view_display.comment.comment.default
     - field.field.node.article.body
-    - field.field.node.article.comment
     - field.field.node.article.field_image
     - field.field.node.article.field_site
     - field.field.node.article.field_tags
     - image.style.large
     - node.type.article
   module:
-    - comment
     - image
     - text
     - user
@@ -30,15 +27,6 @@ content:
     settings: {  }
     third_party_settings: {  }
     label: hidden
-  comment:
-    type: comment_default
-    weight: 110
-    region: content
-    label: above
-    settings:
-      view_mode: default
-      pager_id: 0
-    third_party_settings: {  }
   field_image:
     type: image
     weight: -1
@@ -69,4 +57,5 @@ content:
     region: content
     settings: {  }
     third_party_settings: {  }
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.article.rss.yml---
@@ -5,7 +5,6 @@ dependencies:
   config:
     - core.entity_view_mode.node.rss
     - field.field.node.article.body
-    - field.field.node.article.comment
     - field.field.node.article.field_image
     - field.field.node.article.field_site
     - field.field.node.article.field_tags
@@ -24,7 +23,7 @@ content:
     region: content
 hidden:
   body: true
-  comment: true
   field_image: true
   field_site: true
   field_tags: true
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.article.teaser.yml---
@@ -5,7 +5,6 @@ dependencies:
   config:
     - core.entity_view_mode.node.teaser
     - field.field.node.article.body
-    - field.field.node.article.comment
     - field.field.node.article.field_image
     - field.field.node.article.field_site
     - field.field.node.article.field_tags
@@ -51,7 +50,7 @@ content:
     weight: 100
     region: content
 hidden:
-  comment: true
   field_image: true
   field_site: true
   field_tags: true
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.landing_page.default.yml---
@@ -27,4 +27,5 @@ content:
     settings: {  }
     third_party_settings: {  }
     region: content
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.landing_page.teaser.yml---
@@ -20,3 +20,4 @@ content:
     region: content
 hidden:
   field_sections: true
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.page.default.yml---
@@ -25,4 +25,5 @@ content:
   links:
     weight: 101
     region: content
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.page.teaser.yml---
@@ -27,4 +27,5 @@ content:
   links:
     weight: 101
     region: content
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.paragraphs_library_item.paragraphs_library_item.summary.yml---
@@ -29,4 +29,5 @@ content:
     region: content
     settings: {  }
     third_party_settings: {  }
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_display.user.user.compact.yml---
@@ -28,4 +28,5 @@ content:
     label: hidden
 hidden:
   field_name: true
+  langcode: true
   member_for: true

---FILE: examples/drupal-site/config/core.entity_view_display.user.user.default.yml---
@@ -36,4 +36,5 @@ content:
       image_link: content
     third_party_settings: {  }
     label: hidden
-hidden: {  }
+hidden:
+  langcode: true

---FILE: examples/drupal-site/config/core.entity_view_mode.comment.full.yml---
@@ -1,12 +0,0 @@
-uuid: 81c1d611-08e3-4ad8-90f4-7369939346d0
-langcode: en
-status: false
-dependencies:
-  module:
-    - comment
-_core:
-  default_config_hash: K7eNlfU7NEUajz01wItywZklr2oaPgL6s1_97fmDXLA
-id: comment.full
-label: 'Full comment'
-targetEntityType: comment
-cache: true

---FILE: examples/drupal-site/config/core.entity_view_mode.comment.token.yml---
@@ -1,10 +0,0 @@
-uuid: 90eba932-31f6-4e46-bf3e-4fbc479c4335
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-id: comment.token
-label: Token
-targetEntityType: comment
-cache: true

---FILE: examples/drupal-site/config/core.extension.yml---
@@ -7,7 +7,6 @@ module:
   block_content: 0
   breakpoint: 0
   ckeditor: 0
-  comment: 0
   config: 0
   consumers: 0
   contact: 0
@@ -16,7 +15,6 @@ module:
   datetime: 0
   dblog: 0
   decoupled_router: 0
-  default_content: 0
   dynamic_page_cache: 0
   editor: 0
   entity_reference_revisions: 0
@@ -32,13 +30,14 @@ module:
   jsonapi: 0
   jsonapi_menu_items: 0
   jsonapi_resources: 0
+  language: 0
   link: 0
   media: 0
   media_library: 0
   menu_link_content: 0
   menu_ui: 0
   next: 0
-  next_default_content: 0
+  next_extras: 0
   next_jsonapi: 0
   node: 0
   options: 0
@@ -63,6 +62,7 @@ module:
   user: 0
   views_ui: 0
   pathauto: 1
+  content_translation: 10
   views: 10
   paragraphs: 11
   standard: 1000

---FILE: examples/drupal-site/config/core.menu.static_menu_link_overrides.yml---
@@ -6,10 +6,10 @@ definitions:
     expanded: false
     weight: -48
   standard__front_page:
-    weight: -50
     menu_name: main
     parent: ''
+    weight: -50
     expanded: false
-    enabled: true
+    enabled: false
 _core:
   default_config_hash: o4bYR9ZupWb3AsOIizTUG4g-nu1mdJqA59UB7QT-ifQ

---FILE: examples/drupal-site/config/field.field.block_content.basic.body.yml---
@@ -16,7 +16,7 @@ bundle: basic
 label: Body
 description: ''
 required: false
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.comment.comment.comment_body.yml---
@@ -1,23 +0,0 @@
-uuid: 9cea3c98-f469-4134-876c-4e3241197d19
-langcode: en
-status: true
-dependencies:
-  config:
-    - comment.type.comment
-    - field.storage.comment.comment_body
-  module:
-    - text
-_core:
-  default_config_hash: TmAKjNrJ7RR60YpqvJq_QqEewYe_S8Kd23n8VRCqiWs
-id: comment.comment.comment_body
-field_name: comment_body
-entity_type: comment
-bundle: comment
-label: Comment
-description: ''
-required: true
-translatable: true
-default_value: {  }
-default_value_callback: ''
-settings: {  }
-field_type: text_long

---FILE: examples/drupal-site/config/field.field.media.audio.field_media_audio_file.yml---
@@ -16,7 +16,7 @@ bundle: audio
 label: 'Audio file'
 description: ''
 required: true
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.media.document.field_media_document.yml---
@@ -19,7 +19,7 @@ bundle: document
 label: Document
 description: ''
 required: true
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.media.image.field_media_image.yml---
@@ -19,7 +19,7 @@ bundle: image
 label: Image
 description: ''
 required: true
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.media.remote_video.field_media_oembed_video.yml---
@@ -14,7 +14,7 @@ bundle: remote_video
 label: 'Video URL'
 description: ''
 required: true
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings: {  }

---FILE: examples/drupal-site/config/field.field.media.video.field_media_video_file.yml---
@@ -16,7 +16,7 @@ bundle: video
 label: 'Video file'
 description: ''
 required: true
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.node.article.comment.yml---
@@ -1,35 +0,0 @@
-uuid: 0e50451b-35c2-467a-b6c9-6a6fdebaedef
-langcode: en
-status: true
-dependencies:
-  config:
-    - field.storage.node.comment
-    - node.type.article
-  module:
-    - comment
-_core:
-  default_config_hash: r-hrxwbKKXBKQnBefGjXNSdU00u2fPvMWEykGRHqd10
-id: node.article.comment
-field_name: comment
-entity_type: node
-bundle: article
-label: Comments
-description: ''
-required: false
-translatable: true
-default_value:
-  -
-    status: 2
-    cid: 0
-    last_comment_name: null
-    last_comment_timestamp: 0
-    last_comment_uid: 0
-    comment_count: 0
-default_value_callback: ''
-settings:
-  default_mode: 1
-  per_page: 50
-  form_location: true
-  anonymous: 0
-  preview: 1
-field_type: comment

---FILE: examples/drupal-site/config/field.field.node.article.field_image.yml---
@@ -6,7 +6,14 @@ dependencies:
     - field.storage.node.field_image
     - node.type.article
   module:
+    - content_translation
     - image
+third_party_settings:
+  content_translation:
+    translation_sync:
+      alt: alt
+      title: title
+      file: '0'
 _core:
   default_config_hash: tgJzhA7Swh4M_gWU5FwFe5lPxPj5rebpMbvhpdNrERs
 id: node.article.field_image

---FILE: examples/drupal-site/config/field.field.node.article.field_site.yml---
@@ -12,7 +12,7 @@ bundle: article
 label: Site
 description: ''
 required: true
-translatable: false
+translatable: true
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.paragraph.cards.field_items.yml---
@@ -15,7 +15,7 @@ bundle: cards
 label: Cards
 description: ''
 required: false
-translatable: false
+translatable: true
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.paragraph.feature.field_background_color.yml---
@@ -14,7 +14,7 @@ bundle: feature
 label: 'Background color'
 description: ''
 required: true
-translatable: false
+translatable: true
 default_value:
   -
     value: default

---FILE: examples/drupal-site/config/field.field.paragraph.feature.field_media_position.yml---
@@ -14,7 +14,7 @@ bundle: feature
 label: 'Media position'
 description: ''
 required: true
-translatable: false
+translatable: true
 default_value:
   -
     value: left

---FILE: examples/drupal-site/config/field.field.paragraph.hero.field_heading.yml---
@@ -12,7 +12,7 @@ bundle: hero
 label: Heading
 description: ''
 required: true
-translatable: false
+translatable: true
 default_value: {  }
 default_value_callback: ''
 settings: {  }

---FILE: examples/drupal-site/config/field.field.paragraph.hero.field_media.yml---
@@ -13,7 +13,7 @@ bundle: hero
 label: Media
 description: ''
 required: true
-translatable: false
+translatable: true
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.field.paragraph.hero.field_text.yml---
@@ -14,7 +14,7 @@ bundle: hero
 label: Text
 description: ''
 required: false
-translatable: false
+translatable: true
 default_value: {  }
 default_value_callback: ''
 settings: {  }

---FILE: examples/drupal-site/config/field.field.user.user.user_picture.yml---
@@ -16,7 +16,7 @@ bundle: user
 label: Picture
 description: 'Your virtual face or picture.'
 required: false
-translatable: true
+translatable: false
 default_value: {  }
 default_value_callback: ''
 settings:

---FILE: examples/drupal-site/config/field.storage.comment.comment_body.yml---
@@ -1,21 +0,0 @@
-uuid: 46ddd524-8570-47f0-ab3a-268ff041cae1
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-    - text
-_core:
-  default_config_hash: swYoCch_hY8QO5uwr4FURplfnUCUlpPB4idF8WGVCpw
-id: comment.comment_body
-field_name: comment_body
-entity_type: comment
-type: text_long
-settings: {  }
-module: text
-locked: false
-cardinality: 1
-translatable: true
-indexes: {  }
-persist_with_no_fields: true
-custom_storage: false

---FILE: examples/drupal-site/config/field.storage.node.comment.yml---
@@ -1,22 +0,0 @@
-uuid: 013369db-7d40-4496-8b3c-b018309bfe9f
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-    - node
-_core:
-  default_config_hash: ktCna9xmWvYZIUfOCUyDQvedn5RtnS4CRmEIwNmvYjc
-id: node.comment
-field_name: comment
-entity_type: node
-type: comment
-settings:
-  comment_type: comment
-module: comment
-locked: false
-cardinality: 1
-translatable: true
-indexes: {  }
-persist_with_no_fields: false
-custom_storage: false

---FILE: examples/drupal-site/config/language.content_settings.block_content.basic.yml---
@@ -0,0 +1,18 @@
+uuid: 5ee568c5-8226-49fd-8891-7772bbb8a2e5
+langcode: es
+status: true
+dependencies:
+  config:
+    - block_content.type.basic
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: block_content.basic
+target_entity_type_id: block_content
+target_bundle: basic
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.consumer.consumer.yml---
@@ -0,0 +1,17 @@
+uuid: dcdb826e-64d6-4250-806e-1ce4e323f628
+langcode: es
+status: true
+dependencies:
+  module:
+    - consumers
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: consumer.consumer
+target_entity_type_id: consumer
+target_bundle: consumer
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.contact_message.feedback.yml---
@@ -0,0 +1,11 @@
+uuid: 581ea901-72e9-424d-9965-9c38841bfb7e
+langcode: es
+status: true
+dependencies:
+  config:
+    - contact.form.feedback
+id: contact_message.feedback
+target_entity_type_id: contact_message
+target_bundle: feedback
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.contact_message.personal.yml---
@@ -0,0 +1,11 @@
+uuid: 68415e33-8752-485f-8604-3006030df133
+langcode: es
+status: true
+dependencies:
+  config:
+    - contact.form.personal
+id: contact_message.personal
+target_entity_type_id: contact_message
+target_bundle: personal
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.file.file.yml---
@@ -0,0 +1,11 @@
+uuid: aa5d1215-205e-400e-9adf-8cf07ad7648f
+langcode: es
+status: true
+dependencies:
+  module:
+    - file
+id: file.file
+target_entity_type_id: file
+target_bundle: file
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.media.audio.yml---
@@ -0,0 +1,18 @@
+uuid: 5ab69882-d054-4ede-a794-f4c633683148
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.audio
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: media.audio
+target_entity_type_id: media
+target_bundle: audio
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.media.document.yml---
@@ -0,0 +1,18 @@
+uuid: f64bbbd7-820b-4a14-8ab2-c41d6013b2d8
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.document
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: media.document
+target_entity_type_id: media
+target_bundle: document
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.media.image.yml---
@@ -0,0 +1,18 @@
+uuid: dbf706d4-fc78-4627-ae37-0f9a2f514f2b
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.image
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: media.image
+target_entity_type_id: media
+target_bundle: image
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.media.remote_video.yml---
@@ -0,0 +1,18 @@
+uuid: 0b66b722-e9d6-401e-bef7-e73632f62242
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.remote_video
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: media.remote_video
+target_entity_type_id: media
+target_bundle: remote_video
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.media.video.yml---
@@ -0,0 +1,18 @@
+uuid: 422be0ac-7b3b-4d48-b718-f1121a7fca17
+langcode: es
+status: true
+dependencies:
+  config:
+    - media.type.video
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: media.video
+target_entity_type_id: media
+target_bundle: video
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.menu_link_content.menu_link_content.yml---
@@ -0,0 +1,17 @@
+uuid: 0a25237e-de81-4212-8b3b-ef4ea9030de2
+langcode: es
+status: true
+dependencies:
+  module:
+    - content_translation
+    - menu_link_content
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: menu_link_content.menu_link_content
+target_entity_type_id: menu_link_content
+target_bundle: menu_link_content
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.node.article.yml---
@@ -0,0 +1,18 @@
+uuid: db0e13f1-f2de-458e-9db5-c0124ec0aa42
+langcode: en
+status: true
+dependencies:
+  config:
+    - node.type.article
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: node.article
+target_entity_type_id: node
+target_bundle: article
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.node.landing_page.yml---
@@ -0,0 +1,18 @@
+uuid: 4f6b1b06-c4ef-4b77-bd76-0f3459fc3554
+langcode: en
+status: true
+dependencies:
+  config:
+    - node.type.landing_page
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: node.landing_page
+target_entity_type_id: node
+target_bundle: landing_page
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.node.page.yml---
@@ -0,0 +1,18 @@
+uuid: b8f5ace3-8402-4219-a10d-7cefdf1d59c2
+langcode: en
+status: true
+dependencies:
+  config:
+    - node.type.page
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: node.page
+target_entity_type_id: node
+target_bundle: page
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraph.card.yml---
@@ -0,0 +1,18 @@
+uuid: 7d521b92-569a-4817-8948-f13fc50b7f65
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.card
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.card
+target_entity_type_id: paragraph
+target_bundle: card
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraph.cards.yml---
@@ -0,0 +1,18 @@
+uuid: d5f5dd15-d1f0-4615-ad39-d0b13c4ec29d
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.cards
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.cards
+target_entity_type_id: paragraph
+target_bundle: cards
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraph.collapsible.yml---
@@ -0,0 +1,18 @@
+uuid: ef4a163b-36a1-4295-b51a-0a5b9ad43df4
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.collapsible
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.collapsible
+target_entity_type_id: paragraph
+target_bundle: collapsible
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraph.faq.yml---
@@ -0,0 +1,18 @@
+uuid: 6b74d05e-7af0-4fda-acbd-5a33aa766621
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.faq
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.faq
+target_entity_type_id: paragraph
+target_bundle: faq
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraph.feature.yml---
@@ -0,0 +1,18 @@
+uuid: d5ee02b2-9339-40d8-a31d-af367252711c
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.feature
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.feature
+target_entity_type_id: paragraph
+target_bundle: feature
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraph.from_library.yml---
@@ -0,0 +1,18 @@
+uuid: 3358cbdb-2c0d-47fe-b95b-4ea450be64e6
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.from_library
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.from_library
+target_entity_type_id: paragraph
+target_bundle: from_library
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.paragraph.hero.yml---
@@ -0,0 +1,18 @@
+uuid: 9091a89e-e2c5-4427-bb10-d67f97ea6b9c
+langcode: es
+status: true
+dependencies:
+  config:
+    - paragraphs.paragraphs_type.hero
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: true
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraph.hero
+target_entity_type_id: paragraph
+target_bundle: hero
+default_langcode: site_default
+language_alterable: true

---FILE: examples/drupal-site/config/language.content_settings.paragraphs_library_item.paragraphs_library_item.yml---
@@ -0,0 +1,17 @@
+uuid: 1f327d3c-9699-40b9-bcc4-74c9ce7eba9e
+langcode: es
+status: true
+dependencies:
+  module:
+    - content_translation
+    - paragraphs_library
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: paragraphs_library_item.paragraphs_library_item
+target_entity_type_id: paragraphs_library_item
+target_bundle: paragraphs_library_item
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.path_alias.path_alias.yml---
@@ -0,0 +1,13 @@
+uuid: 9c41a858-d7a0-4365-a800-52852ae7cb33
+langcode: en
+status: true
+dependencies:
+  module:
+    - path_alias
+_core:
+  default_config_hash: dhjFABRzm52DkRXnYja5ZoHwjY0R3gEGic3KpDUXgRo
+id: path_alias.path_alias
+target_entity_type_id: path_alias
+target_bundle: path_alias
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.shortcut.default.yml---
@@ -0,0 +1,18 @@
+uuid: ad9984a7-fd72-43f1-b7dc-08c99b79c364
+langcode: es
+status: true
+dependencies:
+  config:
+    - shortcut.set.default
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: shortcut.default
+target_entity_type_id: shortcut
+target_bundle: default
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.taxonomy_term.tags.yml---
@@ -0,0 +1,18 @@
+uuid: f2b5529b-e7c6-4df3-9a18-b5052435c61c
+langcode: es
+status: true
+dependencies:
+  config:
+    - taxonomy.vocabulary.tags
+  module:
+    - content_translation
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: taxonomy_term.tags
+target_entity_type_id: taxonomy_term
+target_bundle: tags
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.content_settings.user.user.yml---
@@ -0,0 +1,17 @@
+uuid: 6cd8ffd0-1d1f-4497-980d-c969a8664522
+langcode: es
+status: true
+dependencies:
+  module:
+    - content_translation
+    - user
+third_party_settings:
+  content_translation:
+    enabled: false
+    bundle_settings:
+      untranslatable_fields_hide: '0'
+id: user.user
+target_entity_type_id: user
+target_bundle: user
+default_langcode: site_default
+language_alterable: false

---FILE: examples/drupal-site/config/language.entity.en.yml---
@@ -0,0 +1,11 @@
+uuid: 799b9370-9c0f-4216-8d4f-ed7d3522efd8
+langcode: en
+status: true
+dependencies: {  }
+_core:
+  default_config_hash: lBXDpdDPXQtrfTJQhr6MjRJJEEyYSoRJ0acdvHLsWeA
+id: en
+label: English
+direction: ltr
+weight: 0
+locked: false

---FILE: examples/drupal-site/config/language.entity.es.yml---
@@ -0,0 +1,9 @@
+uuid: b5f54f7f-9f30-46cf-83dd-76116174ce31
+langcode: es
+status: true
+dependencies: {  }
+id: es
+label: Spanish
+direction: ltr
+weight: 1
+locked: false

---FILE: examples/drupal-site/config/language.entity.und.yml---
@@ -0,0 +1,11 @@
+uuid: 90d00f80-398b-4060-bec1-36525fe2f48e
+langcode: en
+status: true
+dependencies: {  }
+_core:
+  default_config_hash: eNX6lLCKDaY83nCMh20My---y03KbiFlv802DKCCpvg
+id: und
+label: 'Not specified'
+direction: ltr
+weight: 2
+locked: true

---FILE: examples/drupal-site/config/language.entity.zxx.yml---
@@ -0,0 +1,11 @@
+uuid: 62ec86f8-80b6-4284-854a-a38e7e278274
+langcode: en
+status: true
+dependencies: {  }
+_core:
+  default_config_hash: 35CefWbnzaiytcg3acexxz_GTvuwIjYd_ZTcmmR-tXA
+id: zxx
+label: 'Not applicable'
+direction: ltr
+weight: 3
+locked: true

---FILE: examples/drupal-site/config/language.mappings.yml---
@@ -0,0 +1,13 @@
+map:
+  'no': nb
+  pt: pt-pt
+  zh: zh-hans
+  zh-tw: zh-hant
+  zh-hk: zh-hant
+  zh-mo: zh-hant
+  zh-cht: zh-hant
+  zh-cn: zh-hans
+  zh-sg: zh-hans
+  zh-chs: zh-hans
+_core:
+  default_config_hash: EMWe7Yu4Q5eD-NUfNuQAWGBvYUNZPIinztEtONSmsDc

---FILE: examples/drupal-site/config/language.negotiation.yml---
@@ -0,0 +1,13 @@
+session:
+  parameter: language
+url:
+  source: path_prefix
+  prefixes:
+    en: ''
+    es: es
+  domains:
+    en: ''
+    es: ''
+selected_langcode: site_default
+_core:
+  default_config_hash: uEePITI9tV6WqzmsTb7MfPCi5yPWXSxAN1xeLcYFQbM

---FILE: examples/drupal-site/config/language.types.yml---
@@ -0,0 +1,19 @@
+all:
+  - language_interface
+  - language_content
+  - language_url
+configurable:
+  - language_interface
+negotiation:
+  language_content:
+    enabled:
+      language-interface: 0
+  language_url:
+    enabled:
+      language-url: 0
+      language-url-fallback: 1
+  language_interface:
+    enabled:
+      language-url: 0
+_core:
+  default_config_hash: dqouFqVseNJNvEjsoYKxbinFOITuCxYhi4y2OTNQP_8

---FILE: examples/drupal-site/config/node.type.article.yml---
@@ -1,13 +1,20 @@
 uuid: 5500e2b8-4494-4102-b1e7-2815fc7a3a12
 langcode: en
 status: true
-dependencies: {  }
+dependencies:
+  module:
+    - menu_ui
+third_party_settings:
+  menu_ui:
+    available_menus:
+      - main
+    parent: 'main:'
 _core:
   default_config_hash: AeW1SEDgb1OTQACAWGhzvMknMYAJlcZu0jljfeU3oso
 name: Article
 type: article
 description: 'Use <em>articles</em> for time-sensitive content like news, press releases or blog posts.'
 help: ''
 new_revision: true
-preview_mode: 1
+preview_mode: 0
 display_submitted: true

---FILE: examples/drupal-site/config/node.type.page.yml---
@@ -1,13 +1,20 @@
 uuid: b50ea8a9-da1f-4bd3-b898-0fa214f06961
 langcode: en
 status: true
-dependencies: {  }
+dependencies:
+  module:
+    - menu_ui
+third_party_settings:
+  menu_ui:
+    available_menus:
+      - main
+    parent: 'main:'
 _core:
   default_config_hash: KuyA4NHPXcmKAjRtwa0vQc2ZcyrUJy6IlS2TAyMNRbc
 name: 'Basic page'
 type: page
 description: 'Use <em>basic pages</em> for your static content, such as an ''About us'' page.'
 help: ''
 new_revision: true
-preview_mode: 1
+preview_mode: 0
 display_submitted: false

---FILE: examples/drupal-site/config/pathauto.pattern.basic_page.yml---
@@ -9,14 +9,14 @@ label: 'Basic page'
 type: 'canonical_entities:node'
 pattern: '[node:title]'
 selection_criteria:
-  ddb347bc-06a5-43de-9b3e-f267d04d0607:
+  56bc3c99-7d60-4c7b-b5bb-618083dfac4e:
     id: node_type
     bundles:
       page: page
     negate: false
     context_mapping:
       node: node
-    uuid: ddb347bc-06a5-43de-9b3e-f267d04d0607
+    uuid: 56bc3c99-7d60-4c7b-b5bb-618083dfac4e
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: examples/drupal-site/config/pathauto.pattern.landing_page.yml---
@@ -9,14 +9,14 @@ label: 'Landing page'
 type: 'canonical_entities:node'
 pattern: '[node:title]'
 selection_criteria:
-  c4600c36-e7b5-445d-8c7c-3bf282e9bcac:
+  071bfcd2-7621-41e3-840e-dcd3485b0bfa:
     id: node_type
     bundles:
       landing_page: landing_page
     negate: false
     context_mapping:
       node: node
-    uuid: c4600c36-e7b5-445d-8c7c-3bf282e9bcac
+    uuid: 071bfcd2-7621-41e3-840e-dcd3485b0bfa
 selection_logic: and
 weight: -5
 relationships: {  }

---FILE: examples/drupal-site/config/rdf.mapping.comment.comment.yml---
@@ -1,36 +0,0 @@
-uuid: 7098b3e9-8ef3-4a1e-83d2-ba143a90c843
-langcode: en
-status: true
-dependencies:
-  config:
-    - comment.type.comment
-  module:
-    - comment
-_core:
-  default_config_hash: uETe6XupRGKDForx2MpY0pMOEu6CzGgdCAZZOKkbgmk
-id: comment.comment
-targetEntityType: comment
-bundle: comment
-types:
-  - 'schema:Comment'
-fieldMappings:
-  subject:
-    properties:
-      - 'schema:name'
-  created:
-    properties:
-      - 'schema:dateCreated'
-    datatype_callback:
-      callable: 'Drupal\rdf\CommonDataConverter::dateIso8601Value'
-  changed:
-    properties:
-      - 'schema:dateModified'
-    datatype_callback:
-      callable: 'Drupal\rdf\CommonDataConverter::dateIso8601Value'
-  comment_body:
-    properties:
-      - 'schema:text'
-  uid:
-    properties:
-      - 'schema:author'
-    mapping_type: rel

---FILE: examples/drupal-site/config/search.settings.yml---
@@ -1,5 +1,4 @@
 and_or_limit: 7
-default_page: node_search
 index:
   cron_limit: 100
   overlap_cjk: true

---FILE: examples/drupal-site/config/simple_oauth.settings.yml---
@@ -7,5 +7,5 @@ use_implicit: false
 disable_openid_connect: false
 _core:
   default_config_hash: KsPFWSp6mgXIQgjBJEShfKUGn6VLRlbpIJ2EysXvXWM
-public_key: ../oauth-keys/public.key
-private_key: ../oauth-keys/private.key
+public_key: sites/default/files/private/public.key
+private_key: sites/default/files/private/private.key

---FILE: examples/drupal-site/config/system.action.comment_delete_action.yml---
@@ -1,13 +0,0 @@
-uuid: 1780c09c-fbfe-40da-b78d-ff8a95ae87ab
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-_core:
-  default_config_hash: vpBH8OmL4sdesCdeZLsW8KOutB5gkbreWJbfjhfFKaQ
-id: comment_delete_action
-label: 'Delete comment'
-type: comment
-plugin: 'entity:delete_action:comment'
-configuration: {  }

---FILE: examples/drupal-site/config/system.action.comment_publish_action.yml---
@@ -1,13 +0,0 @@
-uuid: 55a6b817-0262-43ce-87e4-5140a5b0164e
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-_core:
-  default_config_hash: C00dyL_W_5M0nFlgUB3lWUTUs96jn51Jw1MLHVEHZD0
-id: comment_publish_action
-label: 'Publish comment'
-type: comment
-plugin: 'entity:publish_action:comment'
-configuration: {  }

---FILE: examples/drupal-site/config/system.action.comment_save_action.yml---
@@ -1,13 +0,0 @@
-uuid: 7c4c40c3-6c66-4f6c-be4b-d054227f5beb
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-_core:
-  default_config_hash: lfyE_snmvfg_EQ3VDyhUtGAXgmqtEiqa46I3bTMg8DU
-id: comment_save_action
-label: 'Save comment'
-type: comment
-plugin: 'entity:save_action:comment'
-configuration: {  }

---FILE: examples/drupal-site/config/system.action.comment_unpublish_action.yml---
@@ -1,13 +0,0 @@
-uuid: c473e538-bf89-4ff2-813e-af7b5fc0fa61
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-_core:
-  default_config_hash: tWOIjSMobEWOFZddMkNqb9JySbOVwE1diC6NRqcfLTk
-id: comment_unpublish_action
-label: 'Unpublish comment'
-type: comment
-plugin: 'entity:unpublish_action:comment'
-configuration: {  }

---FILE: examples/drupal-site/config/system.site.yml---
@@ -1,11 +1,11 @@
-uuid: ba6bc909-eed8-4f3c-8036-89dcaa5142ee
+uuid: 1a7d2047-f4dc-4686-a2df-c4ef2172df43
 name: 'Next.js + Drupal'
 mail: admin@example.com
 slogan: ''
 page:
   403: ''
   404: ''
-  front: /admin/content
+  front: /node/6
 admin_compact_mode: false
 weight_select_max: 100
 langcode: en

---FILE: examples/drupal-site/config/tour.tour.language-add.yml---
@@ -0,0 +1,35 @@
+uuid: 1f5c47e4-c62e-4469-9012-3a734c2d520f
+langcode: en
+status: true
+dependencies:
+  module:
+    - language
+_core:
+  default_config_hash: xVFzaZr6iMWsqxy9-QqAX3lyUKCyJr16dAXXjhgb3Kk
+id: language-add
+label: 'Adding languages'
+module: language
+routes:
+  -
+    route_name: language.add
+tips:
+  language-add-overview:
+    id: language-add-overview
+    plugin: text
+    label: 'Adding languages'
+    body: '<p>This page provides the ability to add common languages to your site.</p><p>If the desired language is not available, you can add a custom language.</p>'
+    weight: 1
+  language-add-choose:
+    id: language-add-choose
+    plugin: text
+    label: 'Select language'
+    body: '<p>Choose a language from the list, or choose ""Custom language..."" at the end of the list.</p><p>Click the ""Add language"" button when you are done choosing your language.</p><p>When adding a custom language, you will get an additional form where you can provide the name, code, and direction of the language.</p>'
+    weight: 2
+    attributes:
+      data-id: edit-predefined-langcode
+  language-add-continue:
+    id: language-add-continue
+    plugin: text
+    label: 'Continuing on'
+    body: '<p>Now that you have an overview of the ""Add languages"" feature, you can continue by:<ul><li>Adding a language</li><li>Adding a custom language</li><li><a href=""[site:url]admin/config/regional/language"">Viewing configured languages</a></li></ul></p>'
+    weight: 3

---FILE: examples/drupal-site/config/tour.tour.language-edit.yml---
@@ -0,0 +1,51 @@
+uuid: f57efa43-f0a7-4330-a27f-27a06b5e2999
+langcode: en
+status: true
+dependencies:
+  module:
+    - language
+_core:
+  default_config_hash: U57EDaiQ66sSYVn_GC7iaPNRdz54pKWFNdT6xI1XkXw
+id: language-edit
+label: 'Editing languages'
+module: language
+routes:
+  -
+    route_name: entity.configurable_language.edit_form
+tips:
+  language-edit-overview:
+    id: language-edit-overview
+    plugin: text
+    label: 'Editing languages'
+    body: '<p>This page provides the ability to edit a language on your site, including custom languages.</p>'
+    weight: 1
+  language-edit-langcode:
+    id: language-edit-langcode
+    plugin: text
+    label: 'Language code'
+    body: '<p>You cannot change the code of a language on the site, since it is used by the system to keep track of the language.</p>'
+    weight: 2
+    attributes:
+      data-id: edit-langcode-view
+  language-edit-label:
+    id: language-edit-label
+    plugin: text
+    label: 'Language name'
+    body: '<p>The language name is used throughout the site for all users and is written in English. Names of built-in languages can be translated using the Interface Translation module, and names of both built-in and custom languages can be translated using the Configuration Translation module.</p>'
+    weight: 3
+    attributes:
+      data-id: edit-label
+  language-edit-direction:
+    id: language-edit-direction
+    plugin: text
+    label: 'Language direction'
+    body: '<p>Choose if the language is a ""Left to right"" or ""Right to left"" language.</p><p>Note that not all themes support ""Right to left"" layouts, so test your theme if you are using ""Right to left"".</p>'
+    weight: 4
+    attributes:
+      data-id: edit-direction--wrapper--description
+  language-edit-continue:
+    id: language-edit-continue
+    plugin: text
+    label: 'Continuing on'
+    body: '<p>Now that you have an overview of the ""Edit language"" feature, you can continue by:<ul><li>Editing a language</li><li><a href=""[site:url]admin/config/regional/language"">Viewing configured languages</a></li></ul></p>'
+    weight: 5

---FILE: examples/drupal-site/config/tour.tour.language.yml---
@@ -0,0 +1,59 @@
+uuid: 3ec6762b-e385-43b3-ad35-066efba8f980
+langcode: en
+status: true
+dependencies:
+  module:
+    - language
+_core:
+  default_config_hash: qYkmRoScIjpvKrNO8DCi6lscVGakJCBZMp7ytg5OerM
+id: language
+label: Language
+module: language
+routes:
+  -
+    route_name: entity.configurable_language.collection
+tips:
+  language-overview:
+    id: language-overview
+    plugin: text
+    label: Languages
+    body: '<p>The ""Languages"" page allows you to add, edit, delete, and reorder languages for the site.</p>'
+    weight: 1
+  language-add:
+    id: language-add
+    plugin: text
+    label: 'Adding languages'
+    body: '<p>To add more languages to your site, click the ""Add language"" button.</p><p>Added languages will be displayed in the language list and can then be edited or deleted.</p>'
+    weight: 2
+    attributes:
+      data-class: button-action
+  language-reorder:
+    id: language-reorder
+    plugin: text
+    label: 'Reordering languages'
+    body: '<p>To reorder the languages on your site, use the drag icons next to each language.</p><p>The order shown here is the display order for language lists on the site such as in the language switcher blocks provided by the Interface Translation and Content Translation modules.</p><p>When you are done with reordering the languages, click the ""Save configuration"" button for the changes to take effect.</p>'
+    weight: 3
+    attributes:
+      data-class: draggable
+  language-default:
+    id: language-default
+    plugin: text
+    label: 'Set a language as default'
+    body: '<p>You can change the default language of the site by choosing one of your configured languages as default. The site will use the default language in situations where no choice is made but a language should be set, for example as the language of the displayed interface.</p>'
+    weight: 4
+    attributes:
+      data-class: js-form-item-site-default-language
+  language-operations:
+    id: language-operations
+    plugin: text
+    label: 'Modifying languages'
+    body: '<p>Operations are provided for editing and deleting your languages.</p><p>You can edit the name and the direction of the language.</p><p>Deleted languages can be added back at a later time. Deleting a language will remove all interface translations associated with it, and content in this language will be set to be language neutral. Note that you cannot delete the default language of the site.</p>'
+    weight: 5
+    attributes:
+      data-class: dropbutton-wrapper
+  language-continue:
+    id: language-continue
+    plugin: text
+    label: 'Continuing on'
+    body: '<p>Now that you have an overview of the ""Languages"" page, you can continue by:<ul><li><a href=""[site:url]admin/config/regional/language/add"">Adding a language</a></li><li>Reordering languages</li><li>Editing a language</li><li>Deleting a language</li></ul></p>'
+    weight: 6

---FILE: examples/drupal-site/config/update.settings.yml---
@@ -7,7 +7,7 @@ fetch:
   timeout: 30
 notification:
   emails:
-    - admin@example.com
+    - arshad@chummun.com
   threshold: all
 _core:
   default_config_hash: 2QzULf0zovJQx3J06Y9rufzzfi-CY2CTTlEfJJh2Qyw

---FILE: examples/drupal-site/config/views.view.comment.yml---
@@ -1,1597 +0,0 @@
-uuid: 161226e7-65be-42d2-83fa-587e1dcb8cb9
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-    - user
-_core:
-  default_config_hash: fsBo_zgUeLyYZdghaw4PkOHA-HqFxu7wmQLilF35XYg
-id: comment
-label: Comments
-module: comment
-description: 'Find and manage comments.'
-tag: default
-base_table: comment_field_data
-base_field: cid
-display:
-  default:
-    display_plugin: default
-    id: default
-    display_title: Master
-    position: 0
-    display_options:
-      access:
-        type: perm
-        options:
-          perm: 'administer comments'
-      cache:
-        type: tag
-        options: {  }
-      query:
-        type: views_query
-        options:
-          disable_sql_rewrite: false
-          distinct: false
-          replica: false
-          query_comment: ''
-          query_tags: {  }
-      exposed_form:
-        type: basic
-        options:
-          submit_button: Apply
-          reset_button: false
-          reset_button_label: Reset
-          exposed_sorts_label: 'Sort by'
-          expose_sort_order: true
-          sort_asc_label: Asc
-          sort_desc_label: Desc
-      pager:
-        type: full
-        options:
-          items_per_page: 50
-          offset: 0
-          id: 0
-          total_pages: null
-          tags:
-            previous: ' previous'
-            next: 'next '
-            first: ' first'
-            last: 'last '
-          expose:
-            items_per_page: false
-            items_per_page_label: 'Items per page'
-            items_per_page_options: '5, 10, 25, 50'
-            items_per_page_options_all: false
-            items_per_page_options_all_label: '- All -'
-            offset: false
-            offset_label: Offset
-          quantity: 9
-      style:
-        type: table
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          override: true
-          sticky: true
-          caption: ''
-          summary: ''
-          description: ''
-          columns:
-            comment_bulk_form: comment_bulk_form
-            subject: subject
-            uid: uid
-            entity_id: entity_id
-            changed: changed
-            operations: operations
-          info:
-            comment_bulk_form:
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            subject:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            uid:
-              sortable: true
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            entity_id:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-            changed:
-              sortable: true
-              default_sort_order: desc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: priority-low
-            operations:
-              sortable: false
-              default_sort_order: asc
-              align: ''
-              separator: ''
-              empty_column: false
-              responsive: ''
-          default: changed
-          empty_table: true
-      row:
-        type: fields
-      fields:
-        comment_bulk_form:
-          id: comment_bulk_form
-          table: comment
-          field: comment_bulk_form
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          action_title: Action
-          include_exclude: include
-          selected_actions:
-            - comment_delete_action
-            - comment_unpublish_action
-          plugin_id: comment_bulk_form
-          entity_type: comment
-        subject:
-          id: subject
-          table: comment_field_data
-          field: subject
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Subject
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: comment_permalink
-          settings:
-            link_to_entity: true
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: subject
-          plugin_id: field
-        uid:
-          id: uid
-          table: comment_field_data
-          field: uid
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: true
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: target_id
-          type: entity_reference_label
-          settings:
-            link: true
-          group_column: target_id
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: uid
-          plugin_id: field
-        name:
-          id: name
-          table: comment_field_data
-          field: name
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Author
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: '{{ uid }}'
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: comment_username
-          settings: {  }
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: name
-          plugin_id: field
-        entity_id:
-          id: entity_id
-          table: comment_field_data
-          field: entity_id
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: 'Posted in'
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: target_id
-          type: entity_reference_label
-          settings:
-            link: true
-          group_column: target_id
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: entity_id
-          plugin_id: commented_entity
-        changed:
-          id: changed
-          table: comment_field_data
-          field: changed
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Updated
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: timestamp
-          settings:
-            date_format: short
-            custom_date_format: ''
-            timezone: ''
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: changed
-          plugin_id: field
-        operations:
-          id: operations
-          table: comment
-          field: operations
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Operations
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          destination: true
-          entity_type: comment
-          plugin_id: entity_operations
-        name_1:
-          id: name_1
-          table: users_field_data
-          field: name
-          relationship: uid
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: true
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: user_name
-          settings:
-            link_to_entity: true
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: user
-          entity_field: name
-          plugin_id: field
-      filters:
-        status:
-          id: status
-          table: comment_field_data
-          field: status
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: '='
-          value: '1'
-          group: 1
-          exposed: false
-          expose:
-            operator_id: ''
-            label: ''
-            description: ''
-            use_operator: false
-            operator: ''
-            identifier: ''
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          entity_type: comment
-          entity_field: status
-          plugin_id: boolean
-        subject:
-          id: subject
-          table: comment_field_data
-          field: subject
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: contains
-          value: ''
-          group: 1
-          exposed: true
-          expose:
-            operator_id: subject_op
-            label: Subject
-            description: ''
-            use_operator: false
-            operator: subject_op
-            identifier: subject
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-              anonymous: '0'
-              administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          entity_type: comment
-          entity_field: subject
-          plugin_id: string
-        combine:
-          id: combine
-          table: views
-          field: combine
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: contains
-          value: ''
-          group: 1
-          exposed: true
-          expose:
-            operator_id: combine_op
-            label: 'Author name'
-            description: ''
-            use_operator: false
-            operator: combine_op
-            identifier: author_name
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-              anonymous: '0'
-              administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          fields:
-            name: name
-            name_1: name_1
-          plugin_id: combine
-        langcode:
-          id: langcode
-          table: comment_field_data
-          field: langcode
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: in
-          value: {  }
-          group: 1
-          exposed: true
-          expose:
-            operator_id: langcode_op
-            label: Language
-            description: ''
-            use_operator: false
-            operator: langcode_op
-            identifier: langcode
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-              anonymous: '0'
-              administrator: '0'
-            reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          entity_type: comment
-          entity_field: langcode
-          plugin_id: language
-      sorts:
-        changed:
-          id: changed
-          table: comment_field_data
-          field: changed
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          expose:
-            label: ''
-          granularity: second
-          entity_type: comment
-          entity_field: changed
-          plugin_id: date
-      title: Comments
-      header: {  }
-      footer: {  }
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          empty: true
-          tokenize: false
-          content: 'No comments available.'
-          plugin_id: text_custom
-      arguments: {  }
-      display_extenders: {  }
-      use_more: false
-      use_more_always: true
-      use_more_text: more
-      use_ajax: false
-      hide_attachment_summary: false
-      show_admin_links: true
-      group_by: false
-      css_class: ''
-      relationships:
-        uid:
-          id: uid
-          table: comment_field_data
-          field: uid
-          relationship: none
-          group_type: group
-          admin_label: author
-          required: false
-          entity_type: comment
-          entity_field: uid
-          plugin_id: standard
-      filter_groups:
-        operator: AND
-        groups:
-          1: AND
-    cache_metadata:
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - url
-        - url.query_args
-        - user.permissions
-      cacheable: false
-      max-age: 0
-      tags: {  }
-  page_published:
-    display_plugin: page
-    id: page_published
-    display_title: 'Published comments'
-    position: 1
-    display_options:
-      path: admin/content/comment
-      menu:
-        type: tab
-        title: Comments
-        description: 'Comments published'
-        parent: ''
-        weight: 0
-        context: '0'
-        menu_name: admin
-      display_description: 'The approved comments listing.'
-      display_extenders: {  }
-      exposed_block: false
-      display_comment: ''
-    cache_metadata:
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - url
-        - url.query_args
-        - user.permissions
-      cacheable: false
-      max-age: 0
-      tags: {  }
-  page_unapproved:
-    display_plugin: page
-    id: page_unapproved
-    display_title: 'Unapproved comments'
-    position: 2
-    display_options:
-      path: admin/content/comment/approval
-      menu:
-        type: tab
-        title: 'Unapproved comments'
-        description: 'Comments unapproved'
-        parent: ''
-        weight: 1
-        context: '0'
-        menu_name: admin
-      display_description: 'The unapproved comments listing.'
-      filters:
-        status:
-          id: status
-          table: comment_field_data
-          field: status
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: '='
-          value: '0'
-          group: 1
-          exposed: false
-          expose:
-            operator_id: ''
-            label: ''
-            description: ''
-            use_operator: false
-            operator: ''
-            identifier: ''
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          entity_type: comment
-          entity_field: status
-          plugin_id: boolean
-        subject:
-          id: subject
-          table: comment_field_data
-          field: subject
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: contains
-          value: ''
-          group: 1
-          exposed: true
-          expose:
-            operator_id: subject_op
-            label: Subject
-            description: ''
-            use_operator: false
-            operator: subject_op
-            identifier: subject
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-              anonymous: '0'
-              administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          entity_type: comment
-          entity_field: subject
-          plugin_id: string
-        combine:
-          id: combine
-          table: views
-          field: combine
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: contains
-          value: ''
-          group: 1
-          exposed: true
-          expose:
-            operator_id: combine_op
-            label: 'Author Name'
-            description: ''
-            use_operator: false
-            operator: combine_op
-            identifier: author_name
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-              anonymous: '0'
-              administrator: '0'
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          fields:
-            name: name
-            name_1: name_1
-          plugin_id: combine
-        langcode:
-          id: langcode
-          table: comment_field_data
-          field: langcode
-          relationship: none
-          group_type: group
-          admin_label: ''
-          operator: in
-          value: {  }
-          group: 1
-          exposed: true
-          expose:
-            operator_id: langcode_op
-            label: Language
-            description: ''
-            use_operator: false
-            operator: langcode_op
-            identifier: langcode
-            required: false
-            remember: false
-            multiple: false
-            remember_roles:
-              authenticated: authenticated
-              anonymous: '0'
-              administrator: '0'
-            reduce: false
-            operator_limit_selection: false
-            operator_list: {  }
-          is_grouped: false
-          group_info:
-            label: ''
-            description: ''
-            identifier: ''
-            optional: true
-            widget: select
-            multiple: false
-            remember: false
-            default_group: All
-            default_group_multiple: {  }
-            group_items: {  }
-          entity_type: comment
-          entity_field: langcode
-          plugin_id: language
-      defaults:
-        filters: false
-        filter_groups: false
-        fields: false
-      display_extenders: {  }
-      fields:
-        comment_bulk_form:
-          id: comment_bulk_form
-          table: comment
-          field: comment_bulk_form
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          action_title: Action
-          include_exclude: include
-          selected_actions:
-            - comment_delete_action
-            - comment_publish_action
-          plugin_id: comment_bulk_form
-          entity_type: comment
-        subject:
-          id: subject
-          table: comment_field_data
-          field: subject
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Subject
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: comment_permalink
-          settings:
-            link_to_entity: true
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: subject
-          plugin_id: field
-        uid:
-          id: uid
-          table: comment_field_data
-          field: uid
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: true
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: target_id
-          type: entity_reference_label
-          settings:
-            link: true
-          group_column: target_id
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: uid
-          plugin_id: field
-        name:
-          id: name
-          table: comment_field_data
-          field: name
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Author
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: '{{ uid }}'
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: comment_username
-          settings: {  }
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: name
-          plugin_id: field
-        entity_id:
-          id: entity_id
-          table: comment_field_data
-          field: entity_id
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: 'Posted in'
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: target_id
-          type: entity_reference_label
-          settings:
-            link: true
-          group_column: target_id
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: entity_id
-          plugin_id: commented_entity
-        changed:
-          id: changed
-          table: comment_field_data
-          field: changed
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Updated
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: timestamp
-          settings:
-            date_format: short
-            custom_date_format: ''
-            timezone: ''
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: comment
-          entity_field: changed
-          plugin_id: field
-        operations:
-          id: operations
-          table: comment
-          field: operations
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: Operations
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: true
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          destination: true
-          entity_type: comment
-          plugin_id: entity_operations
-        name_1:
-          id: name_1
-          table: users_field_data
-          field: name
-          relationship: uid
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: true
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          click_sort_column: value
-          type: user_name
-          settings:
-            link_to_entity: false
-          group_column: value
-          group_columns: {  }
-          group_rows: true
-          delta_limit: 0
-          delta_offset: 0
-          delta_reversed: false
-          delta_first_last: false
-          multi_type: separator
-          separator: ', '
-          field_api_classes: false
-          entity_type: user
-          entity_field: name
-          plugin_id: field
-      filter_groups:
-        operator: AND
-        groups:
-          1: AND
-    cache_metadata:
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - url
-        - url.query_args
-        - user.permissions
-      cacheable: false
-      max-age: 0
-      tags: {  }

---FILE: examples/drupal-site/config/views.view.comments_recent.yml---
@@ -1,266 +0,0 @@
-uuid: 7cd25959-371d-4b51-99e7-05d7d58a467a
-langcode: en
-status: true
-dependencies:
-  module:
-    - comment
-    - node
-    - user
-_core:
-  default_config_hash: rX48v_U7vIh1FltSyJnTdpebtM-lj991qL_jO8BmZ2w
-id: comments_recent
-label: 'Recent comments'
-module: views
-description: 'Recent comments.'
-tag: default
-base_table: comment_field_data
-base_field: cid
-display:
-  default:
-    display_plugin: default
-    id: default
-    display_title: Master
-    position: 0
-    display_options:
-      access:
-        type: perm
-        options:
-          perm: 'access comments'
-      cache:
-        type: tag
-      query:
-        type: views_query
-      exposed_form:
-        type: basic
-      pager:
-        type: some
-        options:
-          items_per_page: 10
-          offset: 0
-      style:
-        type: html_list
-        options:
-          grouping: {  }
-          row_class: ''
-          default_row_class: true
-          type: ul
-          wrapper_class: item-list
-          class: ''
-      row:
-        type: fields
-        options:
-          default_field_elements: true
-          hide_empty: false
-      relationships:
-        node:
-          field: node
-          id: node
-          table: comment_field_data
-          required: true
-          plugin_id: standard
-      fields:
-        subject:
-          id: subject
-          table: comment_field_data
-          field: subject
-          relationship: none
-          type: string
-          settings:
-            link_to_entity: true
-          plugin_id: field
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: false
-            ellipsis: false
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          entity_type: comment
-          entity_field: subject
-        changed:
-          id: changed
-          table: comment_field_data
-          field: changed
-          relationship: none
-          plugin_id: field
-          group_type: group
-          admin_label: ''
-          label: ''
-          exclude: false
-          alter:
-            alter_text: false
-            text: ''
-            make_link: false
-            path: ''
-            absolute: false
-            external: false
-            replace_spaces: false
-            path_case: none
-            trim_whitespace: false
-            alt: ''
-            rel: ''
-            link_class: ''
-            prefix: ''
-            suffix: ''
-            target: ''
-            nl2br: false
-            max_length: 0
-            word_boundary: true
-            ellipsis: true
-            more_link: false
-            more_link_text: ''
-            more_link_path: ''
-            strip_tags: false
-            trim: false
-            preserve_tags: ''
-            html: false
-          element_type: ''
-          element_class: ''
-          element_label_type: ''
-          element_label_class: ''
-          element_label_colon: false
-          element_wrapper_type: ''
-          element_wrapper_class: ''
-          element_default_classes: true
-          empty: ''
-          hide_empty: false
-          empty_zero: false
-          hide_alter_empty: true
-          type: timestamp_ago
-          settings:
-            future_format: '@interval hence'
-            past_format: '@interval ago'
-            granularity: 2
-          entity_type: comment
-          entity_field: changed
-      filters:
-        status:
-          value: '1'
-          table: comment_field_data
-          field: status
-          id: status
-          plugin_id: boolean
-          expose:
-            operator: ''
-            operator_limit_selection: false
-            operator_list: {  }
-          group: 1
-          entity_type: comment
-          entity_field: status
-        status_node:
-          value: '1'
-          table: node_field_data
-          field: status
-          relationship: node
-          id: status_node
-          plugin_id: boolean
-          expose:
-            operator: ''
-            operator_limit_selection: false
-            operator_list: {  }
-          group: 1
-          entity_type: node
-          entity_field: status
-      sorts:
-        created:
-          id: created
-          table: comment_field_data
-          field: created
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          expose:
-            label: ''
-          plugin_id: date
-          entity_type: comment
-          entity_field: created
-        cid:
-          id: cid
-          table: comment_field_data
-          field: cid
-          relationship: none
-          group_type: group
-          admin_label: ''
-          order: DESC
-          exposed: false
-          plugin_id: field
-          entity_type: comment
-          entity_field: cid
-      title: 'Recent comments'
-      empty:
-        area_text_custom:
-          id: area_text_custom
-          table: views
-          field: area_text_custom
-          relationship: none
-          group_type: group
-          admin_label: ''
-          label: ''
-          empty: true
-          content: 'No comments available.'
-          tokenize: false
-          plugin_id: text_custom
-      display_extenders: {  }
-    cache_metadata:
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - user.permissions
-      max-age: -1
-      tags: {  }
-  block_1:
-    display_plugin: block
-    id: block_1
-    display_title: Block
-    position: 1
-    display_options:
-      block_description: 'Recent comments'
-      block_category: 'Lists (Views)'
-      allow:
-        items_per_page: true
-      display_extenders: {  }
-    cache_metadata:
-      contexts:
-        - 'languages:language_content'
-        - 'languages:language_interface'
-        - user.permissions
-      max-age: -1
-      tags: {  }

---FILE: examples/drupal-site/web/sites/default/settings.local.php---
@@ -1,164 +0,0 @@
-<?php
-
-// @codingStandardsIgnoreFile
-
-/**
- * @file
- * Local development override configuration feature.
- *
- * To activate this feature, copy and rename it such that its path plus
- * filename is 'sites/default/settings.local.php'. Then, go to the bottom of
- * 'sites/default/settings.php' and uncomment the commented lines that mention
- * 'settings.local.php'.
- *
- * If you are using a site name in the path, such as 'sites/example.com', copy
- * this file to 'sites/example.com/settings.local.php', and uncomment the lines
- * at the bottom of 'sites/example.com/settings.php'.
- */
-
-/**
- * Assertions.
- *
- * The Drupal project primarily uses runtime assertions to enforce the
- * expectations of the API by failing when incorrect calls are made by code
- * under development.
- *
- * @see http://php.net/assert
- * @see https://www.drupal.org/node/2492225
- *
- * If you are using PHP 7.0 it is strongly recommended that you set
- * zend.assertions=1 in the PHP.ini file (It cannot be changed from .htaccess
- * or runtime) on development machines and to 0 in production.
- *
- * @see https://wiki.php.net/rfc/expectations
- */
-assert_options(ASSERT_ACTIVE, TRUE);
-\Drupal\Component\Assertion\Handle::register();
-
-/**
- * Enable local development services.
- */
-$settings['container_yamls'][] = DRUPAL_ROOT . '/sites/development.services.yml';
-
-/**
- * Show all error messages, with backtrace information.
- *
- * In case the error level could not be fetched from the database, as for
- * example the database connection failed, we rely only on this value.
- */
-$config['system.logging']['error_level'] = 'verbose';
-
-/**
- * Disable CSS and JS aggregation.
- */
-$config['system.performance']['css']['preprocess'] = FALSE;
-$config['system.performance']['js']['preprocess'] = FALSE;
-
-/**
- * Disable the render cache.
- *
- * Note: you should test with the render cache enabled, to ensure the correct
- * cacheability metadata is present. However, in the early stages of
- * development, you may want to disable it.
- *
- * This setting disables the render cache by using the Null cache back-end
- * defined by the development.services.yml file above.
- *
- * Only use this setting once the site has been installed.
- */
-# $settings['cache']['bins']['render'] = 'cache.backend.null';
-
-/**
- * Disable caching for migrations.
- *
- * Uncomment the code below to only store migrations in memory and not in the
- * database. This makes it easier to develop custom migrations.
- */
-# $settings['cache']['bins']['discovery_migration'] = 'cache.backend.memory';
-
-/**
- * Disable Internal Page Cache.
- *
- * Note: you should test with Internal Page Cache enabled, to ensure the correct
- * cacheability metadata is present. However, in the early stages of
- * development, you may want to disable it.
- *
- * This setting disables the page cache by using the Null cache back-end
- * defined by the development.services.yml file above.
- *
- * Only use this setting once the site has been installed.
- */
-$settings['cache']['bins']['page'] = 'cache.backend.null';
-
-/**
- * Disable Dynamic Page Cache.
- *
- * Note: you should test with Dynamic Page Cache enabled, to ensure the correct
- * cacheability metadata is present (and hence the expected behavior). However,
- * in the early stages of development, you may want to disable it.
- */
-# $settings['cache']['bins']['dynamic_page_cache'] = 'cache.backend.null';
-
-/**
- * Allow test modules and themes to be installed.
- *
- * Drupal ignores test modules and themes by default for performance reasons.
- * During development it can be useful to install test extensions for debugging
- * purposes.
- */
-# $settings['extension_discovery_scan_tests'] = TRUE;
-
-/**
- * Enable access to rebuild.php.
- *
- * This setting can be enabled to allow Drupal's php and database cached
- * storage to be cleared via the rebuild.php page. Access to this page can also
- * be gained by generating a query string from rebuild_token_calculator.sh and
- * using these parameters in a request to rebuild.php.
- */
-$settings['rebuild_access'] = TRUE;
-
-/**
- * Skip file system permissions hardening.
- *
- * The system module will periodically check the permissions of your site's
- * site directory to ensure that it is not writable by the website user. For
- * sites that are managed with a version control system, this can cause problems
- * when files in that directory such as settings.php are updated, because the
- * user pulling in the changes won't have permissions to modify files in the
- * directory.
- */
-$settings['skip_permissions_hardening'] = TRUE;
-
-/**
- * Exclude modules from configuration synchronization.
- *
- * On config export sync, no config or dependent config of any excluded module
- * is exported. On config import sync, any config of any installed excluded
- * module is ignored. In the exported configuration, it will be as if the
- * excluded module had never been installed. When syncing configuration, if an
- * excluded module is already installed, it will not be uninstalled by the
- * configuration synchronization, and dependent configuration will remain
- * intact. This affects only configuration synchronization; single import and
- * export of configuration are not affected.
- *
- * Drupal does not validate or sanity check the list of excluded modules. For
- * instance, it is your own responsibility to never exclude required modules,
- * because it would mean that the exported configuration can not be imported
- * anymore.
- *
- * This is an advanced feature and using it means opting out of some of the
- * guarantees the configuration synchronization provides. It is not recommended
- * to use this feature with modules that affect Drupal in a major way such as
- * the language or field module.
- */
-# $settings['config_exclude_modules'] = ['devel', 'stage_file_proxy'];
-
-$databases['default']['default'] = array (
-  'database' => '../database/database.sqlite',
-  'prefix' => '',
-  'namespace' => 'Drupal\\Core\\Database\\Driver\\sqlite',
-  'driver' => 'sqlite',
-);
-
-$settings['config_sync_directory'] = '../config';

---FILE: examples/drupal-site/web/sites/default/settings.php---
@@ -792,6 +792,9 @@
  * Keep this code block at the end of this file to take full effect.
  */
 #
+
+$settings[""config_sync_directory""] = ""../config"";
+
 if (file_exists($app_root . '/' . $site_path . '/settings.local.php')) {
   include $app_root . '/' . $site_path . '/settings.local.php';
 }

---FILE: www/src/config/site.ts---
@@ -4,25 +4,24 @@ export const site: SiteConfig = {
   name: ""Next.js for Drupal"",
   description:
     ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
-  copyright: ` ${new Date().getFullYear()} Next.js for Drupal - Project maintained by <a href=""https://twitter.com/arshadcn"">@arshadcn</a>.`,
+  copyright: ` ${new Date().getFullYear()} Next.js for Drupal - Project maintained by <a href=""https://chapterthree.com"" target=""_blank"">Chapter Three</a>.`,
   links: [
     {
-      title: ""Home"",
+      title: ""Documentation"",
       url: ""/"",
     },
     {
-      title: ""Documentation"",
-      url: ""/"",
-      activePathNames: [""/[[...slug]]""],
+      title: ""Demo"",
+      url: ""/demo"",
     },
     {
       title: ""GitHub"",
-      url: ""https://github.com/arshad/next-drupal"",
+      url: ""https://github.com/chapter-three/next-drupal"",
       external: true,
     },
   ],
   social: {
-    github: ""arshad/next-drupal"",
+    github: ""chapter-three/next-drupal"",
     twitter: ""arshadcn"",
   },
 }",False,True,Dependency / Package,7
chapter-three,next-drupal,9463bd174b71172eebaa98c91475b64245f16934,arshad,arshad@chummun.com,2021-06-14T16:55:33Z,arshad,arshad@chummun.com,2021-06-14T16:55:33Z,fix(next-drupal): update useMenu,packages/next-drupal/src/use-menu.tsx,False,False,False,False,7,2,9,"---FILE: packages/next-drupal/src/use-menu.tsx---
@@ -1,4 +1,5 @@
 import * as React from ""react""
+import { useRouter } from ""next/router""
 
 import { getMenu } from ""./get-menu""
 import { DrupalMenuLinkContent } from ""./types""
@@ -11,6 +12,7 @@ export function useMenu(
   error: unknown
   isLoading: boolean
 } {
+  const router = useRouter()
   const [data, setData] = React.useState<{
     items: DrupalMenuLinkContent[]
     tree: DrupalMenuLinkContent[]
@@ -22,7 +24,10 @@ export function useMenu(
     const fetchMenuItems = async () => {
       setIsLoading(true)
       try {
-        const data = await getMenu(name)
+        const data = await getMenu(name, {
+          locale: router.locale,
+          defaultLocale: router.defaultLocale,
+        })
         setData(data)
         setIsLoading(false)
       } catch (error) {
@@ -31,7 +36,7 @@ export function useMenu(
       }
     }
     fetchMenuItems()
-  }, [])
+  }, [router.locale])
 
   return { ...data, error, isLoading }
 }",False,False,Dependency / Package,1
chapter-three,next-drupal,56364ce6f3f2aaef2d0d48a8fe544c1c03fba418,arshad,arshad@chummun.com,2021-06-14T16:55:16Z,arshad,arshad@chummun.com,2021-06-14T16:55:16Z,fix(next-drupal): update handling of locale,packages/next-drupal/src/get-paths.ts,False,False,False,False,59,24,83,"---FILE: packages/next-drupal/src/get-paths.ts---
@@ -3,41 +3,76 @@ import { getResourceCollection } from ""./get-resource-collection""
 import { JsonApiParams, Locale } from ""./types""
 
 export async function getPathsFromContext(
-  type: string,
+  types: string | string[],
   context: GetStaticPathsContext,
   options: {
     params?: JsonApiParams
   } = {}
 ) {
-  // Use sparse fieldset to expand max size.
-  options.params = {
-    [`fields[${type}]`]: ""path"",
-    ...options?.params,
+  if (typeof types === ""string"") {
+    types = [types]
   }
 
-  if (!context.locales?.length) {
-    const resources = await getResourceCollection(type, {
-      deserialize: true,
-      ...options,
-    })
+  const paths = await Promise.all(
+    types.map(async (type) => {
+      // Use sparse fieldset to expand max size.
+      options.params = {
+        [`fields[${type}]`]: ""path"",
+        ...options?.params,
+      }
 
-    return buildPathsFromResources(resources)
-  }
+      const paths = await Promise.all(
+        context.locales.map(async (locale) => {
+          const resources = await getResourceCollection(type, {
+            deserialize: true,
+            locale,
+            defaultLocale: context.defaultLocale,
+            ...options,
+          })
 
-  const paths = await Promise.all(
-    context.locales.flatMap(async (locale) => {
-      const resources = await getResourceCollection(type, {
-        deserialize: true,
-        locale,
-        defaultLocale: context.defaultLocale,
-        ...options,
-      })
-
-      return buildPathsFromResources(resources, locale)
+          return buildPathsFromResources(resources, locale)
+        })
+      )
+
+      return paths.flat()
+
+      // const resources = await getResourceCollection(type, {
+      //   deserialize: true,
+      //   ...options,
+      // })
+
+      // return buildPathsFromResources(resources)
+
+      // Handle localized path aliases
+      // if (!context.locales?.length) {
+      //   const resources = await getResourceCollection(type, {
+      //     deserialize: true,
+      //     ...options,
+      //   })
+
+      //   return buildPathsFromResources(resources)
+      // }
+
+      // const paths = await Promise.all(
+      //   context.locales.map(async (locale) => {
+      //     const resources = await getResourceCollection(type, {
+      //       deserialize: true,
+      //       locale,
+      //       defaultLocale: context.defaultLocale,
+      //       ...options,
+      //     })
+
+      //     return buildPathsFromResources(resources, locale)
+      //   })
+      // )
+
+      // paths.flat().map((path) => console.log(path))
+
+      // return paths.flat()
     })
   )
 
-  return [].concat(...paths)
+  return paths.flat()
 }
 
 function buildPathsFromResources(resources, locale?: Locale) {
@@ -54,7 +89,7 @@ function buildPathsFromResources(resources, locale?: Locale) {
     }
 
     if (locale) {
-      path.params[""locale""] = locale
+      path[""locale""] = locale
     }
 
     return path",False,False,Dependency / Package,1
chapter-three,next-drupal,4fad3457e8e8d6205122c29783c2aff67aa4fbe6,arshad,arshad@chummun.com,2021-06-13T19:29:19Z,arshad,arshad@chummun.com,2021-06-13T19:29:19Z,fix: update locale support for translated path,packages/next-drupal/src/get-paths.ts;packages/next-drupal/src/get-resource.ts;packages/next-drupal/src/use-menu.tsx,False,False,False,False,25,7,32,"---FILE: packages/next-drupal/src/get-paths.ts---
@@ -41,14 +41,15 @@ export async function getPathsFromContext(
 }
 
 function buildPathsFromResources(resources, locale?: Locale) {
-  return resources.flatMap((resource) => {
+  return resources?.flatMap((resource) => {
     const slug =
-      resource.path.alias === process.env.DRUPAL_FRONT_PAGE
+      resource?.path?.alias === process.env.DRUPAL_FRONT_PAGE
         ? ""/""
-        : resource.path.alias
+        : resource?.path?.alias
+
     const path = {
       params: {
-        slug: `${slug.replace(/^\/|\/$/g, """")}`.split(""/""),
+        slug: `${slug?.replace(/^\/|\/$/g, """")}`.split(""/""),
       },
     }
 

---FILE: packages/next-drupal/src/get-resource.ts---
@@ -34,6 +34,8 @@ export async function getResourceFromContext(
 
   const resource = await getResourceByPath(path, {
     deserialize: options.deserialize,
+    locale: context.locale,
+    defaultLocale: context.defaultLocale,
     params: {
       resourceVersion: context.previewData?.resourceVersion,
       ...options?.params,
@@ -69,7 +71,11 @@ export async function getResourceByPath(
     return null
   }
 
-  if (options.locale && options.defaultLocale) {
+  if (
+    options.locale &&
+    options.defaultLocale &&
+    path.indexOf(options.locale) !== 1
+  ) {
     path = path === ""/"" ? path : path.replace(/^\/+/, """")
     path = getPathFromContext({
       params: { slug: [path] },
@@ -99,7 +105,19 @@ export async function getResourceByPath(
     },
   ]
 
-  const url = buildUrl(""/subrequests"", {
+  // Localized subrequests.
+  // I was hoping we not need this but it seems like subrequests is not properly
+  // setting the jsonapi locale from a translated path.
+  let subrequestsPath = ""/subrequests""
+  if (
+    options.locale &&
+    options.defaultLocale &&
+    options.locale !== options.defaultLocale
+  ) {
+    subrequestsPath = `/${options.locale}/subrequests`
+  }
+
+  const url = buildUrl(subrequestsPath, {
     _format: ""json"",
   })
 

---FILE: packages/next-drupal/src/use-menu.tsx---
@@ -26,7 +26,6 @@ export function useMenu(
         setData(data)
         setIsLoading(false)
       } catch (error) {
-        console.log(error)
         setError(error)
         setIsLoading(false)
       }",False,False,Environment / Configuration,4
chapter-three,next-drupal,93dd6786caff73398dd291c84b41d45c5bc50645,arshad,arshad@chummun.com,2021-06-13T17:06:39Z,arshad,arshad@chummun.com,2021-06-13T17:06:39Z,fix: update sites to handle unpublished entities,examples/example-blog/pages/[...slug].tsx;examples/example-blog/pages/blog/[...slug].tsx;examples/example-blog/pages/index.tsx;examples/example-marketing/pages/[[...slug]].tsx;examples/example-marketing/pages/blog.tsx;examples/example-marketing/pages/blog/[...slug].tsx,False,False,False,False,16,6,22,"---FILE: examples/example-blog/pages/[...slug].tsx---
@@ -38,7 +38,7 @@ export async function getStaticPaths(context) {
 export async function getStaticProps(context) {
   const page = await getResourceFromContext(""node--page"", context)
 
-  if (!page) {
+  if (!page?.status) {
     return {
       notFound: true,
     }

---FILE: examples/example-blog/pages/blog/[...slug].tsx---
@@ -62,6 +62,7 @@ export default function BlogPostPage({ post }) {
 export async function getStaticPaths(context) {
   let paths = await getPathsFromContext(""node--article"", context, {
     params: {
+      ""filter[status]"": ""1"",
       ""fields[node--article]"": ""path,field_site"",
     },
   })
@@ -86,6 +87,7 @@ export async function getStaticProps(context) {
 
   if (
     !post ||
+    !post.status ||
     !post.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID)
   ) {
     return {

---FILE: examples/example-blog/pages/index.tsx---
@@ -30,6 +30,7 @@ export async function getStaticProps(context) {
     context,
     {
       params: {
+        ""filter[status]"": ""1"",
         include: ""field_image, uid"",
         sort: ""-created"",
       },

---FILE: examples/example-marketing/pages/[[...slug]].tsx---
@@ -70,7 +70,7 @@ export async function getStaticProps(
     params,
   })
 
-  if (!page) {
+  if (!page?.status) {
     return {
       notFound: true,
     }
@@ -80,6 +80,6 @@ export async function getStaticProps(
     props: {
       page,
     },
-    revalidate: 60,
+    revalidate: 1,
   }
 }

---FILE: examples/example-marketing/pages/blog.tsx---
@@ -31,6 +31,7 @@ export async function getStaticProps(context) {
     context,
     {
       params: {
+        ""filter[status]"": ""1"",
         include: ""field_image, uid"",
         sort: ""-created"",
       },
@@ -45,6 +46,6 @@ export async function getStaticProps(context) {
     props: {
       articles,
     },
-    revalidate: 60,
+    revalidate: 1,
   }
 }

---FILE: examples/example-marketing/pages/blog/[...slug].tsx---
@@ -70,7 +70,12 @@ export default function BlogPostPage({ post, preview }) {
 }
 
 export async function getStaticPaths(context) {
-  let paths = await getPathsFromContext(""node--article"", context)
+  let paths = await getPathsFromContext(""node--article"", context, {
+    params: {
+      ""filter[status]"": ""1"",
+      ""fields[node--article]"": ""path,field_site"",
+    },
+  })
 
   paths = paths.filter((entity) =>
     entity.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID)
@@ -92,6 +97,7 @@ export async function getStaticProps(context) {
 
   if (
     !post ||
+    !post.status ||
     !post.field_site?.some(({ id }) => id === process.env.DRUPAL_SITE_ID)
   ) {
     return {
@@ -103,6 +109,6 @@ export async function getStaticProps(context) {
     props: {
       post,
     },
-    revalidate: 60,
+    revalidate: 1,
   }
 }",False,False,Documentation / Formatting,3
chapter-three,next-drupal,c1fc90a5c3e7fea7e3b1e2d06504f67669dbc57e,arshad,arshad@chummun.com,2021-06-13T17:04:25Z,arshad,arshad@chummun.com,2021-06-13T17:04:25Z,fix(next-drupal): let site handle published status,packages/next-drupal/src/get-resource-collection.ts;packages/next-drupal/src/get-resource.ts,False,False,False,False,14,14,28,"---FILE: packages/next-drupal/src/get-resource-collection.ts---
@@ -52,13 +52,13 @@ export async function getResourceCollectionFromContext(
     ...options,
   }
 
-  // Filter out unpublished entities.
-  if (!context.preview) {
-    options.params = {
-      ""filter[status]"": ""1"",
-      ...options.params,
-    }
-  }
+  // // Filter out unpublished entities.
+  // if (!context.preview) {
+  //   options.params = {
+  //     ""filter[status]"": ""1"",
+  //     ...options.params,
+  //   }
+  // }
 
   return await getResourceCollection(type, {
     ...options,

---FILE: packages/next-drupal/src/get-resource.ts---
@@ -25,12 +25,12 @@ export async function getResourceFromContext(
   const path = getPathFromContext(context, options?.prefix)
 
   // Filter out unpublished entities.
-  if (!context.preview) {
-    options.params = {
-      ""filter[status]"": ""1"",
-      ...options?.params,
-    }
-  }
+  // if (!context.preview) {
+  //   options.params = {
+  //     ""filter[status]"": ""1"",
+  //     ...options?.params,
+  //   }
+  // }
 
   const resource = await getResourceByPath(path, {
     deserialize: options.deserialize,
@@ -50,7 +50,7 @@ export async function getResourceFromContext(
     return null
   }
 
-  return !context.preview && !resource.status ? null : resource
+  return resource
 }
 
 export async function getResourceByPath(",False,False,Implementation / Logic,3
chapter-three,next-drupal,08863e6e8ab273799f1b1fcab793fdf51ad1d04b,arshad,arshad@chummun.com,2021-06-13T10:17:50Z,arshad,arshad@chummun.com,2021-06-13T10:17:50Z,fix: update marketing site,examples/example-marketing/pages/blog.tsx;examples/example-marketing/src/config.ts,False,False,False,False,2,2,4,"---FILE: examples/example-marketing/pages/blog.tsx---
@@ -12,7 +12,7 @@ export default function BlogPage({ articles }) {
       <div variant=""container"" py=""10|12"">
         <h1 variant=""heading.h1"">Latest Articles.</h1>
         {articles.length ? (
-          <div display=""grid"" col=""1|1|2|3"" gap=""20"">
+          <div display=""grid"" col=""1|1|2"" gap=""20"">
             {articles.map((article) => (
               <PostTeaser key={article.id} post={article} />
             ))}

---FILE: examples/example-marketing/src/config.ts---
@@ -1,5 +1,5 @@
 export const site = {
-  name: ""Marketing."",
+  name: ""Brand."",
   copyright: ` ${new Date().getFullYear()} Next.js + Drupal`,
   links: [
     {",False,False,Dependency / Package,1
chapter-three,next-drupal,f01ca6b9f68ac92c587b11c6e05f1145a57e8995,arshad,arshad@chummun.com,2021-06-13T08:10:17Z,arshad,arshad@chummun.com,2021-06-13T08:10:17Z,fix: update preview,examples/example-blog/pages/api/preview.ts;examples/example-marketing/pages/api/preview.ts;examples/example-marketing/src/components/basic-page.tsx;examples/example-marketing/src/components/landing-page.tsx,False,False,False,False,7,79,86,"---FILE: examples/example-blog/pages/api/preview.ts---
@@ -1,34 +1,3 @@
-import { NextApiRequest, NextApiResponse } from ""next""
-import { getResourceByPath } from ""next-drupal""
+import { DrupalPreview } from ""next-drupal""
 
-export default async function (
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  const { slug, resourceVersion, secret } = request.query
-
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
-    return response.status(401).json({ message: ""Invalid preview secret."" })
-  }
-
-  if (!slug) {
-    return response.status(401).json({ message: ""Invalid slug."" })
-  }
-
-  const node = await getResourceByPath(slug as string)
-
-  if (!node) {
-    return response.status(404).json({ message: ""Invalid slug"" })
-  }
-
-  response.setPreviewData({
-    resourceVersion,
-  })
-
-  const url = node.default_langcode
-    ? node.path.alias
-    : `/${node.path.langcode}${node.path.alias}`
-
-  response.writeHead(307, { Location: url })
-  response.end()
-}
+export default DrupalPreview()

---FILE: examples/example-marketing/pages/api/preview.ts---
@@ -1,34 +1,3 @@
-import { NextApiRequest, NextApiResponse } from ""next""
-import { getResourceByPath } from ""next-drupal""
+import { DrupalPreview } from ""next-drupal""
 
-export default async function (
-  request: NextApiRequest,
-  response: NextApiResponse
-) {
-  const { slug, resourceVersion, secret } = request.query
-
-  if (secret !== process.env.DRUPAL_PREVIEW_SECRET) {
-    return response.status(401).json({ message: ""Invalid preview secret."" })
-  }
-
-  if (!slug) {
-    return response.status(401).json({ message: ""Invalid slug."" })
-  }
-
-  const node = await getResourceByPath(slug as string)
-
-  if (!node) {
-    return response.status(404).json({ message: ""Invalid slug"" })
-  }
-
-  response.setPreviewData({
-    resourceVersion,
-  })
-
-  const url = node.default_langcode
-    ? node.path.alias
-    : `/${node.path.langcode}${node.path.alias}`
-
-  response.writeHead(307, { Location: url })
-  response.end()
-}
+export default DrupalPreview()

---FILE: examples/example-marketing/src/components/basic-page.tsx---
@@ -1,13 +1,7 @@
-interface BasicPageProps {
-  page: Record<string, any>
-}
-
-export function BasicPage({ page }: BasicPageProps) {
+export function BasicPage({ page }) {
   return (
     <div variant=""container.sm"" py=""10|12"">
-      <h1 variant=""heading.h1"">
-        {page.title} - {page.status}
-      </h1>
+      <h1 variant=""heading.h1"">{page.title}</h1>
       {page.body && (
         <div
           dangerouslySetInnerHTML={{ __html: page.body.processed }}

---FILE: examples/example-marketing/src/components/landing-page.tsx---
@@ -1,10 +1,6 @@
 import dynamic from ""next/dynamic""
 
-interface LandingPageProps {
-  page: Record<string, any>
-}
-
-export function LandingPage({ page }: LandingPageProps) {
+export function LandingPage({ page }) {
   return page.field_sections?.length ? (
     <>
       {page.field_sections.map((section) => {",False,False,Dependency / Package,1
chapter-three,next-drupal,efe17b44eb865fd645864da634304a3016c0e082,arshad,arshad@chummun.com,2021-06-12T06:29:44Z,arshad,arshad@chummun.com,2021-06-12T06:29:44Z,fix: remove unused dependencies,examples/drupal-site/composer.json;examples/drupal-site/composer.lock,False,False,False,False,1,63,64,"---FILE: examples/drupal-site/composer.json---
@@ -28,7 +28,6 @@
     ""drupal/default_content"": ""^2.0@alpha"",
     ""drupal/entity_reference_revisions"": ""^1.9"",
     ""drupal/entity_usage"": ""^2.0@beta"",
-    ""drupal/jsonapi_hypermedia"": ""^1.6"",
     ""drupal/jsonapi_menu_items"": ""^1.2"",
     ""drupal/jsonapi_schema"": ""^1.0@beta"",
     ""drupal/next"": ""1.0.x-dev"",

---FILE: examples/drupal-site/composer.lock---
@@ -4,7 +4,7 @@
         ""Read more about it at https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies"",
         ""This file is @generated automatically""
     ],
-    ""content-hash"": ""83dfdeddfb8057e0eaec5a2b5f06186f"",
+    ""content-hash"": ""bd99addf3ea7c749dbe6ab117ea625d5"",
     ""packages"": [
         {
             ""name"": ""alchemy/zippy"",
@@ -3277,67 +3277,6 @@
                 ""issues"": ""http://drupal.org/project/issues/entity_usage""
             }
         },
-        {
-            ""name"": ""drupal/jsonapi_hypermedia"",
-            ""version"": ""1.6.0"",
-            ""source"": {
-                ""type"": ""git"",
-                ""url"": ""https://git.drupalcode.org/project/jsonapi_hypermedia.git"",
-                ""reference"": ""8.x-1.6""
-            },
-            ""dist"": {
-                ""type"": ""zip"",
-                ""url"": ""https://ftp.drupal.org/files/projects/jsonapi_hypermedia-8.x-1.6.zip"",
-                ""reference"": ""8.x-1.6"",
-                ""shasum"": ""10f9e9fdfe8ae465d277f13c1d98e9389b14dec1""
-            },
-            ""require"": {
-                ""drupal/core"": ""^8.8 || ^9.0""
-            },
-            ""type"": ""drupal-module"",
-            ""extra"": {
-                ""drupal"": {
-                    ""version"": ""8.x-1.6"",
-                    ""datestamp"": ""1582916946"",
-                    ""security-coverage"": {
-                        ""status"": ""covered"",
-                        ""message"": ""Covered by Drupal's security advisory policy""
-                    }
-                }
-            },
-            ""notification-url"": ""https://packages.drupal.org/8/downloads"",
-            ""license"": [
-                ""GPL-2.0+""
-            ],
-            ""authors"": [
-                {
-                    ""name"": ""Gabriel SULLICE"",
-                    ""homepage"": ""https://www.drupal.org/user/3616626"",
-                    ""email"": ""gabriel@sullice.com""
-                },
-                {
-                    ""name"": ""Wim Leers"",
-                    ""homepage"": ""https://www.drupal.org/user/99777""
-                },
-                {
-                    ""name"": ""e0ipso"",
-                    ""homepage"": ""https://www.drupal.org/user/550110""
-                },
-                {
-                    ""name"": ""gabesullice"",
-                    ""homepage"": ""https://www.drupal.org/user/2287430""
-                },
-                {
-                    ""name"": ""zrpnr"",
-                    ""homepage"": ""https://www.drupal.org/user/1448368""
-                }
-            ],
-            ""description"": ""Complements the JSON API module with Hypermedia as the Engine of Application State"",
-            ""homepage"": ""https://www.drupal.org/project/jsonapi_hypermedia"",
-            ""support"": {
-                ""source"": ""https://git.drupalcode.org/project/jsonapi_hypermedia""
-            }
-        },
         {
             ""name"": ""drupal/jsonapi_menu_items"",
             ""version"": ""1.2.1"",",False,False,Data / Input Handling,3
chapter-three,next-drupal,56a4c3eb5b95b90cb5a513653c05a09abbf3a213,arshad,arshad@chummun.com,2021-06-11T17:14:36Z,arshad,arshad@chummun.com,2021-06-11T17:14:36Z,fix: remove console,packages/next-drupal/src/utils.ts,False,False,False,False,0,2,2,"---FILE: packages/next-drupal/src/utils.ts---
@@ -9,8 +9,6 @@ const dataFormatter = new Jsona()
 export function deserialize(body, options?) {
   if (!body) return null
 
-  console.log(dataFormatter)
-
   return dataFormatter.deserialize(body, options)
 }
 ",False,False,Implementation / Logic,3
chapter-three,next-drupal,51414b4918cac62ed6c727e188beea483d06d0e8,arshad,arshad@chummun.com,2021-05-07T11:10:46Z,arshad,arshad@chummun.com,2021-05-07T11:10:46Z,fix(next): add cache tags and contexts for iframe preview,modules/next/src/Plugin/Next/SitePreviewer/Iframe.php,False,False,False,False,4,0,4,"---FILE: modules/next/src/Plugin/Next/SitePreviewer/Iframe.php---
@@ -218,6 +218,10 @@ public function render(EntityInterface $entity, array $sites) {
       ],
     ];
 
+    $build['#cache']['contexts'] = $entity->getCacheContexts();
+    $build['#cache']['tags'] = $entity->getCacheTags();
+    $build['#cache']['max-age'] = $entity->getCacheMaxAge();
+
     return $build;
   }
 ",False,False,Rendering / Conversion,0
chapter-three,next-drupal,825cb5987dff0e70b62a4ebf7b44908947ee5221,arshad,arshad@chummun.com,2021-05-07T08:19:10Z,arshad,arshad@chummun.com,2021-05-07T08:19:10Z,fix(next): add patch to handle subrequests cache issue,modules/next/composer.json,False,False,False,False,3,1,4,"---FILE: modules/next/composer.json---
@@ -11,6 +11,7 @@
     }
   ],
   ""require"": {
+    ""cweagans/composer-patches"": ""~1.0"",
     ""drupal/decoupled_router"": ""^2.0"",
     ""drupal/simple_oauth"": ""^5.0"",
     ""drupal/subrequests"": ""^3.0""
@@ -21,7 +22,8 @@
   ""extra"": {
     ""patches"": {
       ""drupal/subrequests"": {
-        ""Subrequest failed validation"": ""https://www.drupal.org/files/issues/2019-05-27/3029570-array-not-object.patch""
+        ""Subrequest failed validation"": ""https://www.drupal.org/files/issues/2019-05-27/3029570-array-not-object.patch"",
+        ""Get same results on different request"": ""https://www.drupal.org/files/issues/2019-07-18/change_request_type-63049395-09.patch""
       }
     }
   }",False,False,Data / Input Handling,3
chapter-three,next-drupal,54549d8c471002f4f8c3f8412a6b55f2feee94a5,arshad,arshad@chummun.com,2021-04-07T05:25:17Z,arshad,arshad@chummun.com,2021-04-07T05:25:17Z,fix(www): update core theme,www/core/config/theme.ts;www/package.json;yarn.lock,False,False,False,False,16,0,16,"---FILE: www/core/config/theme.ts---
@@ -276,6 +276,7 @@ const theme: Theme = {
       },
       a: {
         color: ""link"",
+        wordWrap: ""break-word"",
         textDecoration: ""inherit"",
         ""&:hover"": {
           textDecoration: ""underline"",

---FILE: www/package.json---
@@ -23,6 +23,7 @@
     ""reflexjs"": ""^2.0.0-alpha.6""
   },
   ""devDependencies"": {
+    ""@types/react"": ""^17.0.3"",
     ""remark-autolink-headings"": ""^6.0.1"",
     ""remark-slug"": ""^6.0.0"",
     ""typescript"": ""^4.2.3""

---FILE: yarn.lock---
@@ -3692,13 +3692,27 @@
     ""@types/prop-types"" ""*""
     csstype ""^3.0.2""
 
+""@types/react@^17.0.3"":
+  version ""17.0.3""
+  resolved ""https://registry.yarnpkg.com/@types/react/-/react-17.0.3.tgz#ba6e215368501ac3826951eef2904574c262cc79""
+  integrity sha512-wYOUxIgs2HZZ0ACNiIayItyluADNbONl7kt8lkLjVK8IitMH5QMyAh75Fwhmo37r1m7L2JaFj03sIfxBVDvRAg==
+  dependencies:
+    ""@types/prop-types"" ""*""
+    ""@types/scheduler"" ""*""
+    csstype ""^3.0.2""
+
 ""@types/resolve@0.0.8"":
   version ""0.0.8""
   resolved ""https://registry.yarnpkg.com/@types/resolve/-/resolve-0.0.8.tgz#f26074d238e02659e323ce1a13d041eee280e194""
   integrity sha512-auApPaJf3NPfe18hSoJkp8EbZzer2ISk7o8mCC3M9he/a04+gbMF97NkpD2S8riMGvm4BMRI59/SZQSaLTKpsQ==
   dependencies:
     ""@types/node"" ""*""
 
+""@types/scheduler@*"":
+  version ""0.16.1""
+  resolved ""https://registry.yarnpkg.com/@types/scheduler/-/scheduler-0.16.1.tgz#18845205e86ff0038517aab7a18a62a6b9f71275""
+  integrity sha512-EaCxbanVeyxDRTQBkdLb3Bvl/HK7PBK6UJjsSixB0iHKoWxE5uu2Q/DgtpOhPIojN0Zl1whvOd7PoHs2P0s5eA==
+
 ""@types/stack-utils@^2.0.0"":
   version ""2.0.0""
   resolved ""https://registry.yarnpkg.com/@types/stack-utils/-/stack-utils-2.0.0.tgz#7036640b4e21cc2f259ae826ce843d277dad8cff""",False,False,Visualization / Plotting,4
chapter-three,next-drupal,5de3c3fb06f73e7c9ce05d03c036f326249b8aac,arshad,arshad@chummun.com,2021-04-07T02:35:09Z,arshad,arshad@chummun.com,2021-04-07T02:35:09Z,fix(www): update next.config.js,www/docs/index.mdx;www/next.config.js;www/package.json;www/pages/_app.tsx,False,False,False,False,4,4,8,"---FILE: www/docs/index.mdx---
@@ -4,7 +4,7 @@ excerpt: The performance of Next.js powered by the flexibility of Drupal.
 ---
 
 <Img
-  src=""/images/meta.png""
+  src=""/images/meta.jpg""
   width=""960""
   height=""560""
   layout=""responsive""

---FILE: www/package.json---
@@ -15,14 +15,14 @@
     ""@reflexjs/mdx"": ""^1.0.0-alpha.5"",
     ""framer-motion"": ""^4.1.2"",
     ""next"": ""^10.1.3"",
+    ""next-mdx"": ""^0.6.0"",
+    ""next-mdx-toc"": ""^0.1.1"",
     ""next-seo"": ""^4.23.0"",
     ""react"": ""^17.0.2"",
     ""react-dom"": ""^17.0.2"",
     ""reflexjs"": ""^2.0.0-alpha.6""
   },
   ""devDependencies"": {
-    ""next-mdx"": ""^0.6.0"",
-    ""next-mdx-toc"": ""^0.1.1"",
     ""remark-autolink-headings"": ""^6.0.1"",
     ""remark-slug"": ""^6.0.0"",
     ""typescript"": ""^4.2.3""

---FILE: www/pages/_app.tsx---
@@ -15,7 +15,7 @@ export default function App({ Component, pageProps }) {
           url: process.env.NEXT_PUBLIC_BASE_URL,
           images: [
             {
-              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.png`,
+              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.jpg`,
               width: 800,
               height: 600,
             },",False,False,Documentation / Formatting,3
chapter-three,next-drupal,e1ca7dfc668d9a58753ddd22a4e5d8f0393fc60c,arshad,arshad@chummun.com,2021-04-06T07:48:55Z,arshad,arshad@chummun.com,2021-04-06T07:48:55Z,fix(www): make site configurable,www/.env.example;www/docs/index.mdx;www/pages/_app.tsx;www/src/components/footer.tsx;www/src/components/layout.tsx;www/src/components/navbar.tsx;www/src/config/site.ts,False,False,False,False,39,22,61,"---FILE: www/.env.example---
@@ -0,0 +1 @@
+NEXT_PUBLIC_BASE_URL=http://localhost:3000
\ No newline at end of file

---FILE: www/docs/index.mdx---
@@ -3,6 +3,14 @@ title: Next.js for Drupal
 excerpt: The performance of Next.js powered by the flexibility of Drupal.
 ---
 
+<Img
+  src=""/images/meta.png""
+  width=""960""
+  height=""560""
+  layout=""responsive""
+  mb=""10""
+/>
+
 ## Features
 
 - **Supports Incremental Static Regeneration:** Your content changes are live instantly.

---FILE: www/pages/_app.tsx---
@@ -1,3 +1,4 @@
+import { site } from ""@/config/site""
 import { DefaultSeo } from ""next-seo""
 import { ThemeProvider } from ""reflexjs""
 
@@ -8,22 +9,21 @@ export default function App({ Component, pageProps }) {
     <>
       <DefaultSeo
         openGraph={{
-          title: ""Next.js for Drupal"",
-          description:
-            ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
+          title: site.name,
+          description: site.description,
           type: ""website"",
-          url: ""https://next-drupal.org"",
+          url: process.env.NEXT_PUBLIC_BASE_URL,
           images: [
             {
-              url: ""https://next-drupal.org/images/meta.png"",
+              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.png`,
               width: 800,
               height: 600,
             },
           ],
         }}
         twitter={{
-          handle: ""@arshadcn"",
-          site: ""@arshadcn"",
+          handle: `@${site.social.twitter}`,
+          site: `@${site.social.twitter}`,
           cardType: ""summary_large_image"",
         }}
       />

---FILE: www/src/components/footer.tsx---
@@ -13,10 +13,13 @@ export function Footer({ ...props }) {
           pt=""4""
         >
           {site.copyright && (
-            <p variant=""text.sm"" w=""full|auto"" textAlign=""center|left"" my=""0"">
-              {site.copyright} - Built by{"" ""}
-              <a href=""https://twitter.com/arshadcn"">@arshadcn</a>.
-            </p>
+            <p
+              variant=""text.sm""
+              w=""full|auto""
+              textAlign=""center|left""
+              my=""0""
+              dangerouslySetInnerHTML={{ __html: site.copyright }}
+            />
           )}
           {site.links?.length && (
             <div

---FILE: www/src/components/layout.tsx---
@@ -3,6 +3,7 @@ import { useRouter } from ""next/router""
 
 import { Navbar } from ""@/components/navbar""
 import { Footer } from ""@/components/footer""
+import { site } from ""@/config/site""
 
 interface LayoutProps {
   title: string
@@ -19,18 +20,16 @@ export function Layout({
   return (
     <>
       <NextSeo
-        title={
-          path === ""/"" ? `Next.js for Drupal` : `${title} - Next.js for Drupal`
-        }
+        title={path === ""/"" ? site.name : `${title} - ${site.name}`}
         description={description}
-        canonical={`https://next-drupal.org${path}`}
+        canonical={`${process.env.NEXT_PUBLIC_BASE_URL}${path}`}
         openGraph={{
           title,
           description,
-          url: `https://next-drupal.org${path}`,
+          url: `${process.env.NEXT_PUBLIC_BASE_URL}${path}`,
           images: [
             {
-              url: ""https://next-drupal.org/images/meta.png"",
+              url: `${process.env.NEXT_PUBLIC_BASE_URL}/images/meta.png`,
               width: 800,
               height: 600,
             },

---FILE: www/src/components/navbar.tsx---
@@ -82,7 +82,7 @@ export function Navbar() {
         <div display=""flex"" ml=""0|auto"" flex=""1|none"">
           <DocSearch ml=""4"" mr=""4"" flex=""1"" />
           <a
-            href={site.social.gitHub}
+            href={`https://github.com/${site.social.gitHub}`}
             target=""_blank""
             rel=""noreferrer""
             variant=""button.navbar""

---FILE: www/src/config/site.ts---
@@ -1,7 +1,13 @@
 export const site = {
-  name: ""Next Drupal"",
-  copyright: ` ${new Date().getFullYear()} Next.js for Drupal`,
+  name: ""Next.js for Drupal"",
+  description:
+    ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
+  copyright: ` ${new Date().getFullYear()} Next.js for Drupal - Project maintained by <a href=""https://twitter.com/arshadcn"">@arshadcn</a>.`,
   links: [
+    {
+      title: ""Home"",
+      url: ""/"",
+    },
     {
       title: ""Documentation"",
       url: ""/"",
@@ -14,7 +20,7 @@ export const site = {
     },
   ],
   social: {
-    gitHub: ""https://github.com/arshad/next-drupal"",
-    twitter: ""https://twitter.com/arshadcn"",
+    gitHub: ""arshad/next-drupal"",
+    twitter: ""arshadcn"",
   },
 }",False,False,Documentation / Formatting,6
chapter-three,next-drupal,548610c6bb2a19fbdab756c97016f74973049043,arshad,arshad@chummun.com,2021-04-05T10:48:27Z,arshad,arshad@chummun.com,2021-04-05T10:48:27Z,fix(www): c'mon vscode,www/src/config/docs.ts,False,False,False,False,2,2,4,"---FILE: www/src/config/docs.ts---
@@ -1,7 +1,7 @@
-import { Links } from ""types""
+import { NavLinks } from ""types""
 
 interface DocsConfig {
-  links: Links
+  links: NavLinks
 }
 
 export const docs: DocsConfig = {",False,False,Documentation / Formatting,3
chapter-three,next-drupal,b5ffd8e9bfdf1037bb27729d1edf1dc3f0e48b06,arshad,arshad@chummun.com,2021-04-05T10:45:45Z,arshad,arshad@chummun.com,2021-04-05T10:45:45Z,fix(www): update site,www/docs/index.mdx;www/pages/[[...slug]].tsx;www/src/components/footer.tsx;www/src/components/navbar.tsx;www/src/components/pager.tsx;www/src/components/sidebar-nav.tsx;www/src/config/docs.ts;www/src/hooks/use-pager.ts;www/src/theme.ts;www/types/index.d.ts,False,False,False,False,112,61,173,"---FILE: www/docs/index.mdx---
@@ -1,5 +1,5 @@
 ---
-title: Introduction
+title: Next.js for Drupal
 excerpt: The performance of Next.js powered by the flexibility of Drupal.
 ---
 
@@ -15,8 +15,8 @@ excerpt: The performance of Next.js powered by the flexibility of Drupal.
 
 <Img
   src=""/images/screenshot-01.jpeg""
-  width=""600""
-  height=""350""
+  width=""960""
+  height=""560""
   layout=""responsive""
   alt=""Write once. Publish everywhere.""
   mb=""10""
@@ -26,8 +26,8 @@ excerpt: The performance of Next.js powered by the flexibility of Drupal.
 
 <Img
   src=""/images/screenshot-02.jpeg""
-  width=""600""
-  height=""350""
+  width=""960""
+  height=""560""
   layout=""responsive""
   alt=""Plugins for site resolvers""
   mb=""10""
@@ -37,8 +37,8 @@ excerpt: The performance of Next.js powered by the flexibility of Drupal.
 
 <Img
   src=""/images/screenshot-03.jpeg""
-  width=""600""
-  height=""350""
+  width=""960""
+  height=""560""
   layout=""responsive""
   alt=""Inline Preview""
 >

---FILE: www/pages/[[...slug]].tsx---
@@ -1,7 +1,5 @@
-import Link from ""next/link""
 import { getMdxNode, getMdxPaths } from ""next-mdx/server""
 import { useHydrate } from ""next-mdx/client""
-import { Icon } from ""reflexjs""
 
 import { Doc } from ""types""
 import { docs } from ""@/config/docs""
@@ -10,6 +8,7 @@ import { Layout } from ""@/components/layout""
 import { SidebarNav } from ""@/components/sidebar-nav""
 import { getTableOfContents, TableOfContents } from ""next-mdx-toc""
 import { Toc } from ""@/components/toc""
+import { Pager } from ""@/components/pager""
 
 export interface DocsPageProps {
   doc: Doc
@@ -20,6 +19,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
   const content = useHydrate(doc, {
     components: mdxComponents,
   })
+
   return (
     <Layout title={doc.frontMatter.title} description={doc.frontMatter.excerpt}>
       <div variant=""container"">
@@ -33,7 +33,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
             py=""6|12""
             borderRightWidth=""0|1""
           >
-            <SidebarNav items={docs.manifest} />
+            <SidebarNav items={docs.links} />
           </aside>
           <div display=""grid"" col=""1||||minmax(0, 1fr) 250px"" gap=""6|6|16"">
             <div py=""6|8|10"" className=""DocSearch-content"">
@@ -45,34 +45,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
               ) : null}
               <hr my=""6"" />
               {content}
-              <div
-                display=""flex""
-                alignItems=""center""
-                justifyContent=""space-between""
-                py=""10""
-              >
-                {doc.frontMatter.prev ? (
-                  <Link href={doc.frontMatter.prev.url} passHref>
-                    <a variant=""button.link"">
-                      <Icon
-                        name=""chevron""
-                        size=""5""
-                        mr=""2""
-                        transform=""rotate(180deg)""
-                      />
-                      {doc.frontMatter.prev.title}
-                    </a>
-                  </Link>
-                ) : null}
-                {doc.frontMatter.next ? (
-                  <Link href={doc.frontMatter.next.url} passHref>
-                    <a variant=""button.link"" ml=""auto"">
-                      {doc.frontMatter.next.title}{"" ""}
-                      <Icon name=""chevron"" size=""5"" ml=""2"" />
-                    </a>
-                  </Link>
-                ) : null}
-              </div>
+              <Pager links={docs.links} />
             </div>
             <aside
               display=""none|none|none|block""

---FILE: www/src/components/footer.tsx---
@@ -14,7 +14,8 @@ export function Footer({ ...props }) {
         >
           {site.copyright && (
             <p variant=""text.sm"" w=""full|auto"" textAlign=""center|left"" my=""0"">
-              {site.copyright}
+              {site.copyright} - Built by{"" ""}
+              <a href=""https://twitter.com/arshadcn"">@arshadcn</a>.
             </p>
           )}
           {site.links?.length && (

---FILE: www/src/components/navbar.tsx---
@@ -159,7 +159,7 @@ export function Navbar() {
               </div>
               <div p=""6"" borderTopWidth=""1"">
                 <SidebarNav
-                  items={docs.manifest}
+                  items={docs.links}
                   onLinkClick={() => setShowMenu(false)}
                 />
               </div>

---FILE: www/src/components/pager.tsx---
@@ -0,0 +1,38 @@
+import Link from ""next/link""
+import { Icon } from ""reflexjs""
+import { usePager } from ""src/hooks/use-pager""
+
+import { NavLinks } from ""types""
+
+interface PagerProps {
+  links: NavLinks
+}
+
+export function Pager({ links }: PagerProps) {
+  const { prev, next } = usePager(links)
+
+  return (
+    <div
+      display=""flex""
+      alignItems=""center""
+      justifyContent=""space-between""
+      py=""10""
+    >
+      {prev ? (
+        <Link href={prev.url} passHref>
+          <a variant=""button.link"">
+            <Icon name=""chevron-left"" size=""5"" mr=""2"" />
+            {prev.title}
+          </a>
+        </Link>
+      ) : null}
+      {next ? (
+        <Link href={next.url} passHref>
+          <a variant=""button.link"" ml=""auto"">
+            {next.title} <Icon name=""chevron-right"" size=""5"" ml=""2"" />
+          </a>
+        </Link>
+      ) : null}
+    </div>
+  )
+}

---FILE: www/src/components/sidebar-nav.tsx---
@@ -37,7 +37,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
     },
   }
 
-  return items.length ? (
+  return items?.length ? (
     <div>
       {items.map((item, index) => (
         <div key={index} mb=""2"">
@@ -67,7 +67,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
                     },
                   }}
                 >
-                  <Icon name=""chevron"" size=""4"" mr=""2"" opacity=""0.5"" />
+                  <Icon name=""chevron-right"" size=""4"" mr=""2"" opacity=""0.5"" />
                   {item.title}
                 </AccordionButton>
                 <AccordionPanel

---FILE: www/src/config/docs.ts---
@@ -1,5 +1,11 @@
-export const docs = {
-  manifest: [
+import { Links } from ""types""
+
+interface DocsConfig {
+  links: Links
+}
+
+export const docs: DocsConfig = {
+  links: [
     {
       title: ""Links"",
       items: [
@@ -40,7 +46,6 @@ export const docs = {
         },
       ],
     },
-
     {
       title: ""Next.js"",
       items: [

---FILE: www/src/hooks/use-pager.ts---
@@ -0,0 +1,29 @@
+import * as React from ""react""
+import { useRouter } from ""next/router""
+import { NavLink, NavLinks } from ""types""
+
+export function usePager(
+  links: NavLinks
+): { prev?: NavLink; current: NavLink; next?: NavLink } {
+  const { asPath } = useRouter()
+
+  const flattenedLinks = React.useMemo(() => flatten(links), [links])
+  const activeIndex = React.useMemo(
+    () => flattenedLinks.findIndex((link) => link.url === asPath),
+    [links, asPath]
+  )
+
+  return {
+    prev: flattenedLinks[activeIndex - 1],
+    current: flattenedLinks[activeIndex],
+    next: flattenedLinks[activeIndex + 1],
+  }
+}
+
+export function flatten(links: NavLinks) {
+  return links
+    .reduce((flat, link) => {
+      return flat.concat(link.items ? flatten(link.items) : link)
+    }, [])
+    .filter((link) => !link.external)
+}

---FILE: www/src/theme.ts---
@@ -246,6 +246,9 @@ export default {
   },
   styles: {
     root: {
+      "":root"": {
+        ""--reach-accordion"": 1,
+      },
       fontFamily: ""body"",
       fontSize: 16,
       lineHeight: ""normal"",
@@ -809,27 +812,13 @@ export default {
     logo: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><polygon points=""12 2 2 7 12 12 22 7 12 2""/><polyline points=""2 17 12 22 22 17""/><polyline points=""2 12 12 17 22 12""/></svg>`,
     clipboard: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2""/><rect x=""8"" y=""2"" width=""8"" height=""4"" rx=""1"" ry=""1""/></svg>`,
     check: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M20 6L9 17l-5-5""/></svg>`,
-    chevron: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><polyline points=""9 18 15 12 9 6""></polyline></svg>`,
+    ""chevron-right"": `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M9 18l6-6-6-6""/></svg>`,
+    ""chevron-left"": `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M15 18l-6-6 6-6""/></svg>`,
     sun: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><circle cx=""12"" cy=""12"" r=""5""/><line x1=""12"" y1=""1"" x2=""12"" y2=""3""/><line x1=""12"" y1=""21"" x2=""12"" y2=""23""/><line x1=""4.22"" y1=""4.22"" x2=""5.64"" y2=""5.64""/><line x1=""18.36"" y1=""18.36"" x2=""19.78"" y2=""19.78""/><line x1=""1"" y1=""12"" x2=""3"" y2=""12""/><line x1=""21"" y1=""12"" x2=""23"" y2=""12""/><line x1=""4.22"" y1=""19.78"" x2=""5.64"" y2=""18.36""/><line x1=""18.36"" y1=""5.64"" x2=""19.78"" y2=""4.22""/></svg>`,
     moon: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z""/></svg>`,
-    nextjs: `<svg xmlns=""http://www.w3.org/2000/svg"" fill=""currentColor"" viewBox=""0 0 24 24""><path d=""M11.572 0c-.176 0-.31.001-.358.007a19.76 19.76 0 01-.364.033C7.443.346 4.25 2.185 2.228 5.012a11.875 11.875 0 00-2.119 5.243c-.096.659-.108.854-.108 1.747s.012 1.089.108 1.748c.652 4.506 3.86 8.292 8.209 9.695.779.25 1.6.422 2.534.525.363.04 1.935.04 2.299 0 1.611-.178 2.977-.577 4.323-1.264.207-.106.247-.134.219-.158-.02-.013-.9-1.193-1.955-2.62l-1.919-2.592-2.404-3.558a338.739 338.739 0 00-2.422-3.556c-.009-.002-.018 1.579-.023 3.51-.007 3.38-.01 3.515-.052 3.595a.426.426 0 01-.206.214c-.075.037-.14.044-.495.044H7.81l-.108-.068a.438.438 0 01-.157-.171l-.05-.106.006-4.703.007-4.705.072-.092a.645.645 0 01.174-.143c.096-.047.134-.051.54-.051.478 0 .558.018.682.154.035.038 1.337 1.999 2.895 4.361a10760.433 10760.433 0 004.735 7.17l1.9 2.879.096-.063a12.317 12.317 0 002.466-2.163 11.944 11.944 0 002.824-6.134c.096-.66.108-.854.108-1.748 0-.893-.012-1.088-.108-1.747-.652-4.506-3.859-8.292-8.208-9.695a12.597 12.597 0 00-2.499-.523A33.119 33.119 0 0011.573 0zm4.069 7.217c.347 0 .408.005.486.047a.473.473 0 01.237.277c.018.06.023 1.365.018 4.304l-.006 4.218-.744-1.14-.746-1.14v-3.066c0-1.982.01-3.097.023-3.15a.478.478 0 01.233-.296c.096-.05.13-.054.5-.054z""/></svg>`,
-    react: `<svg viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg"" fill=""currentColor""><path d=""M12 9.861a2.139 2.139 0 100 4.278 2.139 2.139 0 100-4.278zm-5.992 6.394l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.133.468a23.53 23.53 0 001.363 3.578l.101.213-.101.213a23.307 23.307 0 00-1.363 3.578l-.133.467zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046a24.95 24.95 0 011.182-3.046A24.752 24.752 0 015.317 8.95zm12.675 7.305l-.133-.469a23.357 23.357 0 00-1.364-3.577l-.101-.213.101-.213a23.42 23.42 0 001.364-3.578l.133-.468.473.119c3.517.889 5.535 2.398 5.535 4.14s-2.018 3.25-5.535 4.139l-.473.12zm-.491-4.259c.48 1.039.877 2.06 1.182 3.046 2.675-.752 4.315-1.901 4.315-3.046 0-1.146-1.641-2.294-4.315-3.046a24.788 24.788 0 01-1.182 3.046zM5.31 8.945l-.133-.467C4.188 4.992 4.488 2.494 6 1.622c1.483-.856 3.864.155 6.359 2.716l.34.349-.34.349a23.552 23.552 0 00-2.422 2.967l-.135.193-.235.02a23.657 23.657 0 00-3.785.61l-.472.119zm1.896-6.63c-.268 0-.505.058-.705.173-.994.573-1.17 2.565-.485 5.253a25.122 25.122 0 013.233-.501 24.847 24.847 0 012.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zm9.589 20.362c-.001 0-.001 0 0 0-1.425 0-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53 23.53 0 002.421-2.968l.135-.193.234-.02a23.63 23.63 0 003.787-.609l.472-.119.134.468c.987 3.484.688 5.983-.824 6.854a2.38 2.38 0 01-1.205.308zm-4.096-3.381c1.56 1.519 3.037 2.381 4.095 2.381h.001c.267 0 .505-.058.704-.173.994-.573 1.171-2.566.485-5.254a25.02 25.02 0 01-3.234.501 24.674 24.674 0 01-2.051 2.545zM18.69 8.945l-.472-.119a23.479 23.479 0 00-3.787-.61l-.234-.02-.135-.193a23.414 23.414 0 00-2.421-2.967l-.34-.349.34-.349C14.135 1.778 16.515.767 18 1.622c1.512.872 1.812 3.37.824 6.855l-.134.468zM14.75 7.24c1.142.104 2.227.273 3.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8 2.208A24.849 24.849 0 0114.75 7.24zM7.206 22.677A2.38 2.38 0 016 22.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291 2.429.496 3.785.609l.235.02.134.193a23.596 23.596 0 002.422 2.968l.34.349-.34.349c-1.898 1.95-3.728 3.023-5.151 3.023zm-1.19-6.427c-.686 2.688-.509 4.681.485 5.254.987.563 2.843-.305 4.8-2.208a24.998 24.998 0 01-2.052-2.545 24.976 24.976 0 01-3.233-.501zm5.984.628c-.823 0-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388 30.388 0 01-1.35-2.122 30.354 30.354 0 01-1.166-2.228l-.1-.213.1-.213a30.3 30.3 0 011.166-2.228c.414-.716.869-1.43 1.35-2.122l.135-.193.235-.02a29.785 29.785 0 015.033 0l.234.02.134.193a30.006 30.006 0 012.517 4.35l.101.213-.101.213a29.6 29.6 0 01-2.517 4.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111 2.914.111 4.395 0a29.006 29.006 0 002.196-3.798 28.585 28.585 0 00-2.197-3.798 29.031 29.031 0 00-4.394 0 28.477 28.477 0 00-2.197 3.798 29.114 29.114 0 002.197 3.798z""/></svg>`,
-    gatsby: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""currentColor""><path d=""M12.001.007C5.326.007.007 5.326.007 12S5.326 23.995 12 23.995s11.994-5.319 11.994-11.994S18.676.007 12.001.007zM2.614 12.105l9.283 9.283c-5.111 0-9.283-4.172-9.283-9.283zm11.473 9.074L2.823 9.915C3.76 5.743 7.516 2.614 12 2.614a9.476 9.476 0 017.614 3.86L18.259 7.62a7.657 7.657 0 00-6.362-3.337A7.555 7.555 0 004.7 9.393l9.804 9.805c2.4-.835 4.276-2.92 4.798-5.424h-4.068v-1.773h6.154c0 4.485-3.129 8.24-7.301 9.178z""/></svg>`,
     circle: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><circle cx=""12"" cy=""12"" r=""10""/></svg>`,
-    maximize: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3""/></svg>`,
     ""arrow-right"": `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M14 5l7 7m0 0l-7 7m7-7H3""></path></svg>`,
-    ""trending-up"": `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M13 7h8m0 0v8m0-8l-8 8-4-4-6 6""></path></svg>`,
-    code: `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4""></path></svg>`,
-    users: `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z""></path></svg>`,
-    gift: `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7""></path></svg>`,
-    ""credit-card"": `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z""></path></svg>`,
-    activity: `<svg xmlns=""http://www.w3.org/2000/svg""  viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><polyline points=""22 12 18 12 15 21 9 3 6 12 2 12""/></svg>`,
-    twitter: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z""/></svg>`,
-    instagram: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><rect x=""2"" y=""2"" width=""20"" height=""20"" rx=""5"" ry=""5""/><path d=""M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z""/><line x1=""17.5"" y1=""6.5"" x2=""17.51"" y2=""6.5""/></svg>`,
-    mail: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z""/><polyline points=""22,6 12,13 2,6""/></svg>`,
-    menu: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><line x1=""3"" y1=""12"" x2=""21"" y2=""12""/><line x1=""3"" y1=""6"" x2=""21"" y2=""6""/><line x1=""3"" y1=""18"" x2=""21"" y2=""18""/></svg>`,
     ""menu-alt"": `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M4 6h16M4 12h16M4 18h7""></path></svg>`,
-    replay: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><polyline points=""23 4 23 10 17 10""/><path d=""M20.49 15a9 9 0 1 1-2.12-9.36L23 10""/></svg>`,
     external: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3""/></svg>`,
     github: `<svg viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg"" fill=""currentColor""><path d=""M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"" /></svg>,`,
   },

---FILE: www/types/index.d.ts---
@@ -29,3 +29,19 @@ export type Guide = MdxNode<{
   next?: DocNextPrev
   prev?: DocNextPrev
 }>
+
+export type NavLink = {
+  title: string
+  external?: boolean
+} & (
+  | {
+      url: string
+      items?: never
+    }
+  | {
+      url?: string
+      items: NavLink[]
+    }
+)
+
+export type NavLinks = NavLink[]",False,False,Documentation / Formatting,6
chapter-three,next-drupal,66ea0c3697b5b7373a7e1cabade048e706c161bb,arshad,arshad@chummun.com,2021-04-04T18:47:05Z,arshad,arshad@chummun.com,2021-04-04T18:47:05Z,fix(www): fix typo,www/src/components/sidebar-nav.tsx,False,False,False,False,1,1,2,"---FILE: www/src/components/sidebar-nav.tsx---
@@ -48,7 +48,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
                 color={asPath === item.url ? ""link"" : ""text""}
                 onClick={onLinkClick}
                 target={item.external && ""_blank""}
-                rel={external ? ""noreferrer"" : """"}
+                rel={item.external ? ""noreferrer"" : """"}
               >
                 <Icon name=""circle"" size=""2"" ml=""1"" mr=""3"" opacity=""0.5"" />{"" ""}
                 {item.title}",False,False,Documentation / Formatting,1
chapter-three,next-drupal,d957b97c4fd0376091d344835a9eb7fad4a0aa31,arshad,arshad@chummun.com,2021-04-04T18:20:59Z,arshad,arshad@chummun.com,2021-04-04T18:20:59Z,fix(www): update meta tags,www/pages/_app.tsx;www/pages/_document.tsx;www/public/images/favicon.ico;www/src/components/layout.tsx,False,False,False,False,4,4,8,"---FILE: www/pages/_app.tsx---
@@ -8,9 +8,9 @@ export default function App({ Component, pageProps }) {
     <>
       <DefaultSeo
         openGraph={{
-          title: ""Build something amazing."",
+          title: ""Next.js for Drupal"",
           description:
-            ""Starter kits, themes and blocks to help you build Gatsby and Nextjs sites faster. Built using a styling library that has everything you care about. Speed and excellent developer experience."",
+            ""Next.js + Drupal for Incremental Static Regeneration and Preview mode."",
           type: ""website"",
           url: ""https://next-drupal.org"",
           images: [

---FILE: www/pages/_document.tsx---
@@ -7,7 +7,7 @@ export default class extends Document {
       <Html lang=""en"">
         <Head>
           <meta charSet=""utf-8"" />
-          <link rel=""icon"" type=""image/png"" href=""/images/favicon.png"" />
+          <link rel=""icon"" type=""image/png"" href=""/images/favicon.ico"" />
           <link
             rel=""stylesheet""
             href=""https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css""

---FILE: www/src/components/layout.tsx---
@@ -28,7 +28,7 @@ export function Layout({
           url: `https://next-drupal.org${path}`,
           images: [
             {
-              url: ""https://next-drupal.org/images/meta.jpg"",
+              url: ""https://next-drupal.org/images/meta.png"",
               width: 800,
               height: 600,
             },",False,False,Dependency / Package,4
chapter-three,next-drupal,3446878737869d8d531bd6a186bbd12576b461f7,arshad,arshad@chummun.com,2021-04-04T17:13:15Z,arshad,arshad@chummun.com,2021-04-04T17:13:15Z,fix(www): update meta,www/pages/_app.tsx;www/public/images/meta.png;www/src/components/layout.tsx,False,False,False,False,5,5,10,"---FILE: www/pages/_app.tsx---
@@ -12,10 +12,10 @@ export default function App({ Component, pageProps }) {
           description:
             ""Starter kits, themes and blocks to help you build Gatsby and Nextjs sites faster. Built using a styling library that has everything you care about. Speed and excellent developer experience."",
           type: ""website"",
-          url: ""https://reflexjs.org"",
+          url: ""https://next-drupal.org"",
           images: [
             {
-              url: ""https://reflexjs.org/images/meta.jpg"",
+              url: ""https://next-drupal.org/images/meta.png"",
               width: 800,
               height: 600,
             },

---FILE: www/src/components/layout.tsx---
@@ -21,14 +21,14 @@ export function Layout({
       <NextSeo
         title={`${title} - Next.js for Drupal`}
         description={description}
-        canonical={`https://reflexjs.org${path}`}
+        canonical={`https://next-drupal.org${path}`}
         openGraph={{
           title,
           description,
-          url: `https://reflexjs.org${path}`,
+          url: `https://next-drupal.org${path}`,
           images: [
             {
-              url: ""https://reflexjs.org/images/meta.jpg"",
+              url: ""https://next-drupal.org/images/meta.jpg"",
               width: 800,
               height: 600,
             },",False,False,Dependency / Package,4
chapter-three,next-drupal,4795cb5aa0fde2ee762eff4cad771366145e3eec,arshad,arshad@chummun.com,2021-04-04T17:06:55Z,arshad,arshad@chummun.com,2021-04-04T17:06:55Z,fix(www): update notice color,www/pages/[[...slug]].tsx;www/src/components/sidebar-nav.tsx,False,False,False,False,5,5,10,"---FILE: www/pages/[[...slug]].tsx---
@@ -90,7 +90,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
                   <Toc tree={toc} />
                 </>
               )}
-              <div mt=""10"" bg=""lightyellow"" p=""4"">
+              <div mt=""10"" bg=""muted"" p=""4"">
                 <p fontWeight=""semibold"">
                   <em>
                     Warning: this project is in early alpha. The API might

---FILE: www/src/components/sidebar-nav.tsx---
@@ -33,7 +33,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
     cursor: ""pointer"",
     color: ""text"",
     _hover: {
-      color: ""primary"",
+      color: ""link"",
     },
   }
 
@@ -45,7 +45,7 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
             <Link href={item.url} passHref>
               <a
                 {...headingStyles}
-                color={asPath === item.url ? ""primary"" : ""text""}
+                color={asPath === item.url ? ""link"" : ""text""}
                 onClick={onLinkClick}
                 target={item.external && ""_blank""}
               >
@@ -83,9 +83,9 @@ export function SidebarNavItem({ items, onLinkClick }: SidebarNavProps) {
                         display=""flex""
                         fontSize=""sm""
                         my=""2""
-                        color={asPath === _item.url ? ""primary"" : ""text""}
+                        color={asPath === _item.url ? ""link"" : ""text""}
                         _hover={{
-                          color: ""primary"",
+                          color: ""link"",
                         }}
                         onClick={onLinkClick}
                       >",False,False,Dependency / Package,1
chapter-three,next-drupal,e90dba612c3786bcc982082269cb13238f9e5c9a,arshad,arshad@chummun.com,2021-04-04T17:01:13Z,arshad,arshad@chummun.com,2021-04-04T17:01:13Z,fix(www): update navbar,www/pages/[[...slug]].tsx;www/src/components/doc-search.tsx;www/src/components/layout.tsx;www/src/components/mode-toggle.tsx;www/src/components/navbar.tsx;www/src/config/site.ts;www/src/theme.ts,False,False,False,False,51,42,93,"---FILE: www/pages/[[...slug]].tsx---
@@ -36,7 +36,7 @@ export default function DocsPage({ doc, toc }: DocsPageProps) {
             <SidebarNav items={docs.manifest} />
           </aside>
           <div display=""grid"" col=""1||||minmax(0, 1fr) 250px"" gap=""6|6|16"">
-            <div py=""10"" className=""DocSearch-content"">
+            <div py=""6|8|10"" className=""DocSearch-content"">
               <h1 variant=""heading.h1"">{doc.frontMatter.title}</h1>
               {doc.frontMatter.excerpt ? (
                 <p variant=""text.lead"" mt=""2"">

---FILE: www/src/components/doc-search.tsx---
@@ -23,13 +23,14 @@ export function DocSearch({ ...props }) {
       </VisuallyHidden>
       <input
         type=""search""
+        appearance=""none""
         variant=""input.sm""
         h=""9""
         id=""docsearch-input""
         placeholder=""Type to search...""
         rounded=""md""
         fontSize=""sm""
-        w=""180|275px""
+        w=""100%|275px""
         bg=""muted""
         flex=""1""
       />

---FILE: www/src/components/layout.tsx---
@@ -19,7 +19,7 @@ export function Layout({
   return (
     <>
       <NextSeo
-        title={title}
+        title={`${title} - Next.js for Drupal`}
         description={description}
         canonical={`https://reflexjs.org${path}`}
         openGraph={{

---FILE: www/src/components/mode-toggle.tsx---
@@ -1,17 +0,0 @@
-import { Icon, useColorMode, VisuallyHidden } from ""reflexjs""
-
-export type ModeToggleProps = React.ButtonHTMLAttributes<HTMLButtonElement>
-
-export function ModeToggle({ ...props }: ModeToggleProps) {
-  const [colorMode, setColorMode] = useColorMode()
-  return (
-    <button
-      onClick={() => setColorMode(colorMode === ""default"" ? ""dark"" : ""default"")}
-      color=""text""
-      {...props}
-    >
-      <Icon name={colorMode === ""default"" ? ""moon"" : ""sun""} size=""5"" />
-      <VisuallyHidden>Toggle color mode</VisuallyHidden>
-    </button>
-  )
-}

---FILE: www/src/components/navbar.tsx---
@@ -1,6 +1,6 @@
 import * as React from ""react""
 import Link from ""next/link""
-import { Icon } from ""reflexjs""
+import { Icon, useColorMode, VisuallyHidden } from ""reflexjs""
 import { AnimatePresence, motion } from ""framer-motion""
 
 import { docs } from ""@/config/docs""
@@ -11,6 +11,7 @@ import { SidebarNav } from ""@/components/sidebar-nav""
 
 export function Navbar() {
   const [showMenu, setShowMenu] = React.useState(false)
+  const [colorMode, setColorMode] = useColorMode()
 
   return (
     <header
@@ -37,20 +38,21 @@ export function Navbar() {
         variant=""container""
         display=""flex""
         alignItems=""center""
-        h=""20|14""
+        h=""14""
         position=""relative""
         zIndex=""1000""
       >
         <button
           display=""block|block|block|none""
           mr=""2""
           onClick={() => setShowMenu(!showMenu)}
+          color=""text""
         >
           <Icon name=""menu-alt"" size=""6"" />
         </button>
         <Link href=""/"" passHref>
           <a
-            display=""flex""
+            display=""none|flex""
             textDecoration=""none""
             color=""text""
             alignItems=""center""
@@ -77,29 +79,26 @@ export function Navbar() {
             </NavbarLink>
           ))}
         </div>
-        <div display=""flex"" ml=""auto"">
-          <DocSearch ml=""4"" />
+        <div display=""flex"" ml=""0|auto"" flex=""1|none"">
+          <DocSearch ml=""4"" mr=""4"" flex=""1"" />
           <a
-            href=""https://github.com/reflexjs/reflex""
+            href={site.social.gitHub}
             target=""_blank""
             rel=""noreferrer""
-            display=""none|none|none|flex""
-            alignItems=""center""
-            color=""text""
-            ml=""4""
-            _hover={{
-              color: ""primary"",
-            }}
+            variant=""button.navbar""
+            ml=""auto|0""
           >
-            <svg
-              size=""8|5""
-              viewBox=""0 0 24 24""
-              xmlns=""http://www.w3.org/2000/svg""
-              fill=""currentColor""
-            >
-              <path d=""M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"" />
-            </svg>
+            <Icon name=""github"" />
           </a>
+          <button
+            variant=""button.navbar""
+            onClick={() =>
+              setColorMode(colorMode === ""dark"" ? ""light"" : ""dark"")
+            }
+          >
+            <Icon name={colorMode === ""dark"" ? ""sun"" : ""moon""} size=""5"" />
+            <VisuallyHidden>Toggle color mode</VisuallyHidden>
+          </button>
         </div>
       </div>
       <AnimatePresence>
@@ -122,7 +121,7 @@ export function Navbar() {
             }}
             sx={{
               px: 6,
-              top: ""24|18"",
+              top: ""18|18"",
               position: ""absolute"",
               w: ""full"",
             }}

---FILE: www/src/config/site.ts---
@@ -13,4 +13,8 @@ export const site = {
       external: true,
     },
   ],
+  social: {
+    gitHub: ""https://github.com/arshad/next-drupal"",
+    twitter: ""https://twitter.com/arshadcn"",
+  },
 }

---FILE: www/src/theme.ts---
@@ -628,6 +628,27 @@ export default {
         size: 6,
       },
     },
+
+    navbar: {
+      color: ""text"",
+      bg: ""transparent"",
+      borderColor: ""transparent"",
+      py: 0,
+      px: 2,
+      h: 9,
+
+      ""&:hover, &:focus"": {
+        bg: ""transparent"",
+        borderColor: ""transparent"",
+        transform: ""none"",
+        boxShadow: ""none"",
+        color: ""link"",
+      },
+
+      svg: {
+        size: 6,
+      },
+    },
   },
   input: {
     bg: ""muted"",
@@ -810,5 +831,6 @@ export default {
     ""menu-alt"": `<svg fill=""none"" stroke=""currentColor"" viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg""><path stroke-linecap=""round"" stroke-linejoin=""round"" stroke-width=""2"" d=""M4 6h16M4 12h16M4 18h7""></path></svg>`,
     replay: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><polyline points=""23 4 23 10 17 10""/><path d=""M20.49 15a9 9 0 1 1-2.12-9.36L23 10""/></svg>`,
     external: `<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 24 24"" fill=""none"" stroke=""currentColor"" stroke-width=""2"" stroke-linecap=""round"" stroke-linejoin=""round""><path d=""M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3""/></svg>`,
+    github: `<svg viewBox=""0 0 24 24"" xmlns=""http://www.w3.org/2000/svg"" fill=""currentColor""><path d=""M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"" /></svg>,`,
   },
 }",False,False,Dependency / Package,4
chapter-three,next-drupal,e003477f534f5effd1b60bc8a5463da953025a97,arshad,arshad@chummun.com,2021-04-04T11:28:01Z,arshad,arshad@chummun.com,2021-04-04T11:28:01Z,fix(www): update .gitignore,.gitignore;www/public/images/screenshot-01.jpeg;www/public/images/screenshot-02.jpeg;www/public/images/screenshot-03.jpeg,False,False,False,False,0,4,4,"---FILE: .gitignore---
@@ -57,10 +57,6 @@ typings/
 
 # gatsby files
 .cache/
-public
-
-!sites/www-next/public
-!starters/nextjs-starter/public
 
 # Mac files
 .DS_Store",False,False,Environment / Configuration,3
chapter-three,next-drupal,a9cdf21493a55245141dd1e28e731198227c4f2d,arshad,arshad@chummun.com,2021-04-04T11:17:14Z,arshad,arshad@chummun.com,2021-04-04T11:17:14Z,fix(www): fix activePathNames,www/src/config/site.ts,False,False,False,False,1,0,1,"---FILE: www/src/config/site.ts---
@@ -5,6 +5,7 @@ export const site = {
     {
       title: ""Documentation"",
       url: ""/"",
+      activePathNames: [""/[[...slug]]""],
     },
     {
       title: ""GitHub"",",False,False,Documentation / Formatting,3
chapter-three,next-drupal,e41618d44239b1342c003a69c93b9eb470fb39d9,arshad,arshad@chummun.com,2021-03-26T11:23:04Z,GitHub,noreply@github.com,2021-03-26T11:23:04Z,docs: fix typo,README.md,False,False,False,False,1,1,2,"---FILE: README.md---
@@ -14,7 +14,7 @@
 </p>
 
 <p align=""center"">
-  <em>Warning: this project is early alpha. The API might change without notice.</em>
+  <em>Warning: this project is in early alpha. The API might change without notice.</em>
 </p>
 
 ## Table of Contents",False,False,Documentation / Formatting,7
chapter-three,next-drupal,12943ee2cd7b8c1fe76985b1013dcb48717d61e3,arshad,arshad@chummun.com,2021-03-24T17:10:38Z,arshad,arshad@chummun.com,2021-03-24T17:10:38Z,fix(next): increase limit to 1000,modules/next/modules/next_jsonapi/next_jsonapi.services.yml,False,False,False,False,1,1,2,"---FILE: modules/next/modules/next_jsonapi/next_jsonapi.services.yml---
@@ -1,5 +1,5 @@
 parameters:
-  next_jsonapi.size_max: 100
+  next_jsonapi.size_max: 1000
 
 services:
   jsonapi.entity_resource:",False,False,Data / Input Handling,3
chapter-three,next-drupal,183154307dc1ed50096500b5b3e82df5674535cf,arshad,arshad@chummun.com,2021-03-18T10:31:47Z,arshad,arshad@chummun.com,2021-03-18T10:31:47Z,fix(next-drupal): use equal sign for env variables,modules/next/src/Controllers/NextSiteEntityController.php,False,False,False,False,3,3,6,"---FILE: modules/next/src/Controllers/NextSiteEntityController.php---
@@ -57,8 +57,8 @@ public function environmentVariables(NextSiteInterface $next_site) {
       'DRUPAL_SITE_ID' => $next_site->uuid(),
       'DRUPAL_PREVIEW_SECRET' => $next_site->getPreviewSecret(),
       'DRUPAL_FRONT_PAGE' => $this->config('system.site')->get('page.front'),
-      'DRUPAL_CLIENT_ID' => '',
-      'DRUPAL_CLIENT_SECRET' => '',
+      'DRUPAL_CLIENT_ID' => 'Retrieve this from /admin/config/services/consumer',
+      'DRUPAL_CLIENT_SECRET' => 'Retrieve this from /admin/config/services/consumer',
     ];
 
     $build['container'] = [
@@ -70,7 +70,7 @@ public function environmentVariables(NextSiteInterface $next_site) {
     foreach ($variables as $name => $value) {
       $build['container'][$name] = [
         '#type' => 'inline_template',
-        '#template' => '{{ name }}: {{ value }}<br/>',
+        '#template' => '{{ name }}={{ value }}<br/>',
         '#context' => [
           'name' => $name,
           'value' => $value,",False,False,Rendering / Conversion,0
chapter-three,next-drupal,1944076e4e74ba7a5fd3b17a8e2d99f2baf6b4c4,arshad,arshad@chummun.com,2021-02-12T08:58:24Z,arshad,arshad@chummun.com,2021-02-12T08:58:24Z,fix: update seed db,examples/drupal-site/database/database.sqlite;examples/drupal-site/database/database.sqlite-shm;examples/drupal-site/database/database.sqlite-wal,False,False,False,False,0,0,0,,False,False,Dependency / Package,1
chapter-three,next-drupal,467047b010f54394c52760b9db960b06ee48db61,arshad,arshad@chummun.com,2021-02-12T08:57:18Z,arshad,arshad@chummun.com,2021-02-12T08:57:18Z,fix: update .env.example,examples/example-blog/.env.example;examples/example-marketing/.env.example,False,False,False,False,2,0,2,"---FILE: examples/example-blog/.env.example---
@@ -1,5 +1,6 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
+DRUPAL_SITE_ID=1ccd4bc4-bbc6-4c19-a816-c7d100feff02
 DRUPAL_CLIENT_ID=1a3510bc-a367-4f40-a1dd-6756454f6b69
 DRUPAL_CLIENT_SECRET=Fy2crmgK44PwlBDjvA54m7m7ucvhj837
 DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file

---FILE: examples/example-marketing/.env.example---
@@ -2,5 +2,6 @@ NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
 NEXT_IMAGE_DOMAIN=localhost
 DRUPAL_CLIENT_ID=15cea0a1-1f8d-4595-acec-2c1420f06a5d
 DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
+DRUPAL_SITE_ID=8ec29675-5730-4f1e-b87f-53f72dc1911b
 DRUPAL_PREVIEW_SECRET=secret
 DRUPAL_FRONT_PAGE=/home
\ No newline at end of file",False,False,Dependency / Package,1
chapter-three,next-drupal,b998b3f3ff9078657640b952f1cdda155afbf978,arshad,arshad@chummun.com,2021-02-02T17:53:55Z,arshad,arshad@chummun.com,2021-02-02T17:53:55Z,fix: update drupal site,.gitignore;examples/drupal-site/database/database.sqlite;examples/drupal-site/database/database.sqlite-shm;examples/drupal-site/database/database.sqlite-wal,False,False,False,False,1,0,1,"---FILE: .gitignore---
@@ -90,3 +90,4 @@ cypress/screenshots
 # Other
 *__clone*
 dist
+examples/certificates/*",False,False,Environment / Configuration,3
chapter-three,next-drupal,d974577243988b794d50e4854b903b2843f7c511,arshad,arshad@chummun.com,2021-02-02T13:38:28Z,arshad,arshad@chummun.com,2021-02-02T13:38:28Z,fix: update README for certificates,README.md;examples/certificates/localhost.crt;examples/certificates/localhost.key,False,False,False,False,35,70,105,"---FILE: README.md---
@@ -49,17 +49,28 @@ cp examples/example-blog/.env.example examples/example-blog/.env.local
 cp examples/example-marketing/.env.example examples/example-marketing/.env.local
 ```
 
-4. Then run `yarn dev` from the root to start the _Drupal_ site and the _Next.js_ sites.
+4. Generate a certificate for localhost (this is required to run your local sites with HTTPS for preview mode)
+
+```
+openssl req -x509 -out examples/certificates/localhost.crt -keyout examples/certificates/localhost.key \
+  -newkey rsa:2048 -nodes -sha256 \
+  -subj '/CN=localhost' -extensions EXT -config <(\
+   printf ""[dn]\nCN=localhost\n[req]\ndistinguished_name = dn\n[EXT]\nsubjectAltName=DNS:localhost\nkeyUsage=digitalSignature\nextendedKeyUsage=serverAuth"")
+```
+
+Double-click on your certificate to add it to your keychain.
+
+5. Then run `yarn dev` from the root to start the _Drupal_ site and the _Next.js_ sites.
 
 ```
 yarn dev
 ```
 
-5. Login to the _Drupal_ site at http://localhost:8080 with **username: admin** and **password: admin**.
+6. Login to the _Drupal_ site at http://localhost:8080 with **username: admin** and **password: admin**.
 
-6. Visit http://localhost:8080/admin/config/people/simple_oauth to generate OAuth encryption keys. Enter `../oauth-keys` for the directory.
+7. Visit http://localhost:8080/admin/config/people/simple_oauth to generate OAuth encryption keys. Enter `../oauth-keys` for the directory.
 
-7. Visit http://localhost:8080/admin/content to add, edit and preview content.
+8. Visit http://localhost:8080/admin/content to add, edit and preview content.
 
 The blog site runs on https://localhost:3030 and the marketing site runs on https://localhost:3000.
 
@@ -71,7 +82,7 @@ The [Next](https://www.drupal.org/project/next) Drupal module is built to handle
 
 - **Supports Incremental Static Regeneration:** Your content changes are live instantly.
 - **Iframe preview:** With site switcher and other preview modes.
-- **Multi-sites preview:** Great for *write once, publish everywhere*.
+- **Multi-sites preview:** Great for _write once, publish everywhere_.
 - **Supports revision previews, draft content and content moderation**
 - **Extensible via plugins:** Create your own site previewer and resolvers.
 
@@ -93,17 +104,17 @@ The Next Drupal module, paired with the `next-drupal` plugin, makes it easy to c
 
 To configure preview mode for an entity type, you must configure a **Next.js site**, a **site resolver** for the entity type and a **OAuth Consumer**.
 
-A _site resolver_ tells Drupal how to resolve the preview URL for an entity. Site resolvers are flexible, can handle multiple sites and work with *entity reference* fields.
+A _site resolver_ tells Drupal how to resolve the preview URL for an entity. Site resolvers are flexible, can handle multiple sites and work with _entity reference_ fields.
 
 #### 1. Configure a Next.js site
 
-- Visit */admin/config/services/next*
+- Visit _/admin/config/services/next_
 - Click **Add Next.js site**
 - Fill in the required information and click **Save**
 
 #### 2. Configure a site resolver
 
-- Visit */admin/config/services/next/entity-types*
+- Visit _/admin/config/services/next/entity-types_
 - Click **Configure entity type**
 - Select the entity type from the list
 - Select a **Site resolver**
@@ -117,23 +128,23 @@ To generate preview routes, the Next.js client uses the [Client credentials gran
 
 **Create a Drupal role**
 
-- Create a new Drupal role (example `Next site`) by visiting  */admin/people/roles/add*
+- Create a new Drupal role (example `Next site`) by visiting _/admin/people/roles/add_
 - Give the role the following permission:
-    - Bypass content access control
-    - View all revisions
-    - View user information
+  - Bypass content access control
+  - View all revisions
+  - View user information
 
 **Create a user**
 
-Add a new user at */admin/people/create* and assign it the role created above.
+Add a new user at _/admin/people/create_ and assign it the role created above.
 
 _Note: When the Next.js is authenticated, it will be authenticated as this user._
 
 **Configure a consumer**
 
-- Visit */admin/config/people/simple_oauth*
+- Visit _/admin/config/people/simple_oauth_
 - Click **Generate keys** to generate encryption keys for tokens
-- Visit */admin/config/services/consumer/add*
+- Visit _/admin/config/services/consumer/add_
 - Fill in a **Label**, **User** (select the user created above), **Secret** and under **Scopes**, select the role create above
 - Click **Save**
 
@@ -156,8 +167,8 @@ npm install --save next-drupal
 - **entity_type**: the id of the entity_type
 - **bundle**: the bundle for the entity
 - **options**:
-    - **params**: JSON API params for filtering, includes, sorting..etc
-    - **filter**: a filter callback for filtering entities
+  - **params**: JSON API params for filtering, includes, sorting..etc
+  - **filter**: a filter callback for filtering entities
 
 Example:
 
@@ -182,9 +193,9 @@ export async function getStaticPaths() {
 - **bundle**: the bundle for the entity
 - **context**: GetStaticPropsContext
 - **options**:
-    - **prefix**: path prefix
-    - **params**: JSON API params for filtering, includes, sorting..etc
-    - **deserialize**: set to `true` if the return data should be deserialize
+  - **prefix**: path prefix
+  - **params**: JSON API params for filtering, includes, sorting..etc
+  - **deserialize**: set to `true` if the return data should be deserialize
 
 Example:
 
@@ -213,9 +224,9 @@ export async function getStaticProps(context) {
 - **bundle**: the bundle for the entity
 - **context**: GetStaticPropsContext
 - **options**:
-    - **prefix**: path prefix
-    - **params**: JSON API params for filtering, includes, sorting..etc
-    - **deserialize**: set to `true` if the return data should be deserialize
+  - **prefix**: path prefix
+  - **params**: JSON API params for filtering, includes, sorting..etc
+  - **deserialize**: set to `true` if the return data should be deserialize
 
 Example:
 
@@ -248,7 +259,7 @@ export async function getStaticProps(context) {
 
 To create preview routes for an entity type on your Next.js site:
 
-1. First, copy environment variables in your *.env.local* file:
+1. First, copy environment variables in your _.env.local_ file:
 
 You can grab the environment variables for a site by visiting the **Environment variables** page in Drupal (see _/admin/config/services/next_).
 

---FILE: examples/certificates/localhost.crt---
@@ -1,18 +0,0 @@
------BEGIN CERTIFICATE-----
-MIIC8DCCAdigAwIBAgIUWhDum2ac/FzDbloF40NfAtFrSLswDQYJKoZIhvcNAQEL
-BQAwFDESMBAGA1UEAwwJbG9jYWxob3N0MB4XDTIxMDEyNjEyMDk0N1oXDTIxMDIy
-NTEyMDk0N1owFDESMBAGA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEF
-AAOCAQ8AMIIBCgKCAQEA0s1MSq+13gQ9293mv2BRd1cDAtCqARwlGPlX6eiQEcXe
-v0UArUvnBSRlxsuVf7fK7TlJ7NvIE8NO5m9CSbtuLB0yEeaVlioJfEwe3e3mgQQ0
-B1PbkYNhZJumeFYRyE6satCuf0JXfDNqwcDaxMBRMmWt7e8mNif1dqpsrZIjMXVx
-A4llkutykY4ZRlCqvoklNWOwZ6uWdpSOGXAPySSiYGe6imemtSGxmefV1ve4T/vo
-vdDueNuK5o+kUdX7Tnmk0tjUGQgBFHFD8o7ApbrG7YzhTnXe6CTEut9xJ6vQEleJ
-0yq+EsAKAo7UIQlcgWqmXiRSVdfdKdkGbqGzM92enQIDAQABozowODAUBgNVHREE
-DTALgglsb2NhbGhvc3QwCwYDVR0PBAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUFBwMB
-MA0GCSqGSIb3DQEBCwUAA4IBAQCJIrlYRkEvdPKnPF8cVzNeVIt0+YBAgG7aJ/5O
-WlQdxHYsOnpaZWZtqul2Vn3Q2VkRIPY9DQt7CxOAC/oA2DGV5eqFcpF3wVch6MJ6
-URtKt3VgQnnzUcNtzYnYo+h6V9fWkgw6Ttp+O2gtZUiMs/hmJrSI+QmvvLEUa0rm
-bncfl4P6wCSv/W2+oPNiLAMvb7+ee+A+s9Faxxu1YZH3IjHq+cqkrZk1DHQdEk3q
-SU9m7X9gsUl70zj7Mf3wOHJZPAkFl5CiqrgHnVqcwYx1Z5XisJEyABg8QYo0S4Sx
-ex921AvoxA9nxfwOWx+6gF/+BeMAQL6P0acmthrClHZWef2Q
------END CERTIFICATE-----

---FILE: examples/certificates/localhost.key---
@@ -1,28 +0,0 @@
------BEGIN PRIVATE KEY-----
-MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDSzUxKr7XeBD3b
-3ea/YFF3VwMC0KoBHCUY+Vfp6JARxd6/RQCtS+cFJGXGy5V/t8rtOUns28gTw07m
-b0JJu24sHTIR5pWWKgl8TB7d7eaBBDQHU9uRg2Fkm6Z4VhHITqxq0K5/Qld8M2rB
-wNrEwFEyZa3t7yY2J/V2qmytkiMxdXEDiWWS63KRjhlGUKq+iSU1Y7Bnq5Z2lI4Z
-cA/JJKJgZ7qKZ6a1IbGZ59XW97hP++i90O5424rmj6RR1ftOeaTS2NQZCAEUcUPy
-jsClusbtjOFOdd7oJMS633Enq9ASV4nTKr4SwAoCjtQhCVyBaqZeJFJV190p2QZu
-obMz3Z6dAgMBAAECggEBANDz0wXNOhcCWVbRlGJq1RXYWBG4SGulPFiPAEfJ0NTt
-MCij+1HMBQkh1QjC0EOzKSEQQmjYSnDcjh74ddqkQUbVAcagq/IXZSOiSI5vvKZy
-RihlRSXt9uJFLzPlDOdipKGUjQNz/UgNp2q7AZ85isLL6yYIgfX4keW4dNVwIBZq
-qKu2TldUHB8qvsdD/RXDFVApgRX1vojcbtfuwPbaD4BVgKYz1wHgdgptt74juas2
-XDF8xUyDksBPmKKU3KQhn/e+4gG5SLa59/sPwg9dR8JZhSx2LJ0W5fthEotslU2f
-an51LzQ9a/Q6VlJqGZc86RZzgBTKkwrYpIqzZC3DhnkCgYEA7CA1+T7rT93+r9WZ
-XaoSfRlzMl9AB7LA6gR6qegVa+0SDg08zM2Pjd1KEPRCBGPZ0eq/Ri1qEWXGYNqG
-yhtcJocJ8vBoYbrV5UeRl/77ZQvscO091mV3DxDVsGGZY2JwDjhC/82P+NAXuAfv
-/TsY1L9IiIBs/1IiCERRncB7qEMCgYEA5ItvYPTeYZE9mAsy6eRQh4uuODBaQ35z
-HfPZkJMvlKw0LmjEn3ra6Pv+HLvTC+h53DfQlZo/S7pDy0GZRBBrbvQJOju9MTam
-TnurUghpBR4AiFDoHDui6F91emPC3ZLPh8hV7aoHjCZ//XWmd6GX+JbfSykZ2Ff2
-3f7WrFiQH58CgYBFkMfWAr947EJYs2lXuv9vc8wIjx9iJTvItkEdRY7qGRI0qZm8
-DOO6O/PSQuQgPvqxaaOonUCel4l2h2smqCDiCO7ZcBKQmGbkAc3XJfwSrQyfyIVr
-YMFO4vrR2C9EpH+28MRscLd16njScyQ1Su/p3eEUtiFmp1/3Z4lUHJ1R2QKBgQCw
-wkLXSyu/bDSmJmsvSH0cCGUrYgI910uza8jmL2AKbZFCH5eK/NrYfSURFhdpS1kM
-gEKbohu4Nwx95HNkmApvWuDUICX4LRs88hsTrBuFcKnaxDBwvZMGg+X5TbUF56kI
-jGIhGXMS6yfsYRTpy5odEpsKp3QsxgPRuGpSC4EUYwKBgGS/oSzUJivPN6Aeh7uz
-+QEEijvv0arlOGUmPc/jmA77GKwqUKW1XaeGYgf2/apHPlczUOBtZTOm9Jx1X5gD
-d5xgmSi7TNavGquf0BwnJgo4IIWtuYdNHCHYdWya4fVp6E4MBp5zJ2AanrNC4mZd
-sxLf4eyEb7DxE4lkJYtheBs5
------END PRIVATE KEY-----",False,False,Documentation / Formatting,7
chapter-three,next-drupal,d32ab937cfcfd72a1e87f25c423a2d46ca7ce79a,arshad,arshad@chummun.com,2021-02-02T13:11:41Z,GitHub,noreply@github.com,2021-02-02T13:11:41Z,docs: fix README,README.md,False,False,False,False,1,1,2,"---FILE: README.md---
@@ -129,7 +129,7 @@ Add a new user at */admin/people/create* and assign it the role created above.
 
 _Note: When the Next.js is authenticated, it will be authenticated as this user._
 
-**Configure a consumer***
+**Configure a consumer**
 
 - Visit */admin/config/people/simple_oauth*
 - Click **Generate keys** to generate encryption keys for tokens",False,False,Documentation / Formatting,7
chapter-three,next-drupal,5eed2d28fdbb10fc10e06be9fcdd9180842d8583,arshad,arshad@chummun.com,2021-02-02T11:00:38Z,arshad,arshad@chummun.com,2021-02-02T11:00:38Z,fix: add simple_oauth as dependency,modules/next/composer.json;modules/next/next.info.yml,False,False,False,False,5,0,5,"---FILE: modules/next/composer.json---
@@ -10,6 +10,9 @@
       ""homepage"": ""https://arshadcn.com""
     }
   ],
+  ""require"": {
+    ""drupal/simple_oauth"": ""^5.0""
+  },
   ""require-dev"": {
     ""phpunit/phpunit"": ""^6.0 || ^7.0""
   }

---FILE: modules/next/next.info.yml---
@@ -4,3 +4,5 @@ type: module
 core_version_requirement: ^8.8 || ^9
 package: Web services
 configure: entity.next_site.collection
+dependencies:
+  - simple_oauth:simple_oauth",False,False,Data / Input Handling,3
chapter-three,next-drupal,e38a25822e3c4b5e870e09502f7c213077d280e0,arshad,arshad@chummun.com,2021-02-02T08:56:43Z,arshad,arshad@chummun.com,2021-02-02T08:56:43Z,fix: handle sites if $sites are not keyed using site_id,modules/next/src/Plugin/Next/SitePreviewer/Iframe.php,False,False,False,False,9,2,11,"---FILE: modules/next/src/Plugin/Next/SitePreviewer/Iframe.php---
@@ -123,8 +123,15 @@ public function submitConfigurationForm(array &$form, FormStateInterface $form_s
    */
   public function render(EntityInterface $entity, array $sites) {
     $build = [];
-    $site_id = $this->request->query->get('site');
-    $site = $site_id ? $sites[$site_id] : reset($sites);
+    $site = reset($sites);
+
+    // Get site from query.
+    if ($site_id = $this->request->query->get('site')) {
+      $_sites = array_filter($sites, function ($site) use ($site_id) {
+        return $site->id() === $site_id;
+      });
+      $site = reset($_sites);
+    }
 
     if (count($sites) > 1) {
       $build['form'] = $this->formBuilder->getForm(IframeSitePreviewerSwitcherForm::class, $entity, $sites, $site->id());",False,False,Rendering / Conversion,0
chapter-three,next-drupal,f39a3a2a4b182a8b097e9e5124aad285d1d8bc5b,arshad,arshad@chummun.com,2021-02-02T08:56:27Z,arshad,arshad@chummun.com,2021-02-02T08:56:27Z,fix: prettier ignore drupal-site,.prettierignore,False,False,False,False,1,0,1,"---FILE: .prettierignore---
@@ -11,3 +11,4 @@ packages/codemod/**/*.js
 packages/codemod/**/*.d.ts
 dist
 .next
+examples/drupal-site",False,False,Rendering / Conversion,0
chapter-three,next-drupal,9a1ef908c58149689394616da3e0bb71d94b5acc,arshad,arshad@chummun.com,2021-02-01T19:00:40Z,arshad,arshad@chummun.com,2021-02-01T19:00:40Z,fix: update config,examples/drupal-site/config/core.entity_form_display.node.article.default.yml;examples/drupal-site/config/core.entity_view_display.node.article.default.yml;examples/drupal-site/config/core.entity_view_display.node.article.rss.yml;examples/drupal-site/config/core.entity_view_display.node.article.teaser.yml;examples/drupal-site/config/field.field.node.article.field_site.yml;examples/drupal-site/config/field.storage.node.field_site.yml;examples/drupal-site/database/database.sqlite;examples/drupal-site/database/database.sqlite-shm;examples/drupal-site/database/database.sqlite-wal,True,False,True,False,70,7,77,"---FILE: examples/drupal-site/config/core.entity_form_display.node.article.default.yml---
@@ -6,6 +6,7 @@ dependencies:
     - field.field.node.article.body
     - field.field.node.article.comment
     - field.field.node.article.field_image
+    - field.field.node.article.field_site
     - field.field.node.article.field_tags
     - image.style.thumbnail
     - node.type.article
@@ -23,7 +24,7 @@ mode: default
 content:
   body:
     type: text_textarea_with_summary
-    weight: 1
+    weight: 2
     region: content
     settings:
       rows: 9
@@ -33,13 +34,13 @@ content:
     third_party_settings: {}
   comment:
     type: comment_default
-    weight: 20
+    weight: 9
     region: content
     settings: {}
     third_party_settings: {}
   created:
     type: datetime_timestamp
-    weight: 10
+    weight: 6
     region: content
     settings: {}
     third_party_settings: {}
@@ -51,6 +52,12 @@ content:
       progress_indicator: throbber
       preview_image_style: thumbnail
     third_party_settings: {}
+  field_site:
+    weight: 1
+    settings: {}
+    third_party_settings: {}
+    type: options_buttons
+    region: content
   field_tags:
     type: entity_reference_autocomplete_tags
     weight: 3
@@ -63,29 +70,29 @@ content:
     third_party_settings: {}
   path:
     type: path
-    weight: 30
+    weight: 10
     region: content
     settings: {}
     third_party_settings: {}
   promote:
     type: boolean_checkbox
     settings:
       display_label: true
-    weight: 15
+    weight: 7
     region: content
     third_party_settings: {}
   status:
     type: boolean_checkbox
     settings:
       display_label: true
-    weight: 120
+    weight: 11
     region: content
     third_party_settings: {}
   sticky:
     type: boolean_checkbox
     settings:
       display_label: true
-    weight: 16
+    weight: 8
     region: content
     third_party_settings: {}
   title:

---FILE: examples/drupal-site/config/core.entity_view_display.node.article.default.yml---
@@ -7,6 +7,7 @@ dependencies:
     - field.field.node.article.body
     - field.field.node.article.comment
     - field.field.node.article.field_image
+    - field.field.node.article.field_site
     - field.field.node.article.field_tags
     - image.style.large
     - node.type.article
@@ -47,6 +48,14 @@ content:
       image_link: """"
     third_party_settings: {}
     label: hidden
+  field_site:
+    weight: 111
+    label: above
+    settings:
+      link: true
+    third_party_settings: {}
+    type: entity_reference_label
+    region: content
   field_tags:
     type: entity_reference_label
     weight: 10

---FILE: examples/drupal-site/config/core.entity_view_display.node.article.rss.yml---
@@ -7,6 +7,7 @@ dependencies:
     - field.field.node.article.body
     - field.field.node.article.comment
     - field.field.node.article.field_image
+    - field.field.node.article.field_site
     - field.field.node.article.field_tags
     - node.type.article
   module:
@@ -25,4 +26,5 @@ hidden:
   body: true
   comment: true
   field_image: true
+  field_site: true
   field_tags: true

---FILE: examples/drupal-site/config/core.entity_view_display.node.article.teaser.yml---
@@ -7,6 +7,7 @@ dependencies:
     - field.field.node.article.body
     - field.field.node.article.comment
     - field.field.node.article.field_image
+    - field.field.node.article.field_site
     - field.field.node.article.field_tags
     - image.style.medium
     - node.type.article
@@ -52,4 +53,5 @@ content:
 hidden:
   comment: true
   field_image: true
+  field_site: true
   field_tags: true

---FILE: examples/drupal-site/config/field.field.node.article.field_site.yml---
@@ -0,0 +1,23 @@
+uuid: 77d6df0f-13dd-4997-84f4-03e47d0d971c
+langcode: en
+status: true
+dependencies:
+  config:
+    - field.storage.node.field_site
+    - node.type.article
+id: node.article.field_site
+field_name: field_site
+entity_type: node
+bundle: article
+label: Site
+description: """"
+required: true
+translatable: false
+default_value: {}
+default_value_callback: """"
+settings:
+  handler: ""default:next_site""
+  handler_settings:
+    target_bundles: null
+    auto_create: false
+field_type: entity_reference

---FILE: examples/drupal-site/config/field.storage.node.field_site.yml---
@@ -0,0 +1,20 @@
+uuid: debf1dae-22a8-4c31-bcb9-d99616336601
+langcode: en
+status: true
+dependencies:
+  module:
+    - next
+    - node
+id: node.field_site
+field_name: field_site
+entity_type: node
+type: entity_reference
+settings:
+  target_type: next_site
+module: core
+locked: false
+cardinality: -1
+translatable: true
+indexes: {}
+persist_with_no_fields: false
+custom_storage: false",False,True,Implementation / Logic,6
chapter-three,next-drupal,24da3aa3b516fc920323aca82cb6668c4eb3c075,arshad,arshad@chummun.com,2021-02-01T18:56:06Z,arshad,arshad@chummun.com,2021-02-01T18:56:06Z,fix: remove config,modules/next/config/install/next.next_site.example_blog.yml,False,False,False,False,0,9,9,"---FILE: modules/next/config/install/next.next_site.example_blog.yml---
@@ -1,9 +0,0 @@
-uuid: 1ccd4bc4-bbc6-4c19-a816-c7d100feff02
-langcode: en
-status: true
-dependencies: {}
-id: example_blog
-label: ""Example blog""
-base_url: ""https://localhost:3030""
-preview_url: ""https://localhost:3030/api/preview""
-preview_secret: secret",False,False,Visualization / Plotting,3
chapter-three,next-drupal,e70ed459294cb8945f42d04cf7bd20a54ab9fe77,arshad,arshad@chummun.com,2021-02-01T12:36:57Z,arshad,arshad@chummun.com,2021-02-01T12:36:57Z,fix: update examples,examples/example-blog/package.json;examples/example-blog/pages/[...slug].tsx;examples/example-blog/pages/blog/[...slug].tsx;examples/example-blog/pages/index.tsx;examples/example-blog/src/components/navbar.tsx;examples/example-marketing/pages/blog.tsx;examples/example-marketing/pages/blog/[...slug].tsx;examples/example-marketing/src/components/navbar.tsx;examples/example-marketing/src/sections/cards.tsx;examples/example-marketing/src/sections/faq.tsx;examples/example-marketing/src/sections/feature.tsx;examples/example-marketing/src/sections/hero.tsx,False,False,False,False,55,16,71,"---FILE: examples/example-blog/package.json---
@@ -12,6 +12,7 @@
   ""dependencies"": {
     ""next"": ""^10.0.1"",
     ""next-drupal"": ""^0.1.1"",
+    ""next-seo"": ""^4.18.0"",
     ""react"": ""^16.14.0"",
     ""react-dom"": ""^16.14.0"",
     ""reflexjs"": ""^1.0.0""

---FILE: examples/example-blog/pages/[...slug].tsx---
@@ -3,13 +3,16 @@ import {
   getEntityFromContext,
   deserialize,
 } from ""next-drupal""
+import { NextSeo } from ""next-seo""
+
 import { Layout } from ""@/components/layout""
 
 export default function BasicPage({ page }) {
   if (!page) return null
 
   return (
     <Layout>
+      <NextSeo title={page.title} />
       <div variant=""container.sm"" py=""10|12"">
         <h1 variant=""heading.h1"">{page.title}</h1>
         {page.body && (

---FILE: examples/example-blog/pages/blog/[...slug].tsx---
@@ -5,16 +5,18 @@ import {
 } from ""next-drupal""
 import Image from ""next/image""
 import Link from ""next/link""
+import { Icon } from ""reflexjs""
+import { NextSeo } from ""next-seo""
 
 import { Layout } from ""@/components/layout""
 import { PostMeta } from ""@/components/post-meta""
-import { Icon } from ""reflexjs""
 
 export default function BlogPostPage({ post }) {
   if (!post) return null
 
   return (
     <Layout>
+      <NextSeo title={post.title} />
       <div variant=""container.sm"" py=""4|10|12"">
         <article>
           <h1 variant=""heading.title"">{post.title}</h1>

---FILE: examples/example-blog/pages/index.tsx---
@@ -1,10 +1,13 @@
-import { deserialize, getEntitiesFromContext } from ""next-drupal""
+import { getEntitiesFromContext } from ""next-drupal""
+import { NextSeo } from ""next-seo""
+
 import { Layout } from ""@/components/layout""
 import { PostTeaser } from ""@/components/post-teaser""
 
 export default function IndexPage({ articles }) {
   return (
     <Layout>
+      <NextSeo title=""Blog"" />
       <div variant=""container.sm"" py=""10|12"">
         <h1 variant=""heading.h1"">Latest Articles.</h1>
         {articles?.length ? (
@@ -23,6 +26,7 @@ export async function getStaticProps(context) {
   const articles = await getEntitiesFromContext(""node"", ""article"", context, {
     params: {
       include: ""field_image, uid"",
+      sort: ""-created"",
     },
   })
 

---FILE: examples/example-blog/src/components/navbar.tsx---
@@ -38,6 +38,7 @@ export function Navbar({ ...props }) {
         </Link>
         <div
           display=""flex""
+          alignItems=""center""
           w=""100%""
           justifyContent=""space-between|flex-end""
           ml=""0|auto""

---FILE: examples/example-marketing/pages/blog.tsx---
@@ -1,10 +1,13 @@
-import { deserialize, getEntitiesFromContext } from ""next-drupal""
+import { getEntitiesFromContext } from ""next-drupal""
+import { NextSeo } from ""next-seo""
+
 import { Layout } from ""@/components/layout""
 import { PostTeaser } from ""@/components/post-teaser""
 
 export default function BlogPage({ articles }) {
   return (
     <Layout>
+      <NextSeo title=""Blog"" />
       <div variant=""container.sm"" py=""10|12"">
         <h1 variant=""heading.h1"">Latest Articles.</h1>
         {articles.length ? (
@@ -23,6 +26,7 @@ export async function getStaticProps(context) {
   const articles = await getEntitiesFromContext(""node"", ""article"", context, {
     params: {
       include: ""field_image, uid"",
+      sort: ""-created"",
     },
   })
 

---FILE: examples/example-marketing/pages/blog/[...slug].tsx---
@@ -4,17 +4,17 @@ import {
   deserialize,
 } from ""next-drupal""
 import Image from ""next/image""
-import Link from ""next/link""
+import { NextSeo } from ""next-seo""
 
 import { Layout } from ""@/components/layout""
 import { PostMeta } from ""@/components/post-meta""
-import { Icon } from ""reflexjs""
 
 export default function BlogPostPage({ post }) {
   if (!post) return null
 
   return (
     <Layout>
+      <NextSeo title={post.title} />
       <div variant=""container"" py=""4"">
         <article>
           <div display=""flex"" flexDirection=""column"">

---FILE: examples/example-marketing/src/components/navbar.tsx---
@@ -1,5 +1,4 @@
 import Link from ""next/link""
-import { Flex } from ""reflexjs""
 import { site } from ""@/config""
 import { ModeToggle } from ""./mode-toggle""
 import { NavbarLink } from ""./navbar-link""
@@ -39,11 +38,18 @@ export function Navbar({ ...props }) {
             </a>
           </Link>
         </div>
-        <div display=""flex"" flex=""1"" justifyContent=""center"">
+        <div
+          display=""flex""
+          alignItems=""center""
+          flex=""1""
+          justifyContent=""center""
+          w=""100%|auto""
+          mt=""4|0""
+        >
           <div
             display=""inline-grid""
             col={`repeat(${site.links.length}, minmax(0,auto))`}
-            gap=""12""
+            gap=""6|12""
           >
             {site.links.map((link) => (
               <NavbarLink key={link.url} href={link.url}>
@@ -52,7 +58,14 @@ export function Navbar({ ...props }) {
             ))}
           </div>
         </div>
-        <div w=""40"" display=""flex"" justifyContent=""flex-end"">
+        <div
+          w=""40""
+          display=""flex""
+          justifyContent=""flex-end""
+          position=""absolute|static""
+          top=""6""
+          right=""4""
+        >
           <ModeToggle ml=""4"" />
         </div>
       </div>

---FILE: examples/example-marketing/src/sections/cards.tsx---
@@ -1,6 +1,6 @@
 export default function Cards({ section, ...props }) {
   return (
-    <section py=""6|12|20"" bg={section.field_background_color} {...props}>
+    <section py=""12|20"" bg={section.field_background_color} {...props}>
       <div variant=""container"">
         <div textAlign=""center"" maxW=""680"" mx=""auto"">
           {section.field_heading && (
@@ -17,9 +17,14 @@ export default function Cards({ section, ...props }) {
           )}
         </div>
         {section.field_items && (
-          <div display=""grid"" mt=""20"" gap=""20"" col={section.field_items.length}>
+          <div
+            display=""grid""
+            mt=""20""
+            gap=""4|4|8|20""
+            col={`1|${section.field_items.length}`}
+          >
             {section.field_items.map((card) => (
-              <div key={card.id}>
+              <div key={card.id} textAlign=""center"">
                 <h3 variant=""heading.h3"">{card.field_heading}</h3>
                 {card.field_text?.processed && (
                   <div

---FILE: examples/example-marketing/src/sections/faq.tsx---
@@ -1,6 +1,6 @@
 export default function FAQ({ section, ...props }) {
   return (
-    <section py=""6|12|20"" bg={section.field_background_color} {...props}>
+    <section py=""12|20"" bg={section.field_background_color} {...props}>
       <div variant=""container"">
         <div textAlign=""center"">
           {section.field_heading && (
@@ -19,7 +19,13 @@ export default function FAQ({ section, ...props }) {
           )}
         </div>
         {section.field_items && (
-          <div display=""grid"" mt=""20"" gap=""20"" rowGap=""10"" col=""2"">
+          <div
+            display=""grid""
+            mt=""10|20""
+            gap=""4|6|20""
+            rowGap=""4|6|10""
+            col=""1|1|2""
+          >
             {section.field_items.map((card) => (
               <div key={card.id}>
                 <h4 variant=""heading.h4"" fontFamily=""sans"">

---FILE: examples/example-marketing/src/sections/feature.tsx---
@@ -4,7 +4,7 @@ import { Links } from ""@/components/links""
 
 export default function Feature({ section, ...props }) {
   return (
-    <section py=""6|12|32"" bg={section.field_background_color} {...props}>
+    <section py=""12|32"" bg={section.field_background_color} {...props}>
       <div variant=""container"">
         <div
           display=""grid""

---FILE: examples/example-marketing/src/sections/hero.tsx---
@@ -3,7 +3,7 @@ import Image from ""next/image""
 
 export default function Hero({ section, ...props }) {
   return (
-    <section pt=""6|12|20"" borderBottomWidth=""1"" {...props}>
+    <section pt=""12|20"" borderBottomWidth=""1"" {...props}>
       <div variant=""container"">
         <div textAlign=""center"">
           {section.field_heading && (",False,False,Data / Input Handling,3
chapter-three,next-drupal,9b66159561a5e0bf17b4e73c4cde318e06fe938d,arshad,arshad@chummun.com,2021-02-01T12:04:14Z,arshad,arshad@chummun.com,2021-02-01T12:04:14Z,fix: make image domain configurable via env,examples/example-blog/.env.example;examples/example-blog/next.config.js;examples/example-marketing/.env.example;examples/example-marketing/next.config.js,False,False,False,False,4,2,6,"---FILE: examples/example-blog/.env.example---
@@ -1,4 +1,5 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
+NEXT_IMAGE_DOMAIN=localhost
 DRUPAL_CLIENT_ID=1a3510bc-a367-4f40-a1dd-6756454f6b69
 DRUPAL_CLIENT_SECRET=Fy2crmgK44PwlBDjvA54m7m7ucvhj837
 DRUPAL_PREVIEW_SECRET=secret
\ No newline at end of file

---FILE: examples/example-blog/next.config.js---
@@ -1,5 +1,5 @@
 module.exports = {
   images: {
-    domains: [""localhost""],
+    domains: [process.env.NEXT_IMAGE_DOMAIN],
   },
 }

---FILE: examples/example-marketing/.env.example---
@@ -1,4 +1,5 @@
 NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
+NEXT_IMAGE_DOMAIN=localhost
 DRUPAL_CLIENT_ID=15cea0a1-1f8d-4595-acec-2c1420f06a5d
 DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
 DRUPAL_PREVIEW_SECRET=secret

---FILE: examples/example-marketing/next.config.js---
@@ -1,5 +1,5 @@
 module.exports = {
   images: {
-    domains: [""localhost""],
+    domains: [process.env.NEXT_IMAGE_DOMAIN],
   },
 }",False,False,Rendering / Conversion,0
chapter-three,next-drupal,c4d34b2ff773b39e013becbcabcc58ebf24a80fd,arshad,arshad@chummun.com,2021-02-01T11:42:08Z,arshad,arshad@chummun.com,2021-02-01T11:42:08Z,fix(example-blog): remove Flex component,examples/example-blog/src/components/navbar.tsx,False,False,False,False,7,3,10,"---FILE: examples/example-blog/src/components/navbar.tsx---
@@ -1,5 +1,4 @@
 import Link from ""next/link""
-import { Flex } from ""reflexjs""
 import { site } from ""@/config""
 import { ModeToggle } from ""./mode-toggle""
 import { NavbarLink } from ""./navbar-link""
@@ -37,7 +36,12 @@ export function Navbar({ ...props }) {
             {site.name}
           </a>
         </Link>
-        <Flex w=""100%"" justifyContent=""space-between|flex-end"" ml=""0|auto"">
+        <div
+          display=""flex""
+          w=""100%""
+          justifyContent=""space-between|flex-end""
+          ml=""0|auto""
+        >
           <div
             display=""inline-grid""
             col={`repeat(${site.links.length}, minmax(0,auto))`}
@@ -50,7 +54,7 @@ export function Navbar({ ...props }) {
             ))}
           </div>
           <ModeToggle ml=""4"" />
-        </Flex>
+        </div>
       </div>
     </header>
   )",False,False,Rendering / Conversion,0
chapter-three,next-drupal,3e72b09fb7a658a937fcc4aff960e37b3a328a5e,arshad,arshad@chummun.com,2021-02-01T11:04:18Z,arshad,arshad@chummun.com,2021-02-01T11:04:18Z,fix: update site,examples/drupal-site/config/.htaccess;examples/drupal-site/database/database.sqlite;examples/drupal-site/database/database.sqlite-shm;examples/drupal-site/database/database.sqlite-wal,False,False,False,False,24,0,24,"---FILE: examples/drupal-site/config/.htaccess---
@@ -0,0 +1,24 @@
+# Deny all requests from Apache 2.4+.
+<IfModule mod_authz_core.c>
+  Require all denied
+</IfModule>
+
+# Deny all requests from Apache 2.0-2.2.
+<IfModule !mod_authz_core.c>
+  Deny from all
+</IfModule>
+
+# Turn off all options we don't need.
+Options -Indexes -ExecCGI -Includes -MultiViews
+
+# Set the catch-all handler to prevent scripts from being executed.
+SetHandler Drupal_Security_Do_Not_Remove_See_SA_2006_006
+<Files *>
+  # Override the handler again if we're run later in the evaluation list.
+  SetHandler Drupal_Security_Do_Not_Remove_See_SA_2013_003
+</Files>
+
+# If we know how to do it safely, disable the PHP engine entirely.
+<IfModule mod_php7.c>
+  php_flag engine off
+</IfModule>
\ No newline at end of file",False,False,Visualization / Plotting,3
chapter-three,next-drupal,e90ff82b1c2cd3400f6913d5a0424b654837e2f0,arshad,arshad@chummun.com,2021-02-01T09:23:09Z,arshad,arshad@chummun.com,2021-02-01T09:23:09Z,fix: add settings.php to repo,README.md;examples/drupal-site/.gitignore;examples/drupal-site/web/sites/default/settings.local.php;examples/drupal-site/web/sites/default/settings.php,False,False,False,False,979,7,986,"---FILE: README.md---
@@ -6,21 +6,32 @@ Next.js + Drupal for Incremental Static Regeneration and Preview mode.
 
 ## How to run the demo
 
-1. Copy the `.env.example` to `.env.local`:
+1. Install dependencies
+
+`yarn && composer install -d=./examples/drupal-site`
+
+2. Copy configuration files:
+
+```
+cp examples/drupal-site/web/sites/default/example.settings.local.php examples/drupal-site/web/sites/default/settings.local.php
+```
 
 ```
 cp examples/example-blog/.env.example examples/example-blog/.env.local
+```
+
+```
 cp examples/example-marketing/.env.example examples/example-marketing/.env.local
 ```
 
-2. Then run `yarn dev` from the root to start the _Drupal_ site and the _Next.js_ sites.
+3. Then run `yarn dev` from the root to start the _Drupal_ site and the _Next.js_ sites.
 
 ```
 yarn dev
 ```
 
-3. Login to the _Drupal_ site at http://localhost:8080 with **username: admin** and **password: admin**.
+4. Login to the _Drupal_ site at http://localhost:8080 with **username: admin** and **password: admin**.
 
-4. Visit http://localhost:8080/admin/config/people/simple_oauth to generate OAuth encryption keys. Enter `../oauth-keys` for the directory.
+5. Visit http://localhost:8080/admin/config/people/simple_oauth to generate OAuth encryption keys. Enter `../oauth-keys` for the directory.
 
-5. Visit http://localhost:8080/admin/content to add, edit and preview content.
+6. Visit http://localhost:8080/admin/content to add, edit and preview content.

---FILE: examples/drupal-site/.gitignore---
@@ -8,8 +8,8 @@
 /web/libraries/
 
 # Ignore sensitive information
-/web/sites/*/settings.php
-/web/sites/*/settings.local.php
+# /web/sites/*/settings.php
+# /web/sites/*/settings.local.php
 
 # Ignore Drupal's file directory
 /web/sites/*/files/*

---FILE: examples/drupal-site/web/sites/default/settings.local.php---
@@ -0,0 +1,164 @@
+<?php
+
+// @codingStandardsIgnoreFile
+
+/**
+ * @file
+ * Local development override configuration feature.
+ *
+ * To activate this feature, copy and rename it such that its path plus
+ * filename is 'sites/default/settings.local.php'. Then, go to the bottom of
+ * 'sites/default/settings.php' and uncomment the commented lines that mention
+ * 'settings.local.php'.
+ *
+ * If you are using a site name in the path, such as 'sites/example.com', copy
+ * this file to 'sites/example.com/settings.local.php', and uncomment the lines
+ * at the bottom of 'sites/example.com/settings.php'.
+ */
+
+/**
+ * Assertions.
+ *
+ * The Drupal project primarily uses runtime assertions to enforce the
+ * expectations of the API by failing when incorrect calls are made by code
+ * under development.
+ *
+ * @see http://php.net/assert
+ * @see https://www.drupal.org/node/2492225
+ *
+ * If you are using PHP 7.0 it is strongly recommended that you set
+ * zend.assertions=1 in the PHP.ini file (It cannot be changed from .htaccess
+ * or runtime) on development machines and to 0 in production.
+ *
+ * @see https://wiki.php.net/rfc/expectations
+ */
+assert_options(ASSERT_ACTIVE, TRUE);
+\Drupal\Component\Assertion\Handle::register();
+
+/**
+ * Enable local development services.
+ */
+$settings['container_yamls'][] = DRUPAL_ROOT . '/sites/development.services.yml';
+
+/**
+ * Show all error messages, with backtrace information.
+ *
+ * In case the error level could not be fetched from the database, as for
+ * example the database connection failed, we rely only on this value.
+ */
+$config['system.logging']['error_level'] = 'verbose';
+
+/**
+ * Disable CSS and JS aggregation.
+ */
+$config['system.performance']['css']['preprocess'] = FALSE;
+$config['system.performance']['js']['preprocess'] = FALSE;
+
+/**
+ * Disable the render cache.
+ *
+ * Note: you should test with the render cache enabled, to ensure the correct
+ * cacheability metadata is present. However, in the early stages of
+ * development, you may want to disable it.
+ *
+ * This setting disables the render cache by using the Null cache back-end
+ * defined by the development.services.yml file above.
+ *
+ * Only use this setting once the site has been installed.
+ */
+# $settings['cache']['bins']['render'] = 'cache.backend.null';
+
+/**
+ * Disable caching for migrations.
+ *
+ * Uncomment the code below to only store migrations in memory and not in the
+ * database. This makes it easier to develop custom migrations.
+ */
+# $settings['cache']['bins']['discovery_migration'] = 'cache.backend.memory';
+
+/**
+ * Disable Internal Page Cache.
+ *
+ * Note: you should test with Internal Page Cache enabled, to ensure the correct
+ * cacheability metadata is present. However, in the early stages of
+ * development, you may want to disable it.
+ *
+ * This setting disables the page cache by using the Null cache back-end
+ * defined by the development.services.yml file above.
+ *
+ * Only use this setting once the site has been installed.
+ */
+# $settings['cache']['bins']['page'] = 'cache.backend.null';
+
+/**
+ * Disable Dynamic Page Cache.
+ *
+ * Note: you should test with Dynamic Page Cache enabled, to ensure the correct
+ * cacheability metadata is present (and hence the expected behavior). However,
+ * in the early stages of development, you may want to disable it.
+ */
+# $settings['cache']['bins']['dynamic_page_cache'] = 'cache.backend.null';
+
+/**
+ * Allow test modules and themes to be installed.
+ *
+ * Drupal ignores test modules and themes by default for performance reasons.
+ * During development it can be useful to install test extensions for debugging
+ * purposes.
+ */
+# $settings['extension_discovery_scan_tests'] = TRUE;
+
+/**
+ * Enable access to rebuild.php.
+ *
+ * This setting can be enabled to allow Drupal's php and database cached
+ * storage to be cleared via the rebuild.php page. Access to this page can also
+ * be gained by generating a query string from rebuild_token_calculator.sh and
+ * using these parameters in a request to rebuild.php.
+ */
+$settings['rebuild_access'] = TRUE;
+
+/**
+ * Skip file system permissions hardening.
+ *
+ * The system module will periodically check the permissions of your site's
+ * site directory to ensure that it is not writable by the website user. For
+ * sites that are managed with a version control system, this can cause problems
+ * when files in that directory such as settings.php are updated, because the
+ * user pulling in the changes won't have permissions to modify files in the
+ * directory.
+ */
+$settings['skip_permissions_hardening'] = TRUE;
+
+/**
+ * Exclude modules from configuration synchronization.
+ *
+ * On config export sync, no config or dependent config of any excluded module
+ * is exported. On config import sync, any config of any installed excluded
+ * module is ignored. In the exported configuration, it will be as if the
+ * excluded module had never been installed. When syncing configuration, if an
+ * excluded module is already installed, it will not be uninstalled by the
+ * configuration synchronization, and dependent configuration will remain
+ * intact. This affects only configuration synchronization; single import and
+ * export of configuration are not affected.
+ *
+ * Drupal does not validate or sanity check the list of excluded modules. For
+ * instance, it is your own responsibility to never exclude required modules,
+ * because it would mean that the exported configuration can not be imported
+ * anymore.
+ *
+ * This is an advanced feature and using it means opting out of some of the
+ * guarantees the configuration synchronization provides. It is not recommended
+ * to use this feature with modules that affect Drupal in a major way such as
+ * the language or field module.
+ */
+# $settings['config_exclude_modules'] = ['devel', 'stage_file_proxy'];
+
+$databases['default']['default'] = array (
+  'database' => '../database/database.sqlite',
+  'prefix' => '',
+  'namespace' => 'Drupal\\Core\\Database\\Driver\\sqlite',
+  'driver' => 'sqlite',
+);
+
+$settings['config_sync_directory'] = '../config';
\ No newline at end of file

---FILE: examples/drupal-site/web/sites/default/settings.php---
@@ -0,0 +1,797 @@
+<?php
+
+// @codingStandardsIgnoreFile
+
+/**
+ * @file
+ * Drupal site-specific configuration file.
+ *
+ * IMPORTANT NOTE:
+ * This file may have been set to read-only by the Drupal installation program.
+ * If you make changes to this file, be sure to protect it again after making
+ * your modifications. Failure to remove write permissions to this file is a
+ * security risk.
+ *
+ * In order to use the selection rules below the multisite aliasing file named
+ * sites/sites.php must be present. Its optional settings will be loaded, and
+ * the aliases in the array $sites will override the default directory rules
+ * below. See sites/example.sites.php for more information about aliases.
+ *
+ * The configuration directory will be discovered by stripping the website's
+ * hostname from left to right and pathname from right to left. The first
+ * configuration file found will be used and any others will be ignored. If no
+ * other configuration file is found then the default configuration file at
+ * 'sites/default' will be used.
+ *
+ * For example, for a fictitious site installed at
+ * https://www.drupal.org:8080/mysite/test/, the 'settings.php' file is searched
+ * for in the following directories:
+ *
+ * - sites/8080.www.drupal.org.mysite.test
+ * - sites/www.drupal.org.mysite.test
+ * - sites/drupal.org.mysite.test
+ * - sites/org.mysite.test
+ *
+ * - sites/8080.www.drupal.org.mysite
+ * - sites/www.drupal.org.mysite
+ * - sites/drupal.org.mysite
+ * - sites/org.mysite
+ *
+ * - sites/8080.www.drupal.org
+ * - sites/www.drupal.org
+ * - sites/drupal.org
+ * - sites/org
+ *
+ * - sites/default
+ *
+ * Note that if you are installing on a non-standard port number, prefix the
+ * hostname with that number. For example,
+ * https://www.drupal.org:8080/mysite/test/ could be loaded from
+ * sites/8080.www.drupal.org.mysite.test/.
+ *
+ * @see example.sites.php
+ * @see \Drupal\Core\DrupalKernel::getSitePath()
+ *
+ * In addition to customizing application settings through variables in
+ * settings.php, you can create a services.yml file in the same directory to
+ * register custom, site-specific service definitions and/or swap out default
+ * implementations with custom ones.
+ */
+
+/**
+ * Database settings:
+ *
+ * The $databases array specifies the database connection or
+ * connections that Drupal may use.  Drupal is able to connect
+ * to multiple databases, including multiple types of databases,
+ * during the same request.
+ *
+ * One example of the simplest connection array is shown below. To use the
+ * sample settings, copy and uncomment the code below between the @code and
+ * @endcode lines and paste it after the $databases declaration. You will need
+ * to replace the database username and password and possibly the host and port
+ * with the appropriate credentials for your database system.
+ *
+ * The next section describes how to customize the $databases array for more
+ * specific needs.
+ *
+ * @code
+ * $databases['default']['default'] = [
+ *   'database' => 'databasename',
+ *   'username' => 'sqlusername',
+ *   'password' => 'sqlpassword',
+ *   'host' => 'localhost',
+ *   'port' => '3306',
+ *   'driver' => 'mysql',
+ *   'prefix' => '',
+ *   'collation' => 'utf8mb4_general_ci',
+ * ];
+ * @endcode
+ */
+$databases = [];
+
+/**
+ * Customizing database settings.
+ *
+ * Many of the values of the $databases array can be customized for your
+ * particular database system. Refer to the sample in the section above as a
+ * starting point.
+ *
+ * The ""driver"" property indicates what Drupal database driver the
+ * connection should use.  This is usually the same as the name of the
+ * database type, such as mysql or sqlite, but not always.  The other
+ * properties will vary depending on the driver.  For SQLite, you must
+ * specify a database file name in a directory that is writable by the
+ * webserver.  For most other drivers, you must specify a
+ * username, password, host, and database name.
+ *
+ * Drupal core implements drivers for mysql, pgsql, and sqlite. Other drivers
+ * can be provided by contributed or custom modules. To use a contributed or
+ * custom driver, the ""namespace"" property must be set to the namespace of the
+ * driver. The code in this namespace must be autoloadable prior to connecting
+ * to the database, and therefore, prior to when module root namespaces are
+ * added to the autoloader. To add the driver's namespace to the autoloader,
+ * set the ""autoload"" property to the PSR-4 base directory of the driver's
+ * namespace. This is optional for projects managed with Composer if the
+ * driver's namespace is in Composer's autoloader.
+ *
+ * Transaction support is enabled by default for all drivers that support it,
+ * including MySQL. To explicitly disable it, set the 'transactions' key to
+ * FALSE.
+ * Note that some configurations of MySQL, such as the MyISAM engine, don't
+ * support it and will proceed silently even if enabled. If you experience
+ * transaction related crashes with such configuration, set the 'transactions'
+ * key to FALSE.
+ *
+ * For each database, you may optionally specify multiple ""target"" databases.
+ * A target database allows Drupal to try to send certain queries to a
+ * different database if it can but fall back to the default connection if not.
+ * That is useful for primary/replica replication, as Drupal may try to connect
+ * to a replica server when appropriate and if one is not available will simply
+ * fall back to the single primary server (The terms primary/replica are
+ * traditionally referred to as master/slave in database server documentation).
+ *
+ * The general format for the $databases array is as follows:
+ * @code
+ * $databases['default']['default'] = $info_array;
+ * $databases['default']['replica'][] = $info_array;
+ * $databases['default']['replica'][] = $info_array;
+ * $databases['extra']['default'] = $info_array;
+ * @endcode
+ *
+ * In the above example, $info_array is an array of settings described above.
+ * The first line sets a ""default"" database that has one primary database
+ * (the second level default).  The second and third lines create an array
+ * of potential replica databases.  Drupal will select one at random for a given
+ * request as needed.  The fourth line creates a new database with a name of
+ * ""extra"".
+ *
+ * You can optionally set prefixes for some or all database table names
+ * by using the 'prefix' setting. If a prefix is specified, the table
+ * name will be prepended with its value. Be sure to use valid database
+ * characters only, usually alphanumeric and underscore. If no prefixes
+ * are desired, leave it as an empty string ''.
+ *
+ * To have all database names prefixed, set 'prefix' as a string:
+ * @code
+ *   'prefix' => 'main_',
+ * @endcode
+ *
+ * Per-table prefixes are deprecated as of Drupal 8.2, and will be removed in
+ * Drupal 9.0. After that, only a single prefix for all tables will be
+ * supported.
+ *
+ * To provide prefixes for specific tables, set 'prefix' as an array.
+ * The array's keys are the table names and the values are the prefixes.
+ * The 'default' element is mandatory and holds the prefix for any tables
+ * not specified elsewhere in the array. Example:
+ * @code
+ *   'prefix' => [
+ *     'default'   => 'main_',
+ *     'users'     => 'shared_',
+ *     'sessions'  => 'shared_',
+ *     'role'      => 'shared_',
+ *     'authmap'   => 'shared_',
+ *   ],
+ * @endcode
+ * You can also use a reference to a schema/database as a prefix. This may be
+ * useful if your Drupal installation exists in a schema that is not the default
+ * or you want to access several databases from the same code base at the same
+ * time.
+ * Example:
+ * @code
+ *   'prefix' => [
+ *     'default'   => 'main.',
+ *     'users'     => 'shared.',
+ *     'sessions'  => 'shared.',
+ *     'role'      => 'shared.',
+ *     'authmap'   => 'shared.',
+ *   ];
+ * @endcode
+ * NOTE: MySQL and SQLite's definition of a schema is a database.
+ *
+ * Advanced users can add or override initial commands to execute when
+ * connecting to the database server, as well as PDO connection settings. For
+ * example, to enable MySQL SELECT queries to exceed the max_join_size system
+ * variable, and to reduce the database connection timeout to 5 seconds:
+ * @code
+ * $databases['default']['default'] = [
+ *   'init_commands' => [
+ *     'big_selects' => 'SET SQL_BIG_SELECTS=1',
+ *   ],
+ *   'pdo' => [
+ *     PDO::ATTR_TIMEOUT => 5,
+ *   ],
+ * ];
+ * @endcode
+ *
+ * WARNING: The above defaults are designed for database portability. Changing
+ * them may cause unexpected behavior, including potential data loss. See
+ * https://www.drupal.org/developing/api/database/configuration for more
+ * information on these defaults and the potential issues.
+ *
+ * More details can be found in the constructor methods for each driver:
+ * - \Drupal\Core\Database\Driver\mysql\Connection::__construct()
+ * - \Drupal\Core\Database\Driver\pgsql\Connection::__construct()
+ * - \Drupal\Core\Database\Driver\sqlite\Connection::__construct()
+ *
+ * Sample Database configuration format for PostgreSQL (pgsql):
+ * @code
+ *   $databases['default']['default'] = [
+ *     'driver' => 'pgsql',
+ *     'database' => 'databasename',
+ *     'username' => 'sqlusername',
+ *     'password' => 'sqlpassword',
+ *     'host' => 'localhost',
+ *     'prefix' => '',
+ *   ];
+ * @endcode
+ *
+ * Sample Database configuration format for SQLite (sqlite):
+ * @code
+ *   $databases['default']['default'] = [
+ *     'driver' => 'sqlite',
+ *     'database' => '/path/to/databasefilename',
+ *   ];
+ * @endcode
+ *
+ * Sample Database configuration format for a driver in a contributed module:
+ * @code
+ *   $databases['default']['default'] = [
+ *     'driver' => 'mydriver',
+ *     'namespace' => 'Drupal\mymodule\Driver\Database\mydriver',
+ *     'autoload' => 'modules/mymodule/src/Driver/Database/mydriver/',
+ *     'database' => 'databasename',
+ *     'username' => 'sqlusername',
+ *     'password' => 'sqlpassword',
+ *     'host' => 'localhost',
+ *     'prefix' => '',
+ *   ];
+ * @endcode
+ */
+
+/**
+ * Location of the site configuration files.
+ *
+ * The $settings['config_sync_directory'] specifies the location of file system
+ * directory used for syncing configuration data. On install, the directory is
+ * created. This is used for configuration imports.
+ *
+ * The default location for this directory is inside a randomly-named
+ * directory in the public files path. The setting below allows you to set
+ * its location.
+ */
+# $settings['config_sync_directory'] = '/directory/outside/webroot';
+
+/**
+ * Settings:
+ *
+ * $settings contains environment-specific configuration, such as the files
+ * directory and reverse proxy address, and temporary configuration, such as
+ * security overrides.
+ *
+ * @see \Drupal\Core\Site\Settings::get()
+ */
+
+/**
+ * Salt for one-time login links, cancel links, form tokens, etc.
+ *
+ * This variable will be set to a random value by the installer. All one-time
+ * login links will be invalidated if the value is changed. Note that if your
+ * site is deployed on a cluster of web servers, you must ensure that this
+ * variable has the same value on each server.
+ *
+ * For enhanced security, you may set this variable to the contents of a file
+ * outside your document root; you should also ensure that this file is not
+ * stored with backups of your database.
+ *
+ * Example:
+ * @code
+ *   $settings['hash_salt'] = file_get_contents('/home/example/salt.txt');
+ * @endcode
+ */
+$settings['hash_salt'] = 'QQQi8lMWsw1JX5aUykW-BfA8RQ4-a2WwFlOcx7teZFRAJrUFAsd1TZhCLLZ5Sot0443m-K_sJQ';
+
+/**
+ * Deployment identifier.
+ *
+ * Drupal's dependency injection container will be automatically invalidated and
+ * rebuilt when the Drupal core version changes. When updating contributed or
+ * custom code that changes the container, changing this identifier will also
+ * allow the container to be invalidated as soon as code is deployed.
+ */
+# $settings['deployment_identifier'] = \Drupal::VERSION;
+
+/**
+ * Access control for update.php script.
+ *
+ * If you are updating your Drupal installation using the update.php script but
+ * are not logged in using either an account with the ""Administer software
+ * updates"" permission or the site maintenance account (the account that was
+ * created during installation), you will need to modify the access check
+ * statement below. Change the FALSE to a TRUE to disable the access check.
+ * After finishing the upgrade, be sure to open this file again and change the
+ * TRUE back to a FALSE!
+ */
+$settings['update_free_access'] = FALSE;
+
+/**
+ * External access proxy settings:
+ *
+ * If your site must access the Internet via a web proxy then you can enter the
+ * proxy settings here. Set the full URL of the proxy, including the port, in
+ * variables:
+ * - $settings['http_client_config']['proxy']['http']: The proxy URL for HTTP
+ *   requests.
+ * - $settings['http_client_config']['proxy']['https']: The proxy URL for HTTPS
+ *   requests.
+ * You can pass in the user name and password for basic authentication in the
+ * URLs in these settings.
+ *
+ * You can also define an array of host names that can be accessed directly,
+ * bypassing the proxy, in $settings['http_client_config']['proxy']['no'].
+ */
+# $settings['http_client_config']['proxy']['http'] = 'http://proxy_user:proxy_pass@example.com:8080';
+# $settings['http_client_config']['proxy']['https'] = 'http://proxy_user:proxy_pass@example.com:8080';
+# $settings['http_client_config']['proxy']['no'] = ['127.0.0.1', 'localhost'];
+
+/**
+ * Reverse Proxy Configuration:
+ *
+ * Reverse proxy servers are often used to enhance the performance
+ * of heavily visited sites and may also provide other site caching,
+ * security, or encryption benefits. In an environment where Drupal
+ * is behind a reverse proxy, the real IP address of the client should
+ * be determined such that the correct client IP address is available
+ * to Drupal's logging, statistics, and access management systems. In
+ * the most simple scenario, the proxy server will add an
+ * X-Forwarded-For header to the request that contains the client IP
+ * address. However, HTTP headers are vulnerable to spoofing, where a
+ * malicious client could bypass restrictions by setting the
+ * X-Forwarded-For header directly. Therefore, Drupal's proxy
+ * configuration requires the IP addresses of all remote proxies to be
+ * specified in $settings['reverse_proxy_addresses'] to work correctly.
+ *
+ * Enable this setting to get Drupal to determine the client IP from the
+ * X-Forwarded-For header. If you are unsure about this setting, do not have a
+ * reverse proxy, or Drupal operates in a shared hosting environment, this
+ * setting should remain commented out.
+ *
+ * In order for this setting to be used you must specify every possible
+ * reverse proxy IP address in $settings['reverse_proxy_addresses'].
+ * If a complete list of reverse proxies is not available in your
+ * environment (for example, if you use a CDN) you may set the
+ * $_SERVER['REMOTE_ADDR'] variable directly in settings.php.
+ * Be aware, however, that it is likely that this would allow IP
+ * address spoofing unless more advanced precautions are taken.
+ */
+# $settings['reverse_proxy'] = TRUE;
+
+/**
+ * Specify every reverse proxy IP address in your environment.
+ * This setting is required if $settings['reverse_proxy'] is TRUE.
+ */
+# $settings['reverse_proxy_addresses'] = ['a.b.c.d', ...];
+
+/**
+ * Reverse proxy trusted headers.
+ *
+ * Sets which headers to trust from your reverse proxy.
+ *
+ * Common values are:
+ * - \Symfony\Component\HttpFoundation\Request::HEADER_X_FORWARDED_ALL
+ * - \Symfony\Component\HttpFoundation\Request::HEADER_FORWARDED
+ *
+ * Note the default value of
+ * @code
+ * \Symfony\Component\HttpFoundation\Request::HEADER_X_FORWARDED_ALL | \Symfony\Component\HttpFoundation\Request::HEADER_FORWARDED
+ * @endcode
+ * is not secure by default. The value should be set to only the specific
+ * headers the reverse proxy uses. For example:
+ * @code
+ * \Symfony\Component\HttpFoundation\Request::HEADER_X_FORWARDED_ALL
+ * @endcode
+ * This would trust the following headers:
+ * - X_FORWARDED_FOR
+ * - X_FORWARDED_HOST
+ * - X_FORWARDED_PROTO
+ * - X_FORWARDED_PORT
+ *
+ * @see \Symfony\Component\HttpFoundation\Request::HEADER_X_FORWARDED_ALL
+ * @see \Symfony\Component\HttpFoundation\Request::HEADER_FORWARDED
+ * @see \Symfony\Component\HttpFoundation\Request::setTrustedProxies
+ */
+# $settings['reverse_proxy_trusted_headers'] = \Symfony\Component\HttpFoundation\Request::HEADER_X_FORWARDED_ALL | \Symfony\Component\HttpFoundation\Request::HEADER_FORWARDED;
+
+
+/**
+ * Page caching:
+ *
+ * By default, Drupal sends a ""Vary: Cookie"" HTTP header for anonymous page
+ * views. This tells a HTTP proxy that it may return a page from its local
+ * cache without contacting the web server, if the user sends the same Cookie
+ * header as the user who originally requested the cached page. Without ""Vary:
+ * Cookie"", authenticated users would also be served the anonymous page from
+ * the cache. If the site has mostly anonymous users except a few known
+ * editors/administrators, the Vary header can be omitted. This allows for
+ * better caching in HTTP proxies (including reverse proxies), i.e. even if
+ * clients send different cookies, they still get content served from the cache.
+ * However, authenticated users should access the site directly (i.e. not use an
+ * HTTP proxy, and bypass the reverse proxy if one is used) in order to avoid
+ * getting cached pages from the proxy.
+ */
+# $settings['omit_vary_cookie'] = TRUE;
+
+
+/**
+ * Cache TTL for client error (4xx) responses.
+ *
+ * Items cached per-URL tend to result in a large number of cache items, and
+ * this can be problematic on 404 pages which by their nature are unbounded. A
+ * fixed TTL can be set for these items, defaulting to one hour, so that cache
+ * backends which do not support LRU can purge older entries. To disable caching
+ * of client error responses set the value to 0. Currently applies only to
+ * page_cache module.
+ */
+# $settings['cache_ttl_4xx'] = 3600;
+
+/**
+ * Expiration of cached forms.
+ *
+ * Drupal's Form API stores details of forms in a cache and these entries are
+ * kept for at least 6 hours by default. Expired entries are cleared by cron.
+ *
+ * @see \Drupal\Core\Form\FormCache::setCache()
+ */
+# $settings['form_cache_expiration'] = 21600;
+
+/**
+ * Class Loader.
+ *
+ * If the APC extension is detected, the Symfony APC class loader is used for
+ * performance reasons. Detection can be prevented by setting
+ * class_loader_auto_detect to false, as in the example below.
+ */
+# $settings['class_loader_auto_detect'] = FALSE;
+
+/*
+ * If the APC extension is not detected, either because APC is missing or
+ * because auto-detection has been disabled, auto-loading falls back to
+ * Composer's ClassLoader, which is good for development as it does not break
+ * when code is moved in the file system. You can also decorate the base class
+ * loader with another cached solution than the Symfony APC class loader, as
+ * all production sites should have a cached class loader of some sort enabled.
+ *
+ * To do so, you may decorate and replace the local $class_loader variable. For
+ * example, to use Symfony's APC class loader without automatic detection,
+ * uncomment the code below.
+ */
+/*
+if ($settings['hash_salt']) {
+  $prefix = 'drupal.' . hash('sha256', 'drupal.' . $settings['hash_salt']);
+  $apc_loader = new \Symfony\Component\ClassLoader\ApcClassLoader($prefix, $class_loader);
+  unset($prefix);
+  $class_loader->unregister();
+  $apc_loader->register();
+  $class_loader = $apc_loader;
+}
+*/
+
+/**
+ * Authorized file system operations:
+ *
+ * The Update Manager module included with Drupal provides a mechanism for
+ * site administrators to securely install missing updates for the site
+ * directly through the web user interface. On securely-configured servers,
+ * the Update manager will require the administrator to provide SSH or FTP
+ * credentials before allowing the installation to proceed; this allows the
+ * site to update the new files as the user who owns all the Drupal files,
+ * instead of as the user the webserver is running as. On servers where the
+ * webserver user is itself the owner of the Drupal files, the administrator
+ * will not be prompted for SSH or FTP credentials (note that these server
+ * setups are common on shared hosting, but are inherently insecure).
+ *
+ * Some sites might wish to disable the above functionality, and only update
+ * the code directly via SSH or FTP themselves. This setting completely
+ * disables all functionality related to these authorized file operations.
+ *
+ * @see https://www.drupal.org/node/244924
+ *
+ * Remove the leading hash signs to disable.
+ */
+# $settings['allow_authorize_operations'] = FALSE;
+
+/**
+ * Default mode for directories and files written by Drupal.
+ *
+ * Value should be in PHP Octal Notation, with leading zero.
+ */
+# $settings['file_chmod_directory'] = 0775;
+# $settings['file_chmod_file'] = 0664;
+
+/**
+ * Public file base URL:
+ *
+ * An alternative base URL to be used for serving public files. This must
+ * include any leading directory path.
+ *
+ * A different value from the domain used by Drupal to be used for accessing
+ * public files. This can be used for a simple CDN integration, or to improve
+ * security by serving user-uploaded files from a different domain or subdomain
+ * pointing to the same server. Do not include a trailing slash.
+ */
+# $settings['file_public_base_url'] = 'http://downloads.example.com/files';
+
+/**
+ * Public file path:
+ *
+ * A local file system path where public files will be stored. This directory
+ * must exist and be writable by Drupal. This directory must be relative to
+ * the Drupal installation directory and be accessible over the web.
+ */
+# $settings['file_public_path'] = 'sites/default/files';
+
+/**
+ * Private file path:
+ *
+ * A local file system path where private files will be stored. This directory
+ * must be absolute, outside of the Drupal installation directory and not
+ * accessible over the web.
+ *
+ * Note: Caches need to be cleared when this value is changed to make the
+ * private:// stream wrapper available to the system.
+ *
+ * See https://www.drupal.org/documentation/modules/file for more information
+ * about securing private files.
+ */
+# $settings['file_private_path'] = '';
+
+/**
+ * Temporary file path:
+ *
+ * A local file system path where temporary files will be stored. This directory
+ * must be absolute, outside of the Drupal installation directory and not
+ * accessible over the web.
+ *
+ * If this is not set, the default for the operating system will be used.
+ *
+ * @see \Drupal\Component\FileSystem\FileSystem::getOsTemporaryDirectory()
+ */
+# $settings['file_temp_path'] = '/tmp';
+
+/**
+ * Session write interval:
+ *
+ * Set the minimum interval between each session write to database.
+ * For performance reasons it defaults to 180.
+ */
+# $settings['session_write_interval'] = 180;
+
+/**
+ * String overrides:
+ *
+ * To override specific strings on your site with or without enabling the Locale
+ * module, add an entry to this list. This functionality allows you to change
+ * a small number of your site's default English language interface strings.
+ *
+ * Remove the leading hash signs to enable.
+ *
+ * The ""en"" part of the variable name, is dynamic and can be any langcode of
+ * any added language. (eg locale_custom_strings_de for german).
+ */
+# $settings['locale_custom_strings_en'][''] = [
+#   'forum'      => 'Discussion board',
+#   '@count min' => '@count minutes',
+# ];
+
+/**
+ * A custom theme for the offline page:
+ *
+ * This applies when the site is explicitly set to maintenance mode through the
+ * administration page or when the database is inactive due to an error.
+ * The template file should also be copied into the theme. It is located inside
+ * 'core/modules/system/templates/maintenance-page.html.twig'.
+ *
+ * Note: This setting does not apply to installation and update pages.
+ */
+# $settings['maintenance_theme'] = 'bartik';
+
+/**
+ * PHP settings:
+ *
+ * To see what PHP settings are possible, including whether they can be set at
+ * runtime (by using ini_set()), read the PHP documentation:
+ * http://php.net/manual/ini.list.php
+ * See \Drupal\Core\DrupalKernel::bootEnvironment() for required runtime
+ * settings and the .htaccess file for non-runtime settings.
+ * Settings defined there should not be duplicated here so as to avoid conflict
+ * issues.
+ */
+
+/**
+ * If you encounter a situation where users post a large amount of text, and
+ * the result is stripped out upon viewing but can still be edited, Drupal's
+ * output filter may not have sufficient memory to process it.  If you
+ * experience this issue, you may wish to uncomment the following two lines
+ * and increase the limits of these variables.  For more information, see
+ * http://php.net/manual/pcre.configuration.php.
+ */
+# ini_set('pcre.backtrack_limit', 200000);
+# ini_set('pcre.recursion_limit', 200000);
+
+/**
+ * Configuration overrides.
+ *
+ * To globally override specific configuration values for this site,
+ * set them here. You usually don't need to use this feature. This is
+ * useful in a configuration file for a vhost or directory, rather than
+ * the default settings.php.
+ *
+ * Note that any values you provide in these variable overrides will not be
+ * viewable from the Drupal administration interface. The administration
+ * interface displays the values stored in configuration so that you can stage
+ * changes to other environments that don't have the overrides.
+ *
+ * There are particular configuration values that are risky to override. For
+ * example, overriding the list of installed modules in 'core.extension' is not
+ * supported as module install or uninstall has not occurred. Other examples
+ * include field storage configuration, because it has effects on database
+ * structure, and 'core.menu.static_menu_link_overrides' since this is cached in
+ * a way that is not config override aware. Also, note that changing
+ * configuration values in settings.php will not fire any of the configuration
+ * change events.
+ */
+# $config['system.site']['name'] = 'My Drupal site';
+# $config['user.settings']['anonymous'] = 'Visitor';
+
+/**
+ * Fast 404 pages:
+ *
+ * Drupal can generate fully themed 404 pages. However, some of these responses
+ * are for images or other resource files that are not displayed to the user.
+ * This can waste bandwidth, and also generate server load.
+ *
+ * The options below return a simple, fast 404 page for URLs matching a
+ * specific pattern:
+ * - $config['system.performance']['fast_404']['exclude_paths']: A regular
+ *   expression to match paths to exclude, such as images generated by image
+ *   styles, or dynamically-resized images. The default pattern provided below
+ *   also excludes the private file system. If you need to add more paths, you
+ *   can add '|path' to the expression.
+ * - $config['system.performance']['fast_404']['paths']: A regular expression to
+ *   match paths that should return a simple 404 page, rather than the fully
+ *   themed 404 page. If you don't have any aliases ending in htm or html you
+ *   can add '|s?html?' to the expression.
+ * - $config['system.performance']['fast_404']['html']: The html to return for
+ *   simple 404 pages.
+ *
+ * Remove the leading hash signs if you would like to alter this functionality.
+ */
+# $config['system.performance']['fast_404']['exclude_paths'] = '/\/(?:styles)|(?:system\/files)\//';
+# $config['system.performance']['fast_404']['paths'] = '/\.(?:txt|png|gif|jpe?g|css|js|ico|swf|flv|cgi|bat|pl|dll|exe|asp)$/i';
+# $config['system.performance']['fast_404']['html'] = '<!DOCTYPE html><html><head><title>404 Not Found</title></head><body><h1>Not Found</h1><p>The requested URL ""@path"" was not found on this server.</p></body></html>';
+
+/**
+ * Load services definition file.
+ */
+$settings['container_yamls'][] = $app_root . '/' . $site_path . '/services.yml';
+
+/**
+ * Override the default service container class.
+ *
+ * This is useful for example to trace the service container for performance
+ * tracking purposes, for testing a service container with an error condition or
+ * to test a service container that throws an exception.
+ */
+# $settings['container_base_class'] = '\Drupal\Core\DependencyInjection\Container';
+
+/**
+ * Override the default yaml parser class.
+ *
+ * Provide a fully qualified class name here if you would like to provide an
+ * alternate implementation YAML parser. The class must implement the
+ * \Drupal\Component\Serialization\SerializationInterface interface.
+ */
+# $settings['yaml_parser_class'] = NULL;
+
+/**
+ * Trusted host configuration.
+ *
+ * Drupal core can use the Symfony trusted host mechanism to prevent HTTP Host
+ * header spoofing.
+ *
+ * To enable the trusted host mechanism, you enable your allowable hosts
+ * in $settings['trusted_host_patterns']. This should be an array of regular
+ * expression patterns, without delimiters, representing the hosts you would
+ * like to allow.
+ *
+ * For example:
+ * @code
+ * $settings['trusted_host_patterns'] = [
+ *   '^www\.example\.com$',
+ * ];
+ * @endcode
+ * will allow the site to only run from www.example.com.
+ *
+ * If you are running multisite, or if you are running your site from
+ * different domain names (eg, you don't redirect http://www.example.com to
+ * http://example.com), you should specify all of the host patterns that are
+ * allowed by your site.
+ *
+ * For example:
+ * @code
+ * $settings['trusted_host_patterns'] = [
+ *   '^example\.com$',
+ *   '^.+\.example\.com$',
+ *   '^example\.org$',
+ *   '^.+\.example\.org$',
+ * ];
+ * @endcode
+ * will allow the site to run off of all variants of example.com and
+ * example.org, with all subdomains included.
+ */
+
+/**
+ * The default list of directories that will be ignored by Drupal's file API.
+ *
+ * By default ignore node_modules and bower_components folders to avoid issues
+ * with common frontend tools and recursive scanning of directories looking for
+ * extensions.
+ *
+ * @see \Drupal\Core\File\FileSystemInterface::scanDirectory()
+ * @see \Drupal\Core\Extension\ExtensionDiscovery::scanDirectory()
+ */
+$settings['file_scan_ignore_directories'] = [
+  'node_modules',
+  'bower_components',
+];
+
+/**
+ * The default number of entities to update in a batch process.
+ *
+ * This is used by update and post-update functions that need to go through and
+ * change all the entities on a site, so it is useful to increase this number
+ * if your hosting configuration (i.e. RAM allocation, CPU speed) allows for a
+ * larger number of entities to be processed in a single batch run.
+ */
+$settings['entity_update_batch_size'] = 50;
+
+/**
+ * Entity update backup.
+ *
+ * This is used to inform the entity storage handler that the backup tables as
+ * well as the original entity type and field storage definitions should be
+ * retained after a successful entity update process.
+ */
+$settings['entity_update_backup'] = TRUE;
+
+/**
+ * Node migration type.
+ *
+ * This is used to force the migration system to use the classic node migrations
+ * instead of the default complete node migrations. The migration system will
+ * use the classic node migration only if there are existing migrate_map tables
+ * for the classic node migrations and they contain data. These tables may not
+ * exist if you are developing custom migrations and do not want to use the
+ * complete node migrations. Set this to TRUE to force the use of the classic
+ * node migrations.
+ */
+$settings['migrate_node_migrate_type_classic'] = FALSE;
+
+/**
+ * Load local development override configuration, if available.
+ *
+ * Create a settings.local.php file to override variables on secondary (staging,
+ * development, etc.) installations of this site.
+ *
+ * Typical uses of settings.local.php include:
+ * - Disabling caching.
+ * - Disabling JavaScript/CSS compression.
+ * - Rerouting outgoing emails.
+ *
+ * Keep this code block at the end of this file to take full effect.
+ */
+#
+if (file_exists($app_root . '/' . $site_path . '/settings.local.php')) {
+  include $app_root . '/' . $site_path . '/settings.local.php';
+}",False,False,Documentation / Formatting,6
chapter-three,next-drupal,33143d0d5229be6424c41ace2ad846c0d85447d9,arshad,arshad@chummun.com,2021-02-01T08:52:51Z,arshad,arshad@chummun.com,2021-02-01T08:52:51Z,fix: update example sites,examples/certificates/.gitkeep;examples/certificates/localhost.crt;examples/certificates/localhost.key;examples/drupal-site/database/database.sqlite;examples/drupal-site/database/database.sqlite-shm;examples/drupal-site/database/database.sqlite-wal;examples/drupal-site/package.json;examples/example-blog/package.json;examples/example-blog/pages/index.tsx;examples/example-blog/server.js;examples/example-marketing/.env.example;examples/example-marketing/server.js;package.json;packages/next-drupal/src/get-paths-for-entity-type.ts,False,False,False,False,73,9,82,"---FILE: examples/certificates/localhost.crt---
@@ -0,0 +1,18 @@
+-----BEGIN CERTIFICATE-----
+MIIC8DCCAdigAwIBAgIUWhDum2ac/FzDbloF40NfAtFrSLswDQYJKoZIhvcNAQEL
+BQAwFDESMBAGA1UEAwwJbG9jYWxob3N0MB4XDTIxMDEyNjEyMDk0N1oXDTIxMDIy
+NTEyMDk0N1owFDESMBAGA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEF
+AAOCAQ8AMIIBCgKCAQEA0s1MSq+13gQ9293mv2BRd1cDAtCqARwlGPlX6eiQEcXe
+v0UArUvnBSRlxsuVf7fK7TlJ7NvIE8NO5m9CSbtuLB0yEeaVlioJfEwe3e3mgQQ0
+B1PbkYNhZJumeFYRyE6satCuf0JXfDNqwcDaxMBRMmWt7e8mNif1dqpsrZIjMXVx
+A4llkutykY4ZRlCqvoklNWOwZ6uWdpSOGXAPySSiYGe6imemtSGxmefV1ve4T/vo
+vdDueNuK5o+kUdX7Tnmk0tjUGQgBFHFD8o7ApbrG7YzhTnXe6CTEut9xJ6vQEleJ
+0yq+EsAKAo7UIQlcgWqmXiRSVdfdKdkGbqGzM92enQIDAQABozowODAUBgNVHREE
+DTALgglsb2NhbGhvc3QwCwYDVR0PBAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUFBwMB
+MA0GCSqGSIb3DQEBCwUAA4IBAQCJIrlYRkEvdPKnPF8cVzNeVIt0+YBAgG7aJ/5O
+WlQdxHYsOnpaZWZtqul2Vn3Q2VkRIPY9DQt7CxOAC/oA2DGV5eqFcpF3wVch6MJ6
+URtKt3VgQnnzUcNtzYnYo+h6V9fWkgw6Ttp+O2gtZUiMs/hmJrSI+QmvvLEUa0rm
+bncfl4P6wCSv/W2+oPNiLAMvb7+ee+A+s9Faxxu1YZH3IjHq+cqkrZk1DHQdEk3q
+SU9m7X9gsUl70zj7Mf3wOHJZPAkFl5CiqrgHnVqcwYx1Z5XisJEyABg8QYo0S4Sx
+ex921AvoxA9nxfwOWx+6gF/+BeMAQL6P0acmthrClHZWef2Q
+-----END CERTIFICATE-----

---FILE: examples/certificates/localhost.key---
@@ -0,0 +1,28 @@
+-----BEGIN PRIVATE KEY-----
+MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDSzUxKr7XeBD3b
+3ea/YFF3VwMC0KoBHCUY+Vfp6JARxd6/RQCtS+cFJGXGy5V/t8rtOUns28gTw07m
+b0JJu24sHTIR5pWWKgl8TB7d7eaBBDQHU9uRg2Fkm6Z4VhHITqxq0K5/Qld8M2rB
+wNrEwFEyZa3t7yY2J/V2qmytkiMxdXEDiWWS63KRjhlGUKq+iSU1Y7Bnq5Z2lI4Z
+cA/JJKJgZ7qKZ6a1IbGZ59XW97hP++i90O5424rmj6RR1ftOeaTS2NQZCAEUcUPy
+jsClusbtjOFOdd7oJMS633Enq9ASV4nTKr4SwAoCjtQhCVyBaqZeJFJV190p2QZu
+obMz3Z6dAgMBAAECggEBANDz0wXNOhcCWVbRlGJq1RXYWBG4SGulPFiPAEfJ0NTt
+MCij+1HMBQkh1QjC0EOzKSEQQmjYSnDcjh74ddqkQUbVAcagq/IXZSOiSI5vvKZy
+RihlRSXt9uJFLzPlDOdipKGUjQNz/UgNp2q7AZ85isLL6yYIgfX4keW4dNVwIBZq
+qKu2TldUHB8qvsdD/RXDFVApgRX1vojcbtfuwPbaD4BVgKYz1wHgdgptt74juas2
+XDF8xUyDksBPmKKU3KQhn/e+4gG5SLa59/sPwg9dR8JZhSx2LJ0W5fthEotslU2f
+an51LzQ9a/Q6VlJqGZc86RZzgBTKkwrYpIqzZC3DhnkCgYEA7CA1+T7rT93+r9WZ
+XaoSfRlzMl9AB7LA6gR6qegVa+0SDg08zM2Pjd1KEPRCBGPZ0eq/Ri1qEWXGYNqG
+yhtcJocJ8vBoYbrV5UeRl/77ZQvscO091mV3DxDVsGGZY2JwDjhC/82P+NAXuAfv
+/TsY1L9IiIBs/1IiCERRncB7qEMCgYEA5ItvYPTeYZE9mAsy6eRQh4uuODBaQ35z
+HfPZkJMvlKw0LmjEn3ra6Pv+HLvTC+h53DfQlZo/S7pDy0GZRBBrbvQJOju9MTam
+TnurUghpBR4AiFDoHDui6F91emPC3ZLPh8hV7aoHjCZ//XWmd6GX+JbfSykZ2Ff2
+3f7WrFiQH58CgYBFkMfWAr947EJYs2lXuv9vc8wIjx9iJTvItkEdRY7qGRI0qZm8
+DOO6O/PSQuQgPvqxaaOonUCel4l2h2smqCDiCO7ZcBKQmGbkAc3XJfwSrQyfyIVr
+YMFO4vrR2C9EpH+28MRscLd16njScyQ1Su/p3eEUtiFmp1/3Z4lUHJ1R2QKBgQCw
+wkLXSyu/bDSmJmsvSH0cCGUrYgI910uza8jmL2AKbZFCH5eK/NrYfSURFhdpS1kM
+gEKbohu4Nwx95HNkmApvWuDUICX4LRs88hsTrBuFcKnaxDBwvZMGg+X5TbUF56kI
+jGIhGXMS6yfsYRTpy5odEpsKp3QsxgPRuGpSC4EUYwKBgGS/oSzUJivPN6Aeh7uz
++QEEijvv0arlOGUmPc/jmA77GKwqUKW1XaeGYgf2/apHPlczUOBtZTOm9Jx1X5gD
+d5xgmSi7TNavGquf0BwnJgo4IIWtuYdNHCHYdWya4fVp6E4MBp5zJ2AanrNC4mZd
+sxLf4eyEb7DxE4lkJYtheBs5
+-----END PRIVATE KEY-----

---FILE: examples/drupal-site/package.json---
@@ -0,0 +1,9 @@
+{
+  ""name"": ""drupal-site"",
+  ""version"": ""0.1.0"",
+  ""private"": true,
+  ""license"": ""MIT"",
+  ""scripts"": {
+    ""dev"": ""drush rs 8080""
+  }
+}

---FILE: examples/example-blog/package.json---
@@ -4,7 +4,7 @@
   ""private"": true,
   ""license"": ""MIT"",
   ""scripts"": {
-    ""dev"": ""next dev -p 3030"",
+    ""dev"": ""node server"",
     ""build"": ""next build"",
     ""start"": ""next start"",
     ""preview"": ""next build && next start""

---FILE: examples/example-blog/pages/index.tsx---
@@ -7,12 +7,12 @@ export default function IndexPage({ articles }) {
     <Layout>
       <div variant=""container.sm"" py=""10|12"">
         <h1 variant=""heading.h1"">Latest Articles.</h1>
-        {articles.length ? (
+        {articles?.length ? (
           articles.map((article) => (
             <PostTeaser key={article.id} post={article} />
           ))
         ) : (
-          <p textAlign=""center"">No posts found</p>
+          <p mt=""8"">No articles found</p>
         )}
       </div>
     </Layout>
@@ -28,7 +28,7 @@ export async function getStaticProps(context) {
 
   return {
     props: {
-      articles: deserialize(articles),
+      articles: articles,
     },
     revalidate: 1,
   }

---FILE: examples/example-blog/server.js---
@@ -8,8 +8,8 @@ const app = next({ dev })
 const handle = app.getRequestHandler()
 
 const httpsOptions = {
-  key: fs.readFileSync(""./certificates/localhost.key""),
-  cert: fs.readFileSync(""./certificates/localhost.crt""),
+  key: fs.readFileSync(""../certificates/localhost.key""),
+  cert: fs.readFileSync(""../certificates/localhost.crt""),
 }
 
 app.prepare().then(() => {

---FILE: examples/example-marketing/.env.example---
@@ -0,0 +1,5 @@
+NEXT_PUBLIC_DRUPAL_BASE_URL=http://localhost:8080
+DRUPAL_CLIENT_ID=15cea0a1-1f8d-4595-acec-2c1420f06a5d
+DRUPAL_CLIENT_SECRET=SA9AGbHnx6pOamaAus2f9LG9XudHFjKs
+DRUPAL_PREVIEW_SECRET=secret
+DRUPAL_FRONT_PAGE=/home
\ No newline at end of file

---FILE: examples/example-marketing/server.js---
@@ -8,8 +8,8 @@ const app = next({ dev })
 const handle = app.getRequestHandler()
 
 const httpsOptions = {
-  key: fs.readFileSync(""./certificates/localhost.key""),
-  cert: fs.readFileSync(""./certificates/localhost.crt""),
+  key: fs.readFileSync(""../certificates/localhost.key""),
+  cert: fs.readFileSync(""../certificates/localhost.crt""),
 }
 
 app.prepare().then(() => {

---FILE: package.json---
@@ -7,7 +7,7 @@
   ],
   ""scripts"": {
     ""test"": ""jest"",
-    ""start"": ""lerna run start --parallel"",
+    ""dev"": ""lerna run dev --parallel"",
     ""prepare"": ""lerna run prepare"",
     ""watch"": ""lerna run watch"",
     ""lint"": ""eslint --cache --ext .js,.jsx ."",

---FILE: packages/next-drupal/src/get-paths-for-entity-type.ts---
@@ -9,6 +9,10 @@ export async function getPathsForEntityType(
   }
 ) {
   const entities = await getEntities(entity_type, bundle, options)
+  if (!entities) {
+    return []
+  }
+
   return deserialize(entities).map((entity) => {
     const slug =
       entity.path.alias === process.env.DRUPAL_FRONT_PAGE",False,False,Documentation / Formatting,3
chapter-three,next-drupal,327fb7ea0996eb5ecefa416630d11c9597c5f4be,arshad,arshad@chummun.com,2021-01-31T18:00:47Z,arshad,arshad@chummun.com,2021-01-31T18:00:47Z,fix: return null if no body passed,packages/next-drupal/src/deserialize.ts,False,False,False,False,2,0,2,"---FILE: packages/next-drupal/src/deserialize.ts---
@@ -3,5 +3,7 @@ import Jsona from ""jsona""
 const dataFormatter = new Jsona()
 
 export function deserialize(body, options?) {
+  if (!body) return null
+
   return dataFormatter.deserialize(body, options)
 }",False,False,Implementation / Logic,3
chapter-three,next-drupal,e37e13ad761cf1f92cdda1ceed178c3b52f1d302,arshad,arshad@chummun.com,2021-01-30T18:34:49Z,arshad,arshad@chummun.com,2021-01-30T18:34:49Z,fix: add files for article images,examples/drupal-site/.gitignore;examples/drupal-site/web/sites/default/files/2021-01/vince-gx-lDIjGidOrQ0-unsplash.jpg;examples/drupal-site/web/sites/default/files/2021-01/volkan-vardar-2U5VoTLRFnM-unsplash.jpg,False,False,False,False,2,1,3,"---FILE: examples/drupal-site/.gitignore---
@@ -12,7 +12,8 @@
 /web/sites/*/settings.local.php
 
 # Ignore Drupal's file directory
-/web/sites/*/files/
+/web/sites/*/files/*
+!/web/sites/default/files/2021-01/
 
 # Ignore SimpleTest multi-site environment.
 /web/sites/simpletest",False,False,Environment / Configuration,3
